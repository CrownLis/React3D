const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-4HENfCPg-BJ-Y1Hn1.js","assets/url-DQYFKQ_E-D9eePgF7.js","assets/index-BepDdkdq-CoP7m41a.js"])))=>i.map(i=>d[i]);
var Nre=Object.defineProperty;var Fre=(n,e,t)=>e in n?Nre(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var H0=(n,e,t)=>Fre(n,typeof e!="symbol"?e+"":e,t);function t9(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var L$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var n9={exports:{}},iT={},r9={exports:{}},sn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww=Symbol.for("react.element"),zre=Symbol.for("react.portal"),Bre=Symbol.for("react.fragment"),$re=Symbol.for("react.strict_mode"),Ure=Symbol.for("react.profiler"),Wre=Symbol.for("react.provider"),Hre=Symbol.for("react.context"),jre=Symbol.for("react.forward_ref"),Vre=Symbol.for("react.suspense"),Gre=Symbol.for("react.memo"),qre=Symbol.for("react.lazy"),k$=Symbol.iterator;function Xre(n){return n===null||typeof n!="object"?null:(n=k$&&n[k$]||n["@@iterator"],typeof n=="function"?n:null)}var i9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},s9=Object.assign,o9={};function Jv(n,e,t){this.props=n,this.context=e,this.refs=o9,this.updater=t||i9}Jv.prototype.isReactComponent={};Jv.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Jv.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function a9(){}a9.prototype=Jv.prototype;function B4(n,e,t){this.props=n,this.context=e,this.refs=o9,this.updater=t||i9}var $4=B4.prototype=new a9;$4.constructor=B4;s9($4,Jv.prototype);$4.isPureReactComponent=!0;var I$=Array.isArray,l9=Object.prototype.hasOwnProperty,U4={current:null},c9={key:!0,ref:!0,__self:!0,__source:!0};function u9(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)l9.call(e,r)&&!c9.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ww,type:n,key:s,ref:o,props:i,_owner:U4.current}}function Yre(n,e){return{$$typeof:Ww,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function W4(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ww}function Kre(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var O$=/\/+/g;function VR(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Kre(""+n.key):e.toString(36)}function CE(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Ww:case zre:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+VR(o,0):r,I$(i)?(t="",n!=null&&(t=n.replace(O$,"$&/")+"/"),CE(i,e,t,"",function(c){return c})):i!=null&&(W4(i)&&(i=Yre(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(O$,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",I$(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+VR(s,a);o+=CE(s,e,t,l,i)}else if(l=Xre(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+VR(s,a++),o+=CE(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function M_(n,e,t){if(n==null)return n;var r=[],i=0;return CE(n,r,"","",function(s){return e.call(t,s,i++)}),r}function Qre(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var us={current:null},AE={transition:null},Zre={ReactCurrentDispatcher:us,ReactCurrentBatchConfig:AE,ReactCurrentOwner:U4};sn.Children={map:M_,forEach:function(n,e,t){M_(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return M_(n,function(){e++}),e},toArray:function(n){return M_(n,function(e){return e})||[]},only:function(n){if(!W4(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};sn.Component=Jv;sn.Fragment=Bre;sn.Profiler=Ure;sn.PureComponent=B4;sn.StrictMode=$re;sn.Suspense=Vre;sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zre;sn.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=s9({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=U4.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)l9.call(e,l)&&!c9.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ww,type:n.type,key:i,ref:s,props:r,_owner:o}};sn.createContext=function(n){return n={$$typeof:Hre,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Wre,_context:n},n.Consumer=n};sn.createElement=u9;sn.createFactory=function(n){var e=u9.bind(null,n);return e.type=n,e};sn.createRef=function(){return{current:null}};sn.forwardRef=function(n){return{$$typeof:jre,render:n}};sn.isValidElement=W4;sn.lazy=function(n){return{$$typeof:qre,_payload:{_status:-1,_result:n},_init:Qre}};sn.memo=function(n,e){return{$$typeof:Gre,type:n,compare:e===void 0?null:e}};sn.startTransition=function(n){var e=AE.transition;AE.transition={};try{n()}finally{AE.transition=e}};sn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};sn.useCallback=function(n,e){return us.current.useCallback(n,e)};sn.useContext=function(n){return us.current.useContext(n)};sn.useDebugValue=function(){};sn.useDeferredValue=function(n){return us.current.useDeferredValue(n)};sn.useEffect=function(n,e){return us.current.useEffect(n,e)};sn.useId=function(){return us.current.useId()};sn.useImperativeHandle=function(n,e,t){return us.current.useImperativeHandle(n,e,t)};sn.useInsertionEffect=function(n,e){return us.current.useInsertionEffect(n,e)};sn.useLayoutEffect=function(n,e){return us.current.useLayoutEffect(n,e)};sn.useMemo=function(n,e){return us.current.useMemo(n,e)};sn.useReducer=function(n,e,t){return us.current.useReducer(n,e,t)};sn.useRef=function(n){return us.current.useRef(n)};sn.useState=function(n){return us.current.useState(n)};sn.useSyncExternalStore=function(n,e,t){return us.current.useSyncExternalStore(n,e,t)};sn.useTransition=function(){return us.current.useTransition()};sn.version="18.2.0";r9.exports=sn;var k=r9.exports;const it=Zv(k),Hf=t9({__proto__:null,default:it},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jre=k,eie=Symbol.for("react.element"),tie=Symbol.for("react.fragment"),nie=Object.prototype.hasOwnProperty,rie=Jre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iie={key:!0,ref:!0,__self:!0,__source:!0};function d9(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)nie.call(e,r)&&!iie.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:eie,type:n,key:s,ref:o,props:i,_owner:rie.current}}iT.Fragment=tie;iT.jsx=d9;iT.jsxs=d9;n9.exports=iT;var he=n9.exports,q3={},h9={exports:{}},vo={},f9={exports:{}},p9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,z){var B=D.length;D.push(z);e:for(;0<B;){var ee=B-1>>>1,Y=D[ee];if(0<i(Y,z))D[ee]=z,D[B]=Y,B=ee;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var z=D[0],B=D.pop();if(B!==z){D[0]=B;e:for(var ee=0,Y=D.length,oe=Y>>>1;ee<oe;){var ce=2*(ee+1)-1,me=D[ce],de=ce+1,be=D[de];if(0>i(me,B))de<Y&&0>i(be,me)?(D[ee]=be,D[de]=B,ee=de):(D[ee]=me,D[ce]=B,ee=ce);else if(de<Y&&0>i(be,B))D[ee]=be,D[de]=B,ee=de;else break e}}return z}function i(D,z){var B=D.sortIndex-z.sortIndex;return B!==0?B:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var z=t(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=D)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(c)}}function _(D){if(v=!1,b(D),!g)if(t(l)!==null)g=!0,q(C);else{var z=t(c);z!==null&&H(_,z.startTime-D)}}function C(D,z){g=!1,v&&(v=!1,x(M),M=-1),p=!0;var B=h;try{for(b(z),d=t(l);d!==null&&(!(d.expirationTime>z)||D&&!F());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,h=d.priorityLevel;var Y=ee(d.expirationTime<=z);z=n.unstable_now(),typeof Y=="function"?d.callback=Y:d===t(l)&&r(l),b(z)}else r(l);d=t(l)}if(d!==null)var oe=!0;else{var ce=t(c);ce!==null&&H(_,ce.startTime-z),oe=!1}return oe}finally{d=null,h=B,p=!1}}var A=!1,P=null,M=-1,L=5,I=-1;function F(){return!(n.unstable_now()-I<L)}function V(){if(P!==null){var D=n.unstable_now();I=D;var z=!0;try{z=P(!0,D)}finally{z?j():(A=!1,P=null)}}else A=!1}var j;if(typeof w=="function")j=function(){w(V)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,J=G.port2;G.port1.onmessage=V,j=function(){J.postMessage(null)}}else j=function(){y(V,0)};function q(D){P=D,A||(A=!0,j())}function H(D,z){M=y(function(){D(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,q(C))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var B=h;h=z;try{return D()}finally{h=B}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=h;h=D;try{return z()}finally{h=B}},n.unstable_scheduleCallback=function(D,z,B){var ee=n.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ee+B:ee):B=ee,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=B+Y,D={id:u++,callback:z,priorityLevel:D,startTime:B,expirationTime:Y,sortIndex:-1},B>ee?(D.sortIndex=B,e(c,D),t(l)===null&&D===t(c)&&(v?(x(M),M=-1):v=!0,H(_,B-ee))):(D.sortIndex=Y,e(l,D),g||p||(g=!0,q(C))),D},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(D){var z=h;return function(){var B=h;h=z;try{return D.apply(this,arguments)}finally{h=B}}}})(p9);f9.exports=p9;var sie=f9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m9=k,fo=sie;function Ye(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g9=new Set,Lx={};function pp(n,e){Ev(n,e),Ev(n+"Capture",e)}function Ev(n,e){for(Lx[n]=e,n=0;n<e.length;n++)g9.add(e[n])}var kc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),X3=Object.prototype.hasOwnProperty,oie=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D$={},N$={};function aie(n){return X3.call(N$,n)?!0:X3.call(D$,n)?!1:oie.test(n)?N$[n]=!0:(D$[n]=!0,!1)}function lie(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function cie(n,e,t,r){if(e===null||typeof e>"u"||lie(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ds(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var bi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){bi[n]=new ds(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];bi[e]=new ds(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){bi[n]=new ds(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){bi[n]=new ds(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){bi[n]=new ds(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){bi[n]=new ds(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){bi[n]=new ds(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){bi[n]=new ds(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){bi[n]=new ds(n,5,!1,n.toLowerCase(),null,!1,!1)});var H4=/[\-:]([a-z])/g;function j4(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(H4,j4);bi[e]=new ds(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(H4,j4);bi[e]=new ds(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(H4,j4);bi[e]=new ds(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){bi[n]=new ds(n,1,!1,n.toLowerCase(),null,!1,!1)});bi.xlinkHref=new ds("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){bi[n]=new ds(n,1,!1,n.toLowerCase(),null,!0,!0)});function V4(n,e,t,r){var i=bi.hasOwnProperty(e)?bi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cie(e,t,i,r)&&(t=null),r||i===null?aie(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Uc=m9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C_=Symbol.for("react.element"),yg=Symbol.for("react.portal"),xg=Symbol.for("react.fragment"),G4=Symbol.for("react.strict_mode"),Y3=Symbol.for("react.profiler"),v9=Symbol.for("react.provider"),y9=Symbol.for("react.context"),q4=Symbol.for("react.forward_ref"),K3=Symbol.for("react.suspense"),Q3=Symbol.for("react.suspense_list"),X4=Symbol.for("react.memo"),Ou=Symbol.for("react.lazy"),x9=Symbol.for("react.offscreen"),F$=Symbol.iterator;function j0(n){return n===null||typeof n!="object"?null:(n=F$&&n[F$]||n["@@iterator"],typeof n=="function"?n:null)}var er=Object.assign,GR;function ky(n){if(GR===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);GR=e&&e[1]||""}return`
`+GR+n}var qR=!1;function XR(n,e){if(!n||qR)return"";qR=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{qR=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?ky(n):""}function uie(n){switch(n.tag){case 5:return ky(n.type);case 16:return ky("Lazy");case 13:return ky("Suspense");case 19:return ky("SuspenseList");case 0:case 2:case 15:return n=XR(n.type,!1),n;case 11:return n=XR(n.type.render,!1),n;case 1:return n=XR(n.type,!0),n;default:return""}}function Z3(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case xg:return"Fragment";case yg:return"Portal";case Y3:return"Profiler";case G4:return"StrictMode";case K3:return"Suspense";case Q3:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case y9:return(n.displayName||"Context")+".Consumer";case v9:return(n._context.displayName||"Context")+".Provider";case q4:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case X4:return e=n.displayName||null,e!==null?e:Z3(n.type)||"Memo";case Ou:e=n._payload,n=n._init;try{return Z3(n(e))}catch{}}return null}function die(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z3(e);case 8:return e===G4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bd(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function w9(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hie(n){var e=w9(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function A_(n){n._valueTracker||(n._valueTracker=hie(n))}function b9(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=w9(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function aA(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function J3(n,e){var t=e.checked;return er({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function z$(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=bd(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _9(n,e){e=e.checked,e!=null&&V4(n,"checked",e,!1)}function eI(n,e){_9(n,e);var t=bd(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?tI(n,e.type,t):e.hasOwnProperty("defaultValue")&&tI(n,e.type,bd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function B$(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function tI(n,e,t){(e!=="number"||aA(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Iy=Array.isArray;function nv(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+bd(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function nI(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ye(91));return er({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function $$(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ye(92));if(Iy(t)){if(1<t.length)throw Error(Ye(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:bd(t)}}function S9(n,e){var t=bd(e.value),r=bd(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function U$(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function E9(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rI(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?E9(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var T_,M9=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(T_=T_||document.createElement("div"),T_.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=T_.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function kx(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var F1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fie=["Webkit","ms","Moz","O"];Object.keys(F1).forEach(function(n){fie.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),F1[e]=F1[n]})});function C9(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||F1.hasOwnProperty(n)&&F1[n]?(""+e).trim():e+"px"}function A9(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=C9(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var pie=er({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function iI(n,e){if(e){if(pie[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ye(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ye(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ye(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ye(62))}}function sI(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oI=null;function Y4(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var aI=null,rv=null,iv=null;function W$(n){if(n=Vw(n)){if(typeof aI!="function")throw Error(Ye(280));var e=n.stateNode;e&&(e=cT(e),aI(n.stateNode,n.type,e))}}function T9(n){rv?iv?iv.push(n):iv=[n]:rv=n}function P9(){if(rv){var n=rv,e=iv;if(iv=rv=null,W$(n),e)for(n=0;n<e.length;n++)W$(e[n])}}function R9(n,e){return n(e)}function L9(){}var YR=!1;function k9(n,e,t){if(YR)return n(e,t);YR=!0;try{return R9(n,e,t)}finally{YR=!1,(rv!==null||iv!==null)&&(L9(),P9())}}function Ix(n,e){var t=n.stateNode;if(t===null)return null;var r=cT(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ye(231,e,typeof t));return t}var lI=!1;if(kc)try{var V0={};Object.defineProperty(V0,"passive",{get:function(){lI=!0}}),window.addEventListener("test",V0,V0),window.removeEventListener("test",V0,V0)}catch{lI=!1}function mie(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var z1=!1,lA=null,cA=!1,cI=null,gie={onError:function(n){z1=!0,lA=n}};function vie(n,e,t,r,i,s,o,a,l){z1=!1,lA=null,mie.apply(gie,arguments)}function yie(n,e,t,r,i,s,o,a,l){if(vie.apply(this,arguments),z1){if(z1){var c=lA;z1=!1,lA=null}else throw Error(Ye(198));cA||(cA=!0,cI=c)}}function mp(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function I9(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function H$(n){if(mp(n)!==n)throw Error(Ye(188))}function xie(n){var e=n.alternate;if(!e){if(e=mp(n),e===null)throw Error(Ye(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return H$(i),n;if(s===r)return H$(i),e;s=s.sibling}throw Error(Ye(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ye(189))}}if(t.alternate!==r)throw Error(Ye(190))}if(t.tag!==3)throw Error(Ye(188));return t.stateNode.current===t?n:e}function O9(n){return n=xie(n),n!==null?D9(n):null}function D9(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=D9(n);if(e!==null)return e;n=n.sibling}return null}var N9=fo.unstable_scheduleCallback,j$=fo.unstable_cancelCallback,wie=fo.unstable_shouldYield,bie=fo.unstable_requestPaint,hr=fo.unstable_now,_ie=fo.unstable_getCurrentPriorityLevel,K4=fo.unstable_ImmediatePriority,F9=fo.unstable_UserBlockingPriority,uA=fo.unstable_NormalPriority,Sie=fo.unstable_LowPriority,z9=fo.unstable_IdlePriority,sT=null,wl=null;function Eie(n){if(wl&&typeof wl.onCommitFiberRoot=="function")try{wl.onCommitFiberRoot(sT,n,void 0,(n.current.flags&128)===128)}catch{}}var Ra=Math.clz32?Math.clz32:Aie,Mie=Math.log,Cie=Math.LN2;function Aie(n){return n>>>=0,n===0?32:31-(Mie(n)/Cie|0)|0}var P_=64,R_=4194304;function Oy(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function dA(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Oy(a):(s&=o,s!==0&&(r=Oy(s)))}else o=t&~i,o!==0?r=Oy(o):s!==0&&(r=Oy(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Ra(e),i=1<<t,r|=n[t],e&=~i;return r}function Tie(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pie(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Ra(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=Tie(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function uI(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function B9(){var n=P_;return P_<<=1,!(P_&4194240)&&(P_=64),n}function KR(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Hw(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Ra(e),n[e]=t}function Rie(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Ra(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function Q4(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Ra(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Sn=0;function $9(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var U9,Z4,W9,H9,j9,dI=!1,L_=[],hd=null,fd=null,pd=null,Ox=new Map,Dx=new Map,Uu=[],Lie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function V$(n,e){switch(n){case"focusin":case"focusout":hd=null;break;case"dragenter":case"dragleave":fd=null;break;case"mouseover":case"mouseout":pd=null;break;case"pointerover":case"pointerout":Ox.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dx.delete(e.pointerId)}}function G0(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Vw(e),e!==null&&Z4(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function kie(n,e,t,r,i){switch(e){case"focusin":return hd=G0(hd,n,e,t,r,i),!0;case"dragenter":return fd=G0(fd,n,e,t,r,i),!0;case"mouseover":return pd=G0(pd,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Ox.set(s,G0(Ox.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Dx.set(s,G0(Dx.get(s)||null,n,e,t,r,i)),!0}return!1}function V9(n){var e=nf(n.target);if(e!==null){var t=mp(e);if(t!==null){if(e=t.tag,e===13){if(e=I9(t),e!==null){n.blockedOn=e,j9(n.priority,function(){W9(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function TE(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=hI(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);oI=r,t.target.dispatchEvent(r),oI=null}else return e=Vw(t),e!==null&&Z4(e),n.blockedOn=t,!1;e.shift()}return!0}function G$(n,e,t){TE(n)&&t.delete(e)}function Iie(){dI=!1,hd!==null&&TE(hd)&&(hd=null),fd!==null&&TE(fd)&&(fd=null),pd!==null&&TE(pd)&&(pd=null),Ox.forEach(G$),Dx.forEach(G$)}function q0(n,e){n.blockedOn===e&&(n.blockedOn=null,dI||(dI=!0,fo.unstable_scheduleCallback(fo.unstable_NormalPriority,Iie)))}function Nx(n){function e(i){return q0(i,n)}if(0<L_.length){q0(L_[0],n);for(var t=1;t<L_.length;t++){var r=L_[t];r.blockedOn===n&&(r.blockedOn=null)}}for(hd!==null&&q0(hd,n),fd!==null&&q0(fd,n),pd!==null&&q0(pd,n),Ox.forEach(e),Dx.forEach(e),t=0;t<Uu.length;t++)r=Uu[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Uu.length&&(t=Uu[0],t.blockedOn===null);)V9(t),t.blockedOn===null&&Uu.shift()}var sv=Uc.ReactCurrentBatchConfig,hA=!0;function Oie(n,e,t,r){var i=Sn,s=sv.transition;sv.transition=null;try{Sn=1,J4(n,e,t,r)}finally{Sn=i,sv.transition=s}}function Die(n,e,t,r){var i=Sn,s=sv.transition;sv.transition=null;try{Sn=4,J4(n,e,t,r)}finally{Sn=i,sv.transition=s}}function J4(n,e,t,r){if(hA){var i=hI(n,e,t,r);if(i===null)oL(n,e,r,fA,t),V$(n,r);else if(kie(i,n,e,t,r))r.stopPropagation();else if(V$(n,r),e&4&&-1<Lie.indexOf(n)){for(;i!==null;){var s=Vw(i);if(s!==null&&U9(s),s=hI(n,e,t,r),s===null&&oL(n,e,r,fA,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else oL(n,e,r,null,t)}}var fA=null;function hI(n,e,t,r){if(fA=null,n=Y4(r),n=nf(n),n!==null)if(e=mp(n),e===null)n=null;else if(t=e.tag,t===13){if(n=I9(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return fA=n,null}function G9(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_ie()){case K4:return 1;case F9:return 4;case uA:case Sie:return 16;case z9:return 536870912;default:return 16}default:return 16}}var ed=null,ez=null,PE=null;function q9(){if(PE)return PE;var n,e=ez,t=e.length,r,i="value"in ed?ed.value:ed.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return PE=i.slice(n,1<r?1-r:void 0)}function RE(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function k_(){return!0}function q$(){return!1}function yo(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?k_:q$,this.isPropagationStopped=q$,this}return er(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=k_)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=k_)},persist:function(){},isPersistent:k_}),e}var e0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tz=yo(e0),jw=er({},e0,{view:0,detail:0}),Nie=yo(jw),QR,ZR,X0,oT=er({},jw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nz,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==X0&&(X0&&n.type==="mousemove"?(QR=n.screenX-X0.screenX,ZR=n.screenY-X0.screenY):ZR=QR=0,X0=n),QR)},movementY:function(n){return"movementY"in n?n.movementY:ZR}}),X$=yo(oT),Fie=er({},oT,{dataTransfer:0}),zie=yo(Fie),Bie=er({},jw,{relatedTarget:0}),JR=yo(Bie),$ie=er({},e0,{animationName:0,elapsedTime:0,pseudoElement:0}),Uie=yo($ie),Wie=er({},e0,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Hie=yo(Wie),jie=er({},e0,{data:0}),Y$=yo(jie),Vie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xie(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=qie[n])?!!e[n]:!1}function nz(){return Xie}var Yie=er({},jw,{key:function(n){if(n.key){var e=Vie[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=RE(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Gie[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nz,charCode:function(n){return n.type==="keypress"?RE(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?RE(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Kie=yo(Yie),Qie=er({},oT,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K$=yo(Qie),Zie=er({},jw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nz}),Jie=yo(Zie),ese=er({},e0,{propertyName:0,elapsedTime:0,pseudoElement:0}),tse=yo(ese),nse=er({},oT,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),rse=yo(nse),ise=[9,13,27,32],rz=kc&&"CompositionEvent"in window,B1=null;kc&&"documentMode"in document&&(B1=document.documentMode);var sse=kc&&"TextEvent"in window&&!B1,X9=kc&&(!rz||B1&&8<B1&&11>=B1),Q$=" ",Z$=!1;function Y9(n,e){switch(n){case"keyup":return ise.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K9(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wg=!1;function ose(n,e){switch(n){case"compositionend":return K9(e);case"keypress":return e.which!==32?null:(Z$=!0,Q$);case"textInput":return n=e.data,n===Q$&&Z$?null:n;default:return null}}function ase(n,e){if(wg)return n==="compositionend"||!rz&&Y9(n,e)?(n=q9(),PE=ez=ed=null,wg=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return X9&&e.locale!=="ko"?null:e.data;default:return null}}var lse={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J$(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!lse[n.type]:e==="textarea"}function Q9(n,e,t,r){T9(r),e=pA(e,"onChange"),0<e.length&&(t=new tz("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var $1=null,Fx=null;function cse(n){l7(n,0)}function aT(n){var e=Sg(n);if(b9(e))return n}function use(n,e){if(n==="change")return e}var Z9=!1;if(kc){var eL;if(kc){var tL="oninput"in document;if(!tL){var eU=document.createElement("div");eU.setAttribute("oninput","return;"),tL=typeof eU.oninput=="function"}eL=tL}else eL=!1;Z9=eL&&(!document.documentMode||9<document.documentMode)}function tU(){$1&&($1.detachEvent("onpropertychange",J9),Fx=$1=null)}function J9(n){if(n.propertyName==="value"&&aT(Fx)){var e=[];Q9(e,Fx,n,Y4(n)),k9(cse,e)}}function dse(n,e,t){n==="focusin"?(tU(),$1=e,Fx=t,$1.attachEvent("onpropertychange",J9)):n==="focusout"&&tU()}function hse(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return aT(Fx)}function fse(n,e){if(n==="click")return aT(e)}function pse(n,e){if(n==="input"||n==="change")return aT(e)}function mse(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Fa=typeof Object.is=="function"?Object.is:mse;function zx(n,e){if(Fa(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!X3.call(e,i)||!Fa(n[i],e[i]))return!1}return!0}function nU(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function rU(n,e){var t=nU(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=nU(t)}}function e7(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?e7(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function t7(){for(var n=window,e=aA();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=aA(n.document)}return e}function iz(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function gse(n){var e=t7(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&e7(t.ownerDocument.documentElement,t)){if(r!==null&&iz(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=rU(t,s);var o=rU(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var vse=kc&&"documentMode"in document&&11>=document.documentMode,bg=null,fI=null,U1=null,pI=!1;function iU(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;pI||bg==null||bg!==aA(r)||(r=bg,"selectionStart"in r&&iz(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),U1&&zx(U1,r)||(U1=r,r=pA(fI,"onSelect"),0<r.length&&(e=new tz("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=bg)))}function I_(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var _g={animationend:I_("Animation","AnimationEnd"),animationiteration:I_("Animation","AnimationIteration"),animationstart:I_("Animation","AnimationStart"),transitionend:I_("Transition","TransitionEnd")},nL={},n7={};kc&&(n7=document.createElement("div").style,"AnimationEvent"in window||(delete _g.animationend.animation,delete _g.animationiteration.animation,delete _g.animationstart.animation),"TransitionEvent"in window||delete _g.transitionend.transition);function lT(n){if(nL[n])return nL[n];if(!_g[n])return n;var e=_g[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in n7)return nL[n]=e[t];return n}var r7=lT("animationend"),i7=lT("animationiteration"),s7=lT("animationstart"),o7=lT("transitionend"),a7=new Map,sU="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kd(n,e){a7.set(n,e),pp(e,[n])}for(var rL=0;rL<sU.length;rL++){var iL=sU[rL],yse=iL.toLowerCase(),xse=iL[0].toUpperCase()+iL.slice(1);kd(yse,"on"+xse)}kd(r7,"onAnimationEnd");kd(i7,"onAnimationIteration");kd(s7,"onAnimationStart");kd("dblclick","onDoubleClick");kd("focusin","onFocus");kd("focusout","onBlur");kd(o7,"onTransitionEnd");Ev("onMouseEnter",["mouseout","mouseover"]);Ev("onMouseLeave",["mouseout","mouseover"]);Ev("onPointerEnter",["pointerout","pointerover"]);Ev("onPointerLeave",["pointerout","pointerover"]);pp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pp("onBeforeInput",["compositionend","keypress","textInput","paste"]);pp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wse=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dy));function oU(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,yie(r,e,void 0,n),n.currentTarget=null}function l7(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;oU(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;oU(i,a,c),s=l}}}if(cA)throw n=cI,cA=!1,cI=null,n}function $n(n,e){var t=e[xI];t===void 0&&(t=e[xI]=new Set);var r=n+"__bubble";t.has(r)||(c7(e,n,2,!1),t.add(r))}function sL(n,e,t){var r=0;e&&(r|=4),c7(t,n,r,e)}var O_="_reactListening"+Math.random().toString(36).slice(2);function Bx(n){if(!n[O_]){n[O_]=!0,g9.forEach(function(t){t!=="selectionchange"&&(wse.has(t)||sL(t,!1,n),sL(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[O_]||(e[O_]=!0,sL("selectionchange",!1,e))}}function c7(n,e,t,r){switch(G9(e)){case 1:var i=Oie;break;case 4:i=Die;break;default:i=J4}t=i.bind(null,e,t,n),i=void 0,!lI||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function oL(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=nf(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}k9(function(){var c=s,u=Y4(t),d=[];e:{var h=a7.get(n);if(h!==void 0){var p=tz,g=n;switch(n){case"keypress":if(RE(t)===0)break e;case"keydown":case"keyup":p=Kie;break;case"focusin":g="focus",p=JR;break;case"focusout":g="blur",p=JR;break;case"beforeblur":case"afterblur":p=JR;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=X$;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=zie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Jie;break;case r7:case i7:case s7:p=Uie;break;case o7:p=tse;break;case"scroll":p=Nie;break;case"wheel":p=rse;break;case"copy":case"cut":case"paste":p=Hie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=K$}var v=(e&4)!==0,y=!v&&n==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var w=c,b;w!==null;){b=w;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,x!==null&&(_=Ix(w,x),_!=null&&v.push($x(w,_,b)))),y)break;w=w.return}0<v.length&&(h=new p(h,g,null,t,u),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",h&&t!==oI&&(g=t.relatedTarget||t.fromElement)&&(nf(g)||g[Ic]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=c,g=g?nf(g):null,g!==null&&(y=mp(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(v=X$,_="onMouseLeave",x="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(v=K$,_="onPointerLeave",x="onPointerEnter",w="pointer"),y=p==null?h:Sg(p),b=g==null?h:Sg(g),h=new v(_,w+"leave",p,t,u),h.target=y,h.relatedTarget=b,_=null,nf(u)===c&&(v=new v(x,w+"enter",g,t,u),v.target=b,v.relatedTarget=y,_=v),y=_,p&&g)t:{for(v=p,x=g,w=0,b=v;b;b=Kp(b))w++;for(b=0,_=x;_;_=Kp(_))b++;for(;0<w-b;)v=Kp(v),w--;for(;0<b-w;)x=Kp(x),b--;for(;w--;){if(v===x||x!==null&&v===x.alternate)break t;v=Kp(v),x=Kp(x)}v=null}else v=null;p!==null&&aU(d,h,p,v,!1),g!==null&&y!==null&&aU(d,y,g,v,!0)}}e:{if(h=c?Sg(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var C=use;else if(J$(h))if(Z9)C=pse;else{C=hse;var A=dse}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=fse);if(C&&(C=C(n,c))){Q9(d,C,t,u);break e}A&&A(n,h,c),n==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&tI(h,"number",h.value)}switch(A=c?Sg(c):window,n){case"focusin":(J$(A)||A.contentEditable==="true")&&(bg=A,fI=c,U1=null);break;case"focusout":U1=fI=bg=null;break;case"mousedown":pI=!0;break;case"contextmenu":case"mouseup":case"dragend":pI=!1,iU(d,t,u);break;case"selectionchange":if(vse)break;case"keydown":case"keyup":iU(d,t,u)}var P;if(rz)e:{switch(n){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else wg?Y9(n,t)&&(M="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(M="onCompositionStart");M&&(X9&&t.locale!=="ko"&&(wg||M!=="onCompositionStart"?M==="onCompositionEnd"&&wg&&(P=q9()):(ed=u,ez="value"in ed?ed.value:ed.textContent,wg=!0)),A=pA(c,M),0<A.length&&(M=new Y$(M,n,null,t,u),d.push({event:M,listeners:A}),P?M.data=P:(P=K9(t),P!==null&&(M.data=P)))),(P=sse?ose(n,t):ase(n,t))&&(c=pA(c,"onBeforeInput"),0<c.length&&(u=new Y$("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=P))}l7(d,e)})}function $x(n,e,t){return{instance:n,listener:e,currentTarget:t}}function pA(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ix(n,t),s!=null&&r.unshift($x(n,s,i)),s=Ix(n,e),s!=null&&r.push($x(n,s,i))),n=n.return}return r}function Kp(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function aU(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ix(t,s),l!=null&&o.unshift($x(t,l,a))):i||(l=Ix(t,s),l!=null&&o.push($x(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var bse=/\r\n?/g,_se=/\u0000|\uFFFD/g;function lU(n){return(typeof n=="string"?n:""+n).replace(bse,`
`).replace(_se,"")}function D_(n,e,t){if(e=lU(e),lU(n)!==e&&t)throw Error(Ye(425))}function mA(){}var mI=null,gI=null;function vI(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yI=typeof setTimeout=="function"?setTimeout:void 0,Sse=typeof clearTimeout=="function"?clearTimeout:void 0,cU=typeof Promise=="function"?Promise:void 0,Ese=typeof queueMicrotask=="function"?queueMicrotask:typeof cU<"u"?function(n){return cU.resolve(null).then(n).catch(Mse)}:yI;function Mse(n){setTimeout(function(){throw n})}function aL(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Nx(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Nx(e)}function md(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function uU(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var t0=Math.random().toString(36).slice(2),gl="__reactFiber$"+t0,Ux="__reactProps$"+t0,Ic="__reactContainer$"+t0,xI="__reactEvents$"+t0,Cse="__reactListeners$"+t0,Ase="__reactHandles$"+t0;function nf(n){var e=n[gl];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ic]||t[gl]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=uU(n);n!==null;){if(t=n[gl])return t;n=uU(n)}return e}n=t,t=n.parentNode}return null}function Vw(n){return n=n[gl]||n[Ic],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Sg(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ye(33))}function cT(n){return n[Ux]||null}var wI=[],Eg=-1;function Id(n){return{current:n}}function Wn(n){0>Eg||(n.current=wI[Eg],wI[Eg]=null,Eg--)}function zn(n,e){Eg++,wI[Eg]=n.current,n.current=e}var _d={},Yi=Id(_d),Ls=Id(!1),jf=_d;function Mv(n,e){var t=n.type.contextTypes;if(!t)return _d;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function ks(n){return n=n.childContextTypes,n!=null}function gA(){Wn(Ls),Wn(Yi)}function dU(n,e,t){if(Yi.current!==_d)throw Error(Ye(168));zn(Yi,e),zn(Ls,t)}function u7(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ye(108,die(n)||"Unknown",i));return er({},t,r)}function vA(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||_d,jf=Yi.current,zn(Yi,n),zn(Ls,Ls.current),!0}function hU(n,e,t){var r=n.stateNode;if(!r)throw Error(Ye(169));t?(n=u7(n,e,jf),r.__reactInternalMemoizedMergedChildContext=n,Wn(Ls),Wn(Yi),zn(Yi,n)):Wn(Ls),zn(Ls,t)}var uc=null,uT=!1,lL=!1;function d7(n){uc===null?uc=[n]:uc.push(n)}function Tse(n){uT=!0,d7(n)}function Od(){if(!lL&&uc!==null){lL=!0;var n=0,e=Sn;try{var t=uc;for(Sn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}uc=null,uT=!1}catch(i){throw uc!==null&&(uc=uc.slice(n+1)),N9(K4,Od),i}finally{Sn=e,lL=!1}}return null}var Mg=[],Cg=0,yA=null,xA=0,Ko=[],Qo=0,Vf=null,wc=1,bc="";function bh(n,e){Mg[Cg++]=xA,Mg[Cg++]=yA,yA=n,xA=e}function h7(n,e,t){Ko[Qo++]=wc,Ko[Qo++]=bc,Ko[Qo++]=Vf,Vf=n;var r=wc;n=bc;var i=32-Ra(r)-1;r&=~(1<<i),t+=1;var s=32-Ra(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wc=1<<32-Ra(e)+i|t<<i|r,bc=s+n}else wc=1<<s|t<<i|r,bc=n}function sz(n){n.return!==null&&(bh(n,1),h7(n,1,0))}function oz(n){for(;n===yA;)yA=Mg[--Cg],Mg[Cg]=null,xA=Mg[--Cg],Mg[Cg]=null;for(;n===Vf;)Vf=Ko[--Qo],Ko[Qo]=null,bc=Ko[--Qo],Ko[Qo]=null,wc=Ko[--Qo],Ko[Qo]=null}var lo=null,io=null,jn=!1,Aa=null;function f7(n,e){var t=Jo(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function fU(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,lo=n,io=md(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,lo=n,io=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Vf!==null?{id:wc,overflow:bc}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Jo(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,lo=n,io=null,!0):!1;default:return!1}}function bI(n){return(n.mode&1)!==0&&(n.flags&128)===0}function _I(n){if(jn){var e=io;if(e){var t=e;if(!fU(n,e)){if(bI(n))throw Error(Ye(418));e=md(t.nextSibling);var r=lo;e&&fU(n,e)?f7(r,t):(n.flags=n.flags&-4097|2,jn=!1,lo=n)}}else{if(bI(n))throw Error(Ye(418));n.flags=n.flags&-4097|2,jn=!1,lo=n}}}function pU(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;lo=n}function N_(n){if(n!==lo)return!1;if(!jn)return pU(n),jn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!vI(n.type,n.memoizedProps)),e&&(e=io)){if(bI(n))throw p7(),Error(Ye(418));for(;e;)f7(n,e),e=md(e.nextSibling)}if(pU(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ye(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){io=md(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}io=null}}else io=lo?md(n.stateNode.nextSibling):null;return!0}function p7(){for(var n=io;n;)n=md(n.nextSibling)}function Cv(){io=lo=null,jn=!1}function az(n){Aa===null?Aa=[n]:Aa.push(n)}var Pse=Uc.ReactCurrentBatchConfig;function ba(n,e){if(n&&n.defaultProps){e=er({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var wA=Id(null),bA=null,Ag=null,lz=null;function cz(){lz=Ag=bA=null}function uz(n){var e=wA.current;Wn(wA),n._currentValue=e}function SI(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function ov(n,e){bA=n,lz=Ag=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ps=!0),n.firstContext=null)}function ra(n){var e=n._currentValue;if(lz!==n)if(n={context:n,memoizedValue:e,next:null},Ag===null){if(bA===null)throw Error(Ye(308));Ag=n,bA.dependencies={lanes:0,firstContext:n}}else Ag=Ag.next=n;return e}var rf=null;function dz(n){rf===null?rf=[n]:rf.push(n)}function m7(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,dz(e)):(t.next=i.next,i.next=t),e.interleaved=t,Oc(n,r)}function Oc(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Du=!1;function hz(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g7(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Tc(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function gd(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,dn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Oc(n,t)}return i=r.interleaved,i===null?(e.next=e,dz(r)):(e.next=i.next,i.next=e),r.interleaved=e,Oc(n,t)}function LE(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Q4(n,t)}}function mU(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function _A(n,e,t,r){var i=n.updateQueue;Du=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,v=a;switch(h=e,p=t,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=er({},d,h);break e;case 2:Du=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);qf|=o,n.lanes=o,n.memoizedState=d}}function gU(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ye(191,i));i.call(r)}}}var v7=new m9.Component().refs;function EI(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:er({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var dT={isMounted:function(n){return(n=n._reactInternals)?mp(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=os(),i=yd(n),s=Tc(r,i);s.payload=e,t!=null&&(s.callback=t),e=gd(n,s,i),e!==null&&(La(e,n,i,r),LE(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=os(),i=yd(n),s=Tc(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=gd(n,s,i),e!==null&&(La(e,n,i,r),LE(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=os(),r=yd(n),i=Tc(t,r);i.tag=2,e!=null&&(i.callback=e),e=gd(n,i,r),e!==null&&(La(e,n,r,t),LE(e,n,r))}};function vU(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!zx(t,r)||!zx(i,s):!0}function y7(n,e,t){var r=!1,i=_d,s=e.contextType;return typeof s=="object"&&s!==null?s=ra(s):(i=ks(e)?jf:Yi.current,r=e.contextTypes,s=(r=r!=null)?Mv(n,i):_d),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dT,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function yU(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&dT.enqueueReplaceState(e,e.state,null)}function MI(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=v7,hz(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ra(s):(s=ks(e)?jf:Yi.current,i.context=Mv(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(EI(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&dT.enqueueReplaceState(i,i.state,null),_A(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Y0(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ye(309));var r=t.stateNode}if(!r)throw Error(Ye(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===v7&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ye(284));if(!t._owner)throw Error(Ye(290,n))}return n}function F_(n,e){throw n=Object.prototype.toString.call(e),Error(Ye(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function xU(n){var e=n._init;return e(n._payload)}function x7(n){function e(x,w){if(n){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function t(x,w){if(!n)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=xd(x,w),x.index=0,x.sibling=null,x}function s(x,w,b){return x.index=b,n?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return n&&x.alternate===null&&(x.flags|=2),x}function a(x,w,b,_){return w===null||w.tag!==6?(w=mL(b,x.mode,_),w.return=x,w):(w=i(w,b),w.return=x,w)}function l(x,w,b,_){var C=b.type;return C===xg?u(x,w,b.props.children,_,b.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ou&&xU(C)===w.type)?(_=i(w,b.props),_.ref=Y0(x,w,b),_.return=x,_):(_=FE(b.type,b.key,b.props,null,x.mode,_),_.ref=Y0(x,w,b),_.return=x,_)}function c(x,w,b,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=gL(b,x.mode,_),w.return=x,w):(w=i(w,b.children||[]),w.return=x,w)}function u(x,w,b,_,C){return w===null||w.tag!==7?(w=Tf(b,x.mode,_,C),w.return=x,w):(w=i(w,b),w.return=x,w)}function d(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=mL(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case C_:return b=FE(w.type,w.key,w.props,null,x.mode,b),b.ref=Y0(x,null,w),b.return=x,b;case yg:return w=gL(w,x.mode,b),w.return=x,w;case Ou:var _=w._init;return d(x,_(w._payload),b)}if(Iy(w)||j0(w))return w=Tf(w,x.mode,b,null),w.return=x,w;F_(x,w)}return null}function h(x,w,b,_){var C=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:a(x,w,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case C_:return b.key===C?l(x,w,b,_):null;case yg:return b.key===C?c(x,w,b,_):null;case Ou:return C=b._init,h(x,w,C(b._payload),_)}if(Iy(b)||j0(b))return C!==null?null:u(x,w,b,_,null);F_(x,b)}return null}function p(x,w,b,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(b)||null,a(w,x,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case C_:return x=x.get(_.key===null?b:_.key)||null,l(w,x,_,C);case yg:return x=x.get(_.key===null?b:_.key)||null,c(w,x,_,C);case Ou:var A=_._init;return p(x,w,b,A(_._payload),C)}if(Iy(_)||j0(_))return x=x.get(b)||null,u(w,x,_,C,null);F_(w,_)}return null}function g(x,w,b,_){for(var C=null,A=null,P=w,M=w=0,L=null;P!==null&&M<b.length;M++){P.index>M?(L=P,P=null):L=P.sibling;var I=h(x,P,b[M],_);if(I===null){P===null&&(P=L);break}n&&P&&I.alternate===null&&e(x,P),w=s(I,w,M),A===null?C=I:A.sibling=I,A=I,P=L}if(M===b.length)return t(x,P),jn&&bh(x,M),C;if(P===null){for(;M<b.length;M++)P=d(x,b[M],_),P!==null&&(w=s(P,w,M),A===null?C=P:A.sibling=P,A=P);return jn&&bh(x,M),C}for(P=r(x,P);M<b.length;M++)L=p(P,x,M,b[M],_),L!==null&&(n&&L.alternate!==null&&P.delete(L.key===null?M:L.key),w=s(L,w,M),A===null?C=L:A.sibling=L,A=L);return n&&P.forEach(function(F){return e(x,F)}),jn&&bh(x,M),C}function v(x,w,b,_){var C=j0(b);if(typeof C!="function")throw Error(Ye(150));if(b=C.call(b),b==null)throw Error(Ye(151));for(var A=C=null,P=w,M=w=0,L=null,I=b.next();P!==null&&!I.done;M++,I=b.next()){P.index>M?(L=P,P=null):L=P.sibling;var F=h(x,P,I.value,_);if(F===null){P===null&&(P=L);break}n&&P&&F.alternate===null&&e(x,P),w=s(F,w,M),A===null?C=F:A.sibling=F,A=F,P=L}if(I.done)return t(x,P),jn&&bh(x,M),C;if(P===null){for(;!I.done;M++,I=b.next())I=d(x,I.value,_),I!==null&&(w=s(I,w,M),A===null?C=I:A.sibling=I,A=I);return jn&&bh(x,M),C}for(P=r(x,P);!I.done;M++,I=b.next())I=p(P,x,M,I.value,_),I!==null&&(n&&I.alternate!==null&&P.delete(I.key===null?M:I.key),w=s(I,w,M),A===null?C=I:A.sibling=I,A=I);return n&&P.forEach(function(V){return e(x,V)}),jn&&bh(x,M),C}function y(x,w,b,_){if(typeof b=="object"&&b!==null&&b.type===xg&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case C_:e:{for(var C=b.key,A=w;A!==null;){if(A.key===C){if(C=b.type,C===xg){if(A.tag===7){t(x,A.sibling),w=i(A,b.props.children),w.return=x,x=w;break e}}else if(A.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ou&&xU(C)===A.type){t(x,A.sibling),w=i(A,b.props),w.ref=Y0(x,A,b),w.return=x,x=w;break e}t(x,A);break}else e(x,A);A=A.sibling}b.type===xg?(w=Tf(b.props.children,x.mode,_,b.key),w.return=x,x=w):(_=FE(b.type,b.key,b.props,null,x.mode,_),_.ref=Y0(x,w,b),_.return=x,x=_)}return o(x);case yg:e:{for(A=b.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){t(x,w.sibling),w=i(w,b.children||[]),w.return=x,x=w;break e}else{t(x,w);break}else e(x,w);w=w.sibling}w=gL(b,x.mode,_),w.return=x,x=w}return o(x);case Ou:return A=b._init,y(x,w,A(b._payload),_)}if(Iy(b))return g(x,w,b,_);if(j0(b))return v(x,w,b,_);F_(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(t(x,w.sibling),w=i(w,b),w.return=x,x=w):(t(x,w),w=mL(b,x.mode,_),w.return=x,x=w),o(x)):t(x,w)}return y}var Av=x7(!0),w7=x7(!1),Gw={},bl=Id(Gw),Wx=Id(Gw),Hx=Id(Gw);function sf(n){if(n===Gw)throw Error(Ye(174));return n}function fz(n,e){switch(zn(Hx,e),zn(Wx,n),zn(bl,Gw),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rI(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=rI(e,n)}Wn(bl),zn(bl,e)}function Tv(){Wn(bl),Wn(Wx),Wn(Hx)}function b7(n){sf(Hx.current);var e=sf(bl.current),t=rI(e,n.type);e!==t&&(zn(Wx,n),zn(bl,t))}function pz(n){Wx.current===n&&(Wn(bl),Wn(Wx))}var Qn=Id(0);function SA(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cL=[];function mz(){for(var n=0;n<cL.length;n++)cL[n]._workInProgressVersionPrimary=null;cL.length=0}var kE=Uc.ReactCurrentDispatcher,uL=Uc.ReactCurrentBatchConfig,Gf=0,Jn=null,Nr=null,ti=null,EA=!1,W1=!1,jx=0,Rse=0;function Pi(){throw Error(Ye(321))}function gz(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Fa(n[t],e[t]))return!1;return!0}function vz(n,e,t,r,i,s){if(Gf=s,Jn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kE.current=n===null||n.memoizedState===null?Ose:Dse,n=t(r,i),W1){s=0;do{if(W1=!1,jx=0,25<=s)throw Error(Ye(301));s+=1,ti=Nr=null,e.updateQueue=null,kE.current=Nse,n=t(r,i)}while(W1)}if(kE.current=MA,e=Nr!==null&&Nr.next!==null,Gf=0,ti=Nr=Jn=null,EA=!1,e)throw Error(Ye(300));return n}function yz(){var n=jx!==0;return jx=0,n}function tl(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?Jn.memoizedState=ti=n:ti=ti.next=n,ti}function ia(){if(Nr===null){var n=Jn.alternate;n=n!==null?n.memoizedState:null}else n=Nr.next;var e=ti===null?Jn.memoizedState:ti.next;if(e!==null)ti=e,Nr=n;else{if(n===null)throw Error(Ye(310));Nr=n,n={memoizedState:Nr.memoizedState,baseState:Nr.baseState,baseQueue:Nr.baseQueue,queue:Nr.queue,next:null},ti===null?Jn.memoizedState=ti=n:ti=ti.next=n}return ti}function Vx(n,e){return typeof e=="function"?e(n):e}function dL(n){var e=ia(),t=e.queue;if(t===null)throw Error(Ye(311));t.lastRenderedReducer=n;var r=Nr,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Gf&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Jn.lanes|=u,qf|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Fa(r,e.memoizedState)||(Ps=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Jn.lanes|=s,qf|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function hL(n){var e=ia(),t=e.queue;if(t===null)throw Error(Ye(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Fa(s,e.memoizedState)||(Ps=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function _7(){}function S7(n,e){var t=Jn,r=ia(),i=e(),s=!Fa(r.memoizedState,i);if(s&&(r.memoizedState=i,Ps=!0),r=r.queue,xz(C7.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||ti!==null&&ti.memoizedState.tag&1){if(t.flags|=2048,Gx(9,M7.bind(null,t,r,i,e),void 0,null),ri===null)throw Error(Ye(349));Gf&30||E7(t,e,i)}return i}function E7(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Jn.updateQueue,e===null?(e={lastEffect:null,stores:null},Jn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function M7(n,e,t,r){e.value=t,e.getSnapshot=r,A7(e)&&T7(n)}function C7(n,e,t){return t(function(){A7(e)&&T7(n)})}function A7(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Fa(n,t)}catch{return!0}}function T7(n){var e=Oc(n,1);e!==null&&La(e,n,1,-1)}function wU(n){var e=tl();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vx,lastRenderedState:n},e.queue=n,n=n.dispatch=Ise.bind(null,Jn,n),[e.memoizedState,n]}function Gx(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Jn.updateQueue,e===null?(e={lastEffect:null,stores:null},Jn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function P7(){return ia().memoizedState}function IE(n,e,t,r){var i=tl();Jn.flags|=n,i.memoizedState=Gx(1|e,t,void 0,r===void 0?null:r)}function hT(n,e,t,r){var i=ia();r=r===void 0?null:r;var s=void 0;if(Nr!==null){var o=Nr.memoizedState;if(s=o.destroy,r!==null&&gz(r,o.deps)){i.memoizedState=Gx(e,t,s,r);return}}Jn.flags|=n,i.memoizedState=Gx(1|e,t,s,r)}function bU(n,e){return IE(8390656,8,n,e)}function xz(n,e){return hT(2048,8,n,e)}function R7(n,e){return hT(4,2,n,e)}function L7(n,e){return hT(4,4,n,e)}function k7(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function I7(n,e,t){return t=t!=null?t.concat([n]):null,hT(4,4,k7.bind(null,e,n),t)}function wz(){}function O7(n,e){var t=ia();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&gz(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function D7(n,e){var t=ia();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&gz(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function N7(n,e,t){return Gf&21?(Fa(t,e)||(t=B9(),Jn.lanes|=t,qf|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ps=!0),n.memoizedState=t)}function Lse(n,e){var t=Sn;Sn=t!==0&&4>t?t:4,n(!0);var r=uL.transition;uL.transition={};try{n(!1),e()}finally{Sn=t,uL.transition=r}}function F7(){return ia().memoizedState}function kse(n,e,t){var r=yd(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},z7(n))B7(e,t);else if(t=m7(n,e,t,r),t!==null){var i=os();La(t,n,r,i),$7(t,e,r)}}function Ise(n,e,t){var r=yd(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(z7(n))B7(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Fa(a,o)){var l=e.interleaved;l===null?(i.next=i,dz(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=m7(n,e,i,r),t!==null&&(i=os(),La(t,n,r,i),$7(t,e,r))}}function z7(n){var e=n.alternate;return n===Jn||e!==null&&e===Jn}function B7(n,e){W1=EA=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function $7(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,Q4(n,t)}}var MA={readContext:ra,useCallback:Pi,useContext:Pi,useEffect:Pi,useImperativeHandle:Pi,useInsertionEffect:Pi,useLayoutEffect:Pi,useMemo:Pi,useReducer:Pi,useRef:Pi,useState:Pi,useDebugValue:Pi,useDeferredValue:Pi,useTransition:Pi,useMutableSource:Pi,useSyncExternalStore:Pi,useId:Pi,unstable_isNewReconciler:!1},Ose={readContext:ra,useCallback:function(n,e){return tl().memoizedState=[n,e===void 0?null:e],n},useContext:ra,useEffect:bU,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,IE(4194308,4,k7.bind(null,e,n),t)},useLayoutEffect:function(n,e){return IE(4194308,4,n,e)},useInsertionEffect:function(n,e){return IE(4,2,n,e)},useMemo:function(n,e){var t=tl();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=tl();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=kse.bind(null,Jn,n),[r.memoizedState,n]},useRef:function(n){var e=tl();return n={current:n},e.memoizedState=n},useState:wU,useDebugValue:wz,useDeferredValue:function(n){return tl().memoizedState=n},useTransition:function(){var n=wU(!1),e=n[0];return n=Lse.bind(null,n[1]),tl().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Jn,i=tl();if(jn){if(t===void 0)throw Error(Ye(407));t=t()}else{if(t=e(),ri===null)throw Error(Ye(349));Gf&30||E7(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,bU(C7.bind(null,r,s,n),[n]),r.flags|=2048,Gx(9,M7.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=tl(),e=ri.identifierPrefix;if(jn){var t=bc,r=wc;t=(r&~(1<<32-Ra(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=jx++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Rse++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Dse={readContext:ra,useCallback:O7,useContext:ra,useEffect:xz,useImperativeHandle:I7,useInsertionEffect:R7,useLayoutEffect:L7,useMemo:D7,useReducer:dL,useRef:P7,useState:function(){return dL(Vx)},useDebugValue:wz,useDeferredValue:function(n){var e=ia();return N7(e,Nr.memoizedState,n)},useTransition:function(){var n=dL(Vx)[0],e=ia().memoizedState;return[n,e]},useMutableSource:_7,useSyncExternalStore:S7,useId:F7,unstable_isNewReconciler:!1},Nse={readContext:ra,useCallback:O7,useContext:ra,useEffect:xz,useImperativeHandle:I7,useInsertionEffect:R7,useLayoutEffect:L7,useMemo:D7,useReducer:hL,useRef:P7,useState:function(){return hL(Vx)},useDebugValue:wz,useDeferredValue:function(n){var e=ia();return Nr===null?e.memoizedState=n:N7(e,Nr.memoizedState,n)},useTransition:function(){var n=hL(Vx)[0],e=ia().memoizedState;return[n,e]},useMutableSource:_7,useSyncExternalStore:S7,useId:F7,unstable_isNewReconciler:!1};function Pv(n,e){try{var t="",r=e;do t+=uie(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function fL(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function CI(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Fse=typeof WeakMap=="function"?WeakMap:Map;function U7(n,e,t){t=Tc(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){AA||(AA=!0,NI=r),CI(n,e)},t}function W7(n,e,t){t=Tc(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){CI(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){CI(n,e),typeof r!="function"&&(vd===null?vd=new Set([this]):vd.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function _U(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new Fse;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=Qse.bind(null,n,e,t),e.then(n,n))}function SU(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function EU(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Tc(-1,1),e.tag=2,gd(t,e,1))),t.lanes|=1),n)}var zse=Uc.ReactCurrentOwner,Ps=!1;function is(n,e,t,r){e.child=n===null?w7(e,null,t,r):Av(e,n.child,t,r)}function MU(n,e,t,r,i){t=t.render;var s=e.ref;return ov(e,i),r=vz(n,e,t,r,s,i),t=yz(),n!==null&&!Ps?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Dc(n,e,i)):(jn&&t&&sz(e),e.flags|=1,is(n,e,r,i),e.child)}function CU(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!Tz(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,H7(n,e,s,r,i)):(n=FE(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:zx,t(o,r)&&n.ref===e.ref)return Dc(n,e,i)}return e.flags|=1,n=xd(s,r),n.ref=e.ref,n.return=e,e.child=n}function H7(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(zx(s,r)&&n.ref===e.ref)if(Ps=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Ps=!0);else return e.lanes=n.lanes,Dc(n,e,i)}return AI(n,e,t,r,i)}function j7(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},zn(Pg,ro),ro|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,zn(Pg,ro),ro|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,zn(Pg,ro),ro|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,zn(Pg,ro),ro|=r;return is(n,e,i,t),e.child}function V7(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function AI(n,e,t,r,i){var s=ks(t)?jf:Yi.current;return s=Mv(e,s),ov(e,i),t=vz(n,e,t,r,s,i),r=yz(),n!==null&&!Ps?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Dc(n,e,i)):(jn&&r&&sz(e),e.flags|=1,is(n,e,t,i),e.child)}function AU(n,e,t,r,i){if(ks(t)){var s=!0;vA(e)}else s=!1;if(ov(e,i),e.stateNode===null)OE(n,e),y7(e,t,r),MI(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=ra(c):(c=ks(t)?jf:Yi.current,c=Mv(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&yU(e,o,r,c),Du=!1;var h=e.memoizedState;o.state=h,_A(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Ls.current||Du?(typeof u=="function"&&(EI(e,t,u,r),l=e.memoizedState),(a=Du||vU(e,t,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,g7(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:ba(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=ra(l):(l=ks(t)?jf:Yi.current,l=Mv(e,l));var p=t.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&yU(e,o,r,l),Du=!1,h=e.memoizedState,o.state=h,_A(e,r,o,i);var g=e.memoizedState;a!==d||h!==g||Ls.current||Du?(typeof p=="function"&&(EI(e,t,p,r),g=e.memoizedState),(c=Du||vU(e,t,c,r,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),r=!1)}return TI(n,e,t,r,s,i)}function TI(n,e,t,r,i,s){V7(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&hU(e,t,!1),Dc(n,e,s);r=e.stateNode,zse.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Av(e,n.child,null,s),e.child=Av(e,null,a,s)):is(n,e,a,s),e.memoizedState=r.state,i&&hU(e,t,!0),e.child}function G7(n){var e=n.stateNode;e.pendingContext?dU(n,e.pendingContext,e.pendingContext!==e.context):e.context&&dU(n,e.context,!1),fz(n,e.containerInfo)}function TU(n,e,t,r,i){return Cv(),az(i),e.flags|=256,is(n,e,t,r),e.child}var PI={dehydrated:null,treeContext:null,retryLane:0};function RI(n){return{baseLanes:n,cachePool:null,transitions:null}}function q7(n,e,t){var r=e.pendingProps,i=Qn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),zn(Qn,i&1),n===null)return _I(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=mT(o,r,0,null),n=Tf(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=RI(t),e.memoizedState=PI,n):bz(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Bse(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=xd(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=xd(a,s):(s=Tf(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?RI(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=PI,r}return s=n.child,n=s.sibling,r=xd(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function bz(n,e){return e=mT({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function z_(n,e,t,r){return r!==null&&az(r),Av(e,n.child,null,t),n=bz(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Bse(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=fL(Error(Ye(422))),z_(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=mT({mode:"visible",children:r.children},i,0,null),s=Tf(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Av(e,n.child,null,o),e.child.memoizedState=RI(o),e.memoizedState=PI,s);if(!(e.mode&1))return z_(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ye(419)),r=fL(s,r,void 0),z_(n,e,o,r)}if(a=(o&n.childLanes)!==0,Ps||a){if(r=ri,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Oc(n,i),La(r,n,i,-1))}return Az(),r=fL(Error(Ye(421))),z_(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=Zse.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,io=md(i.nextSibling),lo=e,jn=!0,Aa=null,n!==null&&(Ko[Qo++]=wc,Ko[Qo++]=bc,Ko[Qo++]=Vf,wc=n.id,bc=n.overflow,Vf=e),e=bz(e,r.children),e.flags|=4096,e)}function PU(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),SI(n.return,e,t)}function pL(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function X7(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(is(n,e,r.children,t),r=Qn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&PU(n,t,e);else if(n.tag===19)PU(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(zn(Qn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&SA(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),pL(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&SA(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}pL(e,!0,t,null,s);break;case"together":pL(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function OE(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Dc(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),qf|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ye(153));if(e.child!==null){for(n=e.child,t=xd(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=xd(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function $se(n,e,t){switch(e.tag){case 3:G7(e),Cv();break;case 5:b7(e);break;case 1:ks(e.type)&&vA(e);break;case 4:fz(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;zn(wA,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(zn(Qn,Qn.current&1),e.flags|=128,null):t&e.child.childLanes?q7(n,e,t):(zn(Qn,Qn.current&1),n=Dc(n,e,t),n!==null?n.sibling:null);zn(Qn,Qn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return X7(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),zn(Qn,Qn.current),r)break;return null;case 22:case 23:return e.lanes=0,j7(n,e,t)}return Dc(n,e,t)}var Y7,LI,K7,Q7;Y7=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};LI=function(){};K7=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,sf(bl.current);var s=null;switch(t){case"input":i=J3(n,i),r=J3(n,r),s=[];break;case"select":i=er({},i,{value:void 0}),r=er({},r,{value:void 0}),s=[];break;case"textarea":i=nI(n,i),r=nI(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=mA)}iI(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Lx.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Lx.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&$n("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Q7=function(n,e,t,r){t!==r&&(e.flags|=4)};function K0(n,e){if(!jn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Ri(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function Use(n,e,t){var r=e.pendingProps;switch(oz(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ri(e),null;case 1:return ks(e.type)&&gA(),Ri(e),null;case 3:return r=e.stateNode,Tv(),Wn(Ls),Wn(Yi),mz(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(N_(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Aa!==null&&(BI(Aa),Aa=null))),LI(n,e),Ri(e),null;case 5:pz(e);var i=sf(Hx.current);if(t=e.type,n!==null&&e.stateNode!=null)K7(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ye(166));return Ri(e),null}if(n=sf(bl.current),N_(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[gl]=e,r[Ux]=s,n=(e.mode&1)!==0,t){case"dialog":$n("cancel",r),$n("close",r);break;case"iframe":case"object":case"embed":$n("load",r);break;case"video":case"audio":for(i=0;i<Dy.length;i++)$n(Dy[i],r);break;case"source":$n("error",r);break;case"img":case"image":case"link":$n("error",r),$n("load",r);break;case"details":$n("toggle",r);break;case"input":z$(r,s),$n("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$n("invalid",r);break;case"textarea":$$(r,s),$n("invalid",r)}iI(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&D_(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&D_(r.textContent,a,n),i=["children",""+a]):Lx.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$n("scroll",r)}switch(t){case"input":A_(r),B$(r,s,!0);break;case"textarea":A_(r),U$(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=mA)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=E9(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[gl]=e,n[Ux]=r,Y7(n,e,!1,!1),e.stateNode=n;e:{switch(o=sI(t,r),t){case"dialog":$n("cancel",n),$n("close",n),i=r;break;case"iframe":case"object":case"embed":$n("load",n),i=r;break;case"video":case"audio":for(i=0;i<Dy.length;i++)$n(Dy[i],n);i=r;break;case"source":$n("error",n),i=r;break;case"img":case"image":case"link":$n("error",n),$n("load",n),i=r;break;case"details":$n("toggle",n),i=r;break;case"input":z$(n,r),i=J3(n,r),$n("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=er({},r,{value:void 0}),$n("invalid",n);break;case"textarea":$$(n,r),i=nI(n,r),$n("invalid",n);break;default:i=r}iI(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?A9(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&M9(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&kx(n,l):typeof l=="number"&&kx(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Lx.hasOwnProperty(s)?l!=null&&s==="onScroll"&&$n("scroll",n):l!=null&&V4(n,s,l,o))}switch(t){case"input":A_(n),B$(n,r,!1);break;case"textarea":A_(n),U$(n);break;case"option":r.value!=null&&n.setAttribute("value",""+bd(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?nv(n,!!r.multiple,s,!1):r.defaultValue!=null&&nv(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=mA)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ri(e),null;case 6:if(n&&e.stateNode!=null)Q7(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ye(166));if(t=sf(Hx.current),sf(bl.current),N_(e)){if(r=e.stateNode,t=e.memoizedProps,r[gl]=e,(s=r.nodeValue!==t)&&(n=lo,n!==null))switch(n.tag){case 3:D_(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&D_(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[gl]=e,e.stateNode=r}return Ri(e),null;case 13:if(Wn(Qn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(jn&&io!==null&&e.mode&1&&!(e.flags&128))p7(),Cv(),e.flags|=98560,s=!1;else if(s=N_(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ye(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ye(317));s[gl]=e}else Cv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ri(e),s=!1}else Aa!==null&&(BI(Aa),Aa=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Qn.current&1?zr===0&&(zr=3):Az())),e.updateQueue!==null&&(e.flags|=4),Ri(e),null);case 4:return Tv(),LI(n,e),n===null&&Bx(e.stateNode.containerInfo),Ri(e),null;case 10:return uz(e.type._context),Ri(e),null;case 17:return ks(e.type)&&gA(),Ri(e),null;case 19:if(Wn(Qn),s=e.memoizedState,s===null)return Ri(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)K0(s,!1);else{if(zr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=SA(n),o!==null){for(e.flags|=128,K0(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return zn(Qn,Qn.current&1|2),e.child}n=n.sibling}s.tail!==null&&hr()>Rv&&(e.flags|=128,r=!0,K0(s,!1),e.lanes=4194304)}else{if(!r)if(n=SA(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),K0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!jn)return Ri(e),null}else 2*hr()-s.renderingStartTime>Rv&&t!==1073741824&&(e.flags|=128,r=!0,K0(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=hr(),e.sibling=null,t=Qn.current,zn(Qn,r?t&1|2:t&1),e):(Ri(e),null);case 22:case 23:return Cz(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ro&1073741824&&(Ri(e),e.subtreeFlags&6&&(e.flags|=8192)):Ri(e),null;case 24:return null;case 25:return null}throw Error(Ye(156,e.tag))}function Wse(n,e){switch(oz(e),e.tag){case 1:return ks(e.type)&&gA(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Tv(),Wn(Ls),Wn(Yi),mz(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return pz(e),null;case 13:if(Wn(Qn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ye(340));Cv()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Wn(Qn),null;case 4:return Tv(),null;case 10:return uz(e.type._context),null;case 22:case 23:return Cz(),null;case 24:return null;default:return null}}var B_=!1,Hi=!1,Hse=typeof WeakSet=="function"?WeakSet:Set,dt=null;function Tg(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){ir(n,e,r)}else t.current=null}function kI(n,e,t){try{t()}catch(r){ir(n,e,r)}}var RU=!1;function jse(n,e){if(mI=hA,n=t7(),iz(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=n,h=null;t:for(;;){for(var p;d!==t||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===n)break t;if(h===t&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(gI={focusedElem:n,selectionRange:t},hA=!1,dt=e;dt!==null;)if(e=dt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,dt=n;else for(;dt!==null;){e=dt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:ba(e.type,v),y);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ye(163))}}catch(_){ir(e,e.return,_)}if(n=e.sibling,n!==null){n.return=e.return,dt=n;break}dt=e.return}return g=RU,RU=!1,g}function H1(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&kI(e,t,s)}i=i.next}while(i!==r)}}function fT(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function II(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function Z7(n){var e=n.alternate;e!==null&&(n.alternate=null,Z7(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[gl],delete e[Ux],delete e[xI],delete e[Cse],delete e[Ase])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function J7(n){return n.tag===5||n.tag===3||n.tag===4}function LU(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||J7(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function OI(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=mA));else if(r!==4&&(n=n.child,n!==null))for(OI(n,e,t),n=n.sibling;n!==null;)OI(n,e,t),n=n.sibling}function DI(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(DI(n,e,t),n=n.sibling;n!==null;)DI(n,e,t),n=n.sibling}var mi=null,Ea=!1;function su(n,e,t){for(t=t.child;t!==null;)eq(n,e,t),t=t.sibling}function eq(n,e,t){if(wl&&typeof wl.onCommitFiberUnmount=="function")try{wl.onCommitFiberUnmount(sT,t)}catch{}switch(t.tag){case 5:Hi||Tg(t,e);case 6:var r=mi,i=Ea;mi=null,su(n,e,t),mi=r,Ea=i,mi!==null&&(Ea?(n=mi,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):mi.removeChild(t.stateNode));break;case 18:mi!==null&&(Ea?(n=mi,t=t.stateNode,n.nodeType===8?aL(n.parentNode,t):n.nodeType===1&&aL(n,t),Nx(n)):aL(mi,t.stateNode));break;case 4:r=mi,i=Ea,mi=t.stateNode.containerInfo,Ea=!0,su(n,e,t),mi=r,Ea=i;break;case 0:case 11:case 14:case 15:if(!Hi&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&kI(t,e,o),i=i.next}while(i!==r)}su(n,e,t);break;case 1:if(!Hi&&(Tg(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){ir(t,e,a)}su(n,e,t);break;case 21:su(n,e,t);break;case 22:t.mode&1?(Hi=(r=Hi)||t.memoizedState!==null,su(n,e,t),Hi=r):su(n,e,t);break;default:su(n,e,t)}}function kU(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Hse),e.forEach(function(r){var i=Jse.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function fa(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:mi=a.stateNode,Ea=!1;break e;case 3:mi=a.stateNode.containerInfo,Ea=!0;break e;case 4:mi=a.stateNode.containerInfo,Ea=!0;break e}a=a.return}if(mi===null)throw Error(Ye(160));eq(s,o,i),mi=null,Ea=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ir(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tq(e,n),e=e.sibling}function tq(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(fa(e,n),Ya(n),r&4){try{H1(3,n,n.return),fT(3,n)}catch(v){ir(n,n.return,v)}try{H1(5,n,n.return)}catch(v){ir(n,n.return,v)}}break;case 1:fa(e,n),Ya(n),r&512&&t!==null&&Tg(t,t.return);break;case 5:if(fa(e,n),Ya(n),r&512&&t!==null&&Tg(t,t.return),n.flags&32){var i=n.stateNode;try{kx(i,"")}catch(v){ir(n,n.return,v)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&_9(i,s),sI(a,o);var c=sI(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?A9(i,d):u==="dangerouslySetInnerHTML"?M9(i,d):u==="children"?kx(i,d):V4(i,u,d,c)}switch(a){case"input":eI(i,s);break;case"textarea":S9(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?nv(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?nv(i,!!s.multiple,s.defaultValue,!0):nv(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ux]=s}catch(v){ir(n,n.return,v)}}break;case 6:if(fa(e,n),Ya(n),r&4){if(n.stateNode===null)throw Error(Ye(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(v){ir(n,n.return,v)}}break;case 3:if(fa(e,n),Ya(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Nx(e.containerInfo)}catch(v){ir(n,n.return,v)}break;case 4:fa(e,n),Ya(n);break;case 13:fa(e,n),Ya(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ez=hr())),r&4&&kU(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Hi=(c=Hi)||u,fa(e,n),Hi=c):fa(e,n),Ya(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(dt=n,u=n.child;u!==null;){for(d=dt=u;dt!==null;){switch(h=dt,p=h.child,h.tag){case 0:case 11:case 14:case 15:H1(4,h,h.return);break;case 1:Tg(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,t=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){ir(r,t,v)}}break;case 5:Tg(h,h.return);break;case 22:if(h.memoizedState!==null){OU(d);continue}}p!==null?(p.return=h,dt=p):OU(d)}u=u.sibling}e:for(u=null,d=n;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=C9("display",o))}catch(v){ir(n,n.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){ir(n,n.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fa(e,n),Ya(n),r&4&&kU(n);break;case 21:break;default:fa(e,n),Ya(n)}}function Ya(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(J7(t)){var r=t;break e}t=t.return}throw Error(Ye(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kx(i,""),r.flags&=-33);var s=LU(n);DI(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=LU(n);OI(n,a,o);break;default:throw Error(Ye(161))}}catch(l){ir(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Vse(n,e,t){dt=n,nq(n)}function nq(n,e,t){for(var r=(n.mode&1)!==0;dt!==null;){var i=dt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||B_;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Hi;a=B_;var c=Hi;if(B_=o,(Hi=l)&&!c)for(dt=i;dt!==null;)o=dt,l=o.child,o.tag===22&&o.memoizedState!==null?DU(i):l!==null?(l.return=o,dt=l):DU(i);for(;s!==null;)dt=s,nq(s),s=s.sibling;dt=i,B_=a,Hi=c}IU(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,dt=s):IU(n)}}function IU(n){for(;dt!==null;){var e=dt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Hi||fT(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Hi)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:ba(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&gU(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}gU(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Nx(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ye(163))}Hi||e.flags&512&&II(e)}catch(h){ir(e,e.return,h)}}if(e===n){dt=null;break}if(t=e.sibling,t!==null){t.return=e.return,dt=t;break}dt=e.return}}function OU(n){for(;dt!==null;){var e=dt;if(e===n){dt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,dt=t;break}dt=e.return}}function DU(n){for(;dt!==null;){var e=dt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{fT(4,e)}catch(l){ir(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ir(e,i,l)}}var s=e.return;try{II(e)}catch(l){ir(e,s,l)}break;case 5:var o=e.return;try{II(e)}catch(l){ir(e,o,l)}}}catch(l){ir(e,e.return,l)}if(e===n){dt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,dt=a;break}dt=e.return}}var Gse=Math.ceil,CA=Uc.ReactCurrentDispatcher,_z=Uc.ReactCurrentOwner,ea=Uc.ReactCurrentBatchConfig,dn=0,ri=null,Cr=null,yi=0,ro=0,Pg=Id(0),zr=0,qx=null,qf=0,pT=0,Sz=0,j1=null,Ms=null,Ez=0,Rv=1/0,ic=null,AA=!1,NI=null,vd=null,$_=!1,td=null,TA=0,V1=0,FI=null,DE=-1,NE=0;function os(){return dn&6?hr():DE!==-1?DE:DE=hr()}function yd(n){return n.mode&1?dn&2&&yi!==0?yi&-yi:Pse.transition!==null?(NE===0&&(NE=B9()),NE):(n=Sn,n!==0||(n=window.event,n=n===void 0?16:G9(n.type)),n):1}function La(n,e,t,r){if(50<V1)throw V1=0,FI=null,Error(Ye(185));Hw(n,t,r),(!(dn&2)||n!==ri)&&(n===ri&&(!(dn&2)&&(pT|=t),zr===4&&Wu(n,yi)),Is(n,r),t===1&&dn===0&&!(e.mode&1)&&(Rv=hr()+500,uT&&Od()))}function Is(n,e){var t=n.callbackNode;Pie(n,e);var r=dA(n,n===ri?yi:0);if(r===0)t!==null&&j$(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&j$(t),e===1)n.tag===0?Tse(NU.bind(null,n)):d7(NU.bind(null,n)),Ese(function(){!(dn&6)&&Od()}),t=null;else{switch($9(r)){case 1:t=K4;break;case 4:t=F9;break;case 16:t=uA;break;case 536870912:t=z9;break;default:t=uA}t=uq(t,rq.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function rq(n,e){if(DE=-1,NE=0,dn&6)throw Error(Ye(327));var t=n.callbackNode;if(av()&&n.callbackNode!==t)return null;var r=dA(n,n===ri?yi:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=PA(n,r);else{e=r;var i=dn;dn|=2;var s=sq();(ri!==n||yi!==e)&&(ic=null,Rv=hr()+500,Af(n,e));do try{Yse();break}catch(a){iq(n,a)}while(!0);cz(),CA.current=s,dn=i,Cr!==null?e=0:(ri=null,yi=0,e=zr)}if(e!==0){if(e===2&&(i=uI(n),i!==0&&(r=i,e=zI(n,i))),e===1)throw t=qx,Af(n,0),Wu(n,r),Is(n,hr()),t;if(e===6)Wu(n,r);else{if(i=n.current.alternate,!(r&30)&&!qse(i)&&(e=PA(n,r),e===2&&(s=uI(n),s!==0&&(r=s,e=zI(n,s))),e===1))throw t=qx,Af(n,0),Wu(n,r),Is(n,hr()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ye(345));case 2:_h(n,Ms,ic);break;case 3:if(Wu(n,r),(r&130023424)===r&&(e=Ez+500-hr(),10<e)){if(dA(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){os(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=yI(_h.bind(null,n,Ms,ic),e);break}_h(n,Ms,ic);break;case 4:if(Wu(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Ra(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=hr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gse(r/1960))-r,10<r){n.timeoutHandle=yI(_h.bind(null,n,Ms,ic),r);break}_h(n,Ms,ic);break;case 5:_h(n,Ms,ic);break;default:throw Error(Ye(329))}}}return Is(n,hr()),n.callbackNode===t?rq.bind(null,n):null}function zI(n,e){var t=j1;return n.current.memoizedState.isDehydrated&&(Af(n,e).flags|=256),n=PA(n,e),n!==2&&(e=Ms,Ms=t,e!==null&&BI(e)),n}function BI(n){Ms===null?Ms=n:Ms.push.apply(Ms,n)}function qse(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Fa(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wu(n,e){for(e&=~Sz,e&=~pT,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Ra(e),r=1<<t;n[t]=-1,e&=~r}}function NU(n){if(dn&6)throw Error(Ye(327));av();var e=dA(n,0);if(!(e&1))return Is(n,hr()),null;var t=PA(n,e);if(n.tag!==0&&t===2){var r=uI(n);r!==0&&(e=r,t=zI(n,r))}if(t===1)throw t=qx,Af(n,0),Wu(n,e),Is(n,hr()),t;if(t===6)throw Error(Ye(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,_h(n,Ms,ic),Is(n,hr()),null}function Mz(n,e){var t=dn;dn|=1;try{return n(e)}finally{dn=t,dn===0&&(Rv=hr()+500,uT&&Od())}}function Xf(n){td!==null&&td.tag===0&&!(dn&6)&&av();var e=dn;dn|=1;var t=ea.transition,r=Sn;try{if(ea.transition=null,Sn=1,n)return n()}finally{Sn=r,ea.transition=t,dn=e,!(dn&6)&&Od()}}function Cz(){ro=Pg.current,Wn(Pg)}function Af(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Sse(t)),Cr!==null)for(t=Cr.return;t!==null;){var r=t;switch(oz(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gA();break;case 3:Tv(),Wn(Ls),Wn(Yi),mz();break;case 5:pz(r);break;case 4:Tv();break;case 13:Wn(Qn);break;case 19:Wn(Qn);break;case 10:uz(r.type._context);break;case 22:case 23:Cz()}t=t.return}if(ri=n,Cr=n=xd(n.current,null),yi=ro=e,zr=0,qx=null,Sz=pT=qf=0,Ms=j1=null,rf!==null){for(e=0;e<rf.length;e++)if(t=rf[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}rf=null}return n}function iq(n,e){do{var t=Cr;try{if(cz(),kE.current=MA,EA){for(var r=Jn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}EA=!1}if(Gf=0,ti=Nr=Jn=null,W1=!1,jx=0,_z.current=null,t===null||t.return===null){zr=1,qx=e,Cr=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=yi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=SU(o);if(p!==null){p.flags&=-257,EU(p,o,a,s,e),p.mode&1&&_U(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){_U(s,c,e),Az();break e}l=Error(Ye(426))}}else if(jn&&a.mode&1){var y=SU(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),EU(y,o,a,s,e),az(Pv(l,a));break e}}s=l=Pv(l,a),zr!==4&&(zr=2),j1===null?j1=[s]:j1.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=U7(s,l,e);mU(s,x);break e;case 1:a=l;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(vd===null||!vd.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=W7(s,a,e);mU(s,_);break e}}s=s.return}while(s!==null)}aq(t)}catch(C){e=C,Cr===t&&t!==null&&(Cr=t=t.return);continue}break}while(!0)}function sq(){var n=CA.current;return CA.current=MA,n===null?MA:n}function Az(){(zr===0||zr===3||zr===2)&&(zr=4),ri===null||!(qf&268435455)&&!(pT&268435455)||Wu(ri,yi)}function PA(n,e){var t=dn;dn|=2;var r=sq();(ri!==n||yi!==e)&&(ic=null,Af(n,e));do try{Xse();break}catch(i){iq(n,i)}while(!0);if(cz(),dn=t,CA.current=r,Cr!==null)throw Error(Ye(261));return ri=null,yi=0,zr}function Xse(){for(;Cr!==null;)oq(Cr)}function Yse(){for(;Cr!==null&&!wie();)oq(Cr)}function oq(n){var e=cq(n.alternate,n,ro);n.memoizedProps=n.pendingProps,e===null?aq(n):Cr=e,_z.current=null}function aq(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Wse(t,e),t!==null){t.flags&=32767,Cr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{zr=6,Cr=null;return}}else if(t=Use(t,e,ro),t!==null){Cr=t;return}if(e=e.sibling,e!==null){Cr=e;return}Cr=e=n}while(e!==null);zr===0&&(zr=5)}function _h(n,e,t){var r=Sn,i=ea.transition;try{ea.transition=null,Sn=1,Kse(n,e,t,r)}finally{ea.transition=i,Sn=r}return null}function Kse(n,e,t,r){do av();while(td!==null);if(dn&6)throw Error(Ye(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ye(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(Rie(n,s),n===ri&&(Cr=ri=null,yi=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||$_||($_=!0,uq(uA,function(){return av(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=ea.transition,ea.transition=null;var o=Sn;Sn=1;var a=dn;dn|=4,_z.current=null,jse(n,t),tq(t,n),gse(gI),hA=!!mI,gI=mI=null,n.current=t,Vse(t),bie(),dn=a,Sn=o,ea.transition=s}else n.current=t;if($_&&($_=!1,td=n,TA=i),s=n.pendingLanes,s===0&&(vd=null),Eie(t.stateNode),Is(n,hr()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(AA)throw AA=!1,n=NI,NI=null,n;return TA&1&&n.tag!==0&&av(),s=n.pendingLanes,s&1?n===FI?V1++:(V1=0,FI=n):V1=0,Od(),null}function av(){if(td!==null){var n=$9(TA),e=ea.transition,t=Sn;try{if(ea.transition=null,Sn=16>n?16:n,td===null)var r=!1;else{if(n=td,td=null,TA=0,dn&6)throw Error(Ye(331));var i=dn;for(dn|=4,dt=n.current;dt!==null;){var s=dt,o=s.child;if(dt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(dt=c;dt!==null;){var u=dt;switch(u.tag){case 0:case 11:case 15:H1(8,u,s)}var d=u.child;if(d!==null)d.return=u,dt=d;else for(;dt!==null;){u=dt;var h=u.sibling,p=u.return;if(Z7(u),u===c){dt=null;break}if(h!==null){h.return=p,dt=h;break}dt=p}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}dt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,dt=o;else e:for(;dt!==null;){if(s=dt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:H1(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,dt=x;break e}dt=s.return}}var w=n.current;for(dt=w;dt!==null;){o=dt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,dt=b;else e:for(o=w;dt!==null;){if(a=dt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:fT(9,a)}}catch(C){ir(a,a.return,C)}if(a===o){dt=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,dt=_;break e}dt=a.return}}if(dn=i,Od(),wl&&typeof wl.onPostCommitFiberRoot=="function")try{wl.onPostCommitFiberRoot(sT,n)}catch{}r=!0}return r}finally{Sn=t,ea.transition=e}}return!1}function FU(n,e,t){e=Pv(t,e),e=U7(n,e,1),n=gd(n,e,1),e=os(),n!==null&&(Hw(n,1,e),Is(n,e))}function ir(n,e,t){if(n.tag===3)FU(n,n,t);else for(;e!==null;){if(e.tag===3){FU(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vd===null||!vd.has(r))){n=Pv(t,n),n=W7(e,n,1),e=gd(e,n,1),n=os(),e!==null&&(Hw(e,1,n),Is(e,n));break}}e=e.return}}function Qse(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=os(),n.pingedLanes|=n.suspendedLanes&t,ri===n&&(yi&t)===t&&(zr===4||zr===3&&(yi&130023424)===yi&&500>hr()-Ez?Af(n,0):Sz|=t),Is(n,e)}function lq(n,e){e===0&&(n.mode&1?(e=R_,R_<<=1,!(R_&130023424)&&(R_=4194304)):e=1);var t=os();n=Oc(n,e),n!==null&&(Hw(n,e,t),Is(n,t))}function Zse(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),lq(n,t)}function Jse(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ye(314))}r!==null&&r.delete(e),lq(n,t)}var cq;cq=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Ls.current)Ps=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ps=!1,$se(n,e,t);Ps=!!(n.flags&131072)}else Ps=!1,jn&&e.flags&1048576&&h7(e,xA,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;OE(n,e),n=e.pendingProps;var i=Mv(e,Yi.current);ov(e,t),i=vz(null,e,r,n,i,t);var s=yz();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ks(r)?(s=!0,vA(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hz(e),i.updater=dT,e.stateNode=i,i._reactInternals=e,MI(e,r,n,t),e=TI(null,e,r,!0,s,t)):(e.tag=0,jn&&s&&sz(e),is(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(OE(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=toe(r),n=ba(r,n),i){case 0:e=AI(null,e,r,n,t);break e;case 1:e=AU(null,e,r,n,t);break e;case 11:e=MU(null,e,r,n,t);break e;case 14:e=CU(null,e,r,ba(r.type,n),t);break e}throw Error(Ye(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ba(r,i),AI(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ba(r,i),AU(n,e,r,i,t);case 3:e:{if(G7(e),n===null)throw Error(Ye(387));r=e.pendingProps,s=e.memoizedState,i=s.element,g7(n,e),_A(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Pv(Error(Ye(423)),e),e=TU(n,e,r,t,i);break e}else if(r!==i){i=Pv(Error(Ye(424)),e),e=TU(n,e,r,t,i);break e}else for(io=md(e.stateNode.containerInfo.firstChild),lo=e,jn=!0,Aa=null,t=w7(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Cv(),r===i){e=Dc(n,e,t);break e}is(n,e,r,t)}e=e.child}return e;case 5:return b7(e),n===null&&_I(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,vI(r,i)?o=null:s!==null&&vI(r,s)&&(e.flags|=32),V7(n,e),is(n,e,o,t),e.child;case 6:return n===null&&_I(e),null;case 13:return q7(n,e,t);case 4:return fz(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Av(e,null,r,t):is(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ba(r,i),MU(n,e,r,i,t);case 7:return is(n,e,e.pendingProps,t),e.child;case 8:return is(n,e,e.pendingProps.children,t),e.child;case 12:return is(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,zn(wA,r._currentValue),r._currentValue=o,s!==null)if(Fa(s.value,o)){if(s.children===i.children&&!Ls.current){e=Dc(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Tc(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),SI(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ye(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),SI(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}is(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ov(e,t),i=ra(i),r=r(i),e.flags|=1,is(n,e,r,t),e.child;case 14:return r=e.type,i=ba(r,e.pendingProps),i=ba(r.type,i),CU(n,e,r,i,t);case 15:return H7(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ba(r,i),OE(n,e),e.tag=1,ks(r)?(n=!0,vA(e)):n=!1,ov(e,t),y7(e,r,i),MI(e,r,i,t),TI(null,e,r,!0,n,t);case 19:return X7(n,e,t);case 22:return j7(n,e,t)}throw Error(Ye(156,e.tag))};function uq(n,e){return N9(n,e)}function eoe(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jo(n,e,t,r){return new eoe(n,e,t,r)}function Tz(n){return n=n.prototype,!(!n||!n.isReactComponent)}function toe(n){if(typeof n=="function")return Tz(n)?1:0;if(n!=null){if(n=n.$$typeof,n===q4)return 11;if(n===X4)return 14}return 2}function xd(n,e){var t=n.alternate;return t===null?(t=Jo(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function FE(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")Tz(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case xg:return Tf(t.children,i,s,e);case G4:o=8,i|=8;break;case Y3:return n=Jo(12,t,e,i|2),n.elementType=Y3,n.lanes=s,n;case K3:return n=Jo(13,t,e,i),n.elementType=K3,n.lanes=s,n;case Q3:return n=Jo(19,t,e,i),n.elementType=Q3,n.lanes=s,n;case x9:return mT(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case v9:o=10;break e;case y9:o=9;break e;case q4:o=11;break e;case X4:o=14;break e;case Ou:o=16,r=null;break e}throw Error(Ye(130,n==null?n:typeof n,""))}return e=Jo(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Tf(n,e,t,r){return n=Jo(7,n,r,e),n.lanes=t,n}function mT(n,e,t,r){return n=Jo(22,n,r,e),n.elementType=x9,n.lanes=t,n.stateNode={isHidden:!1},n}function mL(n,e,t){return n=Jo(6,n,null,e),n.lanes=t,n}function gL(n,e,t){return e=Jo(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function noe(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=KR(0),this.expirationTimes=KR(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=KR(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pz(n,e,t,r,i,s,o,a,l){return n=new noe(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Jo(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},hz(s),n}function roe(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yg,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function dq(n){if(!n)return _d;n=n._reactInternals;e:{if(mp(n)!==n||n.tag!==1)throw Error(Ye(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ks(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ye(171))}if(n.tag===1){var t=n.type;if(ks(t))return u7(n,t,e)}return e}function hq(n,e,t,r,i,s,o,a,l){return n=Pz(t,r,!0,n,i,s,o,a,l),n.context=dq(null),t=n.current,r=os(),i=yd(t),s=Tc(r,i),s.callback=e??null,gd(t,s,i),n.current.lanes=i,Hw(n,i,r),Is(n,r),n}function gT(n,e,t,r){var i=e.current,s=os(),o=yd(i);return t=dq(t),e.context===null?e.context=t:e.pendingContext=t,e=Tc(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=gd(i,e,o),n!==null&&(La(n,i,o,s),LE(n,i,o)),o}function RA(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function zU(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Rz(n,e){zU(n,e),(n=n.alternate)&&zU(n,e)}function ioe(){return null}var fq=typeof reportError=="function"?reportError:function(n){console.error(n)};function Lz(n){this._internalRoot=n}vT.prototype.render=Lz.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ye(409));gT(n,e,null,null)};vT.prototype.unmount=Lz.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Xf(function(){gT(null,n,null,null)}),e[Ic]=null}};function vT(n){this._internalRoot=n}vT.prototype.unstable_scheduleHydration=function(n){if(n){var e=H9();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Uu.length&&e!==0&&e<Uu[t].priority;t++);Uu.splice(t,0,n),t===0&&V9(n)}};function kz(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function yT(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function BU(){}function soe(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=RA(o);s.call(c)}}var o=hq(e,r,n,0,null,!1,!1,"",BU);return n._reactRootContainer=o,n[Ic]=o.current,Bx(n.nodeType===8?n.parentNode:n),Xf(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=RA(l);a.call(c)}}var l=Pz(n,0,!1,null,null,!1,!1,"",BU);return n._reactRootContainer=l,n[Ic]=l.current,Bx(n.nodeType===8?n.parentNode:n),Xf(function(){gT(e,l,t,r)}),l}function xT(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=RA(o);a.call(l)}}gT(e,o,n,i)}else o=soe(t,e,n,i,r);return RA(o)}U9=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Oy(e.pendingLanes);t!==0&&(Q4(e,t|1),Is(e,hr()),!(dn&6)&&(Rv=hr()+500,Od()))}break;case 13:Xf(function(){var r=Oc(n,1);if(r!==null){var i=os();La(r,n,1,i)}}),Rz(n,1)}};Z4=function(n){if(n.tag===13){var e=Oc(n,134217728);if(e!==null){var t=os();La(e,n,134217728,t)}Rz(n,134217728)}};W9=function(n){if(n.tag===13){var e=yd(n),t=Oc(n,e);if(t!==null){var r=os();La(t,n,e,r)}Rz(n,e)}};H9=function(){return Sn};j9=function(n,e){var t=Sn;try{return Sn=n,e()}finally{Sn=t}};aI=function(n,e,t){switch(e){case"input":if(eI(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=cT(r);if(!i)throw Error(Ye(90));b9(r),eI(r,i)}}}break;case"textarea":S9(n,t);break;case"select":e=t.value,e!=null&&nv(n,!!t.multiple,e,!1)}};R9=Mz;L9=Xf;var ooe={usingClientEntryPoint:!1,Events:[Vw,Sg,cT,T9,P9,Mz]},Q0={findFiberByHostInstance:nf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},aoe={bundleType:Q0.bundleType,version:Q0.version,rendererPackageName:Q0.rendererPackageName,rendererConfig:Q0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Uc.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=O9(n),n===null?null:n.stateNode},findFiberByHostInstance:Q0.findFiberByHostInstance||ioe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var U_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!U_.isDisabled&&U_.supportsFiber)try{sT=U_.inject(aoe),wl=U_}catch{}}vo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ooe;vo.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kz(e))throw Error(Ye(200));return roe(n,e,null,t)};vo.createRoot=function(n,e){if(!kz(n))throw Error(Ye(299));var t=!1,r="",i=fq;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Pz(n,1,!1,null,null,t,!1,r,i),n[Ic]=e.current,Bx(n.nodeType===8?n.parentNode:n),new Lz(e)};vo.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ye(188)):(n=Object.keys(n).join(","),Error(Ye(268,n)));return n=O9(e),n=n===null?null:n.stateNode,n};vo.flushSync=function(n){return Xf(n)};vo.hydrate=function(n,e,t){if(!yT(e))throw Error(Ye(200));return xT(null,n,e,!0,t)};vo.hydrateRoot=function(n,e,t){if(!kz(n))throw Error(Ye(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=fq;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=hq(e,null,n,1,t??null,i,!1,s,o),n[Ic]=e.current,Bx(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new vT(e)};vo.render=function(n,e,t){if(!yT(e))throw Error(Ye(200));return xT(null,n,e,!1,t)};vo.unmountComponentAtNode=function(n){if(!yT(n))throw Error(Ye(40));return n._reactRootContainer?(Xf(function(){xT(null,null,n,!1,function(){n._reactRootContainer=null,n[Ic]=null})}),!0):!1};vo.unstable_batchedUpdates=Mz;vo.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!yT(t))throw Error(Ye(200));if(n==null||n._reactInternals===void 0)throw Error(Ye(38));return xT(n,e,t,!1,r)};vo.version="18.2.0-next-9e3b772b8-20220608";function pq(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pq)}catch(n){console.error(n)}}pq(),h9.exports=vo;var wT=h9.exports;const $I=Zv(wT),loe=t9({__proto__:null,default:$I},[wT]);var $U=wT;q3.createRoot=$U.createRoot,q3.hydrateRoot=$U.hydrateRoot;var mq={exports:{}},gq={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw=k;function coe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var uoe=typeof Object.is=="function"?Object.is:coe,doe=qw.useSyncExternalStore,hoe=qw.useRef,foe=qw.useEffect,poe=qw.useMemo,moe=qw.useDebugValue;gq.useSyncExternalStoreWithSelector=function(n,e,t,r,i){var s=hoe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=poe(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return d=g}return d=p}if(g=d,uoe(u,p))return g;var v=r(p);return i!==void 0&&i(g,v)?g:(u=p,d=v)}var c=!1,u,d,h=t===void 0?null:t;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,t,r,i]);var a=doe(n,s[0],s[1]);return foe(function(){o.hasValue=!0,o.value=a},[a]),moe(a),a};mq.exports=gq;var goe=mq.exports,so="default"in Hf?it:Hf,UU=Symbol.for("react-redux-context"),WU=typeof globalThis<"u"?globalThis:{};function voe(){if(!so.createContext)return{};const n=WU[UU]??(WU[UU]=new Map);let e=n.get(so.createContext);return e||(e=so.createContext(null),n.set(so.createContext,e)),e}var Sd=voe(),yoe=()=>{throw new Error("uSES not initialized!")};function Iz(n=Sd){return function(){return so.useContext(n)}}var vq=Iz(),yq=yoe,xoe=n=>{yq=n},woe=(n,e)=>n===e;function boe(n=Sd){const e=n===Sd?vq:Iz(n),t=(r,i={})=>{const{equalityFn:s=woe,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:c,stabilityCheck:u,identityFunctionCheck:d}=e();so.useRef(!0);const h=so.useCallback({[r.name](g){return r(g)}}[r.name],[r,u,o.stabilityCheck]),p=yq(l.addNestedSub,a.getState,c||a.getState,h,s);return so.useDebugValue(p),p};return Object.assign(t,{withTypes:()=>t}),t}var _oe=boe();function xq(n){n()}function Soe(){let n=null,e=null;return{clear(){n=null,e=null},notify(){xq(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var HU={notify(){},get:()=>[]};function Eoe(n,e){let t,r=HU,i=0,s=!1;function o(v){u();const y=r.subscribe(v);let x=!1;return()=>{x||(x=!0,y(),d())}}function a(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function c(){return s}function u(){i++,t||(t=n.subscribe(l),r=Soe())}function d(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=HU)}function h(){s||(s=!0,u())}function p(){s&&(s=!1,d())}const g={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return g}var Moe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Coe=typeof navigator<"u"&&navigator.product==="ReactNative",Aoe=Moe||Coe?so.useLayoutEffect:so.useEffect;function jU(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function G1(n,e){if(jU(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!jU(n[t[i]],e[t[i]]))return!1;return!0}function Toe({store:n,context:e,children:t,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=so.useMemo(()=>{const c=Eoe(n);return{store:n,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[n,r,i,s]),a=so.useMemo(()=>n.getState(),[n]);Aoe(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==n.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=e||Sd;return so.createElement(l.Provider,{value:o},t)}var Poe=Toe;function wq(n=Sd){const e=n===Sd?vq:Iz(n),t=()=>{const{store:r}=e();return r};return Object.assign(t,{withTypes:()=>t}),t}var bq=wq();function Roe(n=Sd){const e=n===Sd?bq:wq(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var Loe=Roe(),koe=xq;xoe(goe.useSyncExternalStoreWithSelector);/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xx(){return Xx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xx.apply(this,arguments)}var nd;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(nd||(nd={}));const VU="popstate";function Ioe(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return UI("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Sq(i)}return Doe(e,t,null,n)}function Ar(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function _q(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ooe(){return Math.random().toString(36).substr(2,8)}function GU(n,e){return{usr:n.state,key:n.key,idx:e}}function UI(n,e,t,r){return t===void 0&&(t=null),Xx({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?n0(e):e,{state:t,key:e&&e.key||r||Ooe()})}function Sq(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function n0(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Doe(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=nd.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Xx({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=nd.Pop;let y=u(),x=y==null?null:y-c;c=y,l&&l({action:a,location:v.location,delta:x})}function h(y,x){a=nd.Push;let w=UI(v.location,y,x);c=u()+1;let b=GU(w,c),_=v.createHref(w);try{o.pushState(b,"",_)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(_)}s&&l&&l({action:a,location:v.location,delta:1})}function p(y,x){a=nd.Replace;let w=UI(v.location,y,x);c=u();let b=GU(w,c),_=v.createHref(w);o.replaceState(b,"",_),s&&l&&l({action:a,location:v.location,delta:0})}function g(y){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof y=="string"?y:Sq(y);return w=w.replace(/ $/,"%20"),Ar(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let v={get action(){return a},get location(){return n(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(VU,d),l=y,()=>{i.removeEventListener(VU,d),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let x=g(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(y){return o.go(y)}};return v}var qU;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(qU||(qU={}));function Noe(n,e,t){return t===void 0&&(t="/"),Foe(n,e,t,!1)}function Foe(n,e,t,r){let i=typeof e=="string"?n0(e):e,s=Cq(i.pathname||"/",t);if(s==null)return null;let o=Eq(n);zoe(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Yoe(s);a=qoe(o[l],c,r)}return a}function Eq(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ar(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Pf([r,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(Ar(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Eq(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Voe(c,s.index),routesMeta:u})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Mq(s.path))i(s,o,l)}),e}function Mq(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Mq(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function zoe(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Goe(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const Boe=/^:[\w-]+$/,$oe=3,Uoe=2,Woe=1,Hoe=10,joe=-2,XU=n=>n==="*";function Voe(n,e){let t=n.split("/"),r=t.length;return t.some(XU)&&(r+=joe),e&&(r+=Uoe),t.filter(i=>!XU(i)).reduce((i,s)=>i+(Boe.test(s)?$oe:s===""?Woe:Hoe),r)}function Goe(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function qoe(n,e,t){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=YU({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&t&&!r[r.length-1].route.index&&(d=YU({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Pf([s,d.pathname]),pathnameBase:Joe(Pf([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Pf([s,d.pathnameBase]))}return o}function YU(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Xoe(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let v=a[d]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[d];return p&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function Xoe(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),_q(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Yoe(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _q(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Cq(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Koe(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?n0(n):n;return{pathname:t?t.startsWith("/")?t:Qoe(t,e):e,search:eae(r),hash:tae(i)}}function Qoe(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function vL(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zoe(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Aq(n,e){let t=Zoe(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Tq(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=n0(n):(i=Xx({},n),Ar(!i.pathname||!i.pathname.includes("?"),vL("?","pathname","search",i)),Ar(!i.pathname||!i.pathname.includes("#"),vL("#","pathname","hash",i)),Ar(!i.search||!i.search.includes("#"),vL("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=Koe(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Pf=n=>n.join("/").replace(/\/\/+/g,"/"),Joe=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),eae=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,tae=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function nae(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Pq=["post","put","patch","delete"];new Set(Pq);const rae=["get",...Pq];new Set(rae);/**
 * React Router v6.25.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yx(){return Yx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Yx.apply(this,arguments)}const Oz=k.createContext(null),iae=k.createContext(null),Xw=k.createContext(null),bT=k.createContext(null),Dd=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Rq=k.createContext(null);function Yw(){return k.useContext(bT)!=null}function Dz(){return Yw()||Ar(!1),k.useContext(bT).location}function Lq(n){k.useContext(Xw).static||k.useLayoutEffect(n)}function Kw(){let{isDataRoute:n}=k.useContext(Dd);return n?vae():sae()}function sae(){Yw()||Ar(!1);let n=k.useContext(Oz),{basename:e,future:t,navigator:r}=k.useContext(Xw),{matches:i}=k.useContext(Dd),{pathname:s}=Dz(),o=JSON.stringify(Aq(i,t.v7_relativeSplatPath)),a=k.useRef(!1);return Lq(()=>{a.current=!0}),k.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Tq(c,JSON.parse(o),s,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Pf([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,n])}function Nz(){let{matches:n}=k.useContext(Dd),e=n[n.length-1];return e?e.params:{}}function oae(n,e){return aae(n,e)}function aae(n,e,t,r){Yw()||Ar(!1);let{navigator:i}=k.useContext(Xw),{matches:s}=k.useContext(Dd),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Dz(),u;if(e){var d;let y=typeof e=="string"?n0(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||Ar(!1),u=y}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=Noe(n,{pathname:p}),v=hae(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Pf([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Pf([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,t,r);return e&&v?k.createElement(bT.Provider,{value:{location:Yx({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:nd.Pop}},v):v}function lae(){let n=gae(),e=nae(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:i},t):null,null)}const cae=k.createElement(lae,null);class uae extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?k.createElement(Dd.Provider,{value:this.props.routeContext},k.createElement(Rq.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dae(n){let{routeContext:e,match:t,children:r}=n,i=k.useContext(Oz);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Dd.Provider,{value:e},r)}function hae(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if((s=t)!=null&&s.errors)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Ar(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=t,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let p,g=!1,v=null,y=null;t&&(p=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||cae,l&&(c<0&&h===0?(g=!0,y=null):c===h&&(g=!0,y=d.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,h+1)),w=()=>{let b;return p?b=v:g?b=y:d.route.Component?b=k.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,k.createElement(dae,{match:d,routeContext:{outlet:u,matches:x,isDataRoute:t!=null},children:b})};return t&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?k.createElement(uae,{location:t.location,revalidation:t.revalidation,component:v,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var kq=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(kq||{}),LA=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(LA||{});function fae(n){let e=k.useContext(Oz);return e||Ar(!1),e}function pae(n){let e=k.useContext(iae);return e||Ar(!1),e}function mae(n){let e=k.useContext(Dd);return e||Ar(!1),e}function Iq(n){let e=mae(),t=e.matches[e.matches.length-1];return t.route.id||Ar(!1),t.route.id}function gae(){var n;let e=k.useContext(Rq),t=pae(LA.UseRouteError),r=Iq(LA.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function vae(){let{router:n}=fae(kq.UseNavigateStable),e=Iq(LA.UseNavigateStable),t=k.useRef(!1);return Lq(()=>{t.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Yx({fromRouteId:e},s)))},[n,e])}function Kx(n){let{to:e,replace:t,state:r,relative:i}=n;Yw()||Ar(!1);let{future:s,static:o}=k.useContext(Xw),{matches:a}=k.useContext(Dd),{pathname:l}=Dz(),c=Kw(),u=Tq(e,Aq(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return k.useEffect(()=>c(JSON.parse(d),{replace:t,state:r,relative:i}),[c,d,i,t,r]),null}function es(n){Ar(!1)}function yae(n){let{basename:e="/",children:t=null,location:r,navigationType:i=nd.Pop,navigator:s,static:o=!1,future:a}=n;Yw()&&Ar(!1);let l=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:s,static:o,future:Yx({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=n0(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:g="default"}=r,v=k.useMemo(()=>{let y=Cq(u,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:p,key:g},navigationType:i}},[l,u,d,h,p,g,i]);return v==null?null:k.createElement(Xw.Provider,{value:c},k.createElement(bT.Provider,{children:t,value:v}))}function xae(n){let{children:e,location:t}=n;return oae(WI(e),t)}new Promise(()=>{});function WI(n,e){e===void 0&&(e=[]);let t=[];return k.Children.forEach(n,(r,i)=>{if(!k.isValidElement(r))return;let s=[...e,i];if(r.type===k.Fragment){t.push.apply(t,WI(r.props.children,s));return}r.type!==es&&Ar(!1),!r.props.index||!r.props.children||Ar(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=WI(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.25.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const wae="6";try{window.__reactRouterVersion=wae}catch{}const bae="startTransition",KU=Hf[bae];function _ae(n){let{basename:e,children:t,future:r,window:i}=n,s=k.useRef();s.current==null&&(s.current=Ioe({window:i,v5Compat:!0}));let o=s.current,[a,l]=k.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=k.useCallback(d=>{c&&KU?KU(()=>l(d)):l(d)},[l,c]);return k.useLayoutEffect(()=>o.listen(u),[o,u]),k.createElement(yae,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}var QU;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(QU||(QU={}));var ZU;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(ZU||(ZU={}));var Oq={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(Oq);var Sae=Oq.exports;const yt=Zv(Sae);function Gn(){return Gn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Gn.apply(null,arguments)}var Dq={exports:{}},En={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fz=Symbol.for("react.element"),zz=Symbol.for("react.portal"),_T=Symbol.for("react.fragment"),ST=Symbol.for("react.strict_mode"),ET=Symbol.for("react.profiler"),MT=Symbol.for("react.provider"),CT=Symbol.for("react.context"),Eae=Symbol.for("react.server_context"),AT=Symbol.for("react.forward_ref"),TT=Symbol.for("react.suspense"),PT=Symbol.for("react.suspense_list"),RT=Symbol.for("react.memo"),LT=Symbol.for("react.lazy"),Mae=Symbol.for("react.offscreen"),Nq;Nq=Symbol.for("react.module.reference");function ca(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case Fz:switch(n=n.type,n){case _T:case ET:case ST:case TT:case PT:return n;default:switch(n=n&&n.$$typeof,n){case Eae:case CT:case AT:case LT:case RT:case MT:return n;default:return e}}case zz:return e}}}En.ContextConsumer=CT;En.ContextProvider=MT;En.Element=Fz;En.ForwardRef=AT;En.Fragment=_T;En.Lazy=LT;En.Memo=RT;En.Portal=zz;En.Profiler=ET;En.StrictMode=ST;En.Suspense=TT;En.SuspenseList=PT;En.isAsyncMode=function(){return!1};En.isConcurrentMode=function(){return!1};En.isContextConsumer=function(n){return ca(n)===CT};En.isContextProvider=function(n){return ca(n)===MT};En.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===Fz};En.isForwardRef=function(n){return ca(n)===AT};En.isFragment=function(n){return ca(n)===_T};En.isLazy=function(n){return ca(n)===LT};En.isMemo=function(n){return ca(n)===RT};En.isPortal=function(n){return ca(n)===zz};En.isProfiler=function(n){return ca(n)===ET};En.isStrictMode=function(n){return ca(n)===ST};En.isSuspense=function(n){return ca(n)===TT};En.isSuspenseList=function(n){return ca(n)===PT};En.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===_T||n===ET||n===ST||n===TT||n===PT||n===Mae||typeof n=="object"&&n!==null&&(n.$$typeof===LT||n.$$typeof===RT||n.$$typeof===MT||n.$$typeof===CT||n.$$typeof===AT||n.$$typeof===Nq||n.getModuleId!==void 0)};En.typeOf=ca;Dq.exports=En;var q1=Dq.exports;function Yf(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[];return it.Children.forEach(n,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?t=t.concat(Yf(r)):q1.isFragment(r)&&r.props?t=t.concat(Yf(r.props.children,e)):t.push(r))}),t}var HI={},Cae=function(e){};function Aae(n,e){}function Tae(n,e){}function Pae(){HI={}}function Fq(n,e,t){!e&&!HI[t]&&(n(!1,t),HI[t]=!0)}function co(n,e){Fq(Aae,n,e)}function Rae(n,e){Fq(Tae,n,e)}co.preMessage=Cae;co.resetWarned=Pae;co.noteOnce=Rae;function Rt(n){"@babel/helpers - typeof";return Rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(n)}function Lae(n,e){if(Rt(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Rt(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function zq(n){var e=Lae(n,"string");return Rt(e)=="symbol"?e:e+""}function Se(n,e,t){return(e=zq(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function JU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ke(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JU(Object(t),!0).forEach(function(r){Se(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):JU(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Qx(n){return n instanceof HTMLElement||n instanceof SVGElement}function kae(n){return n&&Rt(n)==="object"&&Qx(n.nativeElement)?n.nativeElement:Qx(n)?n:null}function zE(n){var e=kae(n);if(e)return e;if(n instanceof it.Component){var t;return(t=$I.findDOMNode)===null||t===void 0?void 0:t.call($I,n)}return null}function Bz(n,e,t){var r=k.useRef({});return(!("value"in r.current)||t(r.current.condition,e))&&(r.current.value=n(),r.current.condition=e),r.current.value}var $z=function(e,t){typeof e=="function"?e(t):Rt(e)==="object"&&e&&"current"in e&&(e.current=t)},gp=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t.filter(Boolean);return i.length<=1?i[0]:function(s){t.forEach(function(o){$z(o,s)})}},Uz=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Bz(function(){return gp.apply(void 0,t)},t,function(i,s){return i.length!==s.length||i.every(function(o,a){return o!==s[a]})})},Qw=function(e){var t,r,i=q1.isMemo(e)?e.type.type:e.type;return!(typeof i=="function"&&!((t=i.prototype)!==null&&t!==void 0&&t.render)&&i.$$typeof!==q1.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==q1.ForwardRef)};function eW(n){return k.isValidElement(n)&&!q1.isFragment(n)}Number(k.version.split(".")[0])>=19;var jI=k.createContext(null);function Iae(n){var e=n.children,t=n.onBatchResize,r=k.useRef(0),i=k.useRef([]),s=k.useContext(jI),o=k.useCallback(function(a,l,c){r.current+=1;var u=r.current;i.current.push({size:a,element:l,data:c}),Promise.resolve().then(function(){u===r.current&&(t==null||t(i.current),i.current=[])}),s==null||s(a,l,c)},[t,s]);return k.createElement(jI.Provider,{value:o},e)}var Bq=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(i,s){return i[0]===t?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(t,r){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,i=n(r,t);~i&&r.splice(i,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];t.call(r,o[1],o[0])}},e}()}(),VI=typeof window<"u"&&typeof document<"u"&&window.document===document,kA=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Oae=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(kA):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),Dae=2;function Nae(n,e){var t=!1,r=!1,i=0;function s(){t&&(t=!1,n()),r&&a()}function o(){Oae(s)}function a(){var l=Date.now();if(t){if(l-i<Dae)return;r=!0}else t=!0,r=!1,setTimeout(o,e);i=l}return a}var Fae=20,zae=["top","right","bottom","left","width","height","size","weight"],Bae=typeof MutationObserver<"u",$ae=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Nae(this.refresh.bind(this),Fae)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!VI||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Bae?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!VI||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,i=zae.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),$q=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Object.defineProperty(n,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return n},Lv=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||kA},Uq=kT(0,0,0,0);function IA(n){return parseFloat(n)||0}function tW(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,i){var s=n["border-"+i+"-width"];return r+IA(s)},0)}function Uae(n){for(var e=["top","right","bottom","left"],t={},r=0,i=e;r<i.length;r++){var s=i[r],o=n["padding-"+s];t[s]=IA(o)}return t}function Wae(n){var e=n.getBBox();return kT(0,0,e.width,e.height)}function Hae(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return Uq;var r=Lv(n).getComputedStyle(n),i=Uae(r),s=i.left+i.right,o=i.top+i.bottom,a=IA(r.width),l=IA(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=tW(r,"left","right")+s),Math.round(l+o)!==t&&(l-=tW(r,"top","bottom")+o)),!Vae(n)){var c=Math.round(a+s)-e,u=Math.round(l+o)-t;Math.abs(c)!==1&&(a-=c),Math.abs(u)!==1&&(l-=u)}return kT(i.left,i.top,a,l)}var jae=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof Lv(n).SVGGraphicsElement}:function(n){return n instanceof Lv(n).SVGElement&&typeof n.getBBox=="function"}}();function Vae(n){return n===Lv(n).document.documentElement}function Gae(n){return VI?jae(n)?Wae(n):Hae(n):Uq}function qae(n){var e=n.x,t=n.y,r=n.width,i=n.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return $q(o,{x:e,y:t,width:r,height:i,top:t,right:e+r,bottom:i+t,left:e}),o}function kT(n,e,t,r){return{x:n,y:e,width:t,height:r}}var Xae=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=kT(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=Gae(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),Yae=function(){function n(e,t){var r=qae(t);$q(this,{target:e,contentRect:r})}return n}(),Kae=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new Bq,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Lv(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Xae(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Lv(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new Yae(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),Wq=typeof WeakMap<"u"?new WeakMap:new Bq,Hq=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=$ae.getInstance(),r=new Kae(e,t,this);Wq.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){Hq.prototype[n]=function(){var e;return(e=Wq.get(this))[n].apply(e,arguments)}});var Qae=function(){return typeof kA.ResizeObserver<"u"?kA.ResizeObserver:Hq}(),rd=new Map;function Zae(n){n.forEach(function(e){var t,r=e.target;(t=rd.get(r))===null||t===void 0||t.forEach(function(i){return i(r)})})}var jq=new Qae(Zae);function Jae(n,e){rd.has(n)||(rd.set(n,new Set),jq.observe(n)),rd.get(n).add(e)}function ele(n,e){rd.has(n)&&(rd.get(n).delete(e),rd.get(n).size||(jq.unobserve(n),rd.delete(n)))}function si(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function nW(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,zq(r.key),r)}}function oi(n,e,t){return e&&nW(n.prototype,e),t&&nW(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Zx(n,e){return Zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Zx(n,e)}function Nd(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Zx(n,e)}function Jx(n){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jx(n)}function Wz(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wz=function(){return!!n})()}function Jt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function tle(n,e){if(e&&(Rt(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jt(n)}function Fd(n){var e=Wz();return function(){var t,r=Jx(n);if(e){var i=Jx(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return tle(this,t)}}var nle=function(n){Nd(t,n);var e=Fd(t);function t(){return si(this,t),e.apply(this,arguments)}return oi(t,[{key:"render",value:function(){return this.props.children}}]),t}(k.Component);function rle(n,e){var t=n.children,r=n.disabled,i=k.useRef(null),s=k.useRef(null),o=k.useContext(jI),a=typeof t=="function",l=a?t(i):t,c=k.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!a&&k.isValidElement(l)&&Qw(l),d=u?l.ref:null,h=Uz(d,i),p=function(){var x;return zE(i.current)||(i.current&&Rt(i.current)==="object"?zE((x=i.current)===null||x===void 0?void 0:x.nativeElement):null)||zE(s.current)};k.useImperativeHandle(e,function(){return p()});var g=k.useRef(n);g.current=n;var v=k.useCallback(function(y){var x=g.current,w=x.onResize,b=x.data,_=y.getBoundingClientRect(),C=_.width,A=_.height,P=y.offsetWidth,M=y.offsetHeight,L=Math.floor(C),I=Math.floor(A);if(c.current.width!==L||c.current.height!==I||c.current.offsetWidth!==P||c.current.offsetHeight!==M){var F={width:L,height:I,offsetWidth:P,offsetHeight:M};c.current=F;var V=P===Math.round(C)?C:P,j=M===Math.round(A)?A:M,G=ke(ke({},F),{},{offsetWidth:V,offsetHeight:j});o==null||o(G,y,b),w&&Promise.resolve().then(function(){w(G,y)})}},[]);return k.useEffect(function(){var y=p();return y&&!r&&Jae(y,v),function(){return ele(y,v)}},[i.current,r]),k.createElement(nle,{ref:s},u?k.cloneElement(l,{ref:h}):l)}var ile=k.forwardRef(rle),sle="rc-observer-key";function ole(n,e){var t=n.children,r=typeof t=="function"?[t]:Yf(t);return r.map(function(i,s){var o=(i==null?void 0:i.key)||"".concat(sle,"-").concat(s);return k.createElement(ile,Gn({},n,{key:o,ref:s===0?e:void 0}),i)})}var Zw=k.forwardRef(ole);Zw.Collection=Iae;function r0(n,e){var t=Object.assign({},n);return Array.isArray(e)&&e.forEach(function(r){delete t[r]}),t}function GI(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function ale(n){if(Array.isArray(n))return GI(n)}function Vq(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Hz(n,e){if(n){if(typeof n=="string")return GI(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?GI(n,e):void 0}}function lle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function St(n){return ale(n)||Vq(n)||Hz(n)||lle()}var Gq=function(e){return+setTimeout(e,16)},qq=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(Gq=function(e){return window.requestAnimationFrame(e)},qq=function(e){return window.cancelAnimationFrame(e)});var rW=0,jz=new Map;function Xq(n){jz.delete(n)}var Nc=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;rW+=1;var r=rW;function i(s){if(s===0)Xq(r),e();else{var o=Gq(function(){i(s-1)});jz.set(r,o)}}return i(t),r};Nc.cancel=function(n){var e=jz.get(n);return Xq(n),qq(e)};function Yq(n){if(Array.isArray(n))return n}function cle(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Kq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nt(n,e){return Yq(n)||cle(n,e)||Hz(n,e)||Kq()}function ew(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function Ns(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function ule(n,e){if(!n)return!1;if(n.contains)return n.contains(e);for(var t=e;t;){if(t===n)return!0;t=t.parentNode}return!1}var iW="data-rc-order",sW="data-rc-priority",dle="rc-util-key",qI=new Map;function Qq(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):dle}function IT(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function hle(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function Vz(n){return Array.from((qI.get(n)||n).children).filter(function(e){return e.tagName==="STYLE"})}function Zq(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ns())return null;var t=e.csp,r=e.prepend,i=e.priority,s=i===void 0?0:i,o=hle(r),a=o==="prependQueue",l=document.createElement("style");l.setAttribute(iW,o),a&&s&&l.setAttribute(sW,"".concat(s)),t!=null&&t.nonce&&(l.nonce=t==null?void 0:t.nonce),l.innerHTML=n;var c=IT(e),u=c.firstChild;if(r){if(a){var d=(e.styles||Vz(c)).filter(function(h){if(!["prepend","prependQueue"].includes(h.getAttribute(iW)))return!1;var p=Number(h.getAttribute(sW)||0);return s>=p});if(d.length)return c.insertBefore(l,d[d.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function Jq(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=IT(e);return(e.styles||Vz(t)).find(function(r){return r.getAttribute(Qq(e))===n})}function tw(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=Jq(n,e);if(t){var r=IT(e);r.removeChild(t)}}function fle(n,e){var t=qI.get(n);if(!t||!ule(document,t)){var r=Zq("",e),i=r.parentNode;qI.set(n,i),n.removeChild(r)}}function Pc(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=IT(t),i=Vz(r),s=ke(ke({},t),{},{styles:i});fle(r,s);var o=Jq(e,s);if(o){var a,l;if((a=s.csp)!==null&&a!==void 0&&a.nonce&&o.nonce!==((l=s.csp)===null||l===void 0?void 0:l.nonce)){var c;o.nonce=(c=s.csp)===null||c===void 0?void 0:c.nonce}return o.innerHTML!==n&&(o.innerHTML=n),o}var u=Zq(n,s);return u.setAttribute(Qq(s),e),u}function ple(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function ls(n,e){if(n==null)return{};var t,r,i=ple(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function XI(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(s,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(s);if(co(!l,"Warning: There may be circular references"),l)return!1;if(s===o)return!0;if(t&&a>1)return!1;r.add(s);var c=a+1;if(Array.isArray(s)){if(!Array.isArray(o)||s.length!==o.length)return!1;for(var u=0;u<s.length;u++)if(!i(s[u],o[u],c))return!1;return!0}if(s&&o&&Rt(s)==="object"&&Rt(o)==="object"){var d=Object.keys(s);return d.length!==Object.keys(o).length?!1:d.every(function(h){return i(s[h],o[h],c)})}return!1}return i(n,e)}var mle="%";function YI(n){return n.join(mle)}var gle=function(){function n(e){si(this,n),Se(this,"instanceId",void 0),Se(this,"cache",new Map),this.instanceId=e}return oi(n,[{key:"get",value:function(t){return this.opGet(YI(t))}},{key:"opGet",value:function(t){return this.cache.get(t)||null}},{key:"update",value:function(t,r){return this.opUpdate(YI(t),r)}},{key:"opUpdate",value:function(t,r){var i=this.cache.get(t),s=r(i);s===null?this.cache.delete(t):this.cache.set(t,s)}}]),n}(),kv="data-token-hash",ka="data-css-hash",id="__cssinjs_instance__";function vle(){var n=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(ka,"]"))||[],t=document.head.firstChild;Array.from(e).forEach(function(i){i[id]=i[id]||n,i[id]===n&&document.head.insertBefore(i,t)});var r={};Array.from(document.querySelectorAll("style[".concat(ka,"]"))).forEach(function(i){var s=i.getAttribute(ka);if(r[s]){if(i[id]===n){var o;(o=i.parentNode)===null||o===void 0||o.removeChild(i)}}else r[s]=!0})}return new gle(n)}var OT=k.createContext({hashPriority:"low",cache:vle(),defaultCache:!0});function yle(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var Gz=function(){function n(){si(this,n),Se(this,"cache",void 0),Se(this,"keys",void 0),Se(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return oi(n,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(t){var r,i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o={map:this.cache};return t.forEach(function(a){if(!o)o=void 0;else{var l;o=(l=o)===null||l===void 0||(l=l.map)===null||l===void 0?void 0:l.get(a)}}),(r=o)!==null&&r!==void 0&&r.value&&s&&(o.value[1]=this.cacheCallTimes++),(i=o)===null||i===void 0?void 0:i.value}},{key:"get",value:function(t){var r;return(r=this.internalGet(t,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(t){return!!this.internalGet(t)}},{key:"set",value:function(t,r){var i=this;if(!this.has(t)){if(this.size()+1>n.MAX_CACHE_SIZE+n.MAX_CACHE_OFFSET){var s=this.keys.reduce(function(c,u){var d=nt(c,2),h=d[1];return i.internalGet(u)[1]<h?[u,i.internalGet(u)[1]]:c},[this.keys[0],this.cacheCallTimes]),o=nt(s,1),a=o[0];this.delete(a)}this.keys.push(t)}var l=this.cache;t.forEach(function(c,u){if(u===t.length-1)l.set(c,{value:[r,i.cacheCallTimes++]});else{var d=l.get(c);d?d.map||(d.map=new Map):l.set(c,{map:new Map}),l=l.get(c).map}})}},{key:"deleteByPath",value:function(t,r){var i=t.get(r[0]);if(r.length===1){var s;return i.map?t.set(r[0],{map:i.map}):t.delete(r[0]),(s=i.value)===null||s===void 0?void 0:s[0]}var o=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&t.delete(r[0]),o}},{key:"delete",value:function(t){if(this.has(t))return this.keys=this.keys.filter(function(r){return!yle(r,t)}),this.deleteByPath(this.cache,t)}}]),n}();Se(Gz,"MAX_CACHE_SIZE",20);Se(Gz,"MAX_CACHE_OFFSET",5);var oW=0,eX=function(){function n(e){si(this,n),Se(this,"derivatives",void 0),Se(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=oW,e.length===0&&(e.length>0,void 0),oW+=1}return oi(n,[{key:"getDerivativeToken",value:function(t){return this.derivatives.reduce(function(r,i){return i(t,r)},void 0)}}]),n}(),yL=new Gz;function nw(n){var e=Array.isArray(n)?n:[n];return yL.has(e)||yL.set(e,new eX(e)),yL.get(e)}var xle=new WeakMap,xL={};function wle(n,e){for(var t=xle,r=0;r<e.length;r+=1){var i=e[r];t.has(i)||t.set(i,new WeakMap),t=t.get(i)}return t.has(xL)||t.set(xL,n()),t.get(xL)}var aW=new WeakMap;function X1(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=aW.get(n)||"";return t||(Object.keys(n).forEach(function(r){var i=n[r];t+=r,i instanceof eX?t+=i.id:i&&Rt(i)==="object"?t+=X1(i,e):t+=i}),e&&(t=ew(t)),aW.set(n,t)),t}function lW(n,e){return ew("".concat(e,"_").concat(X1(n,!0)))}var KI=Ns();function nn(n){return typeof n=="number"?"".concat(n,"px"):n}function OA(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(i)return n;var s=ke(ke({},r),{},Se(Se({},kv,e),ka,t)),o=Object.keys(s).map(function(a){var l=s[a];return l?"".concat(a,'="').concat(l,'"'):null}).filter(function(a){return a}).join(" ");return"<style ".concat(o,">").concat(n,"</style>")}var BE=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},ble=function(e,t,r){return Object.keys(e).length?".".concat(t).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(i){var s=nt(i,2),o=s[0],a=s[1];return"".concat(o,":").concat(a,";")}).join(""),"}"):""},tX=function(e,t,r){var i={},s={};return Object.entries(e).forEach(function(o){var a,l,c=nt(o,2),u=c[0],d=c[1];if(r!=null&&(a=r.preserve)!==null&&a!==void 0&&a[u])s[u]=d;else if((typeof d=="string"||typeof d=="number")&&!(r!=null&&(l=r.ignore)!==null&&l!==void 0&&l[u])){var h,p=BE(u,r==null?void 0:r.prefix);i[p]=typeof d=="number"&&!(r!=null&&(h=r.unitless)!==null&&h!==void 0&&h[u])?"".concat(d,"px"):String(d),s[u]="var(".concat(p,")")}}),[s,ble(i,t,{scope:r==null?void 0:r.scope})]},cW=Ns()?k.useLayoutEffect:k.useEffect,Vn=function(e,t){var r=k.useRef(!0);cW(function(){return e(r.current)},t),cW(function(){return r.current=!1,function(){r.current=!0}},[])},uW=function(e,t){Vn(function(r){if(!r)return e()},t)},_le=ke({},Hf),dW=_le.useInsertionEffect,Sle=function(e,t,r){k.useMemo(e,r),Vn(function(){return t(!0)},r)},Ele=dW?function(n,e,t){return dW(function(){return n(),e()},t)}:Sle,Mle=ke({},Hf),Cle=Mle.useInsertionEffect,Ale=function(e){var t=[],r=!1;function i(s){r||t.push(s)}return k.useEffect(function(){return r=!1,function(){r=!0,t.length&&t.forEach(function(s){return s()})}},e),i},Tle=function(){return function(e){e()}},Ple=typeof Cle<"u"?Ale:Tle;function qz(n,e,t,r,i){var s=k.useContext(OT),o=s.cache,a=[n].concat(St(e)),l=YI(a),c=Ple([l]),u=function(g){o.opUpdate(l,function(v){var y=v||[void 0,void 0],x=nt(y,2),w=x[0],b=w===void 0?0:w,_=x[1],C=_,A=C||t(),P=[b,A];return g?g(P):P})};k.useMemo(function(){u()},[l]);var d=o.opGet(l),h=d[1];return Ele(function(){i==null||i(h)},function(p){return u(function(g){var v=nt(g,2),y=v[0],x=v[1];return p&&y===0&&(i==null||i(h)),[y+1,x]}),function(){o.opUpdate(l,function(g){var v=g||[],y=nt(v,2),x=y[0],w=x===void 0?0:x,b=y[1],_=w-1;return _===0?(c(function(){(p||!o.opGet(l))&&(r==null||r(b,!1))}),null):[w-1,b]})}},[l]),h}var Rle={},Lle="css",jh=new Map;function kle(n){jh.set(n,(jh.get(n)||0)+1)}function Ile(n,e){if(typeof document<"u"){var t=document.querySelectorAll("style[".concat(kv,'="').concat(n,'"]'));t.forEach(function(r){if(r[id]===e){var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)}})}}var Ole=0;function Dle(n,e){jh.set(n,(jh.get(n)||0)-1);var t=Array.from(jh.keys()),r=t.filter(function(i){var s=jh.get(i)||0;return s<=0});t.length-r.length>Ole&&r.forEach(function(i){Ile(i,e),jh.delete(i)})}var nX=function(e,t,r,i){var s=r.getDerivativeToken(e),o=ke(ke({},s),t);return i&&(o=i(o)),o},rX="token";function Nle(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=k.useContext(OT),i=r.cache.instanceId,s=r.container,o=t.salt,a=o===void 0?"":o,l=t.override,c=l===void 0?Rle:l,u=t.formatToken,d=t.getComputedToken,h=t.cssVar,p=wle(function(){return Object.assign.apply(Object,[{}].concat(St(e)))},e),g=X1(p),v=X1(c),y=h?X1(h):"",x=qz(rX,[a,n.id,g,v,y],function(){var w,b=d?d(p,c,n):nX(p,c,n,u),_=ke({},b),C="";if(h){var A=tX(b,h.key,{prefix:h.prefix,ignore:h.ignore,unitless:h.unitless,preserve:h.preserve}),P=nt(A,2);b=P[0],C=P[1]}var M=lW(b,a);b._tokenKey=M,_._tokenKey=lW(_,a);var L=(w=h==null?void 0:h.key)!==null&&w!==void 0?w:M;b._themeKey=L,kle(L);var I="".concat(Lle,"-").concat(ew(M));return b._hashId=I,[b,I,_,C,(h==null?void 0:h.key)||""]},function(w){Dle(w[0]._themeKey,i)},function(w){var b=nt(w,4),_=b[0],C=b[3];if(h&&C){var A=Pc(C,ew("css-variables-".concat(_._themeKey)),{mark:ka,prepend:"queue",attachTo:s,priority:-999});A[id]=i,A.setAttribute(kv,_._themeKey)}});return x}var Fle=function(e,t,r){var i=nt(e,5),s=i[2],o=i[3],a=i[4],l=r||{},c=l.plain;if(!o)return null;var u=s._tokenKey,d=-999,h={"data-rc-order":"prependQueue","data-rc-priority":"".concat(d)},p=OA(o,a,u,h,c);return[d,u,p]},zle={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},iX="comm",sX="rule",oX="decl",Ble="@import",$le="@keyframes",Ule="@layer",aX=Math.abs,Xz=String.fromCharCode;function lX(n){return n.trim()}function $E(n,e,t){return n.replace(e,t)}function Wle(n,e,t){return n.indexOf(e,t)}function rw(n,e){return n.charCodeAt(e)|0}function Iv(n,e,t){return n.slice(e,t)}function al(n){return n.length}function Hle(n){return n.length}function W_(n,e){return e.push(n),n}var DT=1,Ov=1,cX=0,sa=0,Sr=0,i0="";function Yz(n,e,t,r,i,s,o,a){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:DT,column:Ov,length:o,return:"",siblings:a}}function jle(){return Sr}function Vle(){return Sr=sa>0?rw(i0,--sa):0,Ov--,Sr===10&&(Ov=1,DT--),Sr}function Ia(){return Sr=sa<cX?rw(i0,sa++):0,Ov++,Sr===10&&(Ov=1,DT++),Sr}function sd(){return rw(i0,sa)}function UE(){return sa}function NT(n,e){return Iv(i0,n,e)}function iw(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Gle(n){return DT=Ov=1,cX=al(i0=n),sa=0,[]}function qle(n){return i0="",n}function wL(n){return lX(NT(sa-1,QI(n===91?n+2:n===40?n+1:n)))}function Xle(n){for(;(Sr=sd())&&Sr<33;)Ia();return iw(n)>2||iw(Sr)>3?"":" "}function Yle(n,e){for(;--e&&Ia()&&!(Sr<48||Sr>102||Sr>57&&Sr<65||Sr>70&&Sr<97););return NT(n,UE()+(e<6&&sd()==32&&Ia()==32))}function QI(n){for(;Ia();)switch(Sr){case n:return sa;case 34:case 39:n!==34&&n!==39&&QI(Sr);break;case 40:n===41&&QI(n);break;case 92:Ia();break}return sa}function Kle(n,e){for(;Ia()&&n+Sr!==57;)if(n+Sr===84&&sd()===47)break;return"/*"+NT(e,sa-1)+"*"+Xz(n===47?n:Ia())}function Qle(n){for(;!iw(sd());)Ia();return NT(n,sa)}function Zle(n){return qle(WE("",null,null,null,[""],n=Gle(n),0,[0],n))}function WE(n,e,t,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,g=0,v=1,y=1,x=1,w=0,b="",_=i,C=s,A=r,P=b;y;)switch(g=w,w=Ia()){case 40:if(g!=108&&rw(P,d-1)==58){Wle(P+=$E(wL(w),"&","&\f"),"&\f",aX(c?a[c-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:P+=wL(w);break;case 9:case 10:case 13:case 32:P+=Xle(g);break;case 92:P+=Yle(UE()-1,7);continue;case 47:switch(sd()){case 42:case 47:W_(Jle(Kle(Ia(),UE()),e,t,l),l),(iw(g||1)==5||iw(sd()||1)==5)&&al(P)&&Iv(P,-1,void 0)!==" "&&(P+=" ");break;default:P+="/"}break;case 123*v:a[c++]=al(P)*x;case 125*v:case 59:case 0:switch(w){case 0:case 125:y=0;case 59+u:x==-1&&(P=$E(P,/\f/g,"")),p>0&&(al(P)-d||v===0&&g===47)&&W_(p>32?fW(P+";",r,t,d-1,l):fW($E(P," ","")+";",r,t,d-2,l),l);break;case 59:P+=";";default:if(W_(A=hW(P,e,t,c,u,i,a,b,_=[],C=[],d,s),s),w===123)if(u===0)WE(P,e,A,A,_,s,d,a,C);else switch(h===99&&rw(P,3)===110?100:h){case 100:case 108:case 109:case 115:WE(n,A,A,r&&W_(hW(n,A,A,0,0,i,a,b,i,_=[],d,C),C),i,C,d,a,r?_:C);break;default:WE(P,A,A,A,[""],C,0,a,C)}}c=u=p=0,v=x=1,b=P="",d=o;break;case 58:d=1+al(P),p=g;default:if(v<1){if(w==123)--v;else if(w==125&&v++==0&&Vle()==125)continue}switch(P+=Xz(w),w*v){case 38:x=u>0?1:(P+="\f",-1);break;case 44:a[c++]=(al(P)-1)*x,x=1;break;case 64:sd()===45&&(P+=wL(Ia())),h=sd(),u=d=al(b=P+=Qle(UE())),w++;break;case 45:g===45&&al(P)==2&&(v=0)}}return s}function hW(n,e,t,r,i,s,o,a,l,c,u,d){for(var h=i-1,p=i===0?s:[""],g=Hle(p),v=0,y=0,x=0;v<r;++v)for(var w=0,b=Iv(n,h+1,h=aX(y=o[v])),_=n;w<g;++w)(_=lX(y>0?p[w]+" "+b:$E(b,/&\f/g,p[w])))&&(l[x++]=_);return Yz(n,e,t,i===0?sX:a,l,c,u,d)}function Jle(n,e,t,r){return Yz(n,e,t,iX,Xz(jle()),Iv(n,2,-2),0,r)}function fW(n,e,t,r,i){return Yz(n,e,t,oX,Iv(n,0,r),Iv(n,r+1,-1),r,i)}function ZI(n,e){for(var t="",r=0;r<n.length;r++)t+=e(n[r],r,n,e)||"";return t}function ece(n,e,t,r){switch(n.type){case Ule:if(n.children.length)break;case Ble:case oX:return n.return=n.return||n.value;case iX:return"";case $le:return n.return=n.value+"{"+ZI(n.children,r)+"}";case sX:if(!al(n.value=n.props.join(",")))return""}return al(t=ZI(n.children,r))?n.return=n.value+"{"+t+"}":""}var pW="data-ant-cssinjs-cache-path",uX="_FILE_STYLE__",Rf,dX=!0;function tce(){if(!Rf&&(Rf={},Ns())){var n=document.createElement("div");n.className=pW,n.style.position="fixed",n.style.visibility="hidden",n.style.top="-9999px",document.body.appendChild(n);var e=getComputedStyle(n).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(i){var s=i.split(":"),o=nt(s,2),a=o[0],l=o[1];Rf[a]=l});var t=document.querySelector("style[".concat(pW,"]"));if(t){var r;dX=!1,(r=t.parentNode)===null||r===void 0||r.removeChild(t)}document.body.removeChild(n)}}function nce(n){return tce(),!!Rf[n]}function rce(n){var e=Rf[n],t=null;if(e&&Ns())if(dX)t=uX;else{var r=document.querySelector("style[".concat(ka,'="').concat(Rf[n],'"]'));r?t=r.innerHTML:delete Rf[n]}return[t,e]}var ice="_skip_check_",hX="_multi_value_";function HE(n){var e=ZI(Zle(n),ece);return e.replace(/\{%%%\:[^;];}/g,";")}function sce(n){return Rt(n)==="object"&&n&&(ice in n||hX in n)}function mW(n,e,t){if(!e)return n;var r=".".concat(e),i=t==="low"?":where(".concat(r,")"):r,s=n.split(",").map(function(o){var a,l=o.trim().split(/\s+/),c=l[0]||"",u=((a=c.match(/^\w+/))===null||a===void 0?void 0:a[0])||"";return c="".concat(u).concat(i).concat(c.slice(u.length)),[c].concat(St(l.slice(1))).join(" ")});return s.join(",")}var oce=function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,s=r.injectHash,o=r.parentSelectors,a=t.hashId,l=t.layer;t.path;var c=t.hashPriority,u=t.transformers,d=u===void 0?[]:u;t.linters;var h="",p={};function g(x){var w=x.getName(a);if(!p[w]){var b=n(x.style,t,{root:!1,parentSelectors:o}),_=nt(b,1),C=_[0];p[w]="@keyframes ".concat(x.getName(a)).concat(C)}}function v(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return x.forEach(function(b){Array.isArray(b)?v(b,w):b&&w.push(b)}),w}var y=v(Array.isArray(e)?e:[e]);return y.forEach(function(x){var w=typeof x=="string"&&!i?{}:x;if(typeof w=="string")h+="".concat(w,`
`);else if(w._keyframe)g(w);else{var b=d.reduce(function(_,C){var A;return(C==null||(A=C.visit)===null||A===void 0?void 0:A.call(C,_))||_},w);Object.keys(b).forEach(function(_){var C=b[_];if(Rt(C)==="object"&&C&&(_!=="animationName"||!C._keyframe)&&!sce(C)){var A=!1,P=_.trim(),M=!1;(i||s)&&a?P.startsWith("@")?A=!0:P==="&"?P=mW("",a,c):P=mW(_,a,c):i&&!a&&(P==="&"||P==="")&&(P="",M=!0);var L=n(C,t,{root:M,injectHash:A,parentSelectors:[].concat(St(o),[P])}),I=nt(L,2),F=I[0],V=I[1];p=ke(ke({},p),V),h+="".concat(P).concat(F)}else{let J=function(q,H){var D=q.replace(/[A-Z]/g,function(B){return"-".concat(B.toLowerCase())}),z=H;!zle[q]&&typeof z=="number"&&z!==0&&(z="".concat(z,"px")),q==="animationName"&&H!==null&&H!==void 0&&H._keyframe&&(g(H),z=H.getName(a)),h+="".concat(D,":").concat(z,";")};var j,G=(j=C==null?void 0:C.value)!==null&&j!==void 0?j:C;Rt(C)==="object"&&C!==null&&C!==void 0&&C[hX]&&Array.isArray(G)?G.forEach(function(q){J(_,q)}):J(_,G)}})}}),i?l&&(h="@layer ".concat(l.name," {").concat(h,"}"),l.dependencies&&(p["@layer ".concat(l.name)]=l.dependencies.map(function(x){return"@layer ".concat(x,", ").concat(l.name,";")}).join(`
`))):h="{".concat(h,"}"),[h,p]};function fX(n,e){return ew("".concat(n.join("%")).concat(e))}function ace(){return null}var pX="style";function JI(n,e){var t=n.token,r=n.path,i=n.hashId,s=n.layer,o=n.nonce,a=n.clientOnly,l=n.order,c=l===void 0?0:l,u=k.useContext(OT),d=u.autoClear;u.mock;var h=u.defaultCache,p=u.hashPriority,g=u.container,v=u.ssrInline,y=u.transformers,x=u.linters,w=u.cache,b=u.layer,_=t._tokenKey,C=[_];b&&C.push("layer"),C.push.apply(C,St(r));var A=KI,P=qz(pX,C,function(){var V=C.join("|");if(nce(V)){var j=rce(V),G=nt(j,2),J=G[0],q=G[1];if(J)return[J,_,q,{},a,c]}var H=e(),D=oce(H,{hashId:i,hashPriority:p,layer:b?s:void 0,path:r.join("-"),transformers:y,linters:x}),z=nt(D,2),B=z[0],ee=z[1],Y=HE(B),oe=fX(C,Y);return[Y,_,oe,ee,a,c]},function(V,j){var G=nt(V,3),J=G[2];(j||d)&&KI&&tw(J,{mark:ka})},function(V){var j=nt(V,4),G=j[0];j[1];var J=j[2],q=j[3];if(A&&G!==uX){var H={mark:ka,prepend:b?!1:"queue",attachTo:g,priority:c},D=typeof o=="function"?o():o;D&&(H.csp={nonce:D});var z=[],B=[];Object.keys(q).forEach(function(Y){Y.startsWith("@layer")?z.push(Y):B.push(Y)}),z.forEach(function(Y){Pc(HE(q[Y]),"_layer-".concat(Y),ke(ke({},H),{},{prepend:!0}))});var ee=Pc(G,J,H);ee[id]=w.instanceId,ee.setAttribute(kv,_),B.forEach(function(Y){Pc(HE(q[Y]),"_effect-".concat(Y),H)})}}),M=nt(P,3),L=M[0],I=M[1],F=M[2];return function(V){var j;return!v||A||!h?j=k.createElement(ace,null):j=k.createElement("style",Gn({},Se(Se({},kv,I),ka,F),{dangerouslySetInnerHTML:{__html:L}})),k.createElement(k.Fragment,null,j,V)}}var lce=function(e,t,r){var i=nt(e,6),s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],d=r||{},h=d.plain;if(c)return null;var p=s,g={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)};return p=OA(s,o,a,g,h),l&&Object.keys(l).forEach(function(v){if(!t[v]){t[v]=!0;var y=HE(l[v]),x=OA(y,o,"_effect-".concat(v),g,h);v.startsWith("@layer")?p=x+p:p+=x}}),[u,a,p]},mX="cssVar",cce=function(e,t){var r=e.key,i=e.prefix,s=e.unitless,o=e.ignore,a=e.token,l=e.scope,c=l===void 0?"":l,u=k.useContext(OT),d=u.cache.instanceId,h=u.container,p=a._tokenKey,g=[].concat(St(e.path),[r,c,p]),v=qz(mX,g,function(){var y=t(),x=tX(y,r,{prefix:i,unitless:s,ignore:o,scope:c}),w=nt(x,2),b=w[0],_=w[1],C=fX(g,_);return[b,_,C,r]},function(y){var x=nt(y,3),w=x[2];KI&&tw(w,{mark:ka})},function(y){var x=nt(y,3),w=x[1],b=x[2];if(w){var _=Pc(w,b,{mark:ka,prepend:"queue",attachTo:h,priority:-999});_[id]=d,_.setAttribute(kv,r)}});return v},uce=function(e,t,r){var i=nt(e,4),s=i[1],o=i[2],a=i[3],l=r||{},c=l.plain;if(!s)return null;var u=-999,d={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)},h=OA(s,a,o,d,c);return[u,o,h]};Se(Se(Se({},pX,lce),rX,Fle),mX,uce);var Bs=function(){function n(e,t){si(this,n),Se(this,"name",void 0),Se(this,"style",void 0),Se(this,"_keyframe",!0),this.name=e,this.style=t}return oi(n,[{key:"getName",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t?"".concat(t,"-").concat(this.name):this.name}}]),n}();function Qp(n){return n.notSplit=!0,n}Qp(["borderTop","borderBottom"]),Qp(["borderTop"]),Qp(["borderBottom"]),Qp(["borderLeft","borderRight"]),Qp(["borderLeft"]),Qp(["borderRight"]);var Kz=k.createContext({});function dce(n){return Yq(n)||Vq(n)||Hz(n)||Kq()}function xl(n,e){for(var t=n,r=0;r<e.length;r+=1){if(t==null)return;t=t[e[r]]}return t}function gX(n,e,t,r){if(!e.length)return t;var i=dce(e),s=i[0],o=i.slice(1),a;return!n&&typeof s=="number"?a=[]:Array.isArray(n)?a=St(n):a=ke({},n),r&&t===void 0&&o.length===1?delete a[s][o[0]]:a[s]=gX(a[s],o,t,r),a}function Ma(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&t===void 0&&!xl(n,e.slice(0,-1))?n:gX(n,e,t,r)}function hce(n){return Rt(n)==="object"&&n!==null&&Object.getPrototypeOf(n)===Object.prototype}function gW(n){return Array.isArray(n)?[]:{}}var fce=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Rg(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=gW(e[0]);return e.forEach(function(i){function s(o,a){var l=new Set(a),c=xl(i,o),u=Array.isArray(c);if(u||hce(c)){if(!l.has(c)){l.add(c);var d=xl(r,o);u?r=Ma(r,o,[]):(!d||Rt(d)!=="object")&&(r=Ma(r,o,gW(c))),fce(c).forEach(function(h){s([].concat(St(o),[h]),l)})}}else r=Ma(r,o,c)}s([])}),r}function pce(){}const mce=k.createContext({}),vX=()=>{const n=()=>{};return n.deprecated=pce,n},gce=k.createContext(void 0);var vce={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},yce={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},xce=ke(ke({},yce),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const yX={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},vW={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},xce),timePickerLocale:Object.assign({},yX)},Xs="${label} is not a valid ${type}",Dv={locale:"en",Pagination:vce,DatePicker:vW,TimePicker:yX,Calendar:vW,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Xs,method:Xs,array:Xs,object:Xs,number:Xs,date:Xs,boolean:Xs,integer:Xs,float:Xs,regexp:Xs,email:Xs,url:Xs,hex:Xs},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};Object.assign({},Dv.Modal);let jE=[];const yW=()=>jE.reduce((n,e)=>Object.assign(Object.assign({},n),e),Dv.Modal);function wce(n){if(n){const e=Object.assign({},n);return jE.push(e),yW(),()=>{jE=jE.filter(t=>t!==e),yW()}}Object.assign({},Dv.Modal)}const Qz=k.createContext(void 0),bce=(n,e)=>{const t=k.useContext(Qz),r=k.useMemo(()=>{var s;const o=Dv[n],a=(s=t==null?void 0:t[n])!==null&&s!==void 0?s:{};return Object.assign(Object.assign({},typeof o=="function"?o():o),a||{})},[n,e,t]),i=k.useMemo(()=>{const s=t==null?void 0:t.locale;return t!=null&&t.exist&&!s?Dv.locale:s},[t]);return[r,i]},_ce="internalMark",Sce=n=>{const{locale:e={},children:t,_ANT_MARK__:r}=n;k.useEffect(()=>wce(e==null?void 0:e.Modal),[e]);const i=k.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return k.createElement(Qz.Provider,{value:i},t)};function xi(n,e){Ece(n)&&(n="100%");var t=Mce(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function H_(n){return Math.min(1,Math.max(0,n))}function Ece(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function Mce(n){return typeof n=="string"&&n.indexOf("%")!==-1}function xX(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function j_(n){return n<=1?"".concat(Number(n)*100,"%"):n}function of(n){return n.length===1?"0"+n:String(n)}function Cce(n,e,t){return{r:xi(n,255)*255,g:xi(e,255)*255,b:xi(t,255)*255}}function xW(n,e,t){n=xi(n,255),e=xi(e,255),t=xi(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),s=0,o=0,a=(r+i)/2;if(r===i)o=0,s=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case n:s=(e-t)/l+(e<t?6:0);break;case e:s=(t-n)/l+2;break;case t:s=(n-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function bL(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*(6*t):t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Ace(n,e,t){var r,i,s;if(n=xi(n,360),e=xi(e,100),t=xi(t,100),e===0)i=t,s=t,r=t;else{var o=t<.5?t*(1+e):t+e-t*e,a=2*t-o;r=bL(a,o,n+1/3),i=bL(a,o,n),s=bL(a,o,n-1/3)}return{r:r*255,g:i*255,b:s*255}}function eO(n,e,t){n=xi(n,255),e=xi(e,255),t=xi(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),s=0,o=r,a=r-i,l=r===0?0:a/r;if(r===i)s=0;else{switch(r){case n:s=(e-t)/a+(e<t?6:0);break;case e:s=(t-n)/a+2;break;case t:s=(n-e)/a+4;break}s/=6}return{h:s,s:l,v:o}}function Tce(n,e,t){n=xi(n,360)*6,e=xi(e,100),t=xi(t,100);var r=Math.floor(n),i=n-r,s=t*(1-e),o=t*(1-i*e),a=t*(1-(1-i)*e),l=r%6,c=[t,o,s,s,a,t][l],u=[a,t,t,o,s,s][l],d=[s,s,a,t,t,o][l];return{r:c*255,g:u*255,b:d*255}}function tO(n,e,t,r){var i=[of(Math.round(n).toString(16)),of(Math.round(e).toString(16)),of(Math.round(t).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Pce(n,e,t,r,i){var s=[of(Math.round(n).toString(16)),of(Math.round(e).toString(16)),of(Math.round(t).toString(16)),of(Rce(r))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Rce(n){return Math.round(parseFloat(n)*255).toString(16)}function wW(n){return eo(n)/255}function eo(n){return parseInt(n,16)}function Lce(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var nO={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Om(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,s=null,o=!1,a=!1;return typeof n=="string"&&(n=Oce(n)),typeof n=="object"&&(Fl(n.r)&&Fl(n.g)&&Fl(n.b)?(e=Cce(n.r,n.g,n.b),o=!0,a=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Fl(n.h)&&Fl(n.s)&&Fl(n.v)?(r=j_(n.s),i=j_(n.v),e=Tce(n.h,r,i),o=!0,a="hsv"):Fl(n.h)&&Fl(n.s)&&Fl(n.l)&&(r=j_(n.s),s=j_(n.l),e=Ace(n.h,r,s),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=xX(t),{ok:o,format:n.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var kce="[-\\+]?\\d+%?",Ice="[-\\+]?\\d*\\.\\d+%?",od="(?:".concat(Ice,")|(?:").concat(kce,")"),_L="[\\s|\\(]+(".concat(od,")[,|\\s]+(").concat(od,")[,|\\s]+(").concat(od,")\\s*\\)?"),SL="[\\s|\\(]+(".concat(od,")[,|\\s]+(").concat(od,")[,|\\s]+(").concat(od,")[,|\\s]+(").concat(od,")\\s*\\)?"),va={CSS_UNIT:new RegExp(od),rgb:new RegExp("rgb"+_L),rgba:new RegExp("rgba"+SL),hsl:new RegExp("hsl"+_L),hsla:new RegExp("hsla"+SL),hsv:new RegExp("hsv"+_L),hsva:new RegExp("hsva"+SL),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Oce(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(nO[n])n=nO[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=va.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=va.rgba.exec(n),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=va.hsl.exec(n),t?{h:t[1],s:t[2],l:t[3]}:(t=va.hsla.exec(n),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=va.hsv.exec(n),t?{h:t[1],s:t[2],v:t[3]}:(t=va.hsva.exec(n),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=va.hex8.exec(n),t?{r:eo(t[1]),g:eo(t[2]),b:eo(t[3]),a:wW(t[4]),format:e?"name":"hex8"}:(t=va.hex6.exec(n),t?{r:eo(t[1]),g:eo(t[2]),b:eo(t[3]),format:e?"name":"hex"}:(t=va.hex4.exec(n),t?{r:eo(t[1]+t[1]),g:eo(t[2]+t[2]),b:eo(t[3]+t[3]),a:wW(t[4]+t[4]),format:e?"name":"hex8"}:(t=va.hex3.exec(n),t?{r:eo(t[1]+t[1]),g:eo(t[2]+t[2]),b:eo(t[3]+t[3]),format:e?"name":"hex"}:!1)))))))))}function Fl(n){return!!va.CSS_UNIT.exec(String(n))}var vi=function(){function n(e,t){e===void 0&&(e=""),t===void 0&&(t={});var r;if(e instanceof n)return e;typeof e=="number"&&(e=Lce(e)),this.originalInput=e;var i=Om(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=t.format)!==null&&r!==void 0?r:i.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),t,r,i,s=e.r/255,o=e.g/255,a=e.b/255;return s<=.03928?t=s/12.92:t=Math.pow((s+.055)/1.055,2.4),o<=.03928?r=o/12.92:r=Math.pow((o+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*t+.7152*r+.0722*i},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=xX(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=eO(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=eO(this.r,this.g,this.b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=xW(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=xW(this.r,this.g,this.b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),tO(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),Pce(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(t,", ").concat(r,")"):"rgba(".concat(e,", ").concat(t,", ").concat(r,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(xi(t,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(xi(t,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+tO(this.r,this.g,this.b,!1),t=0,r=Object.entries(nO);t<r.length;t++){var i=r[t],s=i[0],o=i[1];if(e===o)return s}return!1},n.prototype.toString=function(e){var t=!!e;e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,s=!t&&i&&(e.startsWith("hex")||e==="name");return s?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=H_(t.l),new n(t)},n.prototype.brighten=function(e){e===void 0&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new n(t)},n.prototype.darken=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=H_(t.l),new n(t)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=H_(t.s),new n(t)},n.prototype.saturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=H_(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,new n(t)},n.prototype.mix=function(e,t){t===void 0&&(t=50);var r=this.toRgb(),i=new n(e).toRgb(),s=t/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return new n(o)},n.prototype.analogous=function(e,t){e===void 0&&(e=6),t===void 0&&(t=30);var r=this.toHsl(),i=360/t,s=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(new n(r));return s},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var t=this.toHsv(),r=t.h,i=t.s,s=t.v,o=[],a=1/e;e--;)o.push(new n({h:r,s:i,v:s})),s=(s+a)%1;return o},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),r=new n(e).toRgb(),i=t.a+r.a*(1-t.a);return new n({r:(t.r*t.a+r.r*r.a*(1-t.a))/i,g:(t.g*t.a+r.g*r.a*(1-t.a))/i,b:(t.b*t.a+r.b*r.a*(1-t.a))/i,a:i})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),r=t.h,i=[this],s=360/e,o=1;o<e;o++)i.push(new n({h:(r+o*s)%360,s:t.s,l:t.l}));return i},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}(),V_=2,bW=.16,Dce=.05,Nce=.05,Fce=.15,wX=5,bX=4,zce=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function _W(n){var e=n.r,t=n.g,r=n.b,i=eO(e,t,r);return{h:i.h*360,s:i.s,v:i.v}}function G_(n){var e=n.r,t=n.g,r=n.b;return"#".concat(tO(e,t,r,!1))}function Bce(n,e,t){var r=t/100,i={r:(e.r-n.r)*r+n.r,g:(e.g-n.g)*r+n.g,b:(e.b-n.b)*r+n.b};return i}function SW(n,e,t){var r;return Math.round(n.h)>=60&&Math.round(n.h)<=240?r=t?Math.round(n.h)-V_*e:Math.round(n.h)+V_*e:r=t?Math.round(n.h)+V_*e:Math.round(n.h)-V_*e,r<0?r+=360:r>=360&&(r-=360),r}function EW(n,e,t){if(n.h===0&&n.s===0)return n.s;var r;return t?r=n.s-bW*e:e===bX?r=n.s+bW:r=n.s+Dce*e,r>1&&(r=1),t&&e===wX&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function MW(n,e,t){var r;return t?r=n.v+Nce*e:r=n.v-Fce*e,r>1&&(r=1),Number(r.toFixed(2))}function Kf(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],r=Om(n),i=wX;i>0;i-=1){var s=_W(r),o=G_(Om({h:SW(s,i,!0),s:EW(s,i,!0),v:MW(s,i,!0)}));t.push(o)}t.push(G_(r));for(var a=1;a<=bX;a+=1){var l=_W(r),c=G_(Om({h:SW(l,a),s:EW(l,a),v:MW(l,a)}));t.push(c)}return e.theme==="dark"?zce.map(function(u){var d=u.index,h=u.opacity,p=G_(Bce(Om(e.backgroundColor||"#141414"),Om(t[d]),h*100));return p}):t}var EL={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},rO=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];rO.primary=rO[5];var iO=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];iO.primary=iO[5];var sO=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];sO.primary=sO[5];var DA=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];DA.primary=DA[5];var oO=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];oO.primary=oO[5];var aO=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];aO.primary=aO[5];var lO=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];lO.primary=lO[5];var cO=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];cO.primary=cO[5];var NA=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];NA.primary=NA[5];var uO=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];uO.primary=uO[5];var dO=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];dO.primary=dO[5];var hO=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];hO.primary=hO[5];var fO=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];fO.primary=fO[5];var ML={red:rO,volcano:iO,orange:sO,gold:DA,yellow:oO,lime:aO,green:lO,cyan:cO,blue:NA,geekblue:uO,purple:dO,magenta:hO,grey:fO};const Zz={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Nv=Object.assign(Object.assign({},Zz),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});function _X(n,e){let{generateColorPalettes:t,generateNeutralColorPalettes:r}=e;const{colorSuccess:i,colorWarning:s,colorError:o,colorInfo:a,colorPrimary:l,colorBgBase:c,colorTextBase:u}=n,d=t(l),h=t(i),p=t(s),g=t(o),v=t(a),y=r(c,u),x=n.colorLink||n.colorInfo,w=t(x),b=new vi(g[1]).mix(new vi(g[3]),50).toHexString();return Object.assign(Object.assign({},y),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:h[1],colorSuccessBgHover:h[2],colorSuccessBorder:h[3],colorSuccessBorderHover:h[4],colorSuccessHover:h[4],colorSuccess:h[6],colorSuccessActive:h[7],colorSuccessTextHover:h[8],colorSuccessText:h[9],colorSuccessTextActive:h[10],colorErrorBg:g[1],colorErrorBgHover:g[2],colorErrorBgFilledHover:b,colorErrorBgActive:g[3],colorErrorBorder:g[3],colorErrorBorderHover:g[4],colorErrorHover:g[5],colorError:g[6],colorErrorActive:g[7],colorErrorTextHover:g[8],colorErrorText:g[9],colorErrorTextActive:g[10],colorWarningBg:p[1],colorWarningBgHover:p[2],colorWarningBorder:p[3],colorWarningBorderHover:p[4],colorWarningHover:p[4],colorWarning:p[6],colorWarningActive:p[7],colorWarningTextHover:p[8],colorWarningText:p[9],colorWarningTextActive:p[10],colorInfoBg:v[1],colorInfoBgHover:v[2],colorInfoBorder:v[3],colorInfoBorderHover:v[4],colorInfoHover:v[4],colorInfo:v[6],colorInfoActive:v[7],colorInfoTextHover:v[8],colorInfoText:v[9],colorInfoTextActive:v[10],colorLinkHover:w[4],colorLink:w[6],colorLinkActive:w[7],colorBgMask:new vi("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const $ce=n=>{let e=n,t=n,r=n,i=n;return n<6&&n>=5?e=n+1:n<16&&n>=6?e=n+2:n>=16&&(e=16),n<7&&n>=5?t=4:n<8&&n>=7?t=5:n<14&&n>=8?t=6:n<16&&n>=14?t=7:n>=16&&(t=8),n<6&&n>=2?r=1:n>=6&&(r=2),n>4&&n<8?i=4:n>=8&&(i=6),{borderRadius:n,borderRadiusXS:r,borderRadiusSM:t,borderRadiusLG:e,borderRadiusOuter:i}};function Uce(n){const{motionUnit:e,motionBase:t,borderRadius:r,lineWidth:i}=n;return Object.assign({motionDurationFast:`${(t+e).toFixed(1)}s`,motionDurationMid:`${(t+e*2).toFixed(1)}s`,motionDurationSlow:`${(t+e*3).toFixed(1)}s`,lineWidthBold:i+1},$ce(r))}const SX=n=>{const{controlHeight:e}=n;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function VE(n){return(n+8)/n}function Wce(n){const e=new Array(10).fill(null).map((t,r)=>{const i=r-1,s=n*Math.pow(Math.E,i/5),o=r>1?Math.floor(s):Math.ceil(s);return Math.floor(o/2)*2});return e[1]=n,e.map(t=>({size:t,lineHeight:VE(t)}))}const EX=n=>{const e=Wce(n),t=e.map(u=>u.size),r=e.map(u=>u.lineHeight),i=t[1],s=t[0],o=t[2],a=r[1],l=r[0],c=r[2];return{fontSizeSM:s,fontSize:i,fontSizeLG:o,fontSizeXL:t[3],fontSizeHeading1:t[6],fontSizeHeading2:t[5],fontSizeHeading3:t[4],fontSizeHeading4:t[3],fontSizeHeading5:t[2],lineHeight:a,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(a*i),fontHeightLG:Math.round(c*o),fontHeightSM:Math.round(l*s),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function Hce(n){const{sizeUnit:e,sizeStep:t}=n;return{sizeXXL:e*(t+8),sizeXL:e*(t+4),sizeLG:e*(t+2),sizeMD:e*(t+1),sizeMS:e*t,size:e*t,sizeSM:e*(t-1),sizeXS:e*(t-2),sizeXXS:e*(t-3)}}const Lo=(n,e)=>new vi(n).setAlpha(e).toRgbString(),Z0=(n,e)=>new vi(n).darken(e).toHexString(),jce=n=>{const e=Kf(n);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},Vce=(n,e)=>{const t=n||"#fff",r=e||"#000";return{colorBgBase:t,colorTextBase:r,colorText:Lo(r,.88),colorTextSecondary:Lo(r,.65),colorTextTertiary:Lo(r,.45),colorTextQuaternary:Lo(r,.25),colorFill:Lo(r,.15),colorFillSecondary:Lo(r,.06),colorFillTertiary:Lo(r,.04),colorFillQuaternary:Lo(r,.02),colorBgSolid:Lo(r,1),colorBgSolidHover:Lo(r,.75),colorBgSolidActive:Lo(r,.95),colorBgLayout:Z0(t,4),colorBgContainer:Z0(t,0),colorBgElevated:Z0(t,0),colorBgSpotlight:Lo(r,.85),colorBgBlur:"transparent",colorBorder:Z0(t,15),colorBorderSecondary:Z0(t,6)}};function Jw(n){EL.pink=EL.magenta,ML.pink=ML.magenta;const e=Object.keys(Zz).map(t=>{const r=n[t]===EL[t]?ML[t]:Kf(n[t]);return new Array(10).fill(1).reduce((i,s,o)=>(i[`${t}-${o+1}`]=r[o],i[`${t}${o+1}`]=r[o],i),{})}).reduce((t,r)=>(t=Object.assign(Object.assign({},t),r),t),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),e),_X(n,{generateColorPalettes:jce,generateNeutralColorPalettes:Vce})),EX(n.fontSize)),Hce(n)),SX(n)),Uce(n))}const MX=nw(Jw),sw={token:Nv,override:{override:Nv},hashed:!0},Jz=it.createContext(sw),FA="ant",CX="anticon",Gce=["outlined","borderless","filled"],qce=(n,e)=>e||(n?`${FA}-${n}`:FA),mr=k.createContext({getPrefixCls:qce,iconPrefixCls:CX}),Xce=`-ant-${Date.now()}-${Math.random()}`;function Yce(n,e){const t={},r=(o,a)=>{let l=o.clone();return l=(a==null?void 0:a(l))||l,l.toRgbString()},i=(o,a)=>{const l=new vi(o),c=Kf(l.toRgbString());t[`${a}-color`]=r(l),t[`${a}-color-disabled`]=c[1],t[`${a}-color-hover`]=c[4],t[`${a}-color-active`]=c[6],t[`${a}-color-outline`]=l.clone().setAlpha(.2).toRgbString(),t[`${a}-color-deprecated-bg`]=c[0],t[`${a}-color-deprecated-border`]=c[2]};if(e.primaryColor){i(e.primaryColor,"primary");const o=new vi(e.primaryColor),a=Kf(o.toRgbString());a.forEach((c,u)=>{t[`primary-${u+1}`]=c}),t["primary-color-deprecated-l-35"]=r(o,c=>c.lighten(35)),t["primary-color-deprecated-l-20"]=r(o,c=>c.lighten(20)),t["primary-color-deprecated-t-20"]=r(o,c=>c.tint(20)),t["primary-color-deprecated-t-50"]=r(o,c=>c.tint(50)),t["primary-color-deprecated-f-12"]=r(o,c=>c.setAlpha(c.getAlpha()*.12));const l=new vi(a[0]);t["primary-color-active-deprecated-f-30"]=r(l,c=>c.setAlpha(c.getAlpha()*.3)),t["primary-color-active-deprecated-d-02"]=r(l,c=>c.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`
  :root {
    ${Object.keys(t).map(o=>`--${n}-${o}: ${t[o]};`).join(`
`)}
  }
  `.trim()}function Kce(n,e){const t=Yce(n,e);Ns()&&Pc(t,`${Xce}-dynamic-theme`)}const ow=k.createContext(!1),Qce=n=>{let{children:e,disabled:t}=n;const r=k.useContext(ow);return k.createElement(ow.Provider,{value:t??r},e)},Fv=k.createContext(void 0),Zce=n=>{let{children:e,size:t}=n;const r=k.useContext(Fv);return k.createElement(Fv.Provider,{value:t||r},e)};function Jce(){const n=k.useContext(ow),e=k.useContext(Fv);return{componentDisabled:n,componentSize:e}}var AX=oi(function n(){si(this,n)}),TX="CALC_UNIT",eue=new RegExp(TX,"g");function CL(n){return typeof n=="number"?"".concat(n).concat(TX):n}var tue=function(n){Nd(t,n);var e=Fd(t);function t(r,i){var s;si(this,t),s=e.call(this),Se(Jt(s),"result",""),Se(Jt(s),"unitlessCssVar",void 0),Se(Jt(s),"lowPriority",void 0);var o=Rt(r);return s.unitlessCssVar=i,r instanceof t?s.result="(".concat(r.result,")"):o==="number"?s.result=CL(r):o==="string"&&(s.result=r),s}return oi(t,[{key:"add",value:function(i){return i instanceof t?this.result="".concat(this.result," + ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," + ").concat(CL(i))),this.lowPriority=!0,this}},{key:"sub",value:function(i){return i instanceof t?this.result="".concat(this.result," - ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," - ").concat(CL(i))),this.lowPriority=!0,this}},{key:"mul",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof t?this.result="".concat(this.result," * ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," * ").concat(i)),this.lowPriority=!1,this}},{key:"div",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof t?this.result="".concat(this.result," / ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," / ").concat(i)),this.lowPriority=!1,this}},{key:"getResult",value:function(i){return this.lowPriority||i?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(i){var s=this,o=i||{},a=o.unit,l=!0;return typeof a=="boolean"?l=a:Array.from(this.unitlessCssVar).some(function(c){return s.result.includes(c)})&&(l=!1),this.result=this.result.replace(eue,l?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),t}(AX),nue=function(n){Nd(t,n);var e=Fd(t);function t(r){var i;return si(this,t),i=e.call(this),Se(Jt(i),"result",0),r instanceof t?i.result=r.result:typeof r=="number"&&(i.result=r),i}return oi(t,[{key:"add",value:function(i){return i instanceof t?this.result+=i.result:typeof i=="number"&&(this.result+=i),this}},{key:"sub",value:function(i){return i instanceof t?this.result-=i.result:typeof i=="number"&&(this.result-=i),this}},{key:"mul",value:function(i){return i instanceof t?this.result*=i.result:typeof i=="number"&&(this.result*=i),this}},{key:"div",value:function(i){return i instanceof t?this.result/=i.result:typeof i=="number"&&(this.result/=i),this}},{key:"equal",value:function(){return this.result}}]),t}(AX),rue=function(e,t){var r=e==="css"?tue:nue;return function(i){return new r(i,t)}},CW=function(e,t){return"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function Cs(n){var e=k.useRef();e.current=n;var t=k.useCallback(function(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(s))},[]);return t}function aw(n){var e=k.useRef(!1),t=k.useState(n),r=nt(t,2),i=r[0],s=r[1];k.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function o(a,l){l&&e.current||s(a)}return[i,o]}function AL(n){return n!==void 0}function lw(n,e){var t=e||{},r=t.defaultValue,i=t.value,s=t.onChange,o=t.postState,a=aw(function(){return AL(i)?i:AL(r)?typeof r=="function"?r():r:typeof n=="function"?n():n}),l=nt(a,2),c=l[0],u=l[1],d=i!==void 0?i:c,h=o?o(d):d,p=Cs(s),g=aw([d]),v=nt(g,2),y=v[0],x=v[1];uW(function(){var b=y[0];c!==b&&p(c,b)},[y]),uW(function(){AL(i)||u(i)},[i]);var w=Cs(function(b,_){u(b,_),x([d],_)});return[h,w]}function AW(n,e,t,r){var i=ke({},e[n]);if(r!=null&&r.deprecatedTokens){var s=r.deprecatedTokens;s.forEach(function(a){var l=nt(a,2),c=l[0],u=l[1];if(i!=null&&i[c]||i!=null&&i[u]){var d;(d=i[u])!==null&&d!==void 0||(i[u]=i==null?void 0:i[c])}})}var o=ke(ke({},t),i);return Object.keys(o).forEach(function(a){o[a]===e[a]&&delete o[a]}),o}var PX=typeof CSSINJS_STATISTIC<"u",pO=!0;function xo(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(!PX)return Object.assign.apply(Object,[{}].concat(e));pO=!1;var r={};return e.forEach(function(i){if(Rt(i)==="object"){var s=Object.keys(i);s.forEach(function(o){Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return i[o]}})})}}),pO=!0,r}var TW={};function iue(){}var sue=function(e){var t,r=e,i=iue;return PX&&typeof Proxy<"u"&&(t=new Set,r=new Proxy(e,{get:function(o,a){if(pO){var l;(l=t)===null||l===void 0||l.add(a)}return o[a]}}),i=function(o,a){var l;TW[o]={global:Array.from(t),component:ke(ke({},(l=TW[o])===null||l===void 0?void 0:l.component),a)}}),{token:r,keys:t,flush:i}};function PW(n,e,t){if(typeof t=="function"){var r;return t(xo(e,(r=e[n])!==null&&r!==void 0?r:{}))}return t??{}}function oue(n){return n==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return"max(".concat(r.map(function(s){return nn(s)}).join(","),")")},min:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return"min(".concat(r.map(function(s){return nn(s)}).join(","),")")}}}var aue=1e3*60*10,lue=function(){function n(){si(this,n),Se(this,"map",new Map),Se(this,"objectIDMap",new WeakMap),Se(this,"nextID",0),Se(this,"lastAccessBeat",new Map),Se(this,"accessBeat",0)}return oi(n,[{key:"set",value:function(t,r){this.clear();var i=this.getCompositeKey(t);this.map.set(i,r),this.lastAccessBeat.set(i,Date.now())}},{key:"get",value:function(t){var r=this.getCompositeKey(t),i=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,i}},{key:"getCompositeKey",value:function(t){var r=this,i=t.map(function(s){return s&&Rt(s)==="object"?"obj_".concat(r.getObjectID(s)):"".concat(Rt(s),"_").concat(s)});return i.join("|")}},{key:"getObjectID",value:function(t){if(this.objectIDMap.has(t))return this.objectIDMap.get(t);var r=this.nextID;return this.objectIDMap.set(t,r),this.nextID+=1,r}},{key:"clear",value:function(){var t=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(i,s){r-i>aue&&(t.map.delete(s),t.lastAccessBeat.delete(s))}),this.accessBeat=0}}}]),n}(),RW=new lue;function cue(n,e){return it.useMemo(function(){var t=RW.get(e);if(t)return t;var r=n();return RW.set(e,r),r},e)}var uue=function(){return{}};function due(n){var e=n.useCSP,t=e===void 0?uue:e,r=n.useToken,i=n.usePrefix,s=n.getResetStyles,o=n.getCommonStyle,a=n.getCompUnitless;function l(h,p,g,v){var y=Array.isArray(h)?h[0]:h;function x(M){return"".concat(String(y)).concat(M.slice(0,1).toUpperCase()).concat(M.slice(1))}var w=(v==null?void 0:v.unitless)||{},b=typeof a=="function"?a(h):{},_=ke(ke({},b),{},Se({},x("zIndexPopup"),!0));Object.keys(w).forEach(function(M){_[x(M)]=w[M]});var C=ke(ke({},v),{},{unitless:_,prefixToken:x}),A=u(h,p,g,C),P=c(y,g,C);return function(M){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M,I=A(M,L),F=nt(I,2),V=F[1],j=P(L),G=nt(j,2),J=G[0],q=G[1];return[J,V,q]}}function c(h,p,g){var v=g.unitless,y=g.injectStyle,x=y===void 0?!0:y,w=g.prefixToken,b=g.ignore,_=function(P){var M=P.rootCls,L=P.cssVar,I=L===void 0?{}:L,F=r(),V=F.realToken;return cce({path:[h],prefix:I.prefix,key:I.key,unitless:v,ignore:b,token:V,scope:M},function(){var j=PW(h,V,p),G=AW(h,V,j,{deprecatedTokens:g==null?void 0:g.deprecatedTokens});return Object.keys(j).forEach(function(J){G[w(J)]=G[J],delete G[J]}),G}),null},C=function(P){var M=r(),L=M.cssVar;return[function(I){return x&&L?it.createElement(it.Fragment,null,it.createElement(_,{rootCls:P,cssVar:L,component:h}),I):I},L==null?void 0:L.key]};return C}function u(h,p,g){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=Array.isArray(h)?h:[h,h],x=nt(y,1),w=x[0],b=y.join("-"),_=n.layer||{name:"antd"};return function(C){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C,P=r(),M=P.theme,L=P.realToken,I=P.hashId,F=P.token,V=P.cssVar,j=i(),G=j.rootPrefixCls,J=j.iconPrefixCls,q=t(),H=V?"css":"js",D=cue(function(){var ce=new Set;return V&&Object.keys(v.unitless||{}).forEach(function(me){ce.add(BE(me,V.prefix)),ce.add(BE(me,CW(w,V.prefix)))}),rue(H,ce)},[H,w,V==null?void 0:V.prefix]),z=oue(H),B=z.max,ee=z.min,Y={theme:M,token:F,hashId:I,nonce:function(){return q.nonce},clientOnly:v.clientOnly,layer:_,order:v.order||-999};JI(ke(ke({},Y),{},{clientOnly:!1,path:["Shared",G]}),function(){return typeof s=="function"?s(F):[]});var oe=JI(ke(ke({},Y),{},{path:[b,C,J]}),function(){if(v.injectStyle===!1)return[];var ce=sue(F),me=ce.token,de=ce.flush,be=PW(w,L,g),Oe=".".concat(C),Te=AW(w,L,be,{deprecatedTokens:v.deprecatedTokens});V&&be&&Rt(be)==="object"&&Object.keys(be).forEach(function(fe){be[fe]="var(".concat(BE(fe,CW(w,V.prefix)),")")});var we=xo(me,{componentCls:Oe,prefixCls:C,iconCls:".".concat(J),antCls:".".concat(G),calc:D,max:B,min:ee},V?be:Te),De=p(we,{hashId:I,prefixCls:C,rootPrefixCls:G,iconPrefixCls:J});de(w,Te);var pe=typeof o=="function"?o(we,C,A,v.resetFont):null;return[v.resetStyle===!1?null:pe,De]});return[oe,I]}}function d(h,p,g){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=u(h,p,g,ke({resetStyle:!1,order:-998},v)),x=function(b){var _=b.prefixCls,C=b.rootCls,A=C===void 0?_:C;return y(_,A),null};return x}return{genStyleHooks:l,genSubStyleComponent:d,genComponentStyleHook:u}}const zA=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],hue="5.21.3";function TL(n){return n>=0&&n<=255}function q_(n,e){const{r:t,g:r,b:i,a:s}=new vi(n).toRgb();if(s<1)return n;const{r:o,g:a,b:l}=new vi(e).toRgb();for(let c=.01;c<=1;c+=.01){const u=Math.round((t-o*(1-c))/c),d=Math.round((r-a*(1-c))/c),h=Math.round((i-l*(1-c))/c);if(TL(u)&&TL(d)&&TL(h))return new vi({r:u,g:d,b:h,a:Math.round(c*100)/100}).toRgbString()}return new vi({r:t,g:r,b:i,a:1}).toRgbString()}var fue=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function e5(n){const{override:e}=n,t=fue(n,["override"]),r=Object.assign({},e);Object.keys(Nv).forEach(h=>{delete r[h]});const i=Object.assign(Object.assign({},t),r),s=480,o=576,a=768,l=992,c=1200,u=1600;if(i.motion===!1){const h="0s";i.motionDurationFast=h,i.motionDurationMid=h,i.motionDurationSlow=h}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:q_(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:q_(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:q_(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*3,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:q_(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:s,screenXSMin:s,screenXSMax:o-1,screenSM:o,screenSMMin:o,screenSMMax:a-1,screenMD:a,screenMDMin:a,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:u-1,screenXXL:u,screenXXLMin:u,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new vi("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new vi("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new vi("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var LW=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const RX={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},pue={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},mue={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},LX=(n,e,t)=>{const r=t.getDerivativeToken(n),{override:i}=e,s=LW(e,["override"]);let o=Object.assign(Object.assign({},r),{override:i});return o=e5(o),s&&Object.entries(s).forEach(a=>{let[l,c]=a;const{theme:u}=c,d=LW(c,["theme"]);let h=d;u&&(h=LX(Object.assign(Object.assign({},o),d),{override:d},u)),o[l]=h}),o};function Wc(){const{token:n,hashed:e,theme:t,override:r,cssVar:i}=it.useContext(Jz),s=`${hue}-${e||""}`,o=t||MX,[a,l,c]=Nle(o,[Nv,n],{salt:s,override:r,getComputedToken:LX,formatToken:e5,cssVar:i&&{prefix:i.prefix,key:i.key,unitless:RX,ignore:pue,preserve:mue}});return[o,c,e?l:"",a,i]}const FT=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,listStyle:"none",fontFamily:e?"inherit":n.fontFamily}},gue=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),vue=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),yue=n=>({a:{color:n.colorLink,textDecoration:n.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive},"&:active, &:hover":{textDecoration:n.linkHoverDecoration,outline:0},"&:focus":{textDecoration:n.linkFocusDecoration,outline:0},"&[disabled]":{color:n.colorTextDisabled,cursor:"not-allowed"}}}),xue=(n,e,t,r)=>{const i=`[class^="${e}"], [class*=" ${e}"]`,s=t?`.${t}`:i,o={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let a={};return r!==!1&&(a={fontFamily:n.fontFamily,fontSize:n.fontSize}),{[s]:Object.assign(Object.assign(Object.assign({},a),o),{[i]:o})}},wue=n=>({outline:`${nn(n.lineWidthFocus)} solid ${n.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),kX=n=>({"&:focus-visible":Object.assign({},wue(n))}),IX=n=>Object.assign(Object.assign({color:n.colorLink,textDecoration:n.linkDecoration,outline:"none",cursor:"pointer",transition:`all ${n.motionDurationSlow}`,border:0,padding:0,background:"none",userSelect:"none"},kX(n)),{"&:focus, &:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive}}),OX=(n,e)=>{const[t,r]=Wc();return JI({theme:t,token:r,hashId:"",path:["ant-design-icons",n],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[{[`.${n}`]:Object.assign(Object.assign({},gue()),{[`.${n} .${n}-icon`]:{display:"block"}})}])},{genStyleHooks:zd,genComponentStyleHook:bue,genSubStyleComponent:_ue}=due({usePrefix:()=>{const{getPrefixCls:n,iconPrefixCls:e}=k.useContext(mr);return{rootPrefixCls:n(),iconPrefixCls:e}},useToken:()=>{const[n,e,t,r,i]=Wc();return{theme:n,realToken:e,hashId:t,token:r,cssVar:i}},useCSP:()=>{const{csp:n,iconPrefixCls:e}=k.useContext(mr);return OX(e,n),n??{}},getResetStyles:n=>[{"&":yue(n)}],getCommonStyle:xue,getCompUnitless:()=>RX});function Sue(n,e){return zA.reduce((t,r)=>{const i=n[`${r}1`],s=n[`${r}3`],o=n[`${r}6`],a=n[`${r}7`];return Object.assign(Object.assign({},t),e(r,{lightColor:i,lightBorderColor:s,darkColor:o,textColor:a}))},{})}const Eue=Object.assign({},Hf),{useId:kW}=Eue,Mue=()=>"",Cue=typeof kW>"u"?Mue:kW;function Aue(n,e,t){var r;vX();const i=n||{},s=i.inherit===!1||!e?Object.assign(Object.assign({},sw),{hashed:(r=e==null?void 0:e.hashed)!==null&&r!==void 0?r:sw.hashed,cssVar:e==null?void 0:e.cssVar}):e,o=Cue();return Bz(()=>{var a,l;if(!n)return e;const c=Object.assign({},s.components);Object.keys(n.components||{}).forEach(h=>{c[h]=Object.assign(Object.assign({},c[h]),n.components[h])});const u=`css-var-${o.replace(/:/g,"")}`,d=((a=i.cssVar)!==null&&a!==void 0?a:s.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:t==null?void 0:t.prefixCls},typeof s.cssVar=="object"?s.cssVar:{}),typeof i.cssVar=="object"?i.cssVar:{}),{key:typeof i.cssVar=="object"&&((l=i.cssVar)===null||l===void 0?void 0:l.key)||u});return Object.assign(Object.assign(Object.assign({},s),i),{token:Object.assign(Object.assign({},s.token),i.token),components:c,cssVar:d})},[i,s],(a,l)=>a.some((c,u)=>{const d=l[u];return!XI(c,d,!0)}))}var Tue=["children"],DX=k.createContext({});function Pue(n){var e=n.children,t=ls(n,Tue);return k.createElement(DX.Provider,{value:t},e)}var Rue=function(n){Nd(t,n);var e=Fd(t);function t(){return si(this,t),e.apply(this,arguments)}return oi(t,[{key:"render",value:function(){return this.props.children}}]),t}(k.Component);function Lue(n){var e=k.useReducer(function(a){return a+1},0),t=nt(e,2),r=t[1],i=k.useRef(n),s=Cs(function(){return i.current}),o=Cs(function(a){i.current=typeof a=="function"?a(i.current):a,r()});return[s,o]}var xu="none",X_="appear",Y_="enter",K_="leave",IW="none",Ca="prepare",Lg="start",kg="active",t5="end",NX="prepared";function OW(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit".concat(n)]="webkit".concat(e),t["Moz".concat(n)]="moz".concat(e),t["ms".concat(n)]="MS".concat(e),t["O".concat(n)]="o".concat(e.toLowerCase()),t}function kue(n,e){var t={animationend:OW("Animation","AnimationEnd"),transitionend:OW("Transition","TransitionEnd")};return n&&("AnimationEvent"in e||delete t.animationend.animation,"TransitionEvent"in e||delete t.transitionend.transition),t}var Iue=kue(Ns(),typeof window<"u"?window:{}),FX={};if(Ns()){var Oue=document.createElement("div");FX=Oue.style}var Q_={};function zX(n){if(Q_[n])return Q_[n];var e=Iue[n];if(e)for(var t=Object.keys(e),r=t.length,i=0;i<r;i+=1){var s=t[i];if(Object.prototype.hasOwnProperty.call(e,s)&&s in FX)return Q_[n]=e[s],Q_[n]}return""}var BX=zX("animationend"),$X=zX("transitionend"),UX=!!(BX&&$X),DW=BX||"animationend",NW=$X||"transitionend";function FW(n,e){if(!n)return null;if(Rt(n)==="object"){var t=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return n[t]}return"".concat(n,"-").concat(e)}const Due=function(n){var e=k.useRef();function t(i){i&&(i.removeEventListener(NW,n),i.removeEventListener(DW,n))}function r(i){e.current&&e.current!==i&&t(e.current),i&&i!==e.current&&(i.addEventListener(NW,n),i.addEventListener(DW,n),e.current=i)}return k.useEffect(function(){return function(){t(e.current)}},[]),[r,t]};var WX=Ns()?k.useLayoutEffect:k.useEffect;const Nue=function(){var n=k.useRef(null);function e(){Nc.cancel(n.current)}function t(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var s=Nc(function(){i<=1?r({isCanceled:function(){return s!==n.current}}):t(r,i-1)});n.current=s}return k.useEffect(function(){return function(){e()}},[]),[t,e]};var Fue=[Ca,Lg,kg,t5],zue=[Ca,NX],HX=!1,Bue=!0;function jX(n){return n===kg||n===t5}const $ue=function(n,e,t){var r=aw(IW),i=nt(r,2),s=i[0],o=i[1],a=Nue(),l=nt(a,2),c=l[0],u=l[1];function d(){o(Ca,!0)}var h=e?zue:Fue;return WX(function(){if(s!==IW&&s!==t5){var p=h.indexOf(s),g=h[p+1],v=t(s);v===HX?o(g,!0):g&&c(function(y){function x(){y.isCanceled()||o(g,!0)}v===!0?x():Promise.resolve(v).then(x)})}},[n,s]),k.useEffect(function(){return function(){u()}},[]),[d,s]};function Uue(n,e,t,r){var i=r.motionEnter,s=i===void 0?!0:i,o=r.motionAppear,a=o===void 0?!0:o,l=r.motionLeave,c=l===void 0?!0:l,u=r.motionDeadline,d=r.motionLeaveImmediately,h=r.onAppearPrepare,p=r.onEnterPrepare,g=r.onLeavePrepare,v=r.onAppearStart,y=r.onEnterStart,x=r.onLeaveStart,w=r.onAppearActive,b=r.onEnterActive,_=r.onLeaveActive,C=r.onAppearEnd,A=r.onEnterEnd,P=r.onLeaveEnd,M=r.onVisibleChanged,L=aw(),I=nt(L,2),F=I[0],V=I[1],j=Lue(xu),G=nt(j,2),J=G[0],q=G[1],H=aw(null),D=nt(H,2),z=D[0],B=D[1],ee=J(),Y=k.useRef(!1),oe=k.useRef(null);function ce(){return t()}var me=k.useRef(!1);function de(){q(xu),B(null,!0)}var be=Cs(function(Ze){var Xe=J();if(Xe!==xu){var te=ce();if(!(Ze&&!Ze.deadline&&Ze.target!==te)){var X=me.current,ve;Xe===X_&&X?ve=C==null?void 0:C(te,Ze):Xe===Y_&&X?ve=A==null?void 0:A(te,Ze):Xe===K_&&X&&(ve=P==null?void 0:P(te,Ze)),X&&ve!==!1&&de()}}}),Oe=Due(be),Te=nt(Oe,1),we=Te[0],De=function(Xe){switch(Xe){case X_:return Se(Se(Se({},Ca,h),Lg,v),kg,w);case Y_:return Se(Se(Se({},Ca,p),Lg,y),kg,b);case K_:return Se(Se(Se({},Ca,g),Lg,x),kg,_);default:return{}}},pe=k.useMemo(function(){return De(ee)},[ee]),fe=$ue(ee,!n,function(Ze){if(Ze===Ca){var Xe=pe[Ca];return Xe?Xe(ce()):HX}if(ge in pe){var te;B(((te=pe[ge])===null||te===void 0?void 0:te.call(pe,ce(),null))||null)}return ge===kg&&ee!==xu&&(we(ce()),u>0&&(clearTimeout(oe.current),oe.current=setTimeout(function(){be({deadline:!0})},u))),ge===NX&&de(),Bue}),Ae=nt(fe,2),Pe=Ae[0],ge=Ae[1],je=jX(ge);me.current=je,WX(function(){V(e);var Ze=Y.current;Y.current=!0;var Xe;!Ze&&e&&a&&(Xe=X_),Ze&&e&&s&&(Xe=Y_),(Ze&&!e&&c||!Ze&&d&&!e&&c)&&(Xe=K_);var te=De(Xe);Xe&&(n||te[Ca])?(q(Xe),Pe()):q(xu)},[e]),k.useEffect(function(){(ee===X_&&!a||ee===Y_&&!s||ee===K_&&!c)&&q(xu)},[a,s,c]),k.useEffect(function(){return function(){Y.current=!1,clearTimeout(oe.current)}},[]);var We=k.useRef(!1);k.useEffect(function(){F&&(We.current=!0),F!==void 0&&ee===xu&&((We.current||F)&&(M==null||M(F)),We.current=!0)},[F,ee]);var qe=z;return pe[Ca]&&ge===Lg&&(qe=ke({transition:"none"},qe)),[ee,ge,qe,F??e]}function Wue(n){var e=n;Rt(n)==="object"&&(e=n.transitionSupport);function t(i,s){return!!(i.motionName&&e&&s!==!1)}var r=k.forwardRef(function(i,s){var o=i.visible,a=o===void 0?!0:o,l=i.removeOnLeave,c=l===void 0?!0:l,u=i.forceRender,d=i.children,h=i.motionName,p=i.leavedClassName,g=i.eventProps,v=k.useContext(DX),y=v.motion,x=t(i,y),w=k.useRef(),b=k.useRef();function _(){try{return w.current instanceof HTMLElement?w.current:zE(b.current)}catch{return null}}var C=Uue(x,a,_,i),A=nt(C,4),P=A[0],M=A[1],L=A[2],I=A[3],F=k.useRef(I);I&&(F.current=!0);var V=k.useCallback(function(z){w.current=z,$z(s,z)},[s]),j,G=ke(ke({},g),{},{visible:a});if(!d)j=null;else if(P===xu)I?j=d(ke({},G),V):!c&&F.current&&p?j=d(ke(ke({},G),{},{className:p}),V):u||!c&&!p?j=d(ke(ke({},G),{},{style:{display:"none"}}),V):j=null;else{var J;M===Ca?J="prepare":jX(M)?J="active":M===Lg&&(J="start");var q=FW(h,"".concat(P,"-").concat(J));j=d(ke(ke({},G),{},{className:yt(FW(h,P),Se(Se({},q,q&&J),h,typeof h=="string")),style:L}),V)}if(k.isValidElement(j)&&Qw(j)){var H=j,D=H.ref;D||(j=k.cloneElement(j,{ref:V}))}return k.createElement(Rue,{ref:b},j)});return r.displayName="CSSMotion",r}const eb=Wue(UX);var mO="add",gO="keep",vO="remove",PL="removed";function Hue(n){var e;return n&&Rt(n)==="object"&&"key"in n?e=n:e={key:n},ke(ke({},e),{},{key:String(e.key)})}function yO(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return n.map(Hue)}function jue(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=[],r=0,i=e.length,s=yO(n),o=yO(e);s.forEach(function(c){for(var u=!1,d=r;d<i;d+=1){var h=o[d];if(h.key===c.key){r<d&&(t=t.concat(o.slice(r,d).map(function(p){return ke(ke({},p),{},{status:mO})})),r=d),t.push(ke(ke({},h),{},{status:gO})),r+=1,u=!0;break}}u||t.push(ke(ke({},c),{},{status:vO}))}),r<i&&(t=t.concat(o.slice(r).map(function(c){return ke(ke({},c),{},{status:mO})})));var a={};t.forEach(function(c){var u=c.key;a[u]=(a[u]||0)+1});var l=Object.keys(a).filter(function(c){return a[c]>1});return l.forEach(function(c){t=t.filter(function(u){var d=u.key,h=u.status;return d!==c||h!==vO}),t.forEach(function(u){u.key===c&&(u.status=gO)})}),t}var Vue=["component","children","onVisibleChanged","onAllRemoved"],Gue=["status"],que=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function Xue(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:eb,t=function(r){Nd(s,r);var i=Fd(s);function s(){var o;si(this,s);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return o=i.call.apply(i,[this].concat(l)),Se(Jt(o),"state",{keyEntities:[]}),Se(Jt(o),"removeKey",function(u){o.setState(function(d){var h=d.keyEntities.map(function(p){return p.key!==u?p:ke(ke({},p),{},{status:PL})});return{keyEntities:h}},function(){var d=o.state.keyEntities,h=d.filter(function(p){var g=p.status;return g!==PL}).length;h===0&&o.props.onAllRemoved&&o.props.onAllRemoved()})}),o}return oi(s,[{key:"render",value:function(){var a=this,l=this.state.keyEntities,c=this.props,u=c.component,d=c.children,h=c.onVisibleChanged;c.onAllRemoved;var p=ls(c,Vue),g=u||k.Fragment,v={};return que.forEach(function(y){v[y]=p[y],delete p[y]}),delete p.keys,k.createElement(g,p,l.map(function(y,x){var w=y.status,b=ls(y,Gue),_=w===mO||w===gO;return k.createElement(e,Gn({},v,{key:b.key,visible:_,eventProps:b,onVisibleChanged:function(A){h==null||h(A,{key:b.key}),A||a.removeKey(b.key)}}),function(C,A){return d(ke(ke({},C),{},{index:x}),A)})}))}}],[{key:"getDerivedStateFromProps",value:function(a,l){var c=a.keys,u=l.keyEntities,d=yO(c),h=jue(u,d);return{keyEntities:h.filter(function(p){var g=u.find(function(v){var y=v.key;return p.key===y});return!(g&&g.status===PL&&p.status===vO)})}}}]),s}(k.Component);return Se(t,"defaultProps",{component:"div"}),t}Xue(UX);function Yue(n){const{children:e}=n,[,t]=Wc(),{motion:r}=t,i=k.useRef(!1);return i.current=i.current||r===!1,i.current?k.createElement(Pue,{motion:r},e):e}const Kue=()=>null;var Que=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Zue=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let VX;function Jue(){return VX||FA}function ede(n){return Object.keys(n).some(e=>e.endsWith("Color"))}const tde=n=>{const{prefixCls:e,iconPrefixCls:t,theme:r,holderRender:i}=n;e!==void 0&&(VX=e),r&&ede(r)&&Kce(Jue(),r)},nde=n=>{const{children:e,csp:t,autoInsertSpaceInButton:r,alert:i,anchor:s,form:o,locale:a,componentSize:l,direction:c,space:u,splitter:d,virtual:h,dropdownMatchSelectWidth:p,popupMatchSelectWidth:g,popupOverflow:v,legacyLocale:y,parentContext:x,iconPrefixCls:w,theme:b,componentDisabled:_,segmented:C,statistic:A,spin:P,calendar:M,carousel:L,cascader:I,collapse:F,typography:V,checkbox:j,descriptions:G,divider:J,drawer:q,skeleton:H,steps:D,image:z,layout:B,list:ee,mentions:Y,modal:oe,progress:ce,result:me,slider:de,breadcrumb:be,menu:Oe,pagination:Te,input:we,textArea:De,empty:pe,badge:fe,radio:Ae,rate:Pe,switch:ge,transfer:je,avatar:We,message:qe,tag:Ze,table:Xe,card:te,tabs:X,timeline:ve,timePicker:Ce,upload:$e,notification:Ve,tree:Je,colorPicker:Ge,datePicker:T,rangePicker:N,flex:U,wave:ne,dropdown:se,warning:K,tour:le,floatButtonGroup:Le,variant:Ke,inputNumber:ue,treeSelect:Ee}=n,Fe=k.useCallback((xn,on)=>{const{prefixCls:or}=n;if(on)return on;const ie=or||x.getPrefixCls("");return xn?`${ie}-${xn}`:ie},[x.getPrefixCls,n.prefixCls]),et=w||x.iconPrefixCls||CX,rt=t||x.csp;OX(et,rt);const mt=Aue(b,x.theme,{prefixCls:Fe("")}),jt={csp:rt,autoInsertSpaceInButton:r,alert:i,anchor:s,locale:a||y,direction:c,space:u,splitter:d,virtual:h,popupMatchSelectWidth:g??p,popupOverflow:v,getPrefixCls:Fe,iconPrefixCls:et,theme:mt,segmented:C,statistic:A,spin:P,calendar:M,carousel:L,cascader:I,collapse:F,typography:V,checkbox:j,descriptions:G,divider:J,drawer:q,skeleton:H,steps:D,image:z,input:we,textArea:De,layout:B,list:ee,mentions:Y,modal:oe,progress:ce,result:me,slider:de,breadcrumb:be,menu:Oe,pagination:Te,empty:pe,badge:fe,radio:Ae,rate:Pe,switch:ge,transfer:je,avatar:We,message:qe,tag:Ze,table:Xe,card:te,tabs:X,timeline:ve,timePicker:Ce,upload:$e,notification:Ve,tree:Je,colorPicker:Ge,datePicker:T,rangePicker:N,flex:U,wave:ne,dropdown:se,warning:K,tour:le,floatButtonGroup:Le,variant:Ke,inputNumber:ue,treeSelect:Ee},Lt=Object.assign({},x);Object.keys(jt).forEach(xn=>{jt[xn]!==void 0&&(Lt[xn]=jt[xn])}),Zue.forEach(xn=>{const on=n[xn];on&&(Lt[xn]=on)}),typeof r<"u"&&(Lt.button=Object.assign({autoInsertSpace:r},Lt.button));const hn=Bz(()=>Lt,Lt,(xn,on)=>{const or=Object.keys(xn),ie=Object.keys(on);return or.length!==ie.length||or.some(_e=>xn[_e]!==on[_e])}),pt=k.useMemo(()=>({prefixCls:et,csp:rt}),[et,rt]);let gt=k.createElement(k.Fragment,null,k.createElement(Kue,{dropdownMatchSelectWidth:p}),e);const yn=k.useMemo(()=>{var xn,on,or,ie;return Rg(((xn=Dv.Form)===null||xn===void 0?void 0:xn.defaultValidateMessages)||{},((or=(on=hn.locale)===null||on===void 0?void 0:on.Form)===null||or===void 0?void 0:or.defaultValidateMessages)||{},((ie=hn.form)===null||ie===void 0?void 0:ie.validateMessages)||{},(o==null?void 0:o.validateMessages)||{})},[hn,o==null?void 0:o.validateMessages]);Object.keys(yn).length>0&&(gt=k.createElement(gce.Provider,{value:yn},gt)),a&&(gt=k.createElement(Sce,{locale:a,_ANT_MARK__:_ce},gt)),(et||rt)&&(gt=k.createElement(Kz.Provider,{value:pt},gt)),l&&(gt=k.createElement(Zce,{size:l},gt)),gt=k.createElement(Yue,null,gt);const fs=k.useMemo(()=>{const xn=mt||{},{algorithm:on,token:or,components:ie,cssVar:_e}=xn,ze=Que(xn,["algorithm","token","components","cssVar"]),Me=on&&(!Array.isArray(on)||on.length>0)?nw(on):MX,Ue={};Object.entries(ie||{}).forEach(bt=>{let[At,Mt]=bt;const _t=Object.assign({},Mt);"algorithm"in _t&&(_t.algorithm===!0?_t.theme=Me:(Array.isArray(_t.algorithm)||typeof _t.algorithm=="function")&&(_t.theme=nw(_t.algorithm)),delete _t.algorithm),Ue[At]=_t});const ft=Object.assign(Object.assign({},Nv),or);return Object.assign(Object.assign({},ze),{theme:Me,token:ft,components:Ue,override:Object.assign({override:ft},Ue),cssVar:_e})},[mt]);return b&&(gt=k.createElement(Jz.Provider,{value:fs},gt)),hn.warning&&(gt=k.createElement(mce.Provider,{value:hn.warning},gt)),_!==void 0&&(gt=k.createElement(Qce,{disabled:_},gt)),k.createElement(mr.Provider,{value:hn},gt)},s0=n=>{const e=k.useContext(mr),t=k.useContext(Qz);return k.createElement(nde,Object.assign({parentContext:e,legacyLocale:t},n))};s0.ConfigContext=mr;s0.SizeContext=Fv;s0.config=tde;s0.useConfig=Jce;Object.defineProperty(s0,"SizeContext",{get:()=>Fv});const rde=s0;function GX(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}function ide(n){return GX(n)instanceof ShadowRoot}function BA(n){return ide(n)?GX(n):null}function sde(n){return n.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function ode(n,e){co(n,"[@ant-design/icons] ".concat(e))}function zW(n){return Rt(n)==="object"&&typeof n.name=="string"&&typeof n.theme=="string"&&(Rt(n.icon)==="object"||typeof n.icon=="function")}function BW(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(n).reduce(function(e,t){var r=n[t];switch(t){case"class":e.className=r,delete e.class;break;default:delete e[t],e[sde(t)]=r}return e},{})}function xO(n,e,t){return t?it.createElement(n.tag,ke(ke({key:e},BW(n.attrs)),t),(n.children||[]).map(function(r,i){return xO(r,"".concat(e,"-").concat(n.tag,"-").concat(i))})):it.createElement(n.tag,ke({key:e},BW(n.attrs)),(n.children||[]).map(function(r,i){return xO(r,"".concat(e,"-").concat(n.tag,"-").concat(i))}))}function qX(n){return Kf(n)[0]}function XX(n){return n?Array.isArray(n)?n:[n]:[]}var ade=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,lde=function(e){var t=k.useContext(Kz),r=t.csp,i=t.prefixCls,s=ade;i&&(s=s.replace(/anticon/g,i)),k.useEffect(function(){var o=e.current,a=BA(o);Pc(s,"@ant-design-icons",{prepend:!0,csp:r,attachTo:a})},[])},cde=["icon","className","onClick","style","primaryColor","secondaryColor"],Y1={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function ude(n){var e=n.primaryColor,t=n.secondaryColor;Y1.primaryColor=e,Y1.secondaryColor=t||qX(e),Y1.calculated=!!t}function dde(){return ke({},Y1)}var o0=function(e){var t=e.icon,r=e.className,i=e.onClick,s=e.style,o=e.primaryColor,a=e.secondaryColor,l=ls(e,cde),c=k.useRef(),u=Y1;if(o&&(u={primaryColor:o,secondaryColor:a||qX(o)}),lde(c),ode(zW(t),"icon should be icon definiton, but got ".concat(t)),!zW(t))return null;var d=t;return d&&typeof d.icon=="function"&&(d=ke(ke({},d),{},{icon:d.icon(u.primaryColor,u.secondaryColor)})),xO(d.icon,"svg-".concat(d.name),ke(ke({className:r,onClick:i,style:s,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:c}))};o0.displayName="IconReact";o0.getTwoToneColors=dde;o0.setTwoToneColors=ude;function YX(n){var e=XX(n),t=nt(e,2),r=t[0],i=t[1];return o0.setTwoToneColors({primaryColor:r,secondaryColor:i})}function hde(){var n=o0.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor}var fde=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];YX(NA.primary);var ua=k.forwardRef(function(n,e){var t=n.className,r=n.icon,i=n.spin,s=n.rotate,o=n.tabIndex,a=n.onClick,l=n.twoToneColor,c=ls(n,fde),u=k.useContext(Kz),d=u.prefixCls,h=d===void 0?"anticon":d,p=u.rootClassName,g=yt(p,h,Se(Se({},"".concat(h,"-").concat(r.name),!!r.name),"".concat(h,"-spin"),!!i||r.name==="loading"),t),v=o;v===void 0&&a&&(v=-1);var y=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,x=XX(l),w=nt(x,2),b=w[0],_=w[1];return k.createElement("span",Gn({role:"img","aria-label":r.name},c,{ref:e,tabIndex:v,onClick:a,className:g}),k.createElement(o0,{icon:r,primaryColor:b,secondaryColor:_,style:y}))});ua.displayName="AntdIcon";ua.getTwoToneColor=hde;ua.setTwoToneColor=YX;var pde={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},mde=function(e,t){return k.createElement(ua,Gn({},e,{ref:t,icon:pde}))},gde=k.forwardRef(mde);function KX(n){return n&&it.isValidElement(n)&&n.type===it.Fragment}const vde=(n,e,t)=>it.isValidElement(n)?it.cloneElement(n,typeof t=="function"?t(n.props||{}):t):e;function tb(n,e){return vde(n,n,e)}const yde=n=>{const[,,,,e]=Wc();return e?`${n}-css-var`:""};var Tt={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Tt.F1&&t<=Tt.F12)return!1;switch(t){case Tt.ALT:case Tt.CAPS_LOCK:case Tt.CONTEXT_MENU:case Tt.CTRL:case Tt.DOWN:case Tt.END:case Tt.ESC:case Tt.HOME:case Tt.INSERT:case Tt.LEFT:case Tt.MAC_FF_META:case Tt.META:case Tt.NUMLOCK:case Tt.NUM_CENTER:case Tt.PAGE_DOWN:case Tt.PAGE_UP:case Tt.PAUSE:case Tt.PRINT_SCREEN:case Tt.RIGHT:case Tt.SHIFT:case Tt.UP:case Tt.WIN_KEY:case Tt.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Tt.ZERO&&e<=Tt.NINE||e>=Tt.NUM_ZERO&&e<=Tt.NUM_MULTIPLY||e>=Tt.A&&e<=Tt.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case Tt.SPACE:case Tt.QUESTION_MARK:case Tt.NUM_PLUS:case Tt.NUM_MINUS:case Tt.NUM_PERIOD:case Tt.NUM_DIVISION:case Tt.SEMICOLON:case Tt.DASH:case Tt.EQUALS:case Tt.COMMA:case Tt.PERIOD:case Tt.SLASH:case Tt.APOSTROPHE:case Tt.SINGLE_QUOTE:case Tt.OPEN_SQUARE_BRACKET:case Tt.BACKSLASH:case Tt.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},xde={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},wde=function(e,t){return k.createElement(ua,Gn({},e,{ref:t,icon:xde}))},QX=k.forwardRef(wde);const ZX=it.createContext(void 0),oh=100,JX={Modal:oh,Drawer:oh,Popover:oh,Popconfirm:oh,Tooltip:oh,Tour:oh,FloatButton:oh},bde={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function _de(n){return n in JX}const Sde=(n,e)=>{const[,t]=Wc(),r=it.useContext(ZX),i=_de(n);let s;if(e!==void 0)s=[e,e];else{let o=r??0;i?o+=(r?0:t.zIndexPopupBase)+JX[n]:o+=bde[n],s=[r===void 0?e:o,o]}return s};function cs(){cs=function(){return e};var n,e={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(q,H,D){q[H]=D.value},s=typeof Symbol=="function"?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function c(q,H,D){return Object.defineProperty(q,H,{value:D,enumerable:!0,configurable:!0,writable:!0}),q[H]}try{c({},"")}catch{c=function(D,z,B){return D[z]=B}}function u(q,H,D,z){var B=H&&H.prototype instanceof x?H:x,ee=Object.create(B.prototype),Y=new G(z||[]);return i(ee,"_invoke",{value:I(q,D,Y)}),ee}function d(q,H,D){try{return{type:"normal",arg:q.call(H,D)}}catch(z){return{type:"throw",arg:z}}}e.wrap=u;var h="suspendedStart",p="suspendedYield",g="executing",v="completed",y={};function x(){}function w(){}function b(){}var _={};c(_,o,function(){return this});var C=Object.getPrototypeOf,A=C&&C(C(J([])));A&&A!==t&&r.call(A,o)&&(_=A);var P=b.prototype=x.prototype=Object.create(_);function M(q){["next","throw","return"].forEach(function(H){c(q,H,function(D){return this._invoke(H,D)})})}function L(q,H){function D(B,ee,Y,oe){var ce=d(q[B],q,ee);if(ce.type!=="throw"){var me=ce.arg,de=me.value;return de&&Rt(de)=="object"&&r.call(de,"__await")?H.resolve(de.__await).then(function(be){D("next",be,Y,oe)},function(be){D("throw",be,Y,oe)}):H.resolve(de).then(function(be){me.value=be,Y(me)},function(be){return D("throw",be,Y,oe)})}oe(ce.arg)}var z;i(this,"_invoke",{value:function(ee,Y){function oe(){return new H(function(ce,me){D(ee,Y,ce,me)})}return z=z?z.then(oe,oe):oe()}})}function I(q,H,D){var z=h;return function(B,ee){if(z===g)throw Error("Generator is already running");if(z===v){if(B==="throw")throw ee;return{value:n,done:!0}}for(D.method=B,D.arg=ee;;){var Y=D.delegate;if(Y){var oe=F(Y,D);if(oe){if(oe===y)continue;return oe}}if(D.method==="next")D.sent=D._sent=D.arg;else if(D.method==="throw"){if(z===h)throw z=v,D.arg;D.dispatchException(D.arg)}else D.method==="return"&&D.abrupt("return",D.arg);z=g;var ce=d(q,H,D);if(ce.type==="normal"){if(z=D.done?v:p,ce.arg===y)continue;return{value:ce.arg,done:D.done}}ce.type==="throw"&&(z=v,D.method="throw",D.arg=ce.arg)}}}function F(q,H){var D=H.method,z=q.iterator[D];if(z===n)return H.delegate=null,D==="throw"&&q.iterator.return&&(H.method="return",H.arg=n,F(q,H),H.method==="throw")||D!=="return"&&(H.method="throw",H.arg=new TypeError("The iterator does not provide a '"+D+"' method")),y;var B=d(z,q.iterator,H.arg);if(B.type==="throw")return H.method="throw",H.arg=B.arg,H.delegate=null,y;var ee=B.arg;return ee?ee.done?(H[q.resultName]=ee.value,H.next=q.nextLoc,H.method!=="return"&&(H.method="next",H.arg=n),H.delegate=null,y):ee:(H.method="throw",H.arg=new TypeError("iterator result is not an object"),H.delegate=null,y)}function V(q){var H={tryLoc:q[0]};1 in q&&(H.catchLoc=q[1]),2 in q&&(H.finallyLoc=q[2],H.afterLoc=q[3]),this.tryEntries.push(H)}function j(q){var H=q.completion||{};H.type="normal",delete H.arg,q.completion=H}function G(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(V,this),this.reset(!0)}function J(q){if(q||q===""){var H=q[o];if(H)return H.call(q);if(typeof q.next=="function")return q;if(!isNaN(q.length)){var D=-1,z=function B(){for(;++D<q.length;)if(r.call(q,D))return B.value=q[D],B.done=!1,B;return B.value=n,B.done=!0,B};return z.next=z}}throw new TypeError(Rt(q)+" is not iterable")}return w.prototype=b,i(P,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:w,configurable:!0}),w.displayName=c(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(q){var H=typeof q=="function"&&q.constructor;return!!H&&(H===w||(H.displayName||H.name)==="GeneratorFunction")},e.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,b):(q.__proto__=b,c(q,l,"GeneratorFunction")),q.prototype=Object.create(P),q},e.awrap=function(q){return{__await:q}},M(L.prototype),c(L.prototype,a,function(){return this}),e.AsyncIterator=L,e.async=function(q,H,D,z,B){B===void 0&&(B=Promise);var ee=new L(u(q,H,D,z),B);return e.isGeneratorFunction(H)?ee:ee.next().then(function(Y){return Y.done?Y.value:ee.next()})},M(P),c(P,l,"Generator"),c(P,o,function(){return this}),c(P,"toString",function(){return"[object Generator]"}),e.keys=function(q){var H=Object(q),D=[];for(var z in H)D.push(z);return D.reverse(),function B(){for(;D.length;){var ee=D.pop();if(ee in H)return B.value=ee,B.done=!1,B}return B.done=!0,B}},e.values=J,G.prototype={constructor:G,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(j),!H)for(var D in this)D.charAt(0)==="t"&&r.call(this,D)&&!isNaN(+D.slice(1))&&(this[D]=n)},stop:function(){this.done=!0;var H=this.tryEntries[0].completion;if(H.type==="throw")throw H.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var D=this;function z(me,de){return Y.type="throw",Y.arg=H,D.next=me,de&&(D.method="next",D.arg=n),!!de}for(var B=this.tryEntries.length-1;B>=0;--B){var ee=this.tryEntries[B],Y=ee.completion;if(ee.tryLoc==="root")return z("end");if(ee.tryLoc<=this.prev){var oe=r.call(ee,"catchLoc"),ce=r.call(ee,"finallyLoc");if(oe&&ce){if(this.prev<ee.catchLoc)return z(ee.catchLoc,!0);if(this.prev<ee.finallyLoc)return z(ee.finallyLoc)}else if(oe){if(this.prev<ee.catchLoc)return z(ee.catchLoc,!0)}else{if(!ce)throw Error("try statement without catch or finally");if(this.prev<ee.finallyLoc)return z(ee.finallyLoc)}}}},abrupt:function(H,D){for(var z=this.tryEntries.length-1;z>=0;--z){var B=this.tryEntries[z];if(B.tryLoc<=this.prev&&r.call(B,"finallyLoc")&&this.prev<B.finallyLoc){var ee=B;break}}ee&&(H==="break"||H==="continue")&&ee.tryLoc<=D&&D<=ee.finallyLoc&&(ee=null);var Y=ee?ee.completion:{};return Y.type=H,Y.arg=D,ee?(this.method="next",this.next=ee.finallyLoc,y):this.complete(Y)},complete:function(H,D){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&D&&(this.next=D),y},finish:function(H){for(var D=this.tryEntries.length-1;D>=0;--D){var z=this.tryEntries[D];if(z.finallyLoc===H)return this.complete(z.completion,z.afterLoc),j(z),y}},catch:function(H){for(var D=this.tryEntries.length-1;D>=0;--D){var z=this.tryEntries[D];if(z.tryLoc===H){var B=z.completion;if(B.type==="throw"){var ee=B.arg;j(z)}return ee}}throw Error("illegal catch attempt")},delegateYield:function(H,D,z){return this.delegate={iterator:J(H),resultName:D,nextLoc:z},this.method==="next"&&(this.arg=n),y}},e}function $W(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function vp(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){$W(s,r,i,o,a,"next",l)}function a(l){$W(s,r,i,o,a,"throw",l)}o(void 0)})}}var nb=ke({},loe),Ede=nb.version,Mde=nb.render,Cde=nb.unmountComponentAtNode,zT;try{var Ade=Number((Ede||"").split(".")[0]);Ade>=18&&(zT=nb.createRoot)}catch{}function UW(n){var e=nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&Rt(e)==="object"&&(e.usingClientEntryPoint=n)}var $A="__rc_react_root__";function Tde(n,e){UW(!0);var t=e[$A]||zT(e);UW(!1),t.render(n),e[$A]=t}function Pde(n,e){Mde(n,e)}function Rde(n,e){if(zT){Tde(n,e);return}Pde(n,e)}function Lde(n){return wO.apply(this,arguments)}function wO(){return wO=vp(cs().mark(function n(e){return cs().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=e[$A])===null||i===void 0||i.unmount(),delete e[$A]}));case 1:case"end":return r.stop()}},n)})),wO.apply(this,arguments)}function kde(n){Cde(n)}function Ide(n){return bO.apply(this,arguments)}function bO(){return bO=vp(cs().mark(function n(e){return cs().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(zT===void 0){r.next=2;break}return r.abrupt("return",Lde(e));case 2:kde(e);case 3:case"end":return r.stop()}},n)})),bO.apply(this,arguments)}const Ode=(n,e,t)=>t!==void 0?t:`${n}-${e}`,eY=function(n){if(!n)return!1;if(n instanceof Element){if(n.offsetParent)return!0;if(n.getBBox){var e=n.getBBox(),t=e.width,r=e.height;if(t||r)return!0}if(n.getBoundingClientRect){var i=n.getBoundingClientRect(),s=i.width,o=i.height;if(s||o)return!0}}return!1},Dde=n=>{const{componentCls:e,colorPrimary:t}=n;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${t})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${n.motionEaseOutCirc}`,`opacity 2s ${n.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${n.motionDurationSlow} ${n.motionEaseInOut}`,`opacity ${n.motionDurationSlow} ${n.motionEaseInOut}`].join(",")}}}}},Nde=bue("Wave",n=>[Dde(n)]),tY=`${FA}-wave-target`;function RL(n){return n&&n!=="#fff"&&n!=="#ffffff"&&n!=="rgb(255, 255, 255)"&&n!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&n!=="transparent"}function Fde(n){const{borderTopColor:e,borderColor:t,backgroundColor:r}=getComputedStyle(n);return RL(e)?e:RL(t)?t:RL(r)?r:null}function LL(n){return Number.isNaN(n)?0:n}const zde=n=>{const{className:e,target:t,component:r}=n,i=k.useRef(null),[s,o]=k.useState(null),[a,l]=k.useState([]),[c,u]=k.useState(0),[d,h]=k.useState(0),[p,g]=k.useState(0),[v,y]=k.useState(0),[x,w]=k.useState(!1),b={left:c,top:d,width:p,height:v,borderRadius:a.map(A=>`${A}px`).join(" ")};s&&(b["--wave-color"]=s);function _(){const A=getComputedStyle(t);o(Fde(t));const P=A.position==="static",{borderLeftWidth:M,borderTopWidth:L}=A;u(P?t.offsetLeft:LL(-parseFloat(M))),h(P?t.offsetTop:LL(-parseFloat(L))),g(t.offsetWidth),y(t.offsetHeight);const{borderTopLeftRadius:I,borderTopRightRadius:F,borderBottomLeftRadius:V,borderBottomRightRadius:j}=A;l([I,F,j,V].map(G=>LL(parseFloat(G))))}if(k.useEffect(()=>{if(t){const A=Nc(()=>{_(),w(!0)});let P;return typeof ResizeObserver<"u"&&(P=new ResizeObserver(_),P.observe(t)),()=>{Nc.cancel(A),P==null||P.disconnect()}}},[]),!x)return null;const C=(r==="Checkbox"||r==="Radio")&&(t==null?void 0:t.classList.contains(tY));return k.createElement(eb,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(A,P)=>{var M;if(P.deadline||P.propertyName==="opacity"){const L=(M=i.current)===null||M===void 0?void 0:M.parentElement;Ide(L).then(()=>{L==null||L.remove()})}return!1}},(A,P)=>{let{className:M}=A;return k.createElement("div",{ref:gp(i,P),className:yt(e,M,{"wave-quick":C}),style:b})})},Bde=(n,e)=>{var t;const{component:r}=e;if(r==="Checkbox"&&!(!((t=n.querySelector("input"))===null||t===void 0)&&t.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",n==null||n.insertBefore(i,n==null?void 0:n.firstChild),Rde(k.createElement(zde,Object.assign({},e,{target:n})),i)},$de=(n,e,t)=>{const{wave:r}=k.useContext(mr),[,i,s]=Wc(),o=Cs(c=>{const u=n.current;if(r!=null&&r.disabled||!u)return;const d=u.querySelector(`.${tY}`)||u,{showEffect:h}=r||{};(h||Bde)(d,{className:e,token:i,component:t,event:c,hashId:s})}),a=k.useRef();return c=>{Nc.cancel(a.current),a.current=Nc(()=>{o(c)})}},Ude=n=>{const{children:e,disabled:t,component:r}=n,{getPrefixCls:i}=k.useContext(mr),s=k.useRef(null),o=i("wave"),[,a]=Nde(o),l=$de(s,yt(o,a),r);if(it.useEffect(()=>{const u=s.current;if(!u||u.nodeType!==1||t)return;const d=h=>{!eY(h.target)||!u.getAttribute||u.getAttribute("disabled")||u.disabled||u.className.includes("disabled")||u.className.includes("-leave")||l(h)};return u.addEventListener("click",d,!0),()=>{u.removeEventListener("click",d,!0)}},[t]),!it.isValidElement(e))return e??null;const c=Qw(e)?gp(e.ref,s):s;return tb(e,{ref:c})},nY=n=>{const e=it.useContext(Fv);return it.useMemo(()=>n?typeof n=="string"?n??e:n instanceof Function?n(e):e:e,[n,e])},rY=k.createContext(null),Wde=(n,e)=>{const t=k.useContext(rY),r=k.useMemo(()=>{if(!t)return"";const{compactDirection:i,isFirstItem:s,isLastItem:o}=t,a=i==="vertical"?"-vertical-":"-";return yt(`${n}-compact${a}item`,{[`${n}-compact${a}first-item`]:s,[`${n}-compact${a}last-item`]:o,[`${n}-compact${a}item-rtl`]:e==="rtl"})},[n,e,t]);return{compactSize:t==null?void 0:t.compactSize,compactDirection:t==null?void 0:t.compactDirection,compactItemClassnames:r}},Hde=n=>{let{children:e}=n;return k.createElement(rY.Provider,{value:null},e)};var jde=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const iY=k.createContext(void 0),Vde=n=>{const{getPrefixCls:e,direction:t}=k.useContext(mr),{prefixCls:r,size:i,className:s}=n,o=jde(n,["prefixCls","size","className"]),a=e("btn-group",r),[,,l]=Wc();let c="";switch(i){case"large":c="lg";break;case"small":c="sm";break}const u=yt(a,{[`${a}-${c}`]:c,[`${a}-rtl`]:t==="rtl"},s,l);return k.createElement(iY.Provider,{value:i},k.createElement("div",Object.assign({},o,{className:u})))},WW=/^[\u4E00-\u9FA5]{2}$/,_O=WW.test.bind(WW);function HW(n){return typeof n=="string"}function kL(n){return n==="text"||n==="link"}function Gde(n,e){if(n==null)return;const t=e?" ":"";return typeof n!="string"&&typeof n!="number"&&HW(n.type)&&_O(n.props.children)?tb(n,{children:n.props.children.split("").join(t)}):HW(n)?_O(n)?it.createElement("span",null,n.split("").join(t)):it.createElement("span",null,n):KX(n)?it.createElement("span",null,n):n}function qde(n,e){let t=!1;const r=[];return it.Children.forEach(n,i=>{const s=typeof i,o=s==="string"||s==="number";if(t&&o){const a=r.length-1,l=r[a];r[a]=`${l}${i}`}else r.push(i);t=o}),it.Children.map(r,i=>Gde(i,e))}const sY=k.forwardRef((n,e)=>{const{className:t,style:r,children:i,prefixCls:s}=n,o=yt(`${s}-icon`,t);return it.createElement("span",{ref:e,className:o,style:r},i)}),jW=k.forwardRef((n,e)=>{const{prefixCls:t,className:r,style:i,iconClassName:s}=n,o=yt(`${t}-loading-icon`,r);return it.createElement(sY,{prefixCls:t,className:o,style:i,ref:e},it.createElement(QX,{className:s}))}),IL=()=>({width:0,opacity:0,transform:"scale(0)"}),OL=n=>({width:n.scrollWidth,opacity:1,transform:"scale(1)"}),Xde=n=>{const{prefixCls:e,loading:t,existIcon:r,className:i,style:s}=n,o=!!t;return r?it.createElement(jW,{prefixCls:e,className:i,style:s}):it.createElement(eb,{visible:o,motionName:`${e}-loading-icon-motion`,motionLeave:o,removeOnLeave:!0,onAppearStart:IL,onAppearActive:OL,onEnterStart:IL,onEnterActive:OL,onLeaveStart:OL,onLeaveActive:IL},(a,l)=>{let{className:c,style:u}=a;return it.createElement(jW,{prefixCls:e,className:i,style:Object.assign(Object.assign({},s),u),ref:l,iconClassName:c})})},VW=(n,e)=>({[`> span, > ${n}`]:{"&:not(:last-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),Yde=n=>{const{componentCls:e,fontSize:t,lineWidth:r,groupBorderColor:i,colorErrorHover:s}=n;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:n.calc(r).mul(-1).equal(),[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:t}},VW(`${e}-primary`,i),VW(`${e}-danger`,s)]}},Xr=Math.round;function DL(n,e){const t=n.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=t.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)r[i]=e(r[i]||0,t[i]||"",i);return t[3]?r[3]=t[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const GW=(n,e,t)=>t===0?n:n/100;function J0(n,e){const t=e||255;return n>t?t:n<0?0:n}class BT{constructor(e){Se(this,"isValid",!0),Se(this,"r",0),Se(this,"g",0),Se(this,"b",0),Se(this,"a",1),Se(this,"_h",void 0),Se(this,"_s",void 0),Se(this,"_l",void 0),Se(this,"_v",void 0),Se(this,"_max",void 0),Se(this,"_min",void 0),Se(this,"_brightness",void 0);function t(r){return r[0]in e&&r[1]in e&&r[2]in e}if(e)if(typeof e=="string"){let i=function(s){return r.startsWith(s)};const r=e.trim();/^#?[A-F\d]{3,8}$/i.test(r)?this.fromHexString(r):i("rgb")?this.fromRgbString(r):i("hsl")?this.fromHslString(r):(i("hsv")||i("hsb"))&&this.fromHsvString(r)}else if(e instanceof BT)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=J0(e.r),this.g=J0(e.g),this.b=J0(e.b),this.a=typeof e.a=="number"?J0(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else if(t("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(s){const o=s/255;return o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4)}const t=e(this.r),r=e(this.g),i=e(this.b);return .2126*t+.7152*r+.0722*i}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=Xr(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const t=this.getHue(),r=this.getSaturation();let i=this.getLightness()-e/100;return i<0&&(i=0),this._c({h:t,s:r,l:i,a:this.a})}lighten(e=10){const t=this.getHue(),r=this.getSaturation();let i=this.getLightness()+e/100;return i>1&&(i=1),this._c({h:t,s:r,l:i,a:this.a})}mix(e,t=50){const r=this._c(e),i=t/100,s=a=>(r[a]-this[a])*i+this[a],o={r:Xr(s("r")),g:Xr(s("g")),b:Xr(s("b")),a:Xr(s("a")*100)/100};return this._c(o)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),r=this.a+t.a*(1-this.a),i=s=>Xr((this[s]*this.a+t[s]*t.a*(1-this.a))/r);return this._c({r:i("r"),g:i("g"),b:i("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=t.length===2?t:"0"+t;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const i=(this.b||0).toString(16);if(e+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const s=Xr(this.a*255).toString(16);e+=s.length===2?s:"0"+s}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=Xr(this.getSaturation()*100),r=Xr(this.getLightness()*100);return this.a!==1?`hsla(${e},${t}%,${r}%,${this.a})`:`hsl(${e},${t}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,r){const i=this.clone();return i[e]=J0(t,r),i}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function r(i,s){return parseInt(t[i]+t[s||i],16)}t.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=t[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=t[6]?r(6,7)/255:1)}fromHsl({h:e,s:t,l:r,a:i}){if(this._h=e%360,this._s=t,this._l=r,this.a=typeof i=="number"?i:1,t<=0){const h=Xr(r*255);this.r=h,this.g=h,this.b=h}let s=0,o=0,a=0;const l=e/60,c=(1-Math.abs(2*r-1))*t,u=c*(1-Math.abs(l%2-1));l>=0&&l<1?(s=c,o=u):l>=1&&l<2?(s=u,o=c):l>=2&&l<3?(o=c,a=u):l>=3&&l<4?(o=u,a=c):l>=4&&l<5?(s=u,a=c):l>=5&&l<6&&(s=c,a=u);const d=r-c/2;this.r=Xr((s+d)*255),this.g=Xr((o+d)*255),this.b=Xr((a+d)*255)}fromHsv({h:e,s:t,v:r,a:i}){this._h=e%360,this._s=t,this._v=r,this.a=typeof i=="number"?i:1;const s=Xr(r*255);if(this.r=s,this.g=s,this.b=s,t<=0)return;const o=e/60,a=Math.floor(o),l=o-a,c=Xr(r*(1-t)*255),u=Xr(r*(1-t*l)*255),d=Xr(r*(1-t*(1-l))*255);switch(a){case 0:this.g=d,this.b=c;break;case 1:this.r=u,this.b=c;break;case 2:this.r=c,this.b=d;break;case 3:this.r=c,this.g=u;break;case 4:this.r=d,this.g=c;break;case 5:default:this.g=c,this.b=u;break}}fromHsvString(e){const t=DL(e,GW);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=DL(e,GW);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=DL(e,(r,i)=>i.includes("%")?Xr(r/100*255):r);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}var Kde=["b"],Qde=["v"],NL=function(e){return Math.round(Number(e||0))},Zde=function(e){if(e instanceof BT)return e;if(e&&Rt(e)==="object"&&"h"in e&&"b"in e){var t=e,r=t.b,i=ls(t,Kde);return ke(ke({},i),{},{v:r})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},cw=function(n){Nd(t,n);var e=Fd(t);function t(r){return si(this,t),e.call(this,Zde(r))}return oi(t,[{key:"toHsbString",value:function(){var i=this.toHsb(),s=NL(i.s*100),o=NL(i.b*100),a=NL(i.h),l=i.a,c="hsb(".concat(a,", ").concat(s,"%, ").concat(o,"%)"),u="hsba(".concat(a,", ").concat(s,"%, ").concat(o,"%, ").concat(l.toFixed(l===0?0:2),")");return l===1?c:u}},{key:"toHsb",value:function(){var i=this.toHsv(),s=i.v,o=ls(i,Qde);return ke(ke({},o),{},{b:s,a:this.a})}}]),t}(BT),Jde=function(e){return e instanceof cw?e:new cw(e)};Jde("#1677ff");const ehe=(n,e)=>(n==null?void 0:n.replace(/[^\w/]/g,"").slice(0,e?8:6))||"",the=(n,e)=>n?ehe(n,e):"";let nhe=function(){function n(e){si(this,n);var t;if(this.cleared=!1,e instanceof n){this.metaColor=e.metaColor.clone(),this.colors=(t=e.colors)===null||t===void 0?void 0:t.map(i=>({color:new n(i.color),percent:i.percent})),this.cleared=e.cleared;return}const r=Array.isArray(e);r&&e.length?(this.colors=e.map(i=>{let{color:s,percent:o}=i;return{color:new n(s),percent:o}}),this.metaColor=new cw(this.colors[0].color.metaColor)):this.metaColor=new cw(r?"":e),(!e||r&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return oi(n,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return the(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:t}=this;return t?`linear-gradient(90deg, ${t.map(i=>`${i.color.toRgbString()} ${i.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(t){return!t||this.isGradient()!==t.isGradient()?!1:this.isGradient()?this.colors.length===t.colors.length&&this.colors.every((r,i)=>{const s=t.colors[i];return r.percent===s.percent&&r.color.equals(s.color)}):this.toHexString()===t.toHexString()}}])}();var rhe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},ihe=function(e,t){return k.createElement(ua,Gn({},e,{ref:t,icon:rhe}))},qW=k.forwardRef(ihe);const she=n=>({animationDuration:n,animationFillMode:"both"}),ohe=n=>({animationDuration:n,animationFillMode:"both"}),ahe=function(n,e,t,r){const s=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${s}${n}-enter,
      ${s}${n}-appear
    `]:Object.assign(Object.assign({},she(r)),{animationPlayState:"paused"}),[`${s}${n}-leave`]:Object.assign(Object.assign({},ohe(r)),{animationPlayState:"paused"}),[`
      ${s}${n}-enter${n}-enter-active,
      ${s}${n}-appear${n}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${s}${n}-leave${n}-leave-active`]:{animationName:t,animationPlayState:"running",pointerEvents:"none"}}},lhe=new Bs("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),che=new Bs("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),XW=new Bs("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),YW=new Bs("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),uhe=new Bs("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),dhe=new Bs("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),hhe=new Bs("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),fhe=new Bs("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),phe=new Bs("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),mhe=new Bs("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),ghe=new Bs("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),vhe=new Bs("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),yhe={zoom:{inKeyframes:lhe,outKeyframes:che},"zoom-big":{inKeyframes:XW,outKeyframes:YW},"zoom-big-fast":{inKeyframes:XW,outKeyframes:YW},"zoom-left":{inKeyframes:hhe,outKeyframes:fhe},"zoom-right":{inKeyframes:phe,outKeyframes:mhe},"zoom-up":{inKeyframes:uhe,outKeyframes:dhe},"zoom-down":{inKeyframes:ghe,outKeyframes:vhe}},xhe=(n,e)=>{const{antCls:t}=n,r=`${t}-${e}`,{inKeyframes:i,outKeyframes:s}=yhe[e];return[ahe(r,i,s,n.motionDurationFast),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:n.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},whe=(n,e)=>{const{r:t,g:r,b:i,a:s}=n.toRgb(),o=new cw(n.toRgbString()).onBackground(e).toHsv();return s<=.5?o.v>.5:t*.299+r*.587+i*.114>192},oY=n=>{const{paddingInline:e,onlyIconSize:t,paddingBlock:r}=n;return xo(n,{buttonPaddingHorizontal:e,buttonPaddingVertical:r,buttonIconOnlyFontSize:t})},aY=n=>{var e,t,r,i,s,o;const a=(e=n.contentFontSize)!==null&&e!==void 0?e:n.fontSize,l=(t=n.contentFontSizeSM)!==null&&t!==void 0?t:n.fontSize,c=(r=n.contentFontSizeLG)!==null&&r!==void 0?r:n.fontSizeLG,u=(i=n.contentLineHeight)!==null&&i!==void 0?i:VE(a),d=(s=n.contentLineHeightSM)!==null&&s!==void 0?s:VE(l),h=(o=n.contentLineHeightLG)!==null&&o!==void 0?o:VE(c),p=whe(new nhe(n.colorBgSolid),"#fff")?"#000":"#fff";return{fontWeight:400,defaultShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlTmpOutline}`,primaryShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlOutline}`,dangerShadow:`0 ${n.controlOutlineWidth}px 0 ${n.colorErrorOutline}`,primaryColor:n.colorTextLightSolid,dangerColor:n.colorTextLightSolid,borderColorDisabled:n.colorBorder,defaultGhostColor:n.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:n.colorBgContainer,paddingInline:n.paddingContentHorizontal-n.lineWidth,paddingInlineLG:n.paddingContentHorizontal-n.lineWidth,paddingInlineSM:8-n.lineWidth,onlyIconSize:n.fontSizeLG,onlyIconSizeSM:n.fontSizeLG-2,onlyIconSizeLG:n.fontSizeLG+2,groupBorderColor:n.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:n.colorText,textTextHoverColor:n.colorText,textTextActiveColor:n.colorText,textHoverBg:n.colorBgTextHover,defaultColor:n.colorText,defaultBg:n.colorBgContainer,defaultBorderColor:n.colorBorder,defaultBorderColorDisabled:n.colorBorder,defaultHoverBg:n.colorBgContainer,defaultHoverColor:n.colorPrimaryHover,defaultHoverBorderColor:n.colorPrimaryHover,defaultActiveBg:n.colorBgContainer,defaultActiveColor:n.colorPrimaryActive,defaultActiveBorderColor:n.colorPrimaryActive,solidTextColor:p,contentFontSize:a,contentFontSizeSM:l,contentFontSizeLG:c,contentLineHeight:u,contentLineHeightSM:d,contentLineHeightLG:h,paddingBlock:Math.max((n.controlHeight-a*u)/2-n.lineWidth,0),paddingBlockSM:Math.max((n.controlHeightSM-l*d)/2-n.lineWidth,0),paddingBlockLG:Math.max((n.controlHeightLG-c*h)/2-n.lineWidth,0)}},bhe=n=>{const{componentCls:e,iconCls:t,fontWeight:r}=n;return{[e]:{outline:"none",position:"relative",display:"inline-flex",gap:n.marginXS,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${nn(n.lineWidth)} ${n.lineType} transparent`,cursor:"pointer",transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:n.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${e}-icon`]:{lineHeight:1},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},kX(n)),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${t})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},"&-icon-end":{flexDirection:"row-reverse"}}}},lY=(n,e,t)=>({[`&:not(:disabled):not(${n}-disabled)`]:{"&:hover":e,"&:active":t}}),_he=n=>({minWidth:n.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),She=n=>({borderRadius:n.controlHeight,paddingInlineStart:n.calc(n.controlHeight).div(2).equal(),paddingInlineEnd:n.calc(n.controlHeight).div(2).equal()}),Ehe=n=>({cursor:"not-allowed",borderColor:n.borderColorDisabled,color:n.colorTextDisabled,background:n.colorBgContainerDisabled,boxShadow:"none"}),n5=(n,e,t,r,i,s,o,a)=>({[`&${n}-background-ghost`]:Object.assign(Object.assign({color:t||void 0,background:e,borderColor:r||void 0,boxShadow:"none"},lY(n,Object.assign({background:e},o),Object.assign({background:e},a))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:s||void 0}})}),Mhe=n=>({[`&:disabled, &${n.componentCls}-disabled`]:Object.assign({},Ehe(n))}),Che=n=>({[`&:disabled, &${n.componentCls}-disabled`]:{cursor:"not-allowed",color:n.colorTextDisabled}}),$T=(n,e,t,r)=>{const s=r&&["link","text"].includes(r)?Che:Mhe;return Object.assign(Object.assign({},s(n)),lY(n.componentCls,e,t))},r5=(n,e,t,r,i)=>({[`&${n.componentCls}-variant-solid`]:Object.assign({color:e,background:t},$T(n,r,i))}),i5=(n,e,t,r,i)=>({[`&${n.componentCls}-variant-outlined, &${n.componentCls}-variant-dashed`]:Object.assign({borderColor:e,background:t},$T(n,r,i))}),s5=n=>({[`&${n.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),o5=(n,e,t,r)=>({[`&${n.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:e},$T(n,t,r))}),zv=(n,e,t,r,i)=>({[`&${n.componentCls}-variant-${t}`]:Object.assign({color:e,boxShadow:"none"},$T(n,r,i,t))}),Ahe=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.defaultColor,boxShadow:n.defaultShadow},r5(n,n.solidTextColor,n.colorBgSolid,{background:n.colorBgSolidHover},{background:n.colorBgSolidActive})),s5(n)),o5(n,n.colorFillTertiary,{background:n.colorFillSecondary},{background:n.colorFill})),zv(n,n.textTextColor,"link",{color:n.colorLinkHover,background:n.linkHoverBg},{color:n.colorLinkActive})),n5(n.componentCls,n.ghostBg,n.defaultGhostColor,n.defaultGhostBorderColor,n.colorTextDisabled,n.colorBorder)),The=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.colorPrimary,boxShadow:n.primaryShadow},i5(n,n.colorPrimary,n.colorBgContainer,{color:n.colorPrimaryTextHover,borderColor:n.colorPrimaryHover,background:n.colorBgContainer},{color:n.colorPrimaryTextActive,borderColor:n.colorPrimaryActive,background:n.colorBgContainer})),s5(n)),o5(n,n.colorPrimaryBg,{background:n.colorPrimaryBgHover},{background:n.colorPrimaryBorder})),zv(n,n.colorLink,"text",{color:n.colorPrimaryTextHover,background:n.colorPrimaryBg},{color:n.colorPrimaryTextActive,background:n.colorPrimaryBorder})),n5(n.componentCls,n.ghostBg,n.colorPrimary,n.colorPrimary,n.colorTextDisabled,n.colorBorder,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),Phe=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.colorError,boxShadow:n.dangerShadow},r5(n,n.dangerColor,n.colorError,{background:n.colorErrorHover},{background:n.colorErrorActive})),i5(n,n.colorError,n.colorBgContainer,{color:n.colorErrorHover,borderColor:n.colorErrorBorderHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),s5(n)),o5(n,n.colorErrorBg,{background:n.colorErrorBgFilledHover},{background:n.colorErrorBgActive})),zv(n,n.colorError,"text",{color:n.colorErrorHover,background:n.colorErrorBg},{color:n.colorErrorHover,background:n.colorErrorBgActive})),zv(n,n.colorError,"link",{color:n.colorErrorHover},{color:n.colorErrorActive})),n5(n.componentCls,n.ghostBg,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder,{color:n.colorErrorHover,borderColor:n.colorErrorHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),Rhe=n=>{const{componentCls:e}=n;return{[`${e}-color-default`]:Ahe(n),[`${e}-color-primary`]:The(n),[`${e}-color-dangerous`]:Phe(n)}},Lhe=n=>Object.assign(Object.assign(Object.assign(Object.assign({},i5(n,n.defaultBorderColor,n.defaultBg,{color:n.defaultHoverColor,borderColor:n.defaultHoverBorderColor,background:n.defaultHoverBg},{color:n.defaultActiveColor,borderColor:n.defaultActiveBorderColor,background:n.defaultActiveBg})),zv(n,n.textTextColor,"text",{color:n.textTextHoverColor,background:n.textHoverBg},{color:n.textTextActiveColor,background:n.colorBgTextActive})),r5(n,n.primaryColor,n.colorPrimary,{background:n.colorPrimaryHover,color:n.primaryColor},{background:n.colorPrimaryActive,color:n.primaryColor})),zv(n,n.colorLink,"link",{color:n.colorLinkHover,background:n.linkHoverBg},{color:n.colorLinkActive})),a5=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:t,controlHeight:r,fontSize:i,lineHeight:s,borderRadius:o,buttonPaddingHorizontal:a,iconCls:l,buttonPaddingVertical:c}=n,u=`${t}-icon-only`;return[{[e]:{fontSize:i,lineHeight:s,height:r,padding:`${nn(c)} ${nn(a)}`,borderRadius:o,[`&${u}`]:{width:r,paddingInline:0,[`&${t}-compact-item`]:{flex:"none"},[`&${t}-round`]:{width:"auto"},[l]:{fontSize:n.buttonIconOnlyFontSize}},[`&${t}-loading`]:{opacity:n.opacityLoading,cursor:"default"},[`${t}-loading-icon`]:{transition:`width ${n.motionDurationSlow} ${n.motionEaseInOut}, opacity ${n.motionDurationSlow} ${n.motionEaseInOut}`}}},{[`${t}${t}-circle${e}`]:_he(n)},{[`${t}${t}-round${e}`]:She(n)}]},khe=n=>{const e=xo(n,{fontSize:n.contentFontSize,lineHeight:n.contentLineHeight});return a5(e,n.componentCls)},Ihe=n=>{const e=xo(n,{controlHeight:n.controlHeightSM,fontSize:n.contentFontSizeSM,lineHeight:n.contentLineHeightSM,padding:n.paddingXS,buttonPaddingHorizontal:n.paddingInlineSM,buttonPaddingVertical:n.paddingBlockSM,borderRadius:n.borderRadiusSM,buttonIconOnlyFontSize:n.onlyIconSizeSM});return a5(e,`${n.componentCls}-sm`)},Ohe=n=>{const e=xo(n,{controlHeight:n.controlHeightLG,fontSize:n.contentFontSizeLG,lineHeight:n.contentLineHeightLG,buttonPaddingHorizontal:n.paddingInlineLG,buttonPaddingVertical:n.paddingBlockLG,borderRadius:n.borderRadiusLG,buttonIconOnlyFontSize:n.onlyIconSizeLG});return a5(e,`${n.componentCls}-lg`)},Dhe=n=>{const{componentCls:e}=n;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},Nhe=zd("Button",n=>{const e=oY(n);return[bhe(e),khe(e),Ihe(e),Ohe(e),Dhe(e),Rhe(e),Lhe(e),Yde(e)]},aY,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function Fhe(n,e,t){const{focusElCls:r,focus:i,borderElCls:s}=t,o=s?"> *":"",a=["hover",i?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${o}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${o}`]:{zIndex:0}})}}function zhe(n,e,t){const{borderElCls:r}=t,i=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${i}, &${n}-sm ${i}, &${n}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${i}, &${n}-sm ${i}, &${n}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function cY(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:t}=n,r=`${t}-compact`;return{[r]:Object.assign(Object.assign({},Fhe(n,r,e)),zhe(t,r,e))}}function Bhe(n,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:n.calc(n.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function $he(n,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function Uhe(n){const e=`${n.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},Bhe(n,e)),$he(n.componentCls,e))}}const Whe=n=>{const{componentCls:e,calc:t}=n;return{[e]:{[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:t(n.lineWidth).mul(-1).equal(),insetInlineStart:t(n.lineWidth).mul(-1).equal(),display:"inline-block",width:n.lineWidth,height:`calc(100% + ${nn(n.lineWidth)} * 2)`,backgroundColor:n.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:t(n.lineWidth).mul(-1).equal(),insetInlineStart:t(n.lineWidth).mul(-1).equal(),display:"inline-block",width:`calc(100% + ${nn(n.lineWidth)} * 2)`,height:n.lineWidth,backgroundColor:n.colorPrimaryHover,content:'""'}}}}}}},Hhe=_ue(["Button","compact"],n=>{const e=oY(n);return[cY(e),Uhe(e),Whe(e)]},aY);var jhe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function Vhe(n){if(typeof n=="object"&&n){let e=n==null?void 0:n.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!n,delay:0}}const Ghe={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["primary","link"],text:["default","text"]},qhe=it.forwardRef((n,e)=>{var t,r,i;const{loading:s=!1,prefixCls:o,color:a,variant:l,type:c,danger:u=!1,shape:d="default",size:h,styles:p,disabled:g,className:v,rootClassName:y,children:x,icon:w,iconPosition:b="start",ghost:_=!1,block:C=!1,htmlType:A="button",classNames:P,style:M={},autoInsertSpace:L}=n,I=jhe(n,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace"]),F=c||"default",[V,j]=k.useMemo(()=>{if(a&&l)return[a,l];const T=Ghe[F]||[];return u?["danger",T[1]]:T},[c,a,l,u]),J=V==="danger"?"dangerous":V,{getPrefixCls:q,direction:H,button:D}=k.useContext(mr),z=(t=L??(D==null?void 0:D.autoInsertSpace))!==null&&t!==void 0?t:!0,B=q("btn",o),[ee,Y,oe]=Nhe(B),ce=k.useContext(ow),me=g??ce,de=k.useContext(iY),be=k.useMemo(()=>Vhe(s),[s]),[Oe,Te]=k.useState(be.loading),[we,De]=k.useState(!1),fe=gp(e,k.createRef()),Ae=k.Children.count(x)===1&&!w&&!kL(j);k.useEffect(()=>{let T=null;be.delay>0?T=setTimeout(()=>{T=null,Te(!0)},be.delay):Te(be.loading);function N(){T&&(clearTimeout(T),T=null)}return N},[be]),k.useEffect(()=>{if(!fe||!fe.current||!z)return;const T=fe.current.textContent;Ae&&_O(T)?we||De(!0):we&&De(!1)},[fe]);const Pe=T=>{const{onClick:N}=n;if(Oe||me){T.preventDefault();return}N==null||N(T)},{compactSize:ge,compactItemClassnames:je}=Wde(B,H),We={large:"lg",small:"sm",middle:void 0},qe=nY(T=>{var N,U;return(U=(N=h??ge)!==null&&N!==void 0?N:de)!==null&&U!==void 0?U:T}),Ze=qe&&We[qe]||"",Xe=Oe?"loading":w,te=r0(I,["navigate"]),X=yt(B,Y,oe,{[`${B}-${d}`]:d!=="default"&&d,[`${B}-${F}`]:F,[`${B}-dangerous`]:u,[`${B}-color-${J}`]:J,[`${B}-variant-${j}`]:j,[`${B}-${Ze}`]:Ze,[`${B}-icon-only`]:!x&&x!==0&&!!Xe,[`${B}-background-ghost`]:_&&!kL(j),[`${B}-loading`]:Oe,[`${B}-two-chinese-chars`]:we&&z&&!Oe,[`${B}-block`]:C,[`${B}-rtl`]:H==="rtl",[`${B}-icon-end`]:b==="end"},je,v,y,D==null?void 0:D.className),ve=Object.assign(Object.assign({},D==null?void 0:D.style),M),Ce=yt(P==null?void 0:P.icon,(r=D==null?void 0:D.classNames)===null||r===void 0?void 0:r.icon),$e=Object.assign(Object.assign({},(p==null?void 0:p.icon)||{}),((i=D==null?void 0:D.styles)===null||i===void 0?void 0:i.icon)||{}),Ve=w&&!Oe?it.createElement(sY,{prefixCls:B,className:Ce,style:$e},w):it.createElement(Xde,{existIcon:!!w,prefixCls:B,loading:Oe}),Je=x||x===0?qde(x,Ae&&z):null;if(te.href!==void 0)return ee(it.createElement("a",Object.assign({},te,{className:yt(X,{[`${B}-disabled`]:me}),href:me?void 0:te.href,style:ve,onClick:Pe,ref:fe,tabIndex:me?-1:0}),Ve,Je));let Ge=it.createElement("button",Object.assign({},I,{type:A,className:X,style:ve,onClick:Pe,disabled:me,ref:fe}),Ve,Je,!!je&&it.createElement(Hhe,{key:"compact",prefixCls:B}));return kL(j)||(Ge=it.createElement(Ude,{component:"Button",disabled:Oe},Ge)),ee(Ge)}),Ed=qhe;Ed.Group=Vde;Ed.__ANT_BUTTON=!0;var uY=k.createContext(null),KW=[];function Xhe(n,e){var t=k.useState(function(){if(!Ns())return null;var g=document.createElement("div");return g}),r=nt(t,1),i=r[0],s=k.useRef(!1),o=k.useContext(uY),a=k.useState(KW),l=nt(a,2),c=l[0],u=l[1],d=o||(s.current?void 0:function(g){u(function(v){var y=[g].concat(St(v));return y})});function h(){i.parentElement||document.body.appendChild(i),s.current=!0}function p(){var g;(g=i.parentElement)===null||g===void 0||g.removeChild(i),s.current=!1}return Vn(function(){return n?o?o(h):h():p(),p},[n]),Vn(function(){c.length&&(c.forEach(function(g){return g()}),u(KW))},[c]),[i,d]}function Yhe(n){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),t=document.createElement("div");t.id=e;var r=t.style;r.position="absolute",r.left="0",r.top="0",r.width="100px",r.height="100px",r.overflow="scroll";var i,s;if(n){var o=getComputedStyle(n);r.scrollbarColor=o.scrollbarColor,r.scrollbarWidth=o.scrollbarWidth;var a=getComputedStyle(n,"::-webkit-scrollbar"),l=parseInt(a.width,10),c=parseInt(a.height,10);try{var u=l?"width: ".concat(a.width,";"):"",d=c?"height: ".concat(a.height,";"):"";Pc(`
#`.concat(e,`::-webkit-scrollbar {
`).concat(u,`
`).concat(d,`
}`),e)}catch(g){console.error(g),i=l,s=c}}document.body.appendChild(t);var h=n&&i&&!isNaN(i)?i:t.offsetWidth-t.clientWidth,p=n&&s&&!isNaN(s)?s:t.offsetHeight-t.clientHeight;return document.body.removeChild(t),tw(e),{width:h,height:p}}function Khe(n){return typeof document>"u"||!n||!(n instanceof Element)?{width:0,height:0}:Yhe(n)}function Qhe(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var Zhe="rc-util-locker-".concat(Date.now()),QW=0;function Jhe(n){var e=!!n,t=k.useState(function(){return QW+=1,"".concat(Zhe,"_").concat(QW)}),r=nt(t,1),i=r[0];Vn(function(){if(e){var s=Khe(document.body).width,o=Qhe();Pc(`
html body {
  overflow-y: hidden;
  `.concat(o?"width: calc(100% - ".concat(s,"px);"):"",`
}`),i)}else tw(i);return function(){tw(i)}},[e,i])}var efe=!1;function tfe(n){return efe}var ZW=function(e){return e===!1?!1:!Ns()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},dY=k.forwardRef(function(n,e){var t=n.open,r=n.autoLock,i=n.getContainer;n.debug;var s=n.autoDestroy,o=s===void 0?!0:s,a=n.children,l=k.useState(t),c=nt(l,2),u=c[0],d=c[1],h=u||t;k.useEffect(function(){(o||t)&&d(t)},[t,o]);var p=k.useState(function(){return ZW(i)}),g=nt(p,2),v=g[0],y=g[1];k.useEffect(function(){var F=ZW(i);y(F??null)});var x=Xhe(h&&!v),w=nt(x,2),b=w[0],_=w[1],C=v??b;Jhe(r&&t&&Ns()&&(C===b||C===document.body));var A=null;if(a&&Qw(a)&&e){var P=a;A=P.ref}var M=Uz(A,e);if(!h||!Ns()||v===void 0)return null;var L=C===!1||tfe(),I=a;return e&&(I=k.cloneElement(a,{ref:M})),k.createElement(uY.Provider,{value:_},L?I:wT.createPortal(I,C))});function nfe(){var n=ke({},Hf);return n.useId}var JW=0,eH=nfe();const rfe=eH?function(e){var t=eH();return e||t}:function(e){var t=k.useState("ssr-id"),r=nt(t,2),i=r[0],s=r[1];return k.useEffect(function(){var o=JW;JW+=1,s("rc_unique_".concat(o))},[]),e||i};var af="RC_FORM_INTERNAL_HOOKS",Cn=function(){co(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Bv=k.createContext({getFieldValue:Cn,getFieldsValue:Cn,getFieldError:Cn,getFieldWarning:Cn,getFieldsError:Cn,isFieldsTouched:Cn,isFieldTouched:Cn,isFieldValidating:Cn,isFieldsValidating:Cn,resetFields:Cn,setFields:Cn,setFieldValue:Cn,setFieldsValue:Cn,validateFields:Cn,submit:Cn,getInternalHooks:function(){return Cn(),{dispatch:Cn,initEntityValue:Cn,registerField:Cn,useSubscribe:Cn,setInitialValues:Cn,destroyForm:Cn,setCallbacks:Cn,registerWatch:Cn,getFields:Cn,setValidateMessages:Cn,setPreserve:Cn,getInitialValue:Cn}}}),UA=k.createContext(null);function SO(n){return n==null?[]:Array.isArray(n)?n:[n]}function ife(n){return n&&!!n._init}function EO(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var MO=EO();function sfe(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch{return typeof n=="function"}}function ofe(n,e,t){if(Wz())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(n.bind.apply(n,r));return t&&Zx(i,t.prototype),i}function CO(n){var e=typeof Map=="function"?new Map:void 0;return CO=function(r){if(r===null||!sfe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return ofe(r,arguments,Jx(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Zx(i,r)},CO(n)}var afe=/%[sdj%]/g,lfe=function(){};function AO(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var r=t.field;e[r]=e[r]||[],e[r].push(t)}),e}function oo(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=0,s=t.length;if(typeof n=="function")return n.apply(null,t);if(typeof n=="string"){var o=n.replace(afe,function(a){if(a==="%%")return"%";if(i>=s)return a;switch(a){case"%s":return String(t[i++]);case"%d":return Number(t[i++]);case"%j":try{return JSON.stringify(t[i++])}catch{return"[Circular]"}break;default:return a}});return o}return n}function cfe(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function $r(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||cfe(e)&&typeof n=="string"&&!n)}function ufe(n,e,t){var r=[],i=0,s=n.length;function o(a){r.push.apply(r,St(a||[])),i++,i===s&&t(r)}n.forEach(function(a){e(a,o)})}function tH(n,e,t){var r=0,i=n.length;function s(o){if(o&&o.length){t(o);return}var a=r;r=r+1,a<i?e(n[a],s):t([])}s([])}function dfe(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,St(n[t]||[]))}),e}var nH=function(n){Nd(t,n);var e=Fd(t);function t(r,i){var s;return si(this,t),s=e.call(this,"Async Validation Error"),Se(Jt(s),"errors",void 0),Se(Jt(s),"fields",void 0),s.errors=r,s.fields=i,s}return oi(t)}(CO(Error));function hfe(n,e,t,r,i){if(e.first){var s=new Promise(function(h,p){var g=function(x){return r(x),x.length?p(new nH(x,AO(x))):h(i)},v=dfe(n);tH(v,t,g)});return s.catch(function(h){return h}),s}var o=e.firstFields===!0?Object.keys(n):e.firstFields||[],a=Object.keys(n),l=a.length,c=0,u=[],d=new Promise(function(h,p){var g=function(y){if(u.push.apply(u,y),c++,c===l)return r(u),u.length?p(new nH(u,AO(u))):h(i)};a.length||(r(u),h(i)),a.forEach(function(v){var y=n[v];o.indexOf(v)!==-1?tH(y,t,g):ufe(y,t,g)})});return d.catch(function(h){return h}),d}function ffe(n){return!!(n&&n.message!==void 0)}function pfe(n,e){for(var t=n,r=0;r<e.length;r++){if(t==null)return t;t=t[e[r]]}return t}function rH(n,e){return function(t){var r;return n.fullFields?r=pfe(e,n.fullFields):r=e[t.field||n.fullField],ffe(t)?(t.field=t.field||n.fullField,t.fieldValue=r,t):{message:typeof t=="function"?t():t,fieldValue:r,field:t.field||n.fullField}}}function iH(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];Rt(r)==="object"&&Rt(n[t])==="object"?n[t]=ke(ke({},n[t]),r):n[t]=r}}return n}var Zp="enum",mfe=function(e,t,r,i,s){e[Zp]=Array.isArray(e[Zp])?e[Zp]:[],e[Zp].indexOf(t)===-1&&i.push(oo(s.messages[Zp],e.fullField,e[Zp].join(", ")))},gfe=function(e,t,r,i,s){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||i.push(oo(s.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var o=new RegExp(e.pattern);o.test(t)||i.push(oo(s.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},vfe=function(e,t,r,i,s){var o=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=t,d=null,h=typeof t=="number",p=typeof t=="string",g=Array.isArray(t);if(h?d="number":p?d="string":g&&(d="array"),!d)return!1;g&&(u=t.length),p&&(u=t.replace(c,"_").length),o?u!==e.len&&i.push(oo(s.messages[d].len,e.fullField,e.len)):a&&!l&&u<e.min?i.push(oo(s.messages[d].min,e.fullField,e.min)):l&&!a&&u>e.max?i.push(oo(s.messages[d].max,e.fullField,e.max)):a&&l&&(u<e.min||u>e.max)&&i.push(oo(s.messages[d].range,e.fullField,e.min,e.max))},hY=function(e,t,r,i,s,o){e.required&&(!r.hasOwnProperty(e.field)||$r(t,o||e.type))&&i.push(oo(s.messages.required,e.fullField))},Z_;const yfe=function(){if(Z_)return Z_;var n="[a-fA-F\\d:]",e=function(A){return A&&A.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(n,")|(?<=").concat(n,")(?=\\s|$))"):""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(t,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(t,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(t,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(t,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(t,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(t,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(t,"|(?::").concat(r,"){1,7}|:))")],s="(?:%[0-9a-zA-Z]{1,})?",o="(?:".concat(i.join("|"),")").concat(s),a=new RegExp("(?:^".concat(t,"$)|(?:^").concat(o,"$)")),l=new RegExp("^".concat(t,"$")),c=new RegExp("^".concat(o,"$")),u=function(A){return A&&A.exact?a:new RegExp("(?:".concat(e(A)).concat(t).concat(e(A),")|(?:").concat(e(A)).concat(o).concat(e(A),")"),"g")};u.v4=function(C){return C&&C.exact?l:new RegExp("".concat(e(C)).concat(t).concat(e(C)),"g")},u.v6=function(C){return C&&C.exact?c:new RegExp("".concat(e(C)).concat(o).concat(e(C)),"g")};var d="(?:(?:[a-z]+:)?//)",h="(?:\\S+(?::\\S*)?@)?",p=u.v4().source,g=u.v6().source,v="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",y="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",x="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",w="(?::\\d{2,5})?",b='(?:[/?#][^\\s"]*)?',_="(?:".concat(d,"|www\\.)").concat(h,"(?:localhost|").concat(p,"|").concat(g,"|").concat(v).concat(y).concat(x,")").concat(w).concat(b);return Z_=new RegExp("(?:^".concat(_,"$)"),"i"),Z_};var sH={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Ny={integer:function(e){return Ny.number(e)&&parseInt(e,10)===e},float:function(e){return Ny.number(e)&&!Ny.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return Rt(e)==="object"&&!Ny.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(sH.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(yfe())},hex:function(e){return typeof e=="string"&&!!e.match(sH.hex)}},xfe=function(e,t,r,i,s){if(e.required&&t===void 0){hY(e,t,r,i,s);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;o.indexOf(a)>-1?Ny[a](t)||i.push(oo(s.messages.types[a],e.fullField,e.type)):a&&Rt(t)!==e.type&&i.push(oo(s.messages.types[a],e.fullField,e.type))},wfe=function(e,t,r,i,s){(/^\s+$/.test(t)||t==="")&&i.push(oo(s.messages.whitespace,e.fullField))};const rn={required:hY,whitespace:wfe,type:xfe,range:vfe,enum:mfe,pattern:gfe};var bfe=function(e,t,r,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if($r(t)&&!e.required)return r();rn.required(e,t,i,o,s)}r(o)},_fe=function(e,t,r,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(t==null&&!e.required)return r();rn.required(e,t,i,o,s,"array"),t!=null&&(rn.type(e,t,i,o,s),rn.range(e,t,i,o,s))}r(o)},Sfe=function(e,t,r,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if($r(t)&&!e.required)return r();rn.required(e,t,i,o,s),t!==void 0&&rn.type(e,t,i,o,s)}r(o)},Efe=function(e,t,r,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if($r(t,"date")&&!e.required)return r();if(rn.required(e,t,i,o,s),!$r(t,"date")){var l;t instanceof Date?l=t:l=new Date(t),rn.type(e,l,i,o,s),l&&rn.range(e,l.getTime(),i,o,s)}}r(o)},Mfe="enum",Cfe=function(e,t,r,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if($r(t)&&!e.required)return r();rn.required(e,t,i,o,s),t!==void 0&&rn[Mfe](e,t,i,o,s)}r(o)},Afe=function(e,t,r,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if($r(t)&&!e.required)return r();rn.required(e,t,i,o,s),t!==void 0&&(rn.type(e,t,i,o,s),rn.range(e,t,i,o,s))}r(o)},Tfe=function(e,t,r,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if($r(t)&&!e.required)return r();rn.required(e,t,i,o,s),t!==void 0&&(rn.type(e,t,i,o,s),rn.range(e,t,i,o,s))}r(o)},Pfe=function(e,t,r,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if($r(t)&&!e.required)return r();rn.required(e,t,i,o,s),t!==void 0&&rn.type(e,t,i,o,s)}r(o)},Rfe=function(e,t,r,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(t===""&&(t=void 0),$r(t)&&!e.required)return r();rn.required(e,t,i,o,s),t!==void 0&&(rn.type(e,t,i,o,s),rn.range(e,t,i,o,s))}r(o)},Lfe=function(e,t,r,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if($r(t)&&!e.required)return r();rn.required(e,t,i,o,s),t!==void 0&&rn.type(e,t,i,o,s)}r(o)},kfe=function(e,t,r,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if($r(t,"string")&&!e.required)return r();rn.required(e,t,i,o,s),$r(t,"string")||rn.pattern(e,t,i,o,s)}r(o)},Ife=function(e,t,r,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if($r(t)&&!e.required)return r();rn.required(e,t,i,o,s),$r(t)||rn.type(e,t,i,o,s)}r(o)},Ofe=function(e,t,r,i,s){var o=[],a=Array.isArray(t)?"array":Rt(t);rn.required(e,t,i,o,s,a),r(o)},Dfe=function(e,t,r,i,s){var o=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if($r(t,"string")&&!e.required)return r();rn.required(e,t,i,o,s,"string"),$r(t,"string")||(rn.type(e,t,i,o,s),rn.range(e,t,i,o,s),rn.pattern(e,t,i,o,s),e.whitespace===!0&&rn.whitespace(e,t,i,o,s))}r(o)},FL=function(e,t,r,i,s){var o=e.type,a=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if($r(t,o)&&!e.required)return r();rn.required(e,t,i,a,s,o),$r(t,o)||rn.type(e,t,i,a,s)}r(a)};const K1={string:Dfe,method:Pfe,number:Rfe,boolean:Sfe,regexp:Ife,integer:Tfe,float:Afe,array:_fe,object:Lfe,enum:Cfe,pattern:kfe,date:Efe,url:FL,hex:FL,email:FL,required:Ofe,any:bfe};var rb=function(){function n(e){si(this,n),Se(this,"rules",null),Se(this,"_messages",MO),this.define(e)}return oi(n,[{key:"define",value:function(t){var r=this;if(!t)throw new Error("Cannot configure a schema with no rules");if(Rt(t)!=="object"||Array.isArray(t))throw new Error("Rules must be an object");this.rules={},Object.keys(t).forEach(function(i){var s=t[i];r.rules[i]=Array.isArray(s)?s:[s]})}},{key:"messages",value:function(t){return t&&(this._messages=iH(EO(),t)),this._messages}},{key:"validate",value:function(t){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},o=t,a=i,l=s;if(typeof a=="function"&&(l=a,a={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,o),Promise.resolve(o);function c(g){var v=[],y={};function x(b){if(Array.isArray(b)){var _;v=(_=v).concat.apply(_,St(b))}else v.push(b)}for(var w=0;w<g.length;w++)x(g[w]);v.length?(y=AO(v),l(v,y)):l(null,o)}if(a.messages){var u=this.messages();u===MO&&(u=EO()),iH(u,a.messages),a.messages=u}else a.messages=this.messages();var d={},h=a.keys||Object.keys(this.rules);h.forEach(function(g){var v=r.rules[g],y=o[g];v.forEach(function(x){var w=x;typeof w.transform=="function"&&(o===t&&(o=ke({},o)),y=o[g]=w.transform(y),y!=null&&(w.type=w.type||(Array.isArray(y)?"array":Rt(y)))),typeof w=="function"?w={validator:w}:w=ke({},w),w.validator=r.getValidationMethod(w),w.validator&&(w.field=g,w.fullField=w.fullField||g,w.type=r.getType(w),d[g]=d[g]||[],d[g].push({rule:w,value:y,source:o,field:g}))})});var p={};return hfe(d,a,function(g,v){var y=g.rule,x=(y.type==="object"||y.type==="array")&&(Rt(y.fields)==="object"||Rt(y.defaultField)==="object");x=x&&(y.required||!y.required&&g.value),y.field=g.field;function w(P,M){return ke(ke({},M),{},{fullField:"".concat(y.fullField,".").concat(P),fullFields:y.fullFields?[].concat(St(y.fullFields),[P]):[P]})}function b(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],M=Array.isArray(P)?P:[P];!a.suppressWarning&&M.length&&n.warning("async-validator:",M),M.length&&y.message!==void 0&&(M=[].concat(y.message));var L=M.map(rH(y,o));if(a.first&&L.length)return p[y.field]=1,v(L);if(!x)v(L);else{if(y.required&&!g.value)return y.message!==void 0?L=[].concat(y.message).map(rH(y,o)):a.error&&(L=[a.error(y,oo(a.messages.required,y.field))]),v(L);var I={};y.defaultField&&Object.keys(g.value).map(function(j){I[j]=y.defaultField}),I=ke(ke({},I),g.rule.fields);var F={};Object.keys(I).forEach(function(j){var G=I[j],J=Array.isArray(G)?G:[G];F[j]=J.map(w.bind(null,j))});var V=new n(F);V.messages(a.messages),g.rule.options&&(g.rule.options.messages=a.messages,g.rule.options.error=a.error),V.validate(g.value,g.rule.options||a,function(j){var G=[];L&&L.length&&G.push.apply(G,St(L)),j&&j.length&&G.push.apply(G,St(j)),v(G.length?G:null)})}}var _;if(y.asyncValidator)_=y.asyncValidator(y,g.value,b,g.source,a);else if(y.validator){try{_=y.validator(y,g.value,b,g.source,a)}catch(P){var C,A;(C=(A=console).error)===null||C===void 0||C.call(A,P),a.suppressValidatorError||setTimeout(function(){throw P},0),b(P.message)}_===!0?b():_===!1?b(typeof y.message=="function"?y.message(y.fullField||y.field):y.message||"".concat(y.fullField||y.field," fails")):_ instanceof Array?b(_):_ instanceof Error&&b(_.message)}_&&_.then&&_.then(function(){return b()},function(P){return b(P)})},function(g){c(g)},o)}},{key:"getType",value:function(t){if(t.type===void 0&&t.pattern instanceof RegExp&&(t.type="pattern"),typeof t.validator!="function"&&t.type&&!K1.hasOwnProperty(t.type))throw new Error(oo("Unknown rule type %s",t.type));return t.type||"string"}},{key:"getValidationMethod",value:function(t){if(typeof t.validator=="function")return t.validator;var r=Object.keys(t),i=r.indexOf("message");return i!==-1&&r.splice(i,1),r.length===1&&r[0]==="required"?K1.required:K1[this.getType(t)]||void 0}}]),n}();Se(rb,"register",function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");K1[e]=t});Se(rb,"warning",lfe);Se(rb,"messages",MO);Se(rb,"validators",K1);var Ys="'${name}' is not a valid ${type}",fY={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Ys,method:Ys,array:Ys,object:Ys,number:Ys,date:Ys,boolean:Ys,integer:Ys,float:Ys,regexp:Ys,email:Ys,url:Ys,hex:Ys},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},oH=rb;function Nfe(n,e){return n.replace(/\\?\$\{\w+\}/g,function(t){if(t.startsWith("\\"))return t.slice(1);var r=t.slice(2,-1);return e[r]})}var aH="CODE_LOGIC_ERROR";function TO(n,e,t,r,i){return PO.apply(this,arguments)}function PO(){return PO=vp(cs().mark(function n(e,t,r,i,s){var o,a,l,c,u,d,h,p,g;return cs().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return o=ke({},r),delete o.ruleIndex,oH.warning=function(){},o.validator&&(a=o.validator,o.validator=function(){try{return a.apply(void 0,arguments)}catch(x){return console.error(x),Promise.reject(aH)}}),l=null,o&&o.type==="array"&&o.defaultField&&(l=o.defaultField,delete o.defaultField),c=new oH(Se({},e,[o])),u=Rg(fY,i.validateMessages),c.messages(u),d=[],y.prev=10,y.next=13,Promise.resolve(c.validate(Se({},e,t),ke({},i)));case 13:y.next=18;break;case 15:y.prev=15,y.t0=y.catch(10),y.t0.errors&&(d=y.t0.errors.map(function(x,w){var b=x.message,_=b===aH?u.default:b;return k.isValidElement(_)?k.cloneElement(_,{key:"error_".concat(w)}):_}));case 18:if(!(!d.length&&l)){y.next=23;break}return y.next=21,Promise.all(t.map(function(x,w){return TO("".concat(e,".").concat(w),x,l,i,s)}));case 21:return h=y.sent,y.abrupt("return",h.reduce(function(x,w){return[].concat(St(x),St(w))},[]));case 23:return p=ke(ke({},r),{},{name:e,enum:(r.enum||[]).join(", ")},s),g=d.map(function(x){return typeof x=="string"?Nfe(x,p):x}),y.abrupt("return",g);case 26:case"end":return y.stop()}},n,null,[[10,15]])})),PO.apply(this,arguments)}function Ffe(n,e,t,r,i,s){var o=n.join("."),a=t.map(function(u,d){var h=u.validator,p=ke(ke({},u),{},{ruleIndex:d});return h&&(p.validator=function(g,v,y){var x=!1,w=function(){for(var C=arguments.length,A=new Array(C),P=0;P<C;P++)A[P]=arguments[P];Promise.resolve().then(function(){co(!x,"Your validator function has already return a promise. `callback` will be ignored."),x||y.apply(void 0,A)})},b=h(g,v,w);x=b&&typeof b.then=="function"&&typeof b.catch=="function",co(x,"`callback` is deprecated. Please return a promise instead."),x&&b.then(function(){y()}).catch(function(_){y(_||" ")})}),p}).sort(function(u,d){var h=u.warningOnly,p=u.ruleIndex,g=d.warningOnly,v=d.ruleIndex;return!!h==!!g?p-v:h?1:-1}),l;if(i===!0)l=new Promise(function(){var u=vp(cs().mark(function d(h,p){var g,v,y;return cs().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:g=0;case 1:if(!(g<a.length)){w.next=12;break}return v=a[g],w.next=5,TO(o,e,v,r,s);case 5:if(y=w.sent,!y.length){w.next=9;break}return p([{errors:y,rule:v}]),w.abrupt("return");case 9:g+=1,w.next=1;break;case 12:h([]);case 13:case"end":return w.stop()}},d)}));return function(d,h){return u.apply(this,arguments)}}());else{var c=a.map(function(u){return TO(o,e,u,r,s).then(function(d){return{errors:d,rule:u}})});l=(i?Bfe(c):zfe(c)).then(function(u){return Promise.reject(u)})}return l.catch(function(u){return u}),l}function zfe(n){return RO.apply(this,arguments)}function RO(){return RO=vp(cs().mark(function n(e){return cs().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(i){var s,o=(s=[]).concat.apply(s,St(i));return o}));case 1:case"end":return r.stop()}},n)})),RO.apply(this,arguments)}function Bfe(n){return LO.apply(this,arguments)}function LO(){return LO=vp(cs().mark(function n(e){var t;return cs().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=0,i.abrupt("return",new Promise(function(s){e.forEach(function(o){o.then(function(a){a.errors.length&&s([a]),t+=1,t===e.length&&s([])})})}));case 2:case"end":return i.stop()}},n)})),LO.apply(this,arguments)}function cr(n){return SO(n)}function lH(n,e){var t={};return e.forEach(function(r){var i=xl(n,r);t=Ma(t,r,i)}),t}function lv(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return n&&n.some(function(r){return pY(e,r,t)})}function pY(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!n||!e||!t&&n.length!==e.length?!1:e.every(function(r,i){return n[i]===r})}function $fe(n,e){if(n===e)return!0;if(!n&&e||n&&!e||!n||!e||Rt(n)!=="object"||Rt(e)!=="object")return!1;var t=Object.keys(n),r=Object.keys(e),i=new Set([].concat(t,r));return St(i).every(function(s){var o=n[s],a=e[s];return typeof o=="function"&&typeof a=="function"?!0:o===a})}function Ufe(n){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&Rt(e.target)==="object"&&n in e.target?e.target[n]:e}function cH(n,e,t){var r=n.length;if(e<0||e>=r||t<0||t>=r)return n;var i=n[e],s=e-t;return s>0?[].concat(St(n.slice(0,t)),[i],St(n.slice(t,e)),St(n.slice(e+1,r))):s<0?[].concat(St(n.slice(0,e)),St(n.slice(e+1,t+1)),[i],St(n.slice(t+1,r))):n}var Wfe=["name"],ko=[];function zL(n,e,t,r,i,s){return typeof n=="function"?n(e,t,"source"in s?{source:s.source}:{}):r!==i}var l5=function(n){Nd(t,n);var e=Fd(t);function t(r){var i;if(si(this,t),i=e.call(this,r),Se(Jt(i),"state",{resetCount:0}),Se(Jt(i),"cancelRegisterFunc",null),Se(Jt(i),"mounted",!1),Se(Jt(i),"touched",!1),Se(Jt(i),"dirty",!1),Se(Jt(i),"validatePromise",void 0),Se(Jt(i),"prevValidating",void 0),Se(Jt(i),"errors",ko),Se(Jt(i),"warnings",ko),Se(Jt(i),"cancelRegister",function(){var l=i.props,c=l.preserve,u=l.isListField,d=l.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(u,c,cr(d)),i.cancelRegisterFunc=null}),Se(Jt(i),"getNamePath",function(){var l=i.props,c=l.name,u=l.fieldContext,d=u.prefixName,h=d===void 0?[]:d;return c!==void 0?[].concat(St(h),St(c)):[]}),Se(Jt(i),"getRules",function(){var l=i.props,c=l.rules,u=c===void 0?[]:c,d=l.fieldContext;return u.map(function(h){return typeof h=="function"?h(d):h})}),Se(Jt(i),"refresh",function(){i.mounted&&i.setState(function(l){var c=l.resetCount;return{resetCount:c+1}})}),Se(Jt(i),"metaCache",null),Se(Jt(i),"triggerMetaEvent",function(l){var c=i.props.onMetaChange;if(c){var u=ke(ke({},i.getMeta()),{},{destroy:l});XI(i.metaCache,u)||c(u),i.metaCache=u}else i.metaCache=null}),Se(Jt(i),"onStoreChange",function(l,c,u){var d=i.props,h=d.shouldUpdate,p=d.dependencies,g=p===void 0?[]:p,v=d.onReset,y=u.store,x=i.getNamePath(),w=i.getValue(l),b=i.getValue(y),_=c&&lv(c,x);switch(u.type==="valueUpdate"&&u.source==="external"&&!XI(w,b)&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=ko,i.warnings=ko,i.triggerMetaEvent()),u.type){case"reset":if(!c||_){i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=ko,i.warnings=ko,i.triggerMetaEvent(),v==null||v(),i.refresh();return}break;case"remove":{if(h&&zL(h,l,y,w,b,u)){i.reRender();return}break}case"setField":{var C=u.data;if(_){"touched"in C&&(i.touched=C.touched),"validating"in C&&!("originRCField"in C)&&(i.validatePromise=C.validating?Promise.resolve([]):null),"errors"in C&&(i.errors=C.errors||ko),"warnings"in C&&(i.warnings=C.warnings||ko),i.dirty=!0,i.triggerMetaEvent(),i.reRender();return}else if("value"in C&&lv(c,x,!0)){i.reRender();return}if(h&&!x.length&&zL(h,l,y,w,b,u)){i.reRender();return}break}case"dependenciesUpdate":{var A=g.map(cr);if(A.some(function(P){return lv(u.relatedFields,P)})){i.reRender();return}break}default:if(_||(!g.length||x.length||h)&&zL(h,l,y,w,b,u)){i.reRender();return}break}h===!0&&i.reRender()}),Se(Jt(i),"validateRules",function(l){var c=i.getNamePath(),u=i.getValue(),d=l||{},h=d.triggerName,p=d.validateOnly,g=p===void 0?!1:p,v=Promise.resolve().then(vp(cs().mark(function y(){var x,w,b,_,C,A,P;return cs().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(i.mounted){L.next=2;break}return L.abrupt("return",[]);case 2:if(x=i.props,w=x.validateFirst,b=w===void 0?!1:w,_=x.messageVariables,C=x.validateDebounce,A=i.getRules(),h&&(A=A.filter(function(I){return I}).filter(function(I){var F=I.validateTrigger;if(!F)return!0;var V=SO(F);return V.includes(h)})),!(C&&h)){L.next=10;break}return L.next=8,new Promise(function(I){setTimeout(I,C)});case 8:if(i.validatePromise===v){L.next=10;break}return L.abrupt("return",[]);case 10:return P=Ffe(c,u,A,l,b,_),P.catch(function(I){return I}).then(function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ko;if(i.validatePromise===v){var F;i.validatePromise=null;var V=[],j=[];(F=I.forEach)===null||F===void 0||F.call(I,function(G){var J=G.rule.warningOnly,q=G.errors,H=q===void 0?ko:q;J?j.push.apply(j,St(H)):V.push.apply(V,St(H))}),i.errors=V,i.warnings=j,i.triggerMetaEvent(),i.reRender()}}),L.abrupt("return",P);case 13:case"end":return L.stop()}},y)})));return g||(i.validatePromise=v,i.dirty=!0,i.errors=ko,i.warnings=ko,i.triggerMetaEvent(),i.reRender()),v}),Se(Jt(i),"isFieldValidating",function(){return!!i.validatePromise}),Se(Jt(i),"isFieldTouched",function(){return i.touched}),Se(Jt(i),"isFieldDirty",function(){if(i.dirty||i.props.initialValue!==void 0)return!0;var l=i.props.fieldContext,c=l.getInternalHooks(af),u=c.getInitialValue;return u(i.getNamePath())!==void 0}),Se(Jt(i),"getErrors",function(){return i.errors}),Se(Jt(i),"getWarnings",function(){return i.warnings}),Se(Jt(i),"isListField",function(){return i.props.isListField}),Se(Jt(i),"isList",function(){return i.props.isList}),Se(Jt(i),"isPreserve",function(){return i.props.preserve}),Se(Jt(i),"getMeta",function(){i.prevValidating=i.isFieldValidating();var l={touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:i.validatePromise===null};return l}),Se(Jt(i),"getOnlyChild",function(l){if(typeof l=="function"){var c=i.getMeta();return ke(ke({},i.getOnlyChild(l(i.getControlled(),c,i.props.fieldContext))),{},{isFunction:!0})}var u=Yf(l);return u.length!==1||!k.isValidElement(u[0])?{child:u,isFunction:!1}:{child:u[0],isFunction:!1}}),Se(Jt(i),"getValue",function(l){var c=i.props.fieldContext.getFieldsValue,u=i.getNamePath();return xl(l||c(!0),u)}),Se(Jt(i),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=i.props,u=c.name,d=c.trigger,h=c.validateTrigger,p=c.getValueFromEvent,g=c.normalize,v=c.valuePropName,y=c.getValueProps,x=c.fieldContext,w=h!==void 0?h:x.validateTrigger,b=i.getNamePath(),_=x.getInternalHooks,C=x.getFieldsValue,A=_(af),P=A.dispatch,M=i.getValue(),L=y||function(G){return Se({},v,G)},I=l[d],F=u!==void 0?L(M):{},V=ke(ke({},l),F);V[d]=function(){i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var G,J=arguments.length,q=new Array(J),H=0;H<J;H++)q[H]=arguments[H];p?G=p.apply(void 0,q):G=Ufe.apply(void 0,[v].concat(q)),g&&(G=g(G,M,C(!0))),P({type:"updateValue",namePath:b,value:G}),I&&I.apply(void 0,q)};var j=SO(w||[]);return j.forEach(function(G){var J=V[G];V[G]=function(){J&&J.apply(void 0,arguments);var q=i.props.rules;q&&q.length&&P({type:"validateField",namePath:b,triggerName:G})}}),V}),r.fieldContext){var s=r.fieldContext.getInternalHooks,o=s(af),a=o.initEntityValue;a(Jt(i))}return i}return oi(t,[{key:"componentDidMount",value:function(){var i=this.props,s=i.shouldUpdate,o=i.fieldContext;if(this.mounted=!0,o){var a=o.getInternalHooks,l=a(af),c=l.registerField;this.cancelRegisterFunc=c(this)}s===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var i=this.state.resetCount,s=this.props.children,o=this.getOnlyChild(s),a=o.child,l=o.isFunction,c;return l?c=a:k.isValidElement(a)?c=k.cloneElement(a,this.getControlled(a.props)):(co(!a,"`children` of Field is not validate ReactElement."),c=a),k.createElement(k.Fragment,{key:i},c)}}]),t}(k.Component);Se(l5,"contextType",Bv);Se(l5,"defaultProps",{trigger:"onChange",valuePropName:"value"});function mY(n){var e=n.name,t=ls(n,Wfe),r=k.useContext(Bv),i=k.useContext(UA),s=e!==void 0?cr(e):void 0,o="keep";return t.isListField||(o="_".concat((s||[]).join("_"))),k.createElement(l5,Gn({key:o,name:s,isListField:!!i},t,{fieldContext:r}))}function Hfe(n){var e=n.name,t=n.initialValue,r=n.children,i=n.rules,s=n.validateTrigger,o=n.isListField,a=k.useContext(Bv),l=k.useContext(UA),c=k.useRef({keys:[],id:0}),u=c.current,d=k.useMemo(function(){var v=cr(a.prefixName)||[];return[].concat(St(v),St(cr(e)))},[a.prefixName,e]),h=k.useMemo(function(){return ke(ke({},a),{},{prefixName:d})},[a,d]),p=k.useMemo(function(){return{getKey:function(y){var x=d.length,w=y[x];return[u.keys[w],y.slice(x+1)]}}},[d]);if(typeof r!="function")return co(!1,"Form.List only accepts function as children."),null;var g=function(y,x,w){var b=w.source;return b==="internal"?!1:y!==x};return k.createElement(UA.Provider,{value:p},k.createElement(Bv.Provider,{value:h},k.createElement(mY,{name:[],shouldUpdate:g,rules:i,validateTrigger:s,initialValue:t,isList:!0,isListField:o??!!l},function(v,y){var x=v.value,w=x===void 0?[]:x,b=v.onChange,_=a.getFieldValue,C=function(){var L=_(d||[]);return L||[]},A={add:function(L,I){var F=C();I>=0&&I<=F.length?(u.keys=[].concat(St(u.keys.slice(0,I)),[u.id],St(u.keys.slice(I))),b([].concat(St(F.slice(0,I)),[L],St(F.slice(I))))):(u.keys=[].concat(St(u.keys),[u.id]),b([].concat(St(F),[L]))),u.id+=1},remove:function(L){var I=C(),F=new Set(Array.isArray(L)?L:[L]);F.size<=0||(u.keys=u.keys.filter(function(V,j){return!F.has(j)}),b(I.filter(function(V,j){return!F.has(j)})))},move:function(L,I){if(L!==I){var F=C();L<0||L>=F.length||I<0||I>=F.length||(u.keys=cH(u.keys,L,I),b(cH(F,L,I)))}}},P=w||[];return Array.isArray(P)||(P=[]),r(P.map(function(M,L){var I=u.keys[L];return I===void 0&&(u.keys[L]=u.id,I=u.keys[L],u.id+=1),{name:L,key:I,isListField:!0}}),A,y)})))}function jfe(n){var e=!1,t=n.length,r=[];return n.length?new Promise(function(i,s){n.forEach(function(o,a){o.catch(function(l){return e=!0,l}).then(function(l){t-=1,r[a]=l,!(t>0)&&(e&&s(r),i(r))})})}):Promise.resolve([])}var gY="__@field_split__";function BL(n){return n.map(function(e){return"".concat(Rt(e),":").concat(e)}).join(gY)}var Jp=function(){function n(){si(this,n),Se(this,"kvs",new Map)}return oi(n,[{key:"set",value:function(t,r){this.kvs.set(BL(t),r)}},{key:"get",value:function(t){return this.kvs.get(BL(t))}},{key:"update",value:function(t,r){var i=this.get(t),s=r(i);s?this.set(t,s):this.delete(t)}},{key:"delete",value:function(t){this.kvs.delete(BL(t))}},{key:"map",value:function(t){return St(this.kvs.entries()).map(function(r){var i=nt(r,2),s=i[0],o=i[1],a=s.split(gY);return t({key:a.map(function(l){var c=l.match(/^([^:]*):(.*)$/),u=nt(c,3),d=u[1],h=u[2];return d==="number"?Number(h):h}),value:o})})}},{key:"toJSON",value:function(){var t={};return this.map(function(r){var i=r.key,s=r.value;return t[i.join(".")]=s,null}),t}}]),n}(),Vfe=["name"],Gfe=oi(function n(e){var t=this;si(this,n),Se(this,"formHooked",!1),Se(this,"forceRootUpdate",void 0),Se(this,"subscribable",!0),Se(this,"store",{}),Se(this,"fieldEntities",[]),Se(this,"initialValues",{}),Se(this,"callbacks",{}),Se(this,"validateMessages",null),Se(this,"preserve",null),Se(this,"lastValidatePromise",null),Se(this,"getForm",function(){return{getFieldValue:t.getFieldValue,getFieldsValue:t.getFieldsValue,getFieldError:t.getFieldError,getFieldWarning:t.getFieldWarning,getFieldsError:t.getFieldsError,isFieldsTouched:t.isFieldsTouched,isFieldTouched:t.isFieldTouched,isFieldValidating:t.isFieldValidating,isFieldsValidating:t.isFieldsValidating,resetFields:t.resetFields,setFields:t.setFields,setFieldValue:t.setFieldValue,setFieldsValue:t.setFieldsValue,validateFields:t.validateFields,submit:t.submit,_init:!0,getInternalHooks:t.getInternalHooks}}),Se(this,"getInternalHooks",function(r){return r===af?(t.formHooked=!0,{dispatch:t.dispatch,initEntityValue:t.initEntityValue,registerField:t.registerField,useSubscribe:t.useSubscribe,setInitialValues:t.setInitialValues,destroyForm:t.destroyForm,setCallbacks:t.setCallbacks,setValidateMessages:t.setValidateMessages,getFields:t.getFields,setPreserve:t.setPreserve,getInitialValue:t.getInitialValue,registerWatch:t.registerWatch}):(co(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),Se(this,"useSubscribe",function(r){t.subscribable=r}),Se(this,"prevWithoutPreserves",null),Se(this,"setInitialValues",function(r,i){if(t.initialValues=r||{},i){var s,o=Rg(r,t.store);(s=t.prevWithoutPreserves)===null||s===void 0||s.map(function(a){var l=a.key;o=Ma(o,l,xl(r,l))}),t.prevWithoutPreserves=null,t.updateStore(o)}}),Se(this,"destroyForm",function(r){if(r)t.updateStore({});else{var i=new Jp;t.getFieldEntities(!0).forEach(function(s){t.isMergedPreserve(s.isPreserve())||i.set(s.getNamePath(),!0)}),t.prevWithoutPreserves=i}}),Se(this,"getInitialValue",function(r){var i=xl(t.initialValues,r);return r.length?Rg(i):i}),Se(this,"setCallbacks",function(r){t.callbacks=r}),Se(this,"setValidateMessages",function(r){t.validateMessages=r}),Se(this,"setPreserve",function(r){t.preserve=r}),Se(this,"watchList",[]),Se(this,"registerWatch",function(r){return t.watchList.push(r),function(){t.watchList=t.watchList.filter(function(i){return i!==r})}}),Se(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(t.watchList.length){var i=t.getFieldsValue(),s=t.getFieldsValue(!0);t.watchList.forEach(function(o){o(i,s,r)})}}),Se(this,"timeoutId",null),Se(this,"warningUnhooked",function(){}),Se(this,"updateStore",function(r){t.store=r}),Se(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?t.fieldEntities.filter(function(i){return i.getNamePath().length}):t.fieldEntities}),Se(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new Jp;return t.getFieldEntities(r).forEach(function(s){var o=s.getNamePath();i.set(o,s)}),i}),Se(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return t.getFieldEntities(!0);var i=t.getFieldsMap(!0);return r.map(function(s){var o=cr(s);return i.get(o)||{INVALIDATE_NAME_PATH:cr(s)}})}),Se(this,"getFieldsValue",function(r,i){t.warningUnhooked();var s,o,a;if(r===!0||Array.isArray(r)?(s=r,o=i):r&&Rt(r)==="object"&&(a=r.strict,o=r.filter),s===!0&&!o)return t.store;var l=t.getFieldEntitiesForNamePathList(Array.isArray(s)?s:null),c=[];return l.forEach(function(u){var d,h,p="INVALIDATE_NAME_PATH"in u?u.INVALIDATE_NAME_PATH:u.getNamePath();if(a){var g,v;if((g=(v=u).isList)!==null&&g!==void 0&&g.call(v))return}else if(!s&&(d=(h=u).isListField)!==null&&d!==void 0&&d.call(h))return;if(!o)c.push(p);else{var y="getMeta"in u?u.getMeta():null;o(y)&&c.push(p)}}),lH(t.store,c.map(cr))}),Se(this,"getFieldValue",function(r){t.warningUnhooked();var i=cr(r);return xl(t.store,i)}),Se(this,"getFieldsError",function(r){t.warningUnhooked();var i=t.getFieldEntitiesForNamePathList(r);return i.map(function(s,o){return s&&!("INVALIDATE_NAME_PATH"in s)?{name:s.getNamePath(),errors:s.getErrors(),warnings:s.getWarnings()}:{name:cr(r[o]),errors:[],warnings:[]}})}),Se(this,"getFieldError",function(r){t.warningUnhooked();var i=cr(r),s=t.getFieldsError([i])[0];return s.errors}),Se(this,"getFieldWarning",function(r){t.warningUnhooked();var i=cr(r),s=t.getFieldsError([i])[0];return s.warnings}),Se(this,"isFieldsTouched",function(){t.warningUnhooked();for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i[0],a=i[1],l,c=!1;i.length===0?l=null:i.length===1?Array.isArray(o)?(l=o.map(cr),c=!1):(l=null,c=o):(l=o.map(cr),c=a);var u=t.getFieldEntities(!0),d=function(y){return y.isFieldTouched()};if(!l)return c?u.every(function(v){return d(v)||v.isList()}):u.some(d);var h=new Jp;l.forEach(function(v){h.set(v,[])}),u.forEach(function(v){var y=v.getNamePath();l.forEach(function(x){x.every(function(w,b){return y[b]===w})&&h.update(x,function(w){return[].concat(St(w),[v])})})});var p=function(y){return y.some(d)},g=h.map(function(v){var y=v.value;return y});return c?g.every(p):g.some(p)}),Se(this,"isFieldTouched",function(r){return t.warningUnhooked(),t.isFieldsTouched([r])}),Se(this,"isFieldsValidating",function(r){t.warningUnhooked();var i=t.getFieldEntities();if(!r)return i.some(function(o){return o.isFieldValidating()});var s=r.map(cr);return i.some(function(o){var a=o.getNamePath();return lv(s,a)&&o.isFieldValidating()})}),Se(this,"isFieldValidating",function(r){return t.warningUnhooked(),t.isFieldsValidating([r])}),Se(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new Jp,s=t.getFieldEntities(!0);s.forEach(function(l){var c=l.props.initialValue,u=l.getNamePath();if(c!==void 0){var d=i.get(u)||new Set;d.add({entity:l,value:c}),i.set(u,d)}});var o=function(c){c.forEach(function(u){var d=u.props.initialValue;if(d!==void 0){var h=u.getNamePath(),p=t.getInitialValue(h);if(p!==void 0)co(!1,"Form already set 'initialValues' with path '".concat(h.join("."),"'. Field can not overwrite it."));else{var g=i.get(h);if(g&&g.size>1)co(!1,"Multiple Field with path '".concat(h.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(g){var v=t.getFieldValue(h),y=u.isListField();!y&&(!r.skipExist||v===void 0)&&t.updateStore(Ma(t.store,h,St(g)[0].value))}}}})},a;r.entities?a=r.entities:r.namePathList?(a=[],r.namePathList.forEach(function(l){var c=i.get(l);if(c){var u;(u=a).push.apply(u,St(St(c).map(function(d){return d.entity})))}})):a=s,o(a)}),Se(this,"resetFields",function(r){t.warningUnhooked();var i=t.store;if(!r){t.updateStore(Rg(t.initialValues)),t.resetWithFieldInitialValue(),t.notifyObservers(i,null,{type:"reset"}),t.notifyWatch();return}var s=r.map(cr);s.forEach(function(o){var a=t.getInitialValue(o);t.updateStore(Ma(t.store,o,a))}),t.resetWithFieldInitialValue({namePathList:s}),t.notifyObservers(i,s,{type:"reset"}),t.notifyWatch(s)}),Se(this,"setFields",function(r){t.warningUnhooked();var i=t.store,s=[];r.forEach(function(o){var a=o.name,l=ls(o,Vfe),c=cr(a);s.push(c),"value"in l&&t.updateStore(Ma(t.store,c,l.value)),t.notifyObservers(i,[c],{type:"setField",data:o})}),t.notifyWatch(s)}),Se(this,"getFields",function(){var r=t.getFieldEntities(!0),i=r.map(function(s){var o=s.getNamePath(),a=s.getMeta(),l=ke(ke({},a),{},{name:o,value:t.getFieldValue(o)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return i}),Se(this,"initEntityValue",function(r){var i=r.props.initialValue;if(i!==void 0){var s=r.getNamePath(),o=xl(t.store,s);o===void 0&&t.updateStore(Ma(t.store,s,i))}}),Se(this,"isMergedPreserve",function(r){var i=r!==void 0?r:t.preserve;return i??!0}),Se(this,"registerField",function(r){t.fieldEntities.push(r);var i=r.getNamePath();if(t.notifyWatch([i]),r.props.initialValue!==void 0){var s=t.store;t.resetWithFieldInitialValue({entities:[r],skipExist:!0}),t.notifyObservers(s,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(o,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.fieldEntities=t.fieldEntities.filter(function(d){return d!==r}),!t.isMergedPreserve(a)&&(!o||l.length>1)){var c=o?void 0:t.getInitialValue(i);if(i.length&&t.getFieldValue(i)!==c&&t.fieldEntities.every(function(d){return!pY(d.getNamePath(),i)})){var u=t.store;t.updateStore(Ma(u,i,c,!0)),t.notifyObservers(u,[i],{type:"remove"}),t.triggerDependenciesUpdate(u,i)}}t.notifyWatch([i])}}),Se(this,"dispatch",function(r){switch(r.type){case"updateValue":{var i=r.namePath,s=r.value;t.updateValue(i,s);break}case"validateField":{var o=r.namePath,a=r.triggerName;t.validateFields([o],{triggerName:a});break}}}),Se(this,"notifyObservers",function(r,i,s){if(t.subscribable){var o=ke(ke({},s),{},{store:t.getFieldsValue(!0)});t.getFieldEntities().forEach(function(a){var l=a.onStoreChange;l(r,i,o)})}else t.forceRootUpdate()}),Se(this,"triggerDependenciesUpdate",function(r,i){var s=t.getDependencyChildrenFields(i);return s.length&&t.validateFields(s),t.notifyObservers(r,s,{type:"dependenciesUpdate",relatedFields:[i].concat(St(s))}),s}),Se(this,"updateValue",function(r,i){var s=cr(r),o=t.store;t.updateStore(Ma(t.store,s,i)),t.notifyObservers(o,[s],{type:"valueUpdate",source:"internal"}),t.notifyWatch([s]);var a=t.triggerDependenciesUpdate(o,s),l=t.callbacks.onValuesChange;if(l){var c=lH(t.store,[s]);l(c,t.getFieldsValue())}t.triggerOnFieldsChange([s].concat(St(a)))}),Se(this,"setFieldsValue",function(r){t.warningUnhooked();var i=t.store;if(r){var s=Rg(t.store,r);t.updateStore(s)}t.notifyObservers(i,null,{type:"valueUpdate",source:"external"}),t.notifyWatch()}),Se(this,"setFieldValue",function(r,i){t.setFields([{name:r,value:i}])}),Se(this,"getDependencyChildrenFields",function(r){var i=new Set,s=[],o=new Jp;t.getFieldEntities().forEach(function(l){var c=l.props.dependencies;(c||[]).forEach(function(u){var d=cr(u);o.update(d,function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return h.add(l),h})})});var a=function l(c){var u=o.get(c)||new Set;u.forEach(function(d){if(!i.has(d)){i.add(d);var h=d.getNamePath();d.isFieldDirty()&&h.length&&(s.push(h),l(h))}})};return a(r),s}),Se(this,"triggerOnFieldsChange",function(r,i){var s=t.callbacks.onFieldsChange;if(s){var o=t.getFields();if(i){var a=new Jp;i.forEach(function(c){var u=c.name,d=c.errors;a.set(u,d)}),o.forEach(function(c){c.errors=a.get(c.name)||c.errors})}var l=o.filter(function(c){var u=c.name;return lv(r,u)});l.length&&s(l,o)}}),Se(this,"validateFields",function(r,i){t.warningUnhooked();var s,o;Array.isArray(r)||typeof r=="string"||typeof i=="string"?(s=r,o=i):o=r;var a=!!s,l=a?s.map(cr):[],c=[],u=String(Date.now()),d=new Set,h=o||{},p=h.recursive,g=h.dirty;t.getFieldEntities(!0).forEach(function(w){if(a||l.push(w.getNamePath()),!(!w.props.rules||!w.props.rules.length)&&!(g&&!w.isFieldDirty())){var b=w.getNamePath();if(d.add(b.join(u)),!a||lv(l,b,p)){var _=w.validateRules(ke({validateMessages:ke(ke({},fY),t.validateMessages)},o));c.push(_.then(function(){return{name:b,errors:[],warnings:[]}}).catch(function(C){var A,P=[],M=[];return(A=C.forEach)===null||A===void 0||A.call(C,function(L){var I=L.rule.warningOnly,F=L.errors;I?M.push.apply(M,St(F)):P.push.apply(P,St(F))}),P.length?Promise.reject({name:b,errors:P,warnings:M}):{name:b,errors:P,warnings:M}}))}}});var v=jfe(c);t.lastValidatePromise=v,v.catch(function(w){return w}).then(function(w){var b=w.map(function(_){var C=_.name;return C});t.notifyObservers(t.store,b,{type:"validateFinish"}),t.triggerOnFieldsChange(b,w)});var y=v.then(function(){return t.lastValidatePromise===v?Promise.resolve(t.getFieldsValue(l)):Promise.reject([])}).catch(function(w){var b=w.filter(function(_){return _&&_.errors.length});return Promise.reject({values:t.getFieldsValue(l),errorFields:b,outOfDate:t.lastValidatePromise!==v})});y.catch(function(w){return w});var x=l.filter(function(w){return d.has(w.join(u))});return t.triggerOnFieldsChange(x),y}),Se(this,"submit",function(){t.warningUnhooked(),t.validateFields().then(function(r){var i=t.callbacks.onFinish;if(i)try{i(r)}catch(s){console.error(s)}}).catch(function(r){var i=t.callbacks.onFinishFailed;i&&i(r)})}),this.forceRootUpdate=e});function vY(n){var e=k.useRef(),t=k.useState({}),r=nt(t,2),i=r[1];if(!e.current)if(n)e.current=n;else{var s=function(){i({})},o=new Gfe(s);e.current=o.getForm()}return[e.current]}var kO=k.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),qfe=function(e){var t=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,s=e.children,o=k.useContext(kO),a=k.useRef({});return k.createElement(kO.Provider,{value:ke(ke({},o),{},{validateMessages:ke(ke({},o.validateMessages),t),triggerFormChange:function(c,u){r&&r(c,{changedFields:u,forms:a.current}),o.triggerFormChange(c,u)},triggerFormFinish:function(c,u){i&&i(c,{values:u,forms:a.current}),o.triggerFormFinish(c,u)},registerForm:function(c,u){c&&(a.current=ke(ke({},a.current),{},Se({},c,u))),o.registerForm(c,u)},unregisterForm:function(c){var u=ke({},a.current);delete u[c],a.current=u,o.unregisterForm(c)}})},s)},Xfe=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],Yfe=function(e,t){var r=e.name,i=e.initialValues,s=e.fields,o=e.form,a=e.preserve,l=e.children,c=e.component,u=c===void 0?"form":c,d=e.validateMessages,h=e.validateTrigger,p=h===void 0?"onChange":h,g=e.onValuesChange,v=e.onFieldsChange,y=e.onFinish,x=e.onFinishFailed,w=e.clearOnDestroy,b=ls(e,Xfe),_=k.useRef(null),C=k.useContext(kO),A=vY(o),P=nt(A,1),M=P[0],L=M.getInternalHooks(af),I=L.useSubscribe,F=L.setInitialValues,V=L.setCallbacks,j=L.setValidateMessages,G=L.setPreserve,J=L.destroyForm;k.useImperativeHandle(t,function(){return ke(ke({},M),{},{nativeElement:_.current})}),k.useEffect(function(){return C.registerForm(r,M),function(){C.unregisterForm(r)}},[C,M,r]),j(ke(ke({},C.validateMessages),d)),V({onValuesChange:g,onFieldsChange:function(ce){if(C.triggerFormChange(r,ce),v){for(var me=arguments.length,de=new Array(me>1?me-1:0),be=1;be<me;be++)de[be-1]=arguments[be];v.apply(void 0,[ce].concat(de))}},onFinish:function(ce){C.triggerFormFinish(r,ce),y&&y(ce)},onFinishFailed:x}),G(a);var q=k.useRef(null);F(i,!q.current),q.current||(q.current=!0),k.useEffect(function(){return function(){return J(w)}},[]);var H,D=typeof l=="function";if(D){var z=M.getFieldsValue(!0);H=l(z,M)}else H=l;I(!D);var B=k.useRef();k.useEffect(function(){$fe(B.current||[],s||[])||M.setFields(s||[]),B.current=s},[s,M]);var ee=k.useMemo(function(){return ke(ke({},M),{},{validateTrigger:p})},[M,p]),Y=k.createElement(UA.Provider,{value:null},k.createElement(Bv.Provider,{value:ee},H));return u===!1?Y:k.createElement(u,Gn({},b,{ref:_,onSubmit:function(ce){ce.preventDefault(),ce.stopPropagation(),M.submit()},onReset:function(ce){var me;ce.preventDefault(),M.resetFields(),(me=b.onReset)===null||me===void 0||me.call(b,ce)}}),Y)};function uH(n){try{return JSON.stringify(n)}catch{return Math.random()}}function Kfe(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=e[0],i=e[1],s=i===void 0?{}:i,o=ife(s)?{form:s}:s,a=o.form,l=k.useState(),c=nt(l,2),u=c[0],d=c[1],h=k.useMemo(function(){return uH(u)},[u]),p=k.useRef(h);p.current=h;var g=k.useContext(Bv),v=a||g,y=v&&v._init,x=cr(r),w=k.useRef(x);return w.current=x,k.useEffect(function(){if(y){var b=v.getFieldsValue,_=v.getInternalHooks,C=_(af),A=C.registerWatch,P=function(F,V){var j=o.preserve?V:F;return typeof r=="function"?r(j):xl(j,w.current)},M=A(function(I,F){var V=P(I,F),j=uH(V);p.current!==j&&(p.current=j,d(V))}),L=P(b(),b(!0));return u!==L&&d(L),M}},[y]),u}var Qfe=k.forwardRef(Yfe),ib=Qfe;ib.FormProvider=qfe;ib.Field=mY;ib.List=Hfe;ib.useForm=vY;ib.useWatch=Kfe;const IO=k.createContext({}),Zfe=n=>{let{children:e,status:t,override:r}=n;const i=k.useContext(IO),s=k.useMemo(()=>{const o=Object.assign({},i);return r&&delete o.isFormItemInput,t&&(delete o.status,delete o.hasFeedback,delete o.feedbackIcon),o},[t,r,i]);return k.createElement(IO.Provider,{value:s},e)},Jfe=k.createContext(void 0),epe=n=>{const{space:e,form:t,children:r}=n;if(r==null)return null;let i=r;return t&&(i=it.createElement(Zfe,{override:!0,status:!0},i)),e&&(i=it.createElement(Hde,null,i)),i};var yY=function(e){if(Ns()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],r=window.document.documentElement;return t.some(function(i){return i in r.style})}return!1},tpe=function(e,t){if(!yY(e))return!1;var r=document.createElement("div"),i=r.style[e];return r.style[e]=t,r.style[e]!==i};function dH(n,e){return!Array.isArray(n)&&e!==void 0?tpe(n,e):yY(n)}const npe=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var n=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n==null?void 0:n.substr(0,4))};function rpe(n){var e=n.prefixCls,t=n.align,r=n.arrow,i=n.arrowPos,s=r||{},o=s.className,a=s.content,l=i.x,c=l===void 0?0:l,u=i.y,d=u===void 0?0:u,h=k.useRef();if(!t||!t.points)return null;var p={position:"absolute"};if(t.autoArrow!==!1){var g=t.points[0],v=t.points[1],y=g[0],x=g[1],w=v[0],b=v[1];y===w||!["t","b"].includes(y)?p.top=d:y==="t"?p.top=0:p.bottom=0,x===b||!["l","r"].includes(x)?p.left=c:x==="l"?p.left=0:p.right=0}return k.createElement("div",{ref:h,className:yt("".concat(e,"-arrow"),o),style:p},a)}function ipe(n){var e=n.prefixCls,t=n.open,r=n.zIndex,i=n.mask,s=n.motion;return i?k.createElement(eb,Gn({},s,{motionAppear:!0,visible:t,removeOnLeave:!0}),function(o){var a=o.className;return k.createElement("div",{style:{zIndex:r},className:yt("".concat(e,"-mask"),a)})}):null}var spe=k.memo(function(n){var e=n.children;return e},function(n,e){return e.cache}),ope=k.forwardRef(function(n,e){var t=n.popup,r=n.className,i=n.prefixCls,s=n.style,o=n.target,a=n.onVisibleChanged,l=n.open,c=n.keepDom,u=n.fresh,d=n.onClick,h=n.mask,p=n.arrow,g=n.arrowPos,v=n.align,y=n.motion,x=n.maskMotion,w=n.forceRender,b=n.getPopupContainer,_=n.autoDestroy,C=n.portal,A=n.zIndex,P=n.onMouseEnter,M=n.onMouseLeave,L=n.onPointerEnter,I=n.ready,F=n.offsetX,V=n.offsetY,j=n.offsetR,G=n.offsetB,J=n.onAlign,q=n.onPrepare,H=n.stretch,D=n.targetWidth,z=n.targetHeight,B=typeof t=="function"?t():t,ee=l||c,Y=(b==null?void 0:b.length)>0,oe=k.useState(!b||!Y),ce=nt(oe,2),me=ce[0],de=ce[1];if(Vn(function(){!me&&Y&&o&&de(!0)},[me,Y,o]),!me)return null;var be="auto",Oe={left:"-1000vw",top:"-1000vh",right:be,bottom:be};if(I||!l){var Te,we=v.points,De=v.dynamicInset||((Te=v._experimental)===null||Te===void 0?void 0:Te.dynamicInset),pe=De&&we[0][1]==="r",fe=De&&we[0][0]==="b";pe?(Oe.right=j,Oe.left=be):(Oe.left=F,Oe.right=be),fe?(Oe.bottom=G,Oe.top=be):(Oe.top=V,Oe.bottom=be)}var Ae={};return H&&(H.includes("height")&&z?Ae.height=z:H.includes("minHeight")&&z&&(Ae.minHeight=z),H.includes("width")&&D?Ae.width=D:H.includes("minWidth")&&D&&(Ae.minWidth=D)),l||(Ae.pointerEvents="none"),k.createElement(C,{open:w||ee,getContainer:b&&function(){return b(o)},autoDestroy:_},k.createElement(ipe,{prefixCls:i,open:l,zIndex:A,mask:h,motion:x}),k.createElement(Zw,{onResize:J,disabled:!l},function(Pe){return k.createElement(eb,Gn({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:w,leavedClassName:"".concat(i,"-hidden")},y,{onAppearPrepare:q,onEnterPrepare:q,visible:l,onVisibleChanged:function(je){var We;y==null||(We=y.onVisibleChanged)===null||We===void 0||We.call(y,je),a(je)}}),function(ge,je){var We=ge.className,qe=ge.style,Ze=yt(i,We,r);return k.createElement("div",{ref:gp(Pe,e,je),className:Ze,style:ke(ke(ke(ke({"--arrow-x":"".concat(g.x||0,"px"),"--arrow-y":"".concat(g.y||0,"px")},Oe),Ae),qe),{},{boxSizing:"border-box",zIndex:A},s),onMouseEnter:P,onMouseLeave:M,onPointerEnter:L,onClick:d},p&&k.createElement(rpe,{prefixCls:i,arrow:p,arrowPos:g,align:v}),k.createElement(spe,{cache:!l&&!u},B))})}))}),ape=k.forwardRef(function(n,e){var t=n.children,r=n.getTriggerDOMNode,i=Qw(t),s=k.useCallback(function(a){$z(e,r?r(a):a)},[r]),o=Uz(s,t.ref);return i?k.cloneElement(t,{ref:o}):t}),hH=k.createContext(null);function fH(n){return n?Array.isArray(n)?n:[n]:[]}function lpe(n,e,t,r){return k.useMemo(function(){var i=fH(t??e),s=fH(r??e),o=new Set(i),a=new Set(s);return n&&(o.has("hover")&&(o.delete("hover"),o.add("click")),a.has("hover")&&(a.delete("hover"),a.add("click"))),[o,a]},[n,e,t,r])}function cpe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;return t?n[0]===e[0]:n[0]===e[0]&&n[1]===e[1]}function upe(n,e,t,r){for(var i=t.points,s=Object.keys(n),o=0;o<s.length;o+=1){var a,l=s[o];if(cpe((a=n[l])===null||a===void 0?void 0:a.points,i,r))return"".concat(e,"-placement-").concat(l)}return""}function pH(n,e,t,r){return e||(t?{motionName:"".concat(n,"-").concat(t)}:r?{motionName:r}:null)}function sb(n){return n.ownerDocument.defaultView}function OO(n){for(var e=[],t=n==null?void 0:n.parentElement,r=["hidden","scroll","clip","auto"];t;){var i=sb(t).getComputedStyle(t),s=i.overflowX,o=i.overflowY,a=i.overflow;[s,o,a].some(function(l){return r.includes(l)})&&e.push(t),t=t.parentElement}return e}function uw(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(n)?e:n}function ey(n){return uw(parseFloat(n),0)}function mH(n,e){var t=ke({},n);return(e||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var i=sb(r).getComputedStyle(r),s=i.overflow,o=i.overflowClipMargin,a=i.borderTopWidth,l=i.borderBottomWidth,c=i.borderLeftWidth,u=i.borderRightWidth,d=r.getBoundingClientRect(),h=r.offsetHeight,p=r.clientHeight,g=r.offsetWidth,v=r.clientWidth,y=ey(a),x=ey(l),w=ey(c),b=ey(u),_=uw(Math.round(d.width/g*1e3)/1e3),C=uw(Math.round(d.height/h*1e3)/1e3),A=(g-v-w-b)*_,P=(h-p-y-x)*C,M=y*C,L=x*C,I=w*_,F=b*_,V=0,j=0;if(s==="clip"){var G=ey(o);V=G*_,j=G*C}var J=d.x+I-V,q=d.y+M-j,H=J+d.width+2*V-I-F-A,D=q+d.height+2*j-M-L-P;t.left=Math.max(t.left,J),t.top=Math.max(t.top,q),t.right=Math.min(t.right,H),t.bottom=Math.min(t.bottom,D)}}),t}function gH(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t="".concat(e),r=t.match(/^(.*)\%$/);return r?n*(parseFloat(r[1])/100):parseFloat(t)}function vH(n,e){var t=e||[],r=nt(t,2),i=r[0],s=r[1];return[gH(n.width,i),gH(n.height,s)]}function yH(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[n[0],n[1]]}function em(n,e){var t=e[0],r=e[1],i,s;return t==="t"?s=n.y:t==="b"?s=n.y+n.height:s=n.y+n.height/2,r==="l"?i=n.x:r==="r"?i=n.x+n.width:i=n.x+n.width/2,{x:i,y:s}}function ou(n,e){var t={t:"b",b:"t",l:"r",r:"l"};return n.map(function(r,i){return i===e?t[r]||"c":r}).join("")}function dpe(n,e,t,r,i,s,o){var a=k.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),l=nt(a,2),c=l[0],u=l[1],d=k.useRef(0),h=k.useMemo(function(){return e?OO(e):[]},[e]),p=k.useRef({}),g=function(){p.current={}};n||g();var v=Cs(function(){if(e&&t&&n){let Ei=function(Yd,Ws){var qt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ve,Kd=ce.x+Yd,Yc=ce.y+Ws,Dp=Kd+fe,M0=Yc+pe,ut=Math.max(Kd,qt.left),lt=Math.max(Yc,qt.top),Mn=Math.min(Dp,qt.right),qn=Math.min(M0,qt.bottom);return Math.max(0,(Mn-ut)*(qn-lt))},_o=function(){At=ce.y+gt,Mt=At+pe,_t=ce.x+pt,Ot=_t+fe};var w,b,_,C,A=e,P=A.ownerDocument,M=sb(A),L=M.getComputedStyle(A),I=L.width,F=L.height,V=L.position,j=A.style.left,G=A.style.top,J=A.style.right,q=A.style.bottom,H=A.style.overflow,D=ke(ke({},i[r]),s),z=P.createElement("div");(w=A.parentElement)===null||w===void 0||w.appendChild(z),z.style.left="".concat(A.offsetLeft,"px"),z.style.top="".concat(A.offsetTop,"px"),z.style.position=V,z.style.height="".concat(A.offsetHeight,"px"),z.style.width="".concat(A.offsetWidth,"px"),A.style.left="0",A.style.top="0",A.style.right="auto",A.style.bottom="auto",A.style.overflow="hidden";var B;if(Array.isArray(t))B={x:t[0],y:t[1],width:0,height:0};else{var ee,Y,oe=t.getBoundingClientRect();oe.x=(ee=oe.x)!==null&&ee!==void 0?ee:oe.left,oe.y=(Y=oe.y)!==null&&Y!==void 0?Y:oe.top,B={x:oe.x,y:oe.y,width:oe.width,height:oe.height}}var ce=A.getBoundingClientRect();ce.x=(b=ce.x)!==null&&b!==void 0?b:ce.left,ce.y=(_=ce.y)!==null&&_!==void 0?_:ce.top;var me=P.documentElement,de=me.clientWidth,be=me.clientHeight,Oe=me.scrollWidth,Te=me.scrollHeight,we=me.scrollTop,De=me.scrollLeft,pe=ce.height,fe=ce.width,Ae=B.height,Pe=B.width,ge={left:0,top:0,right:de,bottom:be},je={left:-De,top:-we,right:Oe-De,bottom:Te-we},We=D.htmlRegion,qe="visible",Ze="visibleFirst";We!=="scroll"&&We!==Ze&&(We=qe);var Xe=We===Ze,te=mH(je,h),X=mH(ge,h),ve=We===qe?X:te,Ce=Xe?X:ve;A.style.left="auto",A.style.top="auto",A.style.right="0",A.style.bottom="0";var $e=A.getBoundingClientRect();A.style.left=j,A.style.top=G,A.style.right=J,A.style.bottom=q,A.style.overflow=H,(C=A.parentElement)===null||C===void 0||C.removeChild(z);var Ve=uw(Math.round(fe/parseFloat(I)*1e3)/1e3),Je=uw(Math.round(pe/parseFloat(F)*1e3)/1e3);if(Ve===0||Je===0||Qx(t)&&!eY(t))return;var Ge=D.offset,T=D.targetOffset,N=vH(ce,Ge),U=nt(N,2),ne=U[0],se=U[1],K=vH(B,T),le=nt(K,2),Le=le[0],Ke=le[1];B.x-=Le,B.y-=Ke;var ue=D.points||[],Ee=nt(ue,2),Fe=Ee[0],et=Ee[1],rt=yH(et),mt=yH(Fe),jt=em(B,rt),Lt=em(ce,mt),hn=ke({},D),pt=jt.x-Lt.x+ne,gt=jt.y-Lt.y+se,yn=Ei(pt,gt),fs=Ei(pt,gt,X),xn=em(B,["t","l"]),on=em(ce,["t","l"]),or=em(B,["b","r"]),ie=em(ce,["b","r"]),_e=D.overflow||{},ze=_e.adjustX,Me=_e.adjustY,Ue=_e.shiftX,ft=_e.shiftY,bt=function(Ws){return typeof Ws=="boolean"?Ws:Ws>=0},At,Mt,_t,Ot;_o();var Ft=bt(Me),wn=mt[0]===rt[0];if(Ft&&mt[0]==="t"&&(Mt>Ce.bottom||p.current.bt)){var Pn=gt;wn?Pn-=pe-Ae:Pn=xn.y-ie.y-se;var Us=Ei(pt,Pn),wo=Ei(pt,Pn,X);Us>yn||Us===yn&&(!Xe||wo>=fs)?(p.current.bt=!0,gt=Pn,se=-se,hn.points=[ou(mt,0),ou(rt,0)]):p.current.bt=!1}if(Ft&&mt[0]==="b"&&(At<Ce.top||p.current.tb)){var tr=gt;wn?tr+=pe-Ae:tr=or.y-on.y-se;var Vt=Ei(pt,tr),ps=Ei(pt,tr,X);Vt>yn||Vt===yn&&(!Xe||ps>=fs)?(p.current.tb=!0,gt=tr,se=-se,hn.points=[ou(mt,0),ou(rt,0)]):p.current.tb=!1}var bn=bt(ze),Rr=mt[1]===rt[1];if(bn&&mt[1]==="l"&&(Ot>Ce.right||p.current.rl)){var vr=pt;Rr?vr-=fe-Pe:vr=xn.x-ie.x-ne;var ai=Ei(vr,gt),Lr=Ei(vr,gt,X);ai>yn||ai===yn&&(!Xe||Lr>=fs)?(p.current.rl=!0,pt=vr,ne=-ne,hn.points=[ou(mt,1),ou(rt,1)]):p.current.rl=!1}if(bn&&mt[1]==="r"&&(_t<Ce.left||p.current.lr)){var Ct=pt;Rr?Ct+=fe-Pe:Ct=or.x-on.x-ne;var Qt=Ei(Ct,gt),li=Ei(Ct,gt,X);Qt>yn||Qt===yn&&(!Xe||li>=fs)?(p.current.lr=!0,pt=Ct,ne=-ne,hn.points=[ou(mt,1),ou(rt,1)]):p.current.lr=!1}_o();var Gt=Ue===!0?0:Ue;typeof Gt=="number"&&(_t<X.left&&(pt-=_t-X.left-ne,B.x+Pe<X.left+Gt&&(pt+=B.x-X.left+Pe-Gt)),Ot>X.right&&(pt-=Ot-X.right-ne,B.x>X.right-Gt&&(pt+=B.x-X.right+Gt)));var gn=ft===!0?0:ft;typeof gn=="number"&&(At<X.top&&(gt-=At-X.top-se,B.y+Ae<X.top+gn&&(gt+=B.y-X.top+Ae-gn)),Mt>X.bottom&&(gt-=Mt-X.bottom-se,B.y>X.bottom-gn&&(gt+=B.y-X.bottom+gn)));var _i=ce.x+pt,Si=_i+fe,Bn=ce.y+gt,Gc=Bn+pe,Gd=B.x,kp=Gd+Pe,Wa=B.y,Ip=Wa+Ae,Ki=Math.max(_i,Gd),S0=Math.min(Si,kp),Op=(Ki+S0)/2,E0=Op-_i,qc=Math.max(Bn,Wa),Pl=Math.min(Gc,Ip),Rl=(qc+Pl)/2,Xc=Rl-Bn;o==null||o(e,hn);var qd=$e.right-ce.x-(pt+ce.width),bo=$e.bottom-ce.y-(gt+ce.height);Ve===1&&(pt=Math.round(pt),qd=Math.round(qd)),Je===1&&(gt=Math.round(gt),bo=Math.round(bo));var Xd={ready:!0,offsetX:pt/Ve,offsetY:gt/Je,offsetR:qd/Ve,offsetB:bo/Je,arrowX:E0/Ve,arrowY:Xc/Je,scaleX:Ve,scaleY:Je,align:hn};u(Xd)}}),y=function(){d.current+=1;var b=d.current;Promise.resolve().then(function(){d.current===b&&v()})},x=function(){u(function(b){return ke(ke({},b),{},{ready:!1})})};return Vn(x,[r]),Vn(function(){n||x()},[n]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,y]}function hpe(n,e,t,r,i){Vn(function(){if(n&&e&&t){let d=function(){r(),i()};var s=e,o=t,a=OO(s),l=OO(o),c=sb(o),u=new Set([c].concat(St(a),St(l)));return u.forEach(function(h){h.addEventListener("scroll",d,{passive:!0})}),c.addEventListener("resize",d,{passive:!0}),r(),function(){u.forEach(function(h){h.removeEventListener("scroll",d),c.removeEventListener("resize",d)})}}},[n,e,t])}function fpe(n,e,t,r,i,s,o,a){var l=k.useRef(n);l.current=n,k.useEffect(function(){if(e&&r&&(!i||s)){var c=function(p){var g;l.current&&!o(((g=p.composedPath)===null||g===void 0||(g=g.call(p))===null||g===void 0?void 0:g[0])||p.target)&&a(!1)},u=sb(r);u.addEventListener("mousedown",c,!0),u.addEventListener("contextmenu",c,!0);var d=BA(t);return d&&(d.addEventListener("mousedown",c,!0),d.addEventListener("contextmenu",c,!0)),function(){u.removeEventListener("mousedown",c,!0),u.removeEventListener("contextmenu",c,!0),d&&(d.removeEventListener("mousedown",c,!0),d.removeEventListener("contextmenu",c,!0))}}},[e,t,r,i,s])}var ppe=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function mpe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:dY,e=k.forwardRef(function(t,r){var i=t.prefixCls,s=i===void 0?"rc-trigger-popup":i,o=t.children,a=t.action,l=a===void 0?"hover":a,c=t.showAction,u=t.hideAction,d=t.popupVisible,h=t.defaultPopupVisible,p=t.onPopupVisibleChange,g=t.afterPopupVisibleChange,v=t.mouseEnterDelay,y=t.mouseLeaveDelay,x=y===void 0?.1:y,w=t.focusDelay,b=t.blurDelay,_=t.mask,C=t.maskClosable,A=C===void 0?!0:C,P=t.getPopupContainer,M=t.forceRender,L=t.autoDestroy,I=t.destroyPopupOnHide,F=t.popup,V=t.popupClassName,j=t.popupStyle,G=t.popupPlacement,J=t.builtinPlacements,q=J===void 0?{}:J,H=t.popupAlign,D=t.zIndex,z=t.stretch,B=t.getPopupClassNameFromAlign,ee=t.fresh,Y=t.alignPoint,oe=t.onPopupClick,ce=t.onPopupAlign,me=t.arrow,de=t.popupMotion,be=t.maskMotion,Oe=t.popupTransitionName,Te=t.popupAnimation,we=t.maskTransitionName,De=t.maskAnimation,pe=t.className,fe=t.getTriggerDOMNode,Ae=ls(t,ppe),Pe=L||I||!1,ge=k.useState(!1),je=nt(ge,2),We=je[0],qe=je[1];Vn(function(){qe(npe())},[]);var Ze=k.useRef({}),Xe=k.useContext(hH),te=k.useMemo(function(){return{registerSubPopup:function(lt,Mn){Ze.current[lt]=Mn,Xe==null||Xe.registerSubPopup(lt,Mn)}}},[Xe]),X=rfe(),ve=k.useState(null),Ce=nt(ve,2),$e=Ce[0],Ve=Ce[1],Je=k.useRef(null),Ge=Cs(function(ut){Je.current=ut,Qx(ut)&&$e!==ut&&Ve(ut),Xe==null||Xe.registerSubPopup(X,ut)}),T=k.useState(null),N=nt(T,2),U=N[0],ne=N[1],se=k.useRef(null),K=Cs(function(ut){Qx(ut)&&U!==ut&&(ne(ut),se.current=ut)}),le=k.Children.only(o),Le=(le==null?void 0:le.props)||{},Ke={},ue=Cs(function(ut){var lt,Mn,qn=U;return(qn==null?void 0:qn.contains(ut))||((lt=BA(qn))===null||lt===void 0?void 0:lt.host)===ut||ut===qn||($e==null?void 0:$e.contains(ut))||((Mn=BA($e))===null||Mn===void 0?void 0:Mn.host)===ut||ut===$e||Object.values(Ze.current).some(function(Nn){return(Nn==null?void 0:Nn.contains(ut))||ut===Nn})}),Ee=pH(s,de,Te,Oe),Fe=pH(s,be,De,we),et=k.useState(h||!1),rt=nt(et,2),mt=rt[0],jt=rt[1],Lt=d??mt,hn=Cs(function(ut){d===void 0&&jt(ut)});Vn(function(){jt(d||!1)},[d]);var pt=k.useRef(Lt);pt.current=Lt;var gt=k.useRef([]);gt.current=[];var yn=Cs(function(ut){var lt;hn(ut),((lt=gt.current[gt.current.length-1])!==null&&lt!==void 0?lt:Lt)!==ut&&(gt.current.push(ut),p==null||p(ut))}),fs=k.useRef(),xn=function(){clearTimeout(fs.current)},on=function(lt){var Mn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;xn(),Mn===0?yn(lt):fs.current=setTimeout(function(){yn(lt)},Mn*1e3)};k.useEffect(function(){return xn},[]);var or=k.useState(!1),ie=nt(or,2),_e=ie[0],ze=ie[1];Vn(function(ut){(!ut||Lt)&&ze(!0)},[Lt]);var Me=k.useState(null),Ue=nt(Me,2),ft=Ue[0],bt=Ue[1],At=k.useState(null),Mt=nt(At,2),_t=Mt[0],Ot=Mt[1],Ft=function(lt){Ot([lt.clientX,lt.clientY])},wn=dpe(Lt,$e,Y&&_t!==null?_t:U,G,q,H,ce),Pn=nt(wn,11),Us=Pn[0],wo=Pn[1],tr=Pn[2],Vt=Pn[3],ps=Pn[4],bn=Pn[5],Rr=Pn[6],vr=Pn[7],ai=Pn[8],Lr=Pn[9],Ct=Pn[10],Qt=lpe(We,l,c,u),li=nt(Qt,2),Gt=li[0],gn=li[1],_i=Gt.has("click"),Si=gn.has("click")||gn.has("contextMenu"),Bn=Cs(function(){_e||Ct()}),Gc=function(){pt.current&&Y&&Si&&on(!1)};hpe(Lt,U,$e,Bn,Gc),Vn(function(){Bn()},[_t,G]),Vn(function(){Lt&&!(q!=null&&q[G])&&Bn()},[JSON.stringify(H)]);var Gd=k.useMemo(function(){var ut=upe(q,s,Lr,Y);return yt(ut,B==null?void 0:B(Lr))},[Lr,B,q,s,Y]);k.useImperativeHandle(r,function(){return{nativeElement:se.current,popupElement:Je.current,forceAlign:Bn}});var kp=k.useState(0),Wa=nt(kp,2),Ip=Wa[0],Ki=Wa[1],S0=k.useState(0),Op=nt(S0,2),E0=Op[0],qc=Op[1],Pl=function(){if(z&&U){var lt=U.getBoundingClientRect();Ki(lt.width),qc(lt.height)}},Rl=function(){Pl(),Bn()},Xc=function(lt){ze(!1),Ct(),g==null||g(lt)},qd=function(){return new Promise(function(lt){Pl(),bt(function(){return lt})})};Vn(function(){ft&&(Ct(),ft(),bt(null))},[ft]);function bo(ut,lt,Mn,qn){Ke[ut]=function(Nn){var Np;qn==null||qn(Nn),on(lt,Mn);for(var Kc=arguments.length,Hs=new Array(Kc>1?Kc-1:0),Fp=1;Fp<Kc;Fp++)Hs[Fp-1]=arguments[Fp];(Np=Le[ut])===null||Np===void 0||Np.call.apply(Np,[Le,Nn].concat(Hs))}}(_i||Si)&&(Ke.onClick=function(ut){var lt;pt.current&&Si?on(!1):!pt.current&&_i&&(Ft(ut),on(!0));for(var Mn=arguments.length,qn=new Array(Mn>1?Mn-1:0),Nn=1;Nn<Mn;Nn++)qn[Nn-1]=arguments[Nn];(lt=Le.onClick)===null||lt===void 0||lt.call.apply(lt,[Le,ut].concat(qn))}),fpe(Lt,Si,U,$e,_,A,ue,on);var Xd=Gt.has("hover"),Ei=gn.has("hover"),_o,Yd;Xd&&(bo("onMouseEnter",!0,v,function(ut){Ft(ut)}),bo("onPointerEnter",!0,v,function(ut){Ft(ut)}),_o=function(lt){(Lt||_e)&&$e!==null&&$e!==void 0&&$e.contains(lt.target)&&on(!0,v)},Y&&(Ke.onMouseMove=function(ut){var lt;(lt=Le.onMouseMove)===null||lt===void 0||lt.call(Le,ut)})),Ei&&(bo("onMouseLeave",!1,x),bo("onPointerLeave",!1,x),Yd=function(){on(!1,x)}),Gt.has("focus")&&bo("onFocus",!0,w),gn.has("focus")&&bo("onBlur",!1,b),Gt.has("contextMenu")&&(Ke.onContextMenu=function(ut){var lt;pt.current&&gn.has("contextMenu")?on(!1):(Ft(ut),on(!0)),ut.preventDefault();for(var Mn=arguments.length,qn=new Array(Mn>1?Mn-1:0),Nn=1;Nn<Mn;Nn++)qn[Nn-1]=arguments[Nn];(lt=Le.onContextMenu)===null||lt===void 0||lt.call.apply(lt,[Le,ut].concat(qn))}),pe&&(Ke.className=yt(Le.className,pe));var Ws=ke(ke({},Le),Ke),qt={},Kd=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Kd.forEach(function(ut){Ae[ut]&&(qt[ut]=function(){for(var lt,Mn=arguments.length,qn=new Array(Mn),Nn=0;Nn<Mn;Nn++)qn[Nn]=arguments[Nn];(lt=Ws[ut])===null||lt===void 0||lt.call.apply(lt,[Ws].concat(qn)),Ae[ut].apply(Ae,qn)})});var Yc=k.cloneElement(le,ke(ke({},Ws),qt)),Dp={x:bn,y:Rr},M0=me?ke({},me!==!0?me:{}):null;return k.createElement(k.Fragment,null,k.createElement(Zw,{disabled:!Lt,ref:K,onResize:Rl},k.createElement(ape,{getTriggerDOMNode:fe},Yc)),k.createElement(hH.Provider,{value:te},k.createElement(ope,{portal:n,ref:Ge,prefixCls:s,popup:F,className:yt(V,Gd),style:j,target:U,onMouseEnter:_o,onMouseLeave:Yd,onPointerEnter:_o,zIndex:D,open:Lt,keepDom:_e,fresh:ee,onClick:oe,mask:_,motion:Ee,maskMotion:Fe,onVisibleChanged:Xc,onPrepare:qd,forceRender:M,autoDestroy:Pe,getPopupContainer:P,align:Lr,arrow:M0,arrowPos:Dp,ready:Us,offsetX:wo,offsetY:tr,offsetR:Vt,offsetB:ps,onAlign:Bn,stretch:z,targetWidth:Ip/vr,targetHeight:E0/ai})))});return e}const gpe=mpe(dY);function vpe(n,e,t){return yt({[`${n}-status-success`]:e==="success",[`${n}-status-warning`]:e==="warning",[`${n}-status-error`]:e==="error",[`${n}-status-validating`]:e==="validating",[`${n}-has-feedback`]:t})}const ype=(n,e)=>e||n,xpe=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var r,i;const{variant:s,[n]:o}=k.useContext(mr),a=k.useContext(Jfe),l=o==null?void 0:o.variant;let c;typeof e<"u"?c=e:t===!1?c="borderless":c=(i=(r=a??l)!==null&&r!==void 0?r:s)!==null&&i!==void 0?i:"outlined";const u=Gce.includes(c);return[c,u]};var wpe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},bpe=function(e,t){return k.createElement(ua,Gn({},e,{ref:t,icon:wpe}))},_pe=k.forwardRef(bpe);function xY(n){var e=n.children,t=n.prefixCls,r=n.id,i=n.overlayInnerStyle,s=n.className,o=n.style;return k.createElement("div",{className:yt("".concat(t,"-content"),s),style:o},k.createElement("div",{className:"".concat(t,"-inner"),id:r,role:"tooltip",style:i},typeof e=="function"?e():e))}var tm={shiftX:64,adjustY:1},nm={adjustX:1,shiftY:!0},Io=[0,0],Spe={left:{points:["cr","cl"],overflow:nm,offset:[-4,0],targetOffset:Io},right:{points:["cl","cr"],overflow:nm,offset:[4,0],targetOffset:Io},top:{points:["bc","tc"],overflow:tm,offset:[0,-4],targetOffset:Io},bottom:{points:["tc","bc"],overflow:tm,offset:[0,4],targetOffset:Io},topLeft:{points:["bl","tl"],overflow:tm,offset:[0,-4],targetOffset:Io},leftTop:{points:["tr","tl"],overflow:nm,offset:[-4,0],targetOffset:Io},topRight:{points:["br","tr"],overflow:tm,offset:[0,-4],targetOffset:Io},rightTop:{points:["tl","tr"],overflow:nm,offset:[4,0],targetOffset:Io},bottomRight:{points:["tr","br"],overflow:tm,offset:[0,4],targetOffset:Io},rightBottom:{points:["bl","br"],overflow:nm,offset:[4,0],targetOffset:Io},bottomLeft:{points:["tl","bl"],overflow:tm,offset:[0,4],targetOffset:Io},leftBottom:{points:["br","bl"],overflow:nm,offset:[-4,0],targetOffset:Io}},Epe=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],Mpe=function(e,t){var r=e.overlayClassName,i=e.trigger,s=i===void 0?["hover"]:i,o=e.mouseEnterDelay,a=o===void 0?0:o,l=e.mouseLeaveDelay,c=l===void 0?.1:l,u=e.overlayStyle,d=e.prefixCls,h=d===void 0?"rc-tooltip":d,p=e.children,g=e.onVisibleChange,v=e.afterVisibleChange,y=e.transitionName,x=e.animation,w=e.motion,b=e.placement,_=b===void 0?"right":b,C=e.align,A=C===void 0?{}:C,P=e.destroyTooltipOnHide,M=P===void 0?!1:P,L=e.defaultVisible,I=e.getTooltipContainer,F=e.overlayInnerStyle;e.arrowContent;var V=e.overlay,j=e.id,G=e.showArrow,J=G===void 0?!0:G,q=ls(e,Epe),H=k.useRef(null);k.useImperativeHandle(t,function(){return H.current});var D=ke({},q);"visible"in e&&(D.popupVisible=e.visible);var z=function(){return k.createElement(xY,{key:"content",prefixCls:h,id:j,overlayInnerStyle:F},V)};return k.createElement(gpe,Gn({popupClassName:r,prefixCls:h,popup:z,action:s,builtinPlacements:Spe,popupPlacement:_,ref:H,popupAlign:A,getPopupContainer:I,onPopupVisibleChange:g,afterPopupVisibleChange:v,popupTransitionName:y,popupAnimation:x,popupMotion:w,defaultPopupVisible:L,autoDestroy:M,mouseLeaveDelay:c,popupStyle:u,mouseEnterDelay:a,arrow:J},D),p)};const Cpe=k.forwardRef(Mpe);function Ape(n){const{sizePopupArrow:e,borderRadiusXS:t,borderRadiusOuter:r}=n,i=e/2,s=0,o=i,a=r*1/Math.sqrt(2),l=i-r*(1-1/Math.sqrt(2)),c=i-t*(1/Math.sqrt(2)),u=r*(Math.sqrt(2)-1)+t*(1/Math.sqrt(2)),d=2*i-c,h=u,p=2*i-a,g=l,v=2*i-s,y=o,x=i*Math.sqrt(2)+r*(Math.sqrt(2)-2),w=r*(Math.sqrt(2)-1),b=`polygon(${w}px 100%, 50% ${w}px, ${2*i-w}px 100%, ${w}px 100%)`,_=`path('M ${s} ${o} A ${r} ${r} 0 0 0 ${a} ${l} L ${c} ${u} A ${t} ${t} 0 0 1 ${d} ${h} L ${p} ${g} A ${r} ${r} 0 0 0 ${v} ${y} Z')`;return{arrowShadowWidth:x,arrowPath:_,arrowPolygon:b}}const Tpe=(n,e,t)=>{const{sizePopupArrow:r,arrowPolygon:i,arrowPath:s,arrowShadowWidth:o,borderRadiusXS:a,calc:l}=n;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:l(r).div(2).equal(),background:e,clipPath:{_multi_value_:!0,value:[i,s]},content:'""'},"&::after":{content:'""',position:"absolute",width:o,height:o,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${nn(a)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:t,zIndex:0,background:"transparent"}}},wY=8;function bY(n){const{contentRadius:e,limitVerticalRadius:t}=n,r=e>12?e+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:t?wY:r}}function J_(n,e){return n?e:{}}function Ppe(n,e,t){const{componentCls:r,boxShadowPopoverArrow:i,arrowOffsetVertical:s,arrowOffsetHorizontal:o}=n,{arrowDistance:a=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}={};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},Tpe(n,e,i)),{"&:before":{background:e}})]},J_(!!l.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:a,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":o,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:o}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${nn(o)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:o}}}})),J_(!!l.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:a,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":o,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:o}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${nn(o)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:o}}}})),J_(!!l.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:a},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:s},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:s}})),J_(!!l.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:a},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:s},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:s}}))}}function Rpe(n,e,t,r){if(r===!1)return{adjustX:!1,adjustY:!1};const i=r&&typeof r=="object"?r:{},s={};switch(n){case"top":case"bottom":s.shiftX=e.arrowOffsetHorizontal*2+t,s.shiftY=!0,s.adjustY=!0;break;case"left":case"right":s.shiftY=e.arrowOffsetVertical*2+t,s.shiftX=!0,s.adjustX=!0;break}const o=Object.assign(Object.assign({},s),i);return o.shiftX||(o.adjustX=!0),o.shiftY||(o.adjustY=!0),o}const xH={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},Lpe={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},kpe=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function Ipe(n){const{arrowWidth:e,autoAdjustOverflow:t,arrowPointAtCenter:r,offset:i,borderRadius:s,visibleFirst:o}=n,a=e/2,l={};return Object.keys(xH).forEach(c=>{const u=r&&Lpe[c]||xH[c],d=Object.assign(Object.assign({},u),{offset:[0,0],dynamicInset:!0});switch(l[c]=d,kpe.has(c)&&(d.autoArrow=!1),c){case"top":case"topLeft":case"topRight":d.offset[1]=-a-i;break;case"bottom":case"bottomLeft":case"bottomRight":d.offset[1]=a+i;break;case"left":case"leftTop":case"leftBottom":d.offset[0]=-a-i;break;case"right":case"rightTop":case"rightBottom":d.offset[0]=a+i;break}const h=bY({contentRadius:s,limitVerticalRadius:!0});if(r)switch(c){case"topLeft":case"bottomLeft":d.offset[0]=-h.arrowOffsetHorizontal-a;break;case"topRight":case"bottomRight":d.offset[0]=h.arrowOffsetHorizontal+a;break;case"leftTop":case"rightTop":d.offset[1]=-h.arrowOffsetHorizontal*2+a;break;case"leftBottom":case"rightBottom":d.offset[1]=h.arrowOffsetHorizontal*2-a;break}d.overflow=Rpe(c,h,e,t),o&&(d.htmlRegion="visibleFirst")}),l}const Ope=n=>{const{componentCls:e,tooltipMaxWidth:t,tooltipColor:r,tooltipBg:i,tooltipBorderRadius:s,zIndexPopup:o,controlHeight:a,boxShadowSecondary:l,paddingSM:c,paddingXS:u}=n;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},FT(n)),{position:"absolute",zIndex:o,display:"block",width:"max-content",maxWidth:t,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":i,[`${e}-inner`]:{minWidth:"1em",minHeight:a,padding:`${nn(n.calc(c).div(2).equal())} ${nn(u)}`,color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:s,boxShadow:l,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:n.min(s,wY)}},[`${e}-content`]:{position:"relative"}}),Sue(n,(d,h)=>{let{darkColor:p}=h;return{[`&${e}-${d}`]:{[`${e}-inner`]:{backgroundColor:p},[`${e}-arrow`]:{"--antd-arrow-background-color":p}}}})),{"&-rtl":{direction:"rtl"}})},Ppe(n,"var(--antd-arrow-background-color)"),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:n.sizePopupArrow}}]},Dpe=n=>Object.assign(Object.assign({zIndexPopup:n.zIndexPopupBase+70},bY({contentRadius:n.borderRadius,limitVerticalRadius:!0})),Ape(xo(n,{borderRadiusOuter:Math.min(n.borderRadiusOuter,4)}))),_Y=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return zd("Tooltip",r=>{const{borderRadius:i,colorTextLightSolid:s,colorBgSpotlight:o}=r,a=xo(r,{tooltipMaxWidth:250,tooltipColor:s,tooltipBorderRadius:i,tooltipBg:o});return[Ope(a),xhe(r,"zoom-big-fast")]},Dpe,{resetStyle:!1,injectStyle:e})(n)},Npe=zA.map(n=>`${n}-inverse`);function Fpe(n){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(St(Npe),St(zA)).includes(n):zA.includes(n)}function SY(n,e){const t=Fpe(e),r=yt({[`${n}-${e}`]:e&&t}),i={},s={};return e&&!t&&(i.background=e,s["--antd-arrow-background-color"]=e),{className:r,overlayStyle:i,arrowStyle:s}}const zpe=n=>{const{prefixCls:e,className:t,placement:r="top",title:i,color:s,overlayInnerStyle:o}=n,{getPrefixCls:a}=k.useContext(mr),l=a("tooltip",e),[c,u,d]=_Y(l),h=SY(l,s),p=h.arrowStyle,g=Object.assign(Object.assign({},o),h.overlayStyle),v=yt(u,d,l,`${l}-pure`,`${l}-placement-${r}`,t,h.className);return c(k.createElement("div",{className:v,style:p},k.createElement("div",{className:`${l}-arrow`}),k.createElement(xY,Object.assign({},n,{className:u,prefixCls:l,overlayInnerStyle:g}),i)))};var Bpe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const $pe=k.forwardRef((n,e)=>{var t,r;const{prefixCls:i,openClassName:s,getTooltipContainer:o,overlayClassName:a,color:l,overlayInnerStyle:c,children:u,afterOpenChange:d,afterVisibleChange:h,destroyTooltipOnHide:p,arrow:g=!0,title:v,overlay:y,builtinPlacements:x,arrowPointAtCenter:w=!1,autoAdjustOverflow:b=!0}=n,_=!!g,[,C]=Wc(),{getPopupContainer:A,getPrefixCls:P,direction:M}=k.useContext(mr),L=vX(),I=k.useRef(null),F=()=>{var X;(X=I.current)===null||X===void 0||X.forceAlign()};k.useImperativeHandle(e,()=>{var X;return{forceAlign:F,forcePopupAlign:()=>{L.deprecated(!1,"forcePopupAlign","forceAlign"),F()},nativeElement:(X=I.current)===null||X===void 0?void 0:X.nativeElement}});const[V,j]=lw(!1,{value:(t=n.open)!==null&&t!==void 0?t:n.visible,defaultValue:(r=n.defaultOpen)!==null&&r!==void 0?r:n.defaultVisible}),G=!v&&!y&&v!==0,J=X=>{var ve,Ce;j(G?!1:X),G||((ve=n.onOpenChange)===null||ve===void 0||ve.call(n,X),(Ce=n.onVisibleChange)===null||Ce===void 0||Ce.call(n,X))},q=k.useMemo(()=>{var X,ve;let Ce=w;return typeof g=="object"&&(Ce=(ve=(X=g.pointAtCenter)!==null&&X!==void 0?X:g.arrowPointAtCenter)!==null&&ve!==void 0?ve:w),x||Ipe({arrowPointAtCenter:Ce,autoAdjustOverflow:b,arrowWidth:_?C.sizePopupArrow:0,borderRadius:C.borderRadius,offset:C.marginXXS,visibleFirst:!0})},[w,g,x,C]),H=k.useMemo(()=>v===0?v:y||v||"",[y,v]),D=k.createElement(epe,{space:!0},typeof H=="function"?H():H),{getPopupContainer:z,placement:B="top",mouseEnterDelay:ee=.1,mouseLeaveDelay:Y=.1,overlayStyle:oe,rootClassName:ce}=n,me=Bpe(n,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),de=P("tooltip",i),be=P(),Oe=n["data-popover-inject"];let Te=V;!("open"in n)&&!("visible"in n)&&G&&(Te=!1);const we=k.isValidElement(u)&&!KX(u)?u:k.createElement("span",null,u),De=we.props,pe=!De.className||typeof De.className=="string"?yt(De.className,s||`${de}-open`):De.className,[fe,Ae,Pe]=_Y(de,!Oe),ge=SY(de,l),je=ge.arrowStyle,We=Object.assign(Object.assign({},c),ge.overlayStyle),qe=yt(a,{[`${de}-rtl`]:M==="rtl"},ge.className,ce,Ae,Pe),[Ze,Xe]=Sde("Tooltip",me.zIndex),te=k.createElement(Cpe,Object.assign({},me,{zIndex:Ze,showArrow:_,placement:B,mouseEnterDelay:ee,mouseLeaveDelay:Y,prefixCls:de,overlayClassName:qe,overlayStyle:Object.assign(Object.assign({},je),oe),getTooltipContainer:z||o||A,ref:I,builtinPlacements:q,overlay:D,visible:Te,onVisibleChange:J,afterVisibleChange:d??h,overlayInnerStyle:We,arrowContent:k.createElement("span",{className:`${de}-arrow-content`}),motion:{motionName:Ode(be,"zoom-big-fast",n.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!p}),Te?tb(we,{className:pe}):we);return fe(k.createElement(ZX.Provider,{value:Xe},te))}),UT=$pe;UT._InternalPanelDoNotUseOrYouWillBeFired=zpe;var Upe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},Wpe=function(e,t){return k.createElement(ua,Gn({},e,{ref:t,icon:Upe}))},Hpe=k.forwardRef(Wpe),jpe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},Vpe=function(e,t){return k.createElement(ua,Gn({},e,{ref:t,icon:jpe}))},wH=k.forwardRef(Vpe);const Gpe=n=>!isNaN(parseFloat(n))&&isFinite(n),EY=k.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}}),qpe=n=>{const{antCls:e,componentCls:t,colorText:r,footerBg:i,headerHeight:s,headerPadding:o,headerColor:a,footerPadding:l,fontSize:c,bodyBg:u,headerBg:d}=n;return{[t]:{display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:u,"&, *":{boxSizing:"border-box"},[`&${t}-has-sider`]:{flexDirection:"row",[`> ${t}, > ${t}-content`]:{width:0}},[`${t}-header, &${t}-footer`]:{flex:"0 0 auto"},"&-rtl":{direction:"rtl"}},[`${t}-header`]:{height:s,padding:o,color:a,lineHeight:nn(s),background:d,[`${e}-menu`]:{lineHeight:"inherit"}},[`${t}-footer`]:{padding:l,color:r,fontSize:c,background:i},[`${t}-content`]:{flex:"auto",color:r,minHeight:0}}},MY=n=>{const{colorBgLayout:e,controlHeight:t,controlHeightLG:r,colorText:i,controlHeightSM:s,marginXXS:o,colorTextLightSolid:a,colorBgContainer:l}=n,c=r*1.25;return{colorBgHeader:"#001529",colorBgBody:e,colorBgTrigger:"#002140",bodyBg:e,headerBg:"#001529",headerHeight:t*2,headerPadding:`0 ${c}px`,headerColor:i,footerPadding:`${s}px ${c}px`,footerBg:e,siderBg:"#001529",triggerHeight:r+o*2,triggerBg:"#002140",triggerColor:a,zeroTriggerWidth:r,zeroTriggerHeight:r,lightSiderBg:l,lightTriggerBg:l,lightTriggerColor:i}},CY=[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]],AY=zd("Layout",n=>[qpe(n)],MY,{deprecatedTokens:CY}),Xpe=n=>{const{componentCls:e,siderBg:t,motionDurationMid:r,motionDurationSlow:i,antCls:s,triggerHeight:o,triggerColor:a,triggerBg:l,headerHeight:c,zeroTriggerWidth:u,zeroTriggerHeight:d,borderRadius:h,lightSiderBg:p,lightTriggerColor:g,lightTriggerBg:v,bodyBg:y}=n;return{[e]:{position:"relative",minWidth:0,background:t,transition:`all ${r}, background 0s`,"&-has-trigger":{paddingBottom:o},"&-right":{order:1},[`${e}-children`]:{height:"100%",marginTop:-.1,paddingTop:.1,[`${s}-menu${s}-menu-inline-collapsed`]:{width:"auto"}},[`${e}-trigger`]:{position:"fixed",bottom:0,zIndex:1,height:o,color:a,lineHeight:nn(o),textAlign:"center",background:l,cursor:"pointer",transition:`all ${r}`},"&-zero-width":{"> *":{overflow:"hidden"},[`${e}-trigger`]:{position:"absolute",top:c,insetInlineEnd:n.calc(u).mul(-1).equal(),zIndex:1,width:u,height:d,color:a,fontSize:n.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:t,borderStartStartRadius:0,borderStartEndRadius:h,borderEndEndRadius:h,borderEndStartRadius:0,cursor:"pointer",transition:`background ${i} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${i}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:n.calc(u).mul(-1).equal(),borderStartStartRadius:h,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:h}}},"&-light":{background:p,[`${e}-trigger`]:{color:g,background:v},[`${e}-zero-width-trigger`]:{color:g,background:v,border:`1px solid ${y}`,borderInlineStart:0}}}}},Ype=zd(["Layout","Sider"],n=>[Xpe(n)],MY,{deprecatedTokens:CY});var Kpe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const bH={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},TY=k.createContext({}),Qpe=(()=>{let n=0;return function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n+=1,`${e}${n}`}})(),PY=k.forwardRef((n,e)=>{const{prefixCls:t,className:r,trigger:i,children:s,defaultCollapsed:o=!1,theme:a="dark",style:l={},collapsible:c=!1,reverseArrow:u=!1,width:d=200,collapsedWidth:h=80,zeroWidthTriggerStyle:p,breakpoint:g,onCollapse:v,onBreakpoint:y}=n,x=Kpe(n,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:w}=k.useContext(EY),[b,_]=k.useState("collapsed"in n?n.collapsed:o),[C,A]=k.useState(!1);k.useEffect(()=>{"collapsed"in n&&_(n.collapsed)},[n.collapsed]);const P=(H,D)=>{"collapsed"in n||_(H),v==null||v(H,D)},{getPrefixCls:M}=k.useContext(mr),L=M("layout-sider",t),[I,F,V]=Ype(L),j=k.useRef();j.current=H=>{A(H.matches),y==null||y(H.matches),b!==H.matches&&P(H.matches,"responsive")},k.useEffect(()=>{function H(z){return j.current(z)}let D;if(typeof window<"u"){const{matchMedia:z}=window;if(z&&g&&g in bH){D=z(`screen and (max-width: ${bH[g]})`);try{D.addEventListener("change",H)}catch{D.addListener(H)}H(D)}}return()=>{try{D==null||D.removeEventListener("change",H)}catch{D==null||D.removeListener(H)}}},[g]),k.useEffect(()=>{const H=Qpe("ant-sider-");return w.addSider(H),()=>w.removeSider(H)},[]);const G=()=>{P(!b,"clickTrigger")},J=()=>{const H=r0(x,["collapsed"]),D=b?h:d,z=Gpe(D)?`${D}px`:String(D),B=parseFloat(String(h||0))===0?k.createElement("span",{onClick:G,className:yt(`${L}-zero-width-trigger`,`${L}-zero-width-trigger-${u?"right":"left"}`),style:p},i||k.createElement(Hpe,null)):null,oe={expanded:u?k.createElement(qW,null):k.createElement(wH,null),collapsed:u?k.createElement(wH,null):k.createElement(qW,null)}[b?"collapsed":"expanded"],ce=i!==null?B||k.createElement("div",{className:`${L}-trigger`,onClick:G,style:{width:z}},i||oe):null,me=Object.assign(Object.assign({},l),{flex:`0 0 ${z}`,maxWidth:z,minWidth:z,width:z}),de=yt(L,`${L}-${a}`,{[`${L}-collapsed`]:!!b,[`${L}-has-trigger`]:c&&i!==null&&!B,[`${L}-below`]:!!C,[`${L}-zero-width`]:parseFloat(z)===0},r,F,V);return k.createElement("aside",Object.assign({className:de},H,{style:me,ref:e}),k.createElement("div",{className:`${L}-children`},s),c||C&&B?ce:null)},q=k.useMemo(()=>({siderCollapsed:b}),[b]);return I(k.createElement(TY.Provider,{value:q},J()))});function Zpe(n){return xo(n,{inputAffixPadding:n.paddingXXS})}const Jpe=n=>{const{controlHeight:e,fontSize:t,lineHeight:r,lineWidth:i,controlHeightSM:s,controlHeightLG:o,fontSizeLG:a,lineHeightLG:l,paddingSM:c,controlPaddingHorizontalSM:u,controlPaddingHorizontal:d,colorFillAlter:h,colorPrimaryHover:p,colorPrimary:g,controlOutlineWidth:v,controlOutline:y,colorErrorOutline:x,colorWarningOutline:w,colorBgContainer:b}=n;return{paddingBlock:Math.max(Math.round((e-t*r)/2*10)/10-i,0),paddingBlockSM:Math.max(Math.round((s-t*r)/2*10)/10-i,0),paddingBlockLG:Math.ceil((o-a*l)/2*10)/10-i,paddingInline:c-i,paddingInlineSM:u-i,paddingInlineLG:d-i,addonBg:h,activeBorderColor:g,hoverBorderColor:p,activeShadow:`0 0 0 ${v}px ${y}`,errorActiveShadow:`0 0 0 ${v}px ${x}`,warningActiveShadow:`0 0 0 ${v}px ${w}`,hoverBg:b,activeBg:b,inputFontSize:t,inputFontSizeLG:a,inputFontSizeSM:t}},eme=n=>({borderColor:n.hoverBorderColor,backgroundColor:n.hoverBg}),c5=n=>({color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},eme(xo(n,{hoverBorderColor:n.colorBorder,hoverBg:n.colorBgContainerDisabled})))}),RY=(n,e)=>({background:n.colorBgContainer,borderWidth:n.lineWidth,borderStyle:n.lineType,borderColor:e.borderColor,"&:hover":{borderColor:e.hoverBorderColor,backgroundColor:n.hoverBg},"&:focus, &:focus-within":{borderColor:e.activeBorderColor,boxShadow:e.activeShadow,outline:0,backgroundColor:n.activeBg}}),_H=(n,e)=>({[`&${n.componentCls}-status-${e.status}:not(${n.componentCls}-disabled)`]:Object.assign(Object.assign({},RY(n,e)),{[`${n.componentCls}-prefix, ${n.componentCls}-suffix`]:{color:e.affixColor}}),[`&${n.componentCls}-status-${e.status}${n.componentCls}-disabled`]:{borderColor:e.borderColor}}),tme=(n,e)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},RY(n,{borderColor:n.colorBorder,hoverBorderColor:n.hoverBorderColor,activeBorderColor:n.activeBorderColor,activeShadow:n.activeShadow})),{[`&${n.componentCls}-disabled, &[disabled]`]:Object.assign({},c5(n))}),_H(n,{status:"error",borderColor:n.colorError,hoverBorderColor:n.colorErrorBorderHover,activeBorderColor:n.colorError,activeShadow:n.errorActiveShadow,affixColor:n.colorError})),_H(n,{status:"warning",borderColor:n.colorWarning,hoverBorderColor:n.colorWarningBorderHover,activeBorderColor:n.colorWarning,activeShadow:n.warningActiveShadow,affixColor:n.colorWarning})),e)}),SH=(n,e)=>({[`&${n.componentCls}-group-wrapper-status-${e.status}`]:{[`${n.componentCls}-group-addon`]:{borderColor:e.addonBorderColor,color:e.addonColor}}}),nme=n=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${n.componentCls}-group`]:{"&-addon":{background:n.addonBg,border:`${nn(n.lineWidth)} ${n.lineType} ${n.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},SH(n,{status:"error",addonBorderColor:n.colorError,addonColor:n.colorErrorText})),SH(n,{status:"warning",addonBorderColor:n.colorWarning,addonColor:n.colorWarningText})),{[`&${n.componentCls}-group-wrapper-disabled`]:{[`${n.componentCls}-group-addon`]:Object.assign({},c5(n))}})}),rme=(n,e)=>{const{componentCls:t}=n;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${t}-disabled, &[disabled]`]:{color:n.colorTextDisabled},[`&${t}-status-error`]:{"&, & input, & textarea":{color:n.colorError}},[`&${t}-status-warning`]:{"&, & input, & textarea":{color:n.colorWarning}}},e)}},LY=(n,e)=>({background:e.bg,borderWidth:n.lineWidth,borderStyle:n.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:e==null?void 0:e.inputColor},"&:hover":{background:e.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:e.activeBorderColor,backgroundColor:n.activeBg}}),EH=(n,e)=>({[`&${n.componentCls}-status-${e.status}:not(${n.componentCls}-disabled)`]:Object.assign(Object.assign({},LY(n,e)),{[`${n.componentCls}-prefix, ${n.componentCls}-suffix`]:{color:e.affixColor}})}),ime=(n,e)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},LY(n,{bg:n.colorFillTertiary,hoverBg:n.colorFillSecondary,activeBorderColor:n.activeBorderColor})),{[`&${n.componentCls}-disabled, &[disabled]`]:Object.assign({},c5(n))}),EH(n,{status:"error",bg:n.colorErrorBg,hoverBg:n.colorErrorBgHover,activeBorderColor:n.colorError,inputColor:n.colorErrorText,affixColor:n.colorError})),EH(n,{status:"warning",bg:n.colorWarningBg,hoverBg:n.colorWarningBgHover,activeBorderColor:n.colorWarning,inputColor:n.colorWarningText,affixColor:n.colorWarning})),e)}),MH=(n,e)=>({[`&${n.componentCls}-group-wrapper-status-${e.status}`]:{[`${n.componentCls}-group-addon`]:{background:e.addonBg,color:e.addonColor}}}),sme=n=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${n.componentCls}-group`]:{"&-addon":{background:n.colorFillTertiary},[`${n.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${nn(n.lineWidth)} ${n.lineType} ${n.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${nn(n.lineWidth)} ${n.lineType} ${n.colorSplit}`}}}},MH(n,{status:"error",addonBg:n.colorErrorBg,addonColor:n.colorErrorText})),MH(n,{status:"warning",addonBg:n.colorWarningBg,addonColor:n.colorWarningText})),{[`&${n.componentCls}-group-wrapper-disabled`]:{[`${n.componentCls}-group`]:{"&-addon":{background:n.colorFillTertiary,color:n.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${nn(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderTop:`${nn(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderBottom:`${nn(n.lineWidth)} ${n.lineType} ${n.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${nn(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderTop:`${nn(n.lineWidth)} ${n.lineType} ${n.colorBorder}`,borderBottom:`${nn(n.lineWidth)} ${n.lineType} ${n.colorBorder}`}}}})}),ome=n=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:n,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),kY=n=>{const{paddingBlockLG:e,lineHeightLG:t,borderRadiusLG:r,paddingInlineLG:i}=n;return{padding:`${nn(e)} ${nn(i)}`,fontSize:n.inputFontSizeLG,lineHeight:t,borderRadius:r}},IY=n=>({padding:`${nn(n.paddingBlockSM)} ${nn(n.paddingInlineSM)}`,fontSize:n.inputFontSizeSM,borderRadius:n.borderRadiusSM}),OY=n=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${nn(n.paddingBlock)} ${nn(n.paddingInline)}`,color:n.colorText,fontSize:n.inputFontSize,lineHeight:n.lineHeight,borderRadius:n.borderRadius,transition:`all ${n.motionDurationMid}`},ome(n.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:n.controlHeight,lineHeight:n.lineHeight,verticalAlign:"bottom",transition:`all ${n.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},kY(n)),"&-sm":Object.assign({},IY(n)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),ame=n=>{const{componentCls:e,antCls:t}=n;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:n.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:Object.assign({},kY(n)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:Object.assign({},IY(n)),[`&-lg ${t}-select-single ${t}-select-selector`]:{height:n.controlHeightLG},[`&-sm ${t}-select-single ${t}-select-selector`]:{height:n.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${nn(n.paddingInline)}`,color:n.colorText,fontWeight:"normal",fontSize:n.inputFontSize,textAlign:"center",borderRadius:n.borderRadius,transition:`all ${n.motionDurationSlow}`,lineHeight:1,[`${t}-select`]:{margin:`${nn(n.calc(n.paddingBlock).add(1).mul(-1).equal())} ${nn(n.calc(n.paddingInline).mul(-1).equal())}`,[`&${t}-select-single:not(${t}-select-customize-input):not(${t}-pagination-size-changer)`]:{[`${t}-select-selector`]:{backgroundColor:"inherit",border:`${nn(n.lineWidth)} ${n.lineType} transparent`,boxShadow:"none"}}},[`${t}-cascader-picker`]:{margin:`-9px ${nn(n.calc(n.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${t}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[e]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-select ${t}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${t}-select ${t}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:Object.assign(Object.assign({display:"block"},vue()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:n.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${e}-affix-wrapper,
        & > ${e}-number-affix-wrapper,
        & > ${t}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal(),borderInlineEndWidth:n.lineWidth},[e]:{float:"none"},[`& > ${t}-select > ${t}-select-selector,
      & > ${t}-select-auto-complete ${e},
      & > ${t}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:n.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${t}-select-focused`]:{zIndex:1},[`& > ${t}-select > ${t}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${t}-select:first-child > ${t}-select-selector,
      & > ${t}-select-auto-complete:first-child ${e},
      & > ${t}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius},[`& > *:last-child,
      & > ${t}-select:last-child > ${t}-select-selector,
      & > ${t}-cascader-picker:last-child ${e},
      & > ${t}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:n.lineWidth,borderStartEndRadius:n.borderRadius,borderEndEndRadius:n.borderRadius},[`& > ${t}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:n.calc(n.lineWidth).mul(-1).equal(),[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:n.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:n.borderRadius}}}})}},lme=n=>{const{componentCls:e,controlHeightSM:t,lineWidth:r,calc:i}=n,o=i(t).sub(i(r).mul(2)).sub(16).div(2).equal();return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},FT(n)),OY(n)),tme(n)),ime(n)),rme(n)),{'&[type="color"]':{height:n.controlHeight,[`&${e}-lg`]:{height:n.controlHeightLG},[`&${e}-sm`]:{height:t,paddingTop:o,paddingBottom:o}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},cme=n=>{const{componentCls:e}=n;return{[`${e}-clear-icon`]:{margin:0,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"&:hover":{color:n.colorTextTertiary},"&:active":{color:n.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${nn(n.inputAffixPadding)}`}}}},ume=n=>{const{componentCls:e,inputAffixPadding:t,colorTextDescription:r,motionDurationSlow:i,colorIcon:s,colorIconHover:o,iconCls:a}=n,l=`${e}-affix-wrapper`,c=`${e}-affix-wrapper-disabled`;return{[l]:Object.assign(Object.assign(Object.assign(Object.assign({},OY(n)),{display:"inline-flex",[`&:not(${e}-disabled):hover`]:{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${e}`]:{padding:0},[`> input${e}, > textarea${e}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[e]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:n.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:n.paddingXXS},"&-prefix":{marginInlineEnd:t},"&-suffix":{marginInlineStart:t}}}),cme(n)),{[`${a}${e}-password-icon`]:{color:s,cursor:"pointer",transition:`all ${i}`,"&:hover":{color:o}}}),[c]:{[`${a}${e}-password-icon`]:{color:s,cursor:"not-allowed","&:hover":{color:s}}}}},dme=n=>{const{componentCls:e,borderRadiusLG:t,borderRadiusSM:r}=n;return{[`${e}-group`]:Object.assign(Object.assign(Object.assign({},FT(n)),ame(n)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:t,fontSize:n.inputFontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:r}}},nme(n)),sme(n)),{[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}}})})}},hme=n=>{const{componentCls:e,antCls:t}=n,r=`${e}-search`;return{[r]:{[e]:{"&:hover, &:focus":{borderColor:n.colorPrimaryHover,[`+ ${e}-group-addon ${r}-button:not(${t}-btn-primary)`]:{borderInlineStartColor:n.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{height:n.controlHeight,borderRadius:0},[`${e}-lg`]:{lineHeight:n.calc(n.lineHeightLG).sub(2e-4).equal()},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${t}-btn-primary)`]:{color:n.colorTextDescription,"&:hover":{color:n.colorPrimaryHover},"&:active":{color:n.colorPrimaryActive},[`&${t}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:n.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${e}-affix-wrapper, ${r}-button`]:{height:n.controlHeightLG}},"&-small":{[`${e}-affix-wrapper, ${r}-button`]:{height:n.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}},fme=n=>{const{componentCls:e,paddingLG:t}=n,r=`${e}-textarea`;return{[r]:{position:"relative","&-show-count":{[`> ${e}`]:{height:"100%"},[`${e}-data-count`]:{position:"absolute",bottom:n.calc(n.fontSize).mul(n.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:n.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${e},
        &-affix-wrapper${r}-has-feedback ${e}
      `]:{paddingInlineEnd:t},[`&-affix-wrapper${e}-affix-wrapper`]:{padding:0,[`> textarea${e}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent","&:focus":{boxShadow:"none !important"}},[`${e}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${e}-clear-icon`]:{position:"absolute",insetInlineEnd:n.paddingInline,insetBlockStart:n.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:n.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${e}-affix-wrapper-sm`]:{[`${e}-suffix`]:{[`${e}-clear-icon`]:{insetInlineEnd:n.paddingInlineSM}}}}}},pme=n=>{const{componentCls:e}=n;return{[`${e}-out-of-range`]:{[`&, & input, & textarea, ${e}-show-count-suffix, ${e}-data-count`]:{color:n.colorError}}}},mme=zd("Input",n=>{const e=xo(n,Zpe(n));return[lme(e),fme(e),ume(e),dme(e),hme(e),pme(e),cY(e)]},Jpe,{resetFont:!1});function gme(n,e,t){var r=t||{},i=r.noTrailing,s=i===void 0?!1:i,o=r.noLeading,a=o===void 0?!1:o,l=r.debounceMode,c=l===void 0?void 0:l,u,d=!1,h=0;function p(){u&&clearTimeout(u)}function g(y){var x=y||{},w=x.upcomingOnly,b=w===void 0?!1:w;p(),d=!b}function v(){for(var y=arguments.length,x=new Array(y),w=0;w<y;w++)x[w]=arguments[w];var b=this,_=Date.now()-h;if(d)return;function C(){h=Date.now(),e.apply(b,x)}function A(){u=void 0}!a&&c&&!u&&C(),p(),c===void 0&&_>n?a?(h=Date.now(),s||(u=setTimeout(c?A:C,n))):C():s!==!0&&(u=setTimeout(c?A:C,c===void 0?n-_:n))}return v.cancel=g,v}function vme(n,e,t){var r={},i=r.atBegin,s=i===void 0?!1:i;return gme(n,e,{debounceMode:s!==!1})}function yme(n){return!!(n.addonBefore||n.addonAfter)}function xme(n){return!!(n.prefix||n.suffix||n.allowClear)}function CH(n,e,t){var r=e.cloneNode(!0),i=Object.create(n,{target:{value:r},currentTarget:{value:r}});return r.value=t,typeof e.selectionStart=="number"&&typeof e.selectionEnd=="number"&&(r.selectionStart=e.selectionStart,r.selectionEnd=e.selectionEnd),r.setSelectionRange=function(){e.setSelectionRange.apply(e,arguments)},i}function AH(n,e,t,r){if(t){var i=e;if(e.type==="click"){i=CH(e,n,""),t(i);return}if(n.type!=="file"&&r!==void 0){i=CH(e,n,r),t(i);return}t(i)}}var wme=it.forwardRef(function(n,e){var t,r,i=n.inputElement,s=n.children,o=n.prefixCls,a=n.prefix,l=n.suffix,c=n.addonBefore,u=n.addonAfter,d=n.className,h=n.style,p=n.disabled,g=n.readOnly,v=n.focused,y=n.triggerFocus,x=n.allowClear,w=n.value,b=n.handleReset,_=n.hidden,C=n.classes,A=n.classNames,P=n.dataAttrs,M=n.styles,L=n.components,I=n.onClear,F=s??i,V=(L==null?void 0:L.affixWrapper)||"span",j=(L==null?void 0:L.groupWrapper)||"span",G=(L==null?void 0:L.wrapper)||"span",J=(L==null?void 0:L.groupAddon)||"span",q=k.useRef(null),H=function(Ae){var Pe;(Pe=q.current)!==null&&Pe!==void 0&&Pe.contains(Ae.target)&&(y==null||y())},D=xme(n),z=k.cloneElement(F,{value:w,className:yt(F.props.className,!D&&(A==null?void 0:A.variant))||null}),B=k.useRef(null);if(it.useImperativeHandle(e,function(){return{nativeElement:B.current||q.current}}),D){var ee=null;if(x){var Y=!p&&!g&&w,oe="".concat(o,"-clear-icon"),ce=Rt(x)==="object"&&x!==null&&x!==void 0&&x.clearIcon?x.clearIcon:"✖";ee=it.createElement("span",{onClick:function(Ae){b==null||b(Ae),I==null||I()},onMouseDown:function(Ae){return Ae.preventDefault()},className:yt(oe,Se(Se({},"".concat(oe,"-hidden"),!Y),"".concat(oe,"-has-suffix"),!!l)),role:"button",tabIndex:-1},ce)}var me="".concat(o,"-affix-wrapper"),de=yt(me,Se(Se(Se(Se(Se({},"".concat(o,"-disabled"),p),"".concat(me,"-disabled"),p),"".concat(me,"-focused"),v),"".concat(me,"-readonly"),g),"".concat(me,"-input-with-clear-btn"),l&&x&&w),C==null?void 0:C.affixWrapper,A==null?void 0:A.affixWrapper,A==null?void 0:A.variant),be=(l||x)&&it.createElement("span",{className:yt("".concat(o,"-suffix"),A==null?void 0:A.suffix),style:M==null?void 0:M.suffix},ee,l);z=it.createElement(V,Gn({className:de,style:M==null?void 0:M.affixWrapper,onClick:H},P==null?void 0:P.affixWrapper,{ref:q}),a&&it.createElement("span",{className:yt("".concat(o,"-prefix"),A==null?void 0:A.prefix),style:M==null?void 0:M.prefix},a),z,be)}if(yme(n)){var Oe="".concat(o,"-group"),Te="".concat(Oe,"-addon"),we="".concat(Oe,"-wrapper"),De=yt("".concat(o,"-wrapper"),Oe,C==null?void 0:C.wrapper,A==null?void 0:A.wrapper),pe=yt(we,Se({},"".concat(we,"-disabled"),p),C==null?void 0:C.group,A==null?void 0:A.groupWrapper);z=it.createElement(j,{className:pe,ref:B},it.createElement(G,{className:De},c&&it.createElement(J,{className:Te},c),z,u&&it.createElement(J,{className:Te},u)))}return it.cloneElement(z,{className:yt((t=z.props)===null||t===void 0?void 0:t.className,d)||null,style:ke(ke({},(r=z.props)===null||r===void 0?void 0:r.style),h),hidden:_})}),bme=["show"];function _me(n,e){return k.useMemo(function(){var t={};e&&(t.show=Rt(e)==="object"&&e.formatter?e.formatter:!!e),t=ke(ke({},t),n);var r=t,i=r.show,s=ls(r,bme);return ke(ke({},s),{},{show:!!i,showFormatter:typeof i=="function"?i:void 0,strategy:s.strategy||function(o){return o.length}})},[n,e])}const Sme=n=>{let e;return typeof n=="object"&&(n!=null&&n.clearIcon)?e=n:n&&(e={clearIcon:it.createElement(gde,null)}),e};function Eme(n,e){if(!n)return;n.focus(e);const{cursor:t}=e||{};if(t){const r=n.value.length;switch(t){case"start":n.setSelectionRange(0,0);break;case"end":n.setSelectionRange(r,r);break;default:n.setSelectionRange(0,r)}}}var Mme=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,Cme=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],$L={},Ks;function Ame(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=n.getAttribute("id")||n.getAttribute("data-reactid")||n.getAttribute("name");if(e&&$L[t])return $L[t];var r=window.getComputedStyle(n),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),s=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),o=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),a=Cme.map(function(c){return"".concat(c,":").concat(r.getPropertyValue(c))}).join(";"),l={sizingStyle:a,paddingSize:s,borderSize:o,boxSizing:i};return e&&t&&($L[t]=l),l}function Tme(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;Ks||(Ks=document.createElement("textarea"),Ks.setAttribute("tab-index","-1"),Ks.setAttribute("aria-hidden","true"),Ks.setAttribute("name","hiddenTextarea"),document.body.appendChild(Ks)),n.getAttribute("wrap")?Ks.setAttribute("wrap",n.getAttribute("wrap")):Ks.removeAttribute("wrap");var i=Ame(n,e),s=i.paddingSize,o=i.borderSize,a=i.boxSizing,l=i.sizingStyle;Ks.setAttribute("style","".concat(l,";").concat(Mme)),Ks.value=n.value||n.placeholder||"";var c=void 0,u=void 0,d,h=Ks.scrollHeight;if(a==="border-box"?h+=o:a==="content-box"&&(h-=s),t!==null||r!==null){Ks.value=" ";var p=Ks.scrollHeight-s;t!==null&&(c=p*t,a==="border-box"&&(c=c+s+o),h=Math.max(c,h)),r!==null&&(u=p*r,a==="border-box"&&(u=u+s+o),d=h>u?"":"hidden",h=Math.min(u,h))}var g={height:h,overflowY:d,resize:"none"};return c&&(g.minHeight=c),u&&(g.maxHeight=u),g}var Pme=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],UL=0,WL=1,HL=2,Rme=k.forwardRef(function(n,e){var t=n,r=t.prefixCls,i=t.defaultValue,s=t.value,o=t.autoSize,a=t.onResize,l=t.className,c=t.style,u=t.disabled,d=t.onChange;t.onInternalAutoSize;var h=ls(t,Pme),p=lw(i,{value:s,postState:function(ce){return ce??""}}),g=nt(p,2),v=g[0],y=g[1],x=function(ce){y(ce.target.value),d==null||d(ce)},w=k.useRef();k.useImperativeHandle(e,function(){return{textArea:w.current}});var b=k.useMemo(function(){return o&&Rt(o)==="object"?[o.minRows,o.maxRows]:[]},[o]),_=nt(b,2),C=_[0],A=_[1],P=!!o,M=function(){try{if(document.activeElement===w.current){var ce=w.current,me=ce.selectionStart,de=ce.selectionEnd,be=ce.scrollTop;w.current.setSelectionRange(me,de),w.current.scrollTop=be}}catch{}},L=k.useState(HL),I=nt(L,2),F=I[0],V=I[1],j=k.useState(),G=nt(j,2),J=G[0],q=G[1],H=function(){V(UL)};Vn(function(){P&&H()},[s,C,A,P]),Vn(function(){if(F===UL)V(WL);else if(F===WL){var oe=Tme(w.current,!1,C,A);V(HL),q(oe)}else M()},[F]);var D=k.useRef(),z=function(){Nc.cancel(D.current)},B=function(ce){F===HL&&(a==null||a(ce),o&&(z(),D.current=Nc(function(){H()})))};k.useEffect(function(){return z},[]);var ee=P?J:null,Y=ke(ke({},c),ee);return(F===UL||F===WL)&&(Y.overflowY="hidden",Y.overflowX="hidden"),k.createElement(Zw,{onResize:B,disabled:!(o||a)},k.createElement("textarea",Gn({},h,{ref:w,style:Y,className:yt(r,l,Se({},"".concat(r,"-disabled"),u)),disabled:u,value:v,onChange:x})))}),Lme=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],kme=it.forwardRef(function(n,e){var t,r=n.defaultValue,i=n.value,s=n.onFocus,o=n.onBlur,a=n.onChange,l=n.allowClear,c=n.maxLength,u=n.onCompositionStart,d=n.onCompositionEnd,h=n.suffix,p=n.prefixCls,g=p===void 0?"rc-textarea":p,v=n.showCount,y=n.count,x=n.className,w=n.style,b=n.disabled,_=n.hidden,C=n.classNames,A=n.styles,P=n.onResize,M=n.onClear,L=n.onPressEnter,I=n.readOnly,F=n.autoSize,V=n.onKeyDown,j=ls(n,Lme),G=lw(r,{value:i,defaultValue:r}),J=nt(G,2),q=J[0],H=J[1],D=q==null?"":String(q),z=it.useState(!1),B=nt(z,2),ee=B[0],Y=B[1],oe=it.useRef(!1),ce=it.useState(null),me=nt(ce,2),de=me[0],be=me[1],Oe=k.useRef(null),Te=k.useRef(null),we=function(){var se;return(se=Te.current)===null||se===void 0?void 0:se.textArea},De=function(){we().focus()};k.useImperativeHandle(e,function(){var ne;return{resizableTextArea:Te.current,focus:De,blur:function(){we().blur()},nativeElement:((ne=Oe.current)===null||ne===void 0?void 0:ne.nativeElement)||we()}}),k.useEffect(function(){Y(function(ne){return!b&&ne})},[b]);var pe=it.useState(null),fe=nt(pe,2),Ae=fe[0],Pe=fe[1];it.useEffect(function(){if(Ae){var ne;(ne=we()).setSelectionRange.apply(ne,St(Ae))}},[Ae]);var ge=_me(y,v),je=(t=ge.max)!==null&&t!==void 0?t:c,We=Number(je)>0,qe=ge.strategy(D),Ze=!!je&&qe>je,Xe=function(se,K){var le=K;!oe.current&&ge.exceedFormatter&&ge.max&&ge.strategy(K)>ge.max&&(le=ge.exceedFormatter(K,{max:ge.max}),K!==le&&Pe([we().selectionStart||0,we().selectionEnd||0])),H(le),AH(se.currentTarget,se,a,le)},te=function(se){oe.current=!0,u==null||u(se)},X=function(se){oe.current=!1,Xe(se,se.currentTarget.value),d==null||d(se)},ve=function(se){Xe(se,se.target.value)},Ce=function(se){se.key==="Enter"&&L&&L(se),V==null||V(se)},$e=function(se){Y(!0),s==null||s(se)},Ve=function(se){Y(!1),o==null||o(se)},Je=function(se){H(""),De(),AH(we(),se,a)},Ge=h,T;ge.show&&(ge.showFormatter?T=ge.showFormatter({value:D,count:qe,maxLength:je}):T="".concat(qe).concat(We?" / ".concat(je):""),Ge=it.createElement(it.Fragment,null,Ge,it.createElement("span",{className:yt("".concat(g,"-data-count"),C==null?void 0:C.count),style:A==null?void 0:A.count},T)));var N=function(se){var K;P==null||P(se),(K=we())!==null&&K!==void 0&&K.style.height&&be(!0)},U=!F&&!v&&!l;return it.createElement(wme,{ref:Oe,value:D,allowClear:l,handleReset:Je,suffix:Ge,prefixCls:g,classNames:ke(ke({},C),{},{affixWrapper:yt(C==null?void 0:C.affixWrapper,Se(Se({},"".concat(g,"-show-count"),v),"".concat(g,"-textarea-allow-clear"),l))}),disabled:b,focused:ee,className:yt(x,Ze&&"".concat(g,"-out-of-range")),style:ke(ke({},w),de&&!U?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof T=="string"?T:void 0}},hidden:_,readOnly:I,onClear:M},it.createElement(Rme,Gn({},j,{autoSize:F,maxLength:c,onKeyDown:Ce,onChange:ve,onFocus:$e,onBlur:Ve,onCompositionStart:te,onCompositionEnd:X,className:yt(C==null?void 0:C.textarea),style:ke(ke({},A==null?void 0:A.textarea),{},{resize:w==null?void 0:w.resize}),disabled:b,prefixCls:g,onResize:N,ref:Te,readOnly:I})))}),Ime=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Ome=k.forwardRef((n,e)=>{var t,r;const{prefixCls:i,bordered:s=!0,size:o,disabled:a,status:l,allowClear:c,classNames:u,rootClassName:d,className:h,style:p,styles:g,variant:v}=n,y=Ime(n,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:x,direction:w,textArea:b}=k.useContext(mr),_=nY(o),C=k.useContext(ow),A=a??C,{status:P,hasFeedback:M,feedbackIcon:L}=k.useContext(IO),I=ype(P,l),F=k.useRef(null);k.useImperativeHandle(e,()=>{var B;return{resizableTextArea:(B=F.current)===null||B===void 0?void 0:B.resizableTextArea,focus:ee=>{var Y,oe;Eme((oe=(Y=F.current)===null||Y===void 0?void 0:Y.resizableTextArea)===null||oe===void 0?void 0:oe.textArea,ee)},blur:()=>{var ee;return(ee=F.current)===null||ee===void 0?void 0:ee.blur()}}});const V=x("input",i),j=yde(V),[G,J,q]=mme(V,j),[H,D]=xpe("textArea",v,s),z=Sme(c??(b==null?void 0:b.allowClear));return G(k.createElement(kme,Object.assign({autoComplete:b==null?void 0:b.autoComplete},y,{style:Object.assign(Object.assign({},b==null?void 0:b.style),p),styles:Object.assign(Object.assign({},b==null?void 0:b.styles),g),disabled:A,allowClear:z,className:yt(q,j,h,d,b==null?void 0:b.className),classNames:Object.assign(Object.assign(Object.assign({},u),b==null?void 0:b.classNames),{textarea:yt({[`${V}-sm`]:_==="small",[`${V}-lg`]:_==="large"},J,u==null?void 0:u.textarea,(t=b==null?void 0:b.classNames)===null||t===void 0?void 0:t.textarea),variant:yt({[`${V}-${H}`]:D},vpe(V,I)),affixWrapper:yt(`${V}-textarea-affix-wrapper`,{[`${V}-affix-wrapper-rtl`]:w==="rtl",[`${V}-affix-wrapper-sm`]:_==="small",[`${V}-affix-wrapper-lg`]:_==="large",[`${V}-textarea-show-count`]:n.showCount||((r=n.count)===null||r===void 0?void 0:r.show)},J)}),prefixCls:V,suffix:M&&k.createElement("span",{className:`${V}-textarea-suffix`},L),ref:F})))});function TH(n){return["small","middle","large"].includes(n)}const DY=["wrap","nowrap","wrap-reverse"],NY=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],FY=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],Dme=(n,e)=>{const t=e.wrap===!0?"wrap":e.wrap;return{[`${n}-wrap-${t}`]:t&&DY.includes(t)}},Nme=(n,e)=>{const t={};return FY.forEach(r=>{t[`${n}-align-${r}`]=e.align===r}),t[`${n}-align-stretch`]=!e.align&&!!e.vertical,t},Fme=(n,e)=>{const t={};return NY.forEach(r=>{t[`${n}-justify-${r}`]=e.justify===r}),t};function zme(n,e){return yt(Object.assign(Object.assign(Object.assign({},Dme(n,e)),Nme(n,e)),Fme(n,e)))}const Bme=n=>{const{componentCls:e}=n;return{[e]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},$me=n=>{const{componentCls:e}=n;return{[e]:{"&-gap-small":{gap:n.flexGapSM},"&-gap-middle":{gap:n.flexGap},"&-gap-large":{gap:n.flexGapLG}}}},Ume=n=>{const{componentCls:e}=n,t={};return DY.forEach(r=>{t[`${e}-wrap-${r}`]={flexWrap:r}}),t},Wme=n=>{const{componentCls:e}=n,t={};return FY.forEach(r=>{t[`${e}-align-${r}`]={alignItems:r}}),t},Hme=n=>{const{componentCls:e}=n,t={};return NY.forEach(r=>{t[`${e}-justify-${r}`]={justifyContent:r}}),t},jme=()=>({}),Vme=zd("Flex",n=>{const{paddingXS:e,padding:t,paddingLG:r}=n,i=xo(n,{flexGapSM:e,flexGap:t,flexGapLG:r});return[Bme(i),$me(i),Ume(i),Wme(i),Hme(i)]},jme,{resetStyle:!1});var Gme=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Qf=it.forwardRef((n,e)=>{const{prefixCls:t,rootClassName:r,className:i,style:s,flex:o,gap:a,children:l,vertical:c=!1,component:u="div"}=n,d=Gme(n,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:h,direction:p,getPrefixCls:g}=it.useContext(mr),v=g("flex",t),[y,x,w]=Vme(v),b=c??(h==null?void 0:h.vertical),_=yt(i,r,h==null?void 0:h.className,v,x,w,zme(v,n),{[`${v}-rtl`]:p==="rtl",[`${v}-gap-${a}`]:TH(a),[`${v}-vertical`]:b}),C=Object.assign(Object.assign({},h==null?void 0:h.style),s);return o&&(C.flex=o),a&&!TH(a)&&(C.gap=a),y(it.createElement(u,Object.assign({ref:e,className:_,style:C},r0(d,["justify","wrap","align"])),l))});function qme(n,e,t){return typeof t=="boolean"?t:n.length?!0:Yf(e).some(i=>i.type===PY)}var zY=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function WT(n){let{suffixCls:e,tagName:t,displayName:r}=n;return i=>k.forwardRef((o,a)=>k.createElement(i,Object.assign({ref:a,suffixCls:e,tagName:t},o)))}const u5=k.forwardRef((n,e)=>{const{prefixCls:t,suffixCls:r,className:i,tagName:s}=n,o=zY(n,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:a}=k.useContext(mr),l=a("layout",t),[c,u,d]=AY(l),h=r?`${l}-${r}`:l;return c(k.createElement(s,Object.assign({className:yt(t||h,i,u,d),ref:e},o)))}),Xme=k.forwardRef((n,e)=>{const{direction:t}=k.useContext(mr),[r,i]=k.useState([]),{prefixCls:s,className:o,rootClassName:a,children:l,hasSider:c,tagName:u,style:d}=n,h=zY(n,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),p=r0(h,["suffixCls"]),{getPrefixCls:g,layout:v}=k.useContext(mr),y=g("layout",s),x=qme(r,l,c),[w,b,_]=AY(y),C=yt(y,{[`${y}-has-sider`]:x,[`${y}-rtl`]:t==="rtl"},v==null?void 0:v.className,o,a,b,_),A=k.useMemo(()=>({siderHook:{addSider:P=>{i(M=>[].concat(St(M),[P]))},removeSider:P=>{i(M=>M.filter(L=>L!==P))}}}),[]);return w(k.createElement(EY.Provider,{value:A},k.createElement(u,Object.assign({ref:e,className:C,style:Object.assign(Object.assign({},v==null?void 0:v.style),d)},p),l)))}),Yme=WT({tagName:"div",displayName:"Layout"})(Xme),Kme=WT({suffixCls:"header",tagName:"header",displayName:"Header"})(u5),Qme=WT({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(u5),Zme=WT({suffixCls:"content",tagName:"main",displayName:"Content"})(u5),Zf=Yme;Zf.Header=Kme;Zf.Footer=Qme;Zf.Content=Zme;Zf.Sider=PY;Zf._InternalSiderContext=TY;const WA=100,BY=WA/5,$Y=WA/2-BY/2,jL=$Y*2*Math.PI,PH=50,RH=n=>{const{dotClassName:e,style:t,hasCircleCls:r}=n;return k.createElement("circle",{className:yt(`${e}-circle`,{[`${e}-circle-bg`]:r}),r:$Y,cx:PH,cy:PH,strokeWidth:BY,style:t})},Jme=n=>{let{percent:e,prefixCls:t}=n;const r=`${t}-dot`,i=`${r}-holder`,s=`${i}-hidden`,[o,a]=k.useState(!1);Vn(()=>{e!==0&&a(!0)},[e!==0]);const l=Math.max(Math.min(e,100),0);if(!o)return null;const c={strokeDashoffset:`${jL/4}`,strokeDasharray:`${jL*l/100} ${jL*(100-l)/100}`};return k.createElement("span",{className:yt(i,`${r}-progress`,l<=0&&s)},k.createElement("svg",{viewBox:`0 0 ${WA} ${WA}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":l},k.createElement(RH,{dotClassName:r,hasCircleCls:!0}),k.createElement(RH,{dotClassName:r,style:c})))};function ege(n){const{prefixCls:e,percent:t=0}=n,r=`${e}-dot`,i=`${r}-holder`,s=`${i}-hidden`;return k.createElement(k.Fragment,null,k.createElement("span",{className:yt(i,t>0&&s)},k.createElement("span",{className:yt(r,`${e}-dot-spin`)},[1,2,3,4].map(o=>k.createElement("i",{className:`${e}-dot-item`,key:o})))),k.createElement(Jme,{prefixCls:e,percent:t}))}function tge(n){const{prefixCls:e,indicator:t,percent:r}=n,i=`${e}-dot`;return t&&k.isValidElement(t)?tb(t,{className:yt(t.props.className,i),percent:r}):k.createElement(ege,{prefixCls:e,percent:r})}const nge=new Bs("antSpinMove",{to:{opacity:1}}),rge=new Bs("antRotate",{to:{transform:"rotate(405deg)"}}),ige=n=>{const{componentCls:e,calc:t}=n;return{[e]:Object.assign(Object.assign({},FT(n)),{position:"absolute",display:"none",color:n.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${e}-text`]:{fontSize:n.fontSize,paddingTop:t(t(n.dotSize).sub(n.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:n.colorBgMask,zIndex:n.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${n.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[e]:{[`${e}-dot-holder`]:{color:n.colorWhite},[`${e}-text`]:{color:n.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${e}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:n.contentHeight,[`${e}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:t(n.dotSize).mul(-1).div(2).equal()},[`${e}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${n.colorBgContainer}`},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${e}-dot`]:{margin:t(n.dotSizeSM).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeSM).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${e}-dot`]:{margin:t(n.dotSizeLG).mul(-1).div(2).equal()},[`${e}-text`]:{paddingTop:t(t(n.dotSizeLG).sub(n.fontSize)).div(2).add(2).equal()},[`&${e}-show-text ${e}-dot`]:{marginTop:t(n.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${e}-container`]:{position:"relative",transition:`opacity ${n.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:n.colorBgContainer,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:n.spinDotDefault},[`${e}-dot-holder`]:{width:"1em",height:"1em",fontSize:n.dotSize,display:"inline-block",transition:`transform ${n.motionDurationSlow} ease, opacity ${n.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:n.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${e}-dot-progress`]:{position:"absolute",top:"50%",transform:"translate(-50%, -50%)",insetInlineStart:"50%"},[`${e}-dot`]:{position:"relative",display:"inline-block",fontSize:n.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),height:t(n.dotSize).sub(t(n.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:nge,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:rge,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(r=>`${r} ${n.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:n.colorFillSecondary}},[`&-sm ${e}-dot`]:{"&, &-holder":{fontSize:n.dotSizeSM}},[`&-sm ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal(),height:t(t(n.dotSizeSM).sub(t(n.marginXXS).div(2))).div(2).equal()}},[`&-lg ${e}-dot`]:{"&, &-holder":{fontSize:n.dotSizeLG}},[`&-lg ${e}-dot-holder`]:{i:{width:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal(),height:t(t(n.dotSizeLG).sub(n.marginXXS)).div(2).equal()}},[`&${e}-show-text ${e}-text`]:{display:"block"}})}},sge=n=>{const{controlHeightLG:e,controlHeight:t}=n;return{contentHeight:400,dotSize:e/2,dotSizeSM:e*.35,dotSizeLG:t}},oge=zd("Spin",n=>{const e=xo(n,{spinDotDefault:n.colorTextDescription});return[ige(e)]},sge),age=200,LH=[[30,.05],[70,.03],[96,.01]];function lge(n,e){const[t,r]=k.useState(0),i=k.useRef(),s=e==="auto";return k.useEffect(()=>(s&&n&&(r(0),i.current=setInterval(()=>{r(o=>{const a=100-o;for(let l=0;l<LH.length;l+=1){const[c,u]=LH[l];if(o<=c)return o+a*u}return o})},age)),()=>{clearInterval(i.current)}),[s,n]),s?t:e}var cge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};let UY;function uge(n,e){return!!n&&!!e&&!isNaN(Number(e))}const a0=n=>{var e;const{prefixCls:t,spinning:r=!0,delay:i=0,className:s,rootClassName:o,size:a="default",tip:l,wrapperClassName:c,style:u,children:d,fullscreen:h=!1,indicator:p,percent:g}=n,v=cge(n,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:y,direction:x,spin:w}=k.useContext(mr),b=y("spin",t),[_,C,A]=oge(b),[P,M]=k.useState(()=>r&&!uge(r,i)),L=lge(P,g);k.useEffect(()=>{if(r){const q=vme(i,()=>{M(!0)});return q(),()=>{var H;(H=q==null?void 0:q.cancel)===null||H===void 0||H.call(q)}}M(!1)},[i,r]);const I=k.useMemo(()=>typeof d<"u"&&!h,[d,h]),F=yt(b,w==null?void 0:w.className,{[`${b}-sm`]:a==="small",[`${b}-lg`]:a==="large",[`${b}-spinning`]:P,[`${b}-show-text`]:!!l,[`${b}-rtl`]:x==="rtl"},s,!h&&o,C,A),V=yt(`${b}-container`,{[`${b}-blur`]:P}),j=(e=p??(w==null?void 0:w.indicator))!==null&&e!==void 0?e:UY,G=Object.assign(Object.assign({},w==null?void 0:w.style),u),J=k.createElement("div",Object.assign({},v,{style:G,className:F,"aria-live":"polite","aria-busy":P}),k.createElement(tge,{prefixCls:b,indicator:j,percent:L}),l&&(I||h)?k.createElement("div",{className:`${b}-text`},l):null);return _(I?k.createElement("div",Object.assign({},v,{className:yt(`${b}-nested-loading`,c,C,A)}),P&&k.createElement("div",{key:"loading"},J),k.createElement("div",{className:V,key:"container"},d)):h?k.createElement("div",{className:yt(`${b}-fullscreen`,{[`${b}-fullscreen-show`]:P},o,C,A)},J):J)};a0.setDefaultIndicator=n=>{UY=n};function dge(n){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&n==null?[]:Array.isArray(n)?n:[n]}var hge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},fge=function(e,t){return k.createElement(ua,Gn({},e,{ref:t,icon:hge}))},pge=k.forwardRef(fge),mge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},gge=function(e,t){return k.createElement(ua,Gn({},e,{ref:t,icon:mge}))},vge=k.forwardRef(gge),yge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},xge=function(e,t){return k.createElement(ua,Gn({},e,{ref:t,icon:yge}))},wge=k.forwardRef(xge);const bge=n=>{const e=n!=null&&n.algorithm?nw(n.algorithm):nw(Jw),t=Object.assign(Object.assign({},Nv),n==null?void 0:n.token);return nX(t,{override:n==null?void 0:n.token},e,e5)};function _ge(n){const{sizeUnit:e,sizeStep:t}=n,r=t-2;return{sizeXXL:e*(r+10),sizeXL:e*(r+6),sizeLG:e*(r+2),sizeMD:e*(r+2),sizeMS:e*(r+1),size:e*r,sizeSM:e*r,sizeXS:e*(r-1),sizeXXS:e*(r-1)}}const Sge=(n,e)=>{const t=e??Jw(n),r=t.fontSizeSM,i=t.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),_ge(e??n)),EX(r)),{controlHeight:i}),SX(Object.assign(Object.assign({},t),{controlHeight:i})))},Oo=(n,e)=>new vi(n).setAlpha(e).toRgbString(),rm=(n,e)=>new vi(n).lighten(e).toHexString(),Ege=n=>{const e=Kf(n,{theme:"dark"});return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[6],6:e[5],7:e[4],8:e[6],9:e[5],10:e[4]}},Mge=(n,e)=>{const t=n||"#000",r=e||"#fff";return{colorBgBase:t,colorTextBase:r,colorText:Oo(r,.85),colorTextSecondary:Oo(r,.65),colorTextTertiary:Oo(r,.45),colorTextQuaternary:Oo(r,.25),colorFill:Oo(r,.18),colorFillSecondary:Oo(r,.12),colorFillTertiary:Oo(r,.08),colorFillQuaternary:Oo(r,.04),colorBgSolid:Oo(r,.95),colorBgSolidHover:Oo(r,1),colorBgSolidActive:Oo(r,.9),colorBgElevated:rm(t,12),colorBgContainer:rm(t,8),colorBgLayout:rm(t,0),colorBgSpotlight:rm(t,26),colorBgBlur:Oo(r,.04),colorBorder:rm(t,26),colorBorderSecondary:rm(t,19)}},Cge=(n,e)=>{const t=Object.keys(Zz).map(i=>{const s=Kf(n[i],{theme:"dark"});return new Array(10).fill(1).reduce((o,a,l)=>(o[`${i}-${l+1}`]=s[l],o[`${i}${l+1}`]=s[l],o),{})}).reduce((i,s)=>(i=Object.assign(Object.assign({},i),s),i),{}),r=e??Jw(n);return Object.assign(Object.assign(Object.assign({},r),t),_X(n,{generateColorPalettes:Ege,generateNeutralColorPalettes:Mge}))};function Age(){const[n,e,t]=Wc();return{theme:n,token:e,hashId:t}}const Tge={defaultSeed:sw.token,useToken:Age,defaultAlgorithm:Jw,darkAlgorithm:Cge,compactAlgorithm:Sge,getDesignToken:bge,defaultConfig:sw,_internalContext:Jz},Pge=(n,e,t,r)=>{const{titleMarginBottom:i,fontWeightStrong:s}=r;return{marginBottom:i,color:t,fontWeight:s,fontSize:n,lineHeight:e}},Rge=n=>{const e=[1,2,3,4,5],t={};return e.forEach(r=>{t[`
      h${r}&,
      div&-h${r},
      div&-h${r} > textarea,
      h${r}
    `]=Pge(n[`fontSizeHeading${r}`],n[`lineHeightHeading${r}`],n.colorTextHeading,n)}),t},Lge=n=>{const{componentCls:e}=n;return{"a&, a":Object.assign(Object.assign({},IX(n)),{[`&[disabled], &${e}-disabled`]:{color:n.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:n.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},kge=n=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:n.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:n.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:DA[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:n.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),Ige=n=>{const{componentCls:e,paddingSM:t}=n,r=t;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:n.calc(n.paddingSM).mul(-1).equal(),marginTop:n.calc(r).mul(-1).equal(),marginBottom:`calc(1em - ${nn(r)})`},[`${e}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:n.calc(n.marginXS).add(2).equal(),insetBlockEnd:n.marginXS,color:n.colorTextDescription,fontWeight:"normal",fontSize:n.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},Oge=n=>({[`${n.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:n.colorSuccess}},[`${n.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),Dge=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),Nge=n=>{const{componentCls:e,titleMarginTop:t}=n;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.colorText,wordBreak:"break-word",lineHeight:n.lineHeight,[`&${e}-secondary`]:{color:n.colorTextDescription},[`&${e}-success`]:{color:n.colorSuccess},[`&${e}-warning`]:{color:n.colorWarning},[`&${e}-danger`]:{color:n.colorError,"a&:active, a&:focus":{color:n.colorErrorActive},"a&:hover":{color:n.colorErrorHover}},[`&${e}-disabled`]:{color:n.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},Rge(n)),{[`
      & + h1${e},
      & + h2${e},
      & + h3${e},
      & + h4${e},
      & + h5${e}
      `]:{marginTop:t},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:t}}}),kge(n)),Lge(n)),{[`
        ${e}-expand,
        ${e}-collapse,
        ${e}-edit,
        ${e}-copy
      `]:Object.assign(Object.assign({},IX(n)),{marginInlineStart:n.marginXXS})}),Ige(n)),Oge(n)),Dge()),{"&-rtl":{direction:"rtl"}})}},Fge=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"}),WY=zd("Typography",n=>[Nge(n)],Fge),zge=n=>{const{prefixCls:e,"aria-label":t,className:r,style:i,direction:s,maxLength:o,autoSize:a=!0,value:l,onSave:c,onCancel:u,onEnd:d,component:h,enterIcon:p=k.createElement(wge,null)}=n,g=k.useRef(null),v=k.useRef(!1),y=k.useRef(),[x,w]=k.useState(l);k.useEffect(()=>{w(l)},[l]),k.useEffect(()=>{var G;if(!((G=g.current)===null||G===void 0)&&G.resizableTextArea){const{textArea:J}=g.current.resizableTextArea;J.focus();const{length:q}=J.value;J.setSelectionRange(q,q)}},[]);const b=G=>{let{target:J}=G;w(J.value.replace(/[\n\r]/g,""))},_=()=>{v.current=!0},C=()=>{v.current=!1},A=G=>{let{keyCode:J}=G;v.current||(y.current=J)},P=()=>{c(x.trim())},M=G=>{let{keyCode:J,ctrlKey:q,altKey:H,metaKey:D,shiftKey:z}=G;y.current!==J||v.current||q||H||D||z||(J===Tt.ENTER?(P(),d==null||d()):J===Tt.ESC&&u())},L=()=>{P()},[I,F,V]=WY(e),j=yt(e,`${e}-edit-content`,{[`${e}-rtl`]:s==="rtl",[`${e}-${h}`]:!!h},r,F,V);return I(k.createElement("div",{className:j,style:i},k.createElement(Ome,{ref:g,maxLength:o,value:x,onChange:b,onKeyDown:A,onKeyUp:M,onCompositionStart:_,onCompositionEnd:C,onBlur:L,"aria-label":t,rows:1,autoSize:a}),p!==null?tb(p,{className:`${e}-edit-content-confirm`}):null))};var Bge=function(){var n=document.getSelection();if(!n.rangeCount)return function(){};for(var e=document.activeElement,t=[],r=0;r<n.rangeCount;r++)t.push(n.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return n.removeAllRanges(),function(){n.type==="Caret"&&n.removeAllRanges(),n.rangeCount||t.forEach(function(i){n.addRange(i)}),e&&e.focus()}},$ge=Bge,kH={"text/plain":"Text","text/html":"Url",default:"Text"},Uge="Copy to clipboard: #{key}, Enter";function Wge(n){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return n.replace(/#{\s*key\s*}/g,e)}function Hge(n,e){var t,r,i,s,o,a,l=!1;e||(e={}),t=e.debug||!1;try{i=$ge(),s=document.createRange(),o=document.getSelection(),a=document.createElement("span"),a.textContent=n,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(u){if(u.stopPropagation(),e.format)if(u.preventDefault(),typeof u.clipboardData>"u"){t&&console.warn("unable to use e.clipboardData"),t&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var d=kH[e.format]||kH.default;window.clipboardData.setData(d,n)}else u.clipboardData.clearData(),u.clipboardData.setData(e.format,n);e.onCopy&&(u.preventDefault(),e.onCopy(u.clipboardData))}),document.body.appendChild(a),s.selectNodeContents(a),o.addRange(s);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");l=!0}catch(u){t&&console.error("unable to copy using execCommand: ",u),t&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",n),e.onCopy&&e.onCopy(window.clipboardData),l=!0}catch(d){t&&console.error("unable to copy using clipboardData: ",d),t&&console.error("falling back to prompt"),r=Wge("message"in e?e.message:Uge),window.prompt(r,n)}}finally{o&&(typeof o.removeRange=="function"?o.removeRange(s):o.removeAllRanges()),a&&document.body.removeChild(a),i()}return l}var jge=Hge;const Vge=Zv(jge);var Gge=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})};const qge=n=>{let{copyConfig:e,children:t}=n;const[r,i]=k.useState(!1),[s,o]=k.useState(!1),a=k.useRef(null),l=()=>{a.current&&clearTimeout(a.current)},c={};e.format&&(c.format=e.format),k.useEffect(()=>l,[]);const u=Cs(d=>Gge(void 0,void 0,void 0,function*(){var h;d==null||d.preventDefault(),d==null||d.stopPropagation(),o(!0);try{const p=typeof e.text=="function"?yield e.text():e.text;Vge(p||dge(t,!0).join("")||"",c),o(!1),i(!0),l(),a.current=setTimeout(()=>{i(!1)},3e3),(h=e.onCopy)===null||h===void 0||h.call(e,d)}catch(p){throw o(!1),p}}));return{copied:r,copyLoading:s,onClick:u}};function VL(n,e){return k.useMemo(()=>{const t=!!n;return[t,Object.assign(Object.assign({},e),t&&typeof n=="object"?n:null)]},[n])}const Xge=n=>{const e=k.useRef();return k.useEffect(()=>{e.current=n}),e.current},Yge=(n,e,t)=>k.useMemo(()=>n===!0?{title:e??t}:k.isValidElement(n)?{title:n}:typeof n=="object"?Object.assign({title:e??t},n):{title:n},[n,e,t]);var Kge=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const HY=k.forwardRef((n,e)=>{const{prefixCls:t,component:r="article",className:i,rootClassName:s,setContentRef:o,children:a,direction:l,style:c}=n,u=Kge(n,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:d,direction:h,typography:p}=k.useContext(mr),g=l??h,v=o?gp(e,o):e,y=d("typography",t),[x,w,b]=WY(y),_=yt(y,p==null?void 0:p.className,{[`${y}-rtl`]:g==="rtl"},i,s,w,b),C=Object.assign(Object.assign({},p==null?void 0:p.style),c);return x(k.createElement(r,Object.assign({className:_,style:C,ref:v},u),a))});function IH(n){return n===!1?[!1,!1]:Array.isArray(n)?n:[n]}function GL(n,e,t){return n===!0||n===void 0?e:n||t&&e}function Qge(n){const e=document.createElement("em");n.appendChild(e);const t=n.getBoundingClientRect(),r=e.getBoundingClientRect();return n.removeChild(e),t.left>r.left||r.right>t.right||t.top>r.top||r.bottom>t.bottom}const d5=n=>["string","number"].includes(typeof n),Zge=n=>{let{prefixCls:e,copied:t,locale:r,iconOnly:i,tooltips:s,icon:o,tabIndex:a,onCopy:l,loading:c}=n;const u=IH(s),d=IH(o),{copied:h,copy:p}=r??{},g=t?h:p,v=GL(u[t?1:0],g),y=typeof v=="string"?v:g;return k.createElement(UT,{title:v},k.createElement("button",{type:"button",className:yt(`${e}-copy`,{[`${e}-copy-success`]:t,[`${e}-copy-icon-only`]:i}),onClick:l,"aria-label":y,tabIndex:a},t?GL(d[1],k.createElement(_pe,null),!0):GL(d[0],c?k.createElement(QX,null):k.createElement(pge,null),!0)))},eS=k.forwardRef((n,e)=>{let{style:t,children:r}=n;const i=k.useRef(null);return k.useImperativeHandle(e,()=>({isExceed:()=>{const s=i.current;return s.scrollHeight>s.clientHeight},getHeight:()=>i.current.clientHeight})),k.createElement("span",{"aria-hidden":!0,ref:i,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},t)},r)}),Jge=n=>n.reduce((e,t)=>e+(d5(t)?String(t).length:1),0);function OH(n,e){let t=0;const r=[];for(let i=0;i<n.length;i+=1){if(t===e)return r;const s=n[i],a=d5(s)?String(s).length:1,l=t+a;if(l>e){const c=e-t;return r.push(String(s).slice(0,c)),r}r.push(s),t=l}return n}const qL=0,XL=1,YL=2,KL=3,DH=4,tS={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function eve(n){const{enableMeasure:e,width:t,text:r,children:i,rows:s,expanded:o,miscDeps:a,onEllipsis:l}=n,c=k.useMemo(()=>Yf(r),[r]),u=k.useMemo(()=>Jge(c),[r]),d=k.useMemo(()=>i(c,!1),[r]),[h,p]=k.useState(null),g=k.useRef(null),v=k.useRef(null),y=k.useRef(null),x=k.useRef(null),w=k.useRef(null),[b,_]=k.useState(!1),[C,A]=k.useState(qL),[P,M]=k.useState(0),[L,I]=k.useState(null);Vn(()=>{A(e&&t&&u?XL:qL)},[t,r,s,e,c]),Vn(()=>{var G,J,q,H;if(C===XL){A(YL);const D=v.current&&getComputedStyle(v.current).whiteSpace;I(D)}else if(C===YL){const D=!!(!((G=y.current)===null||G===void 0)&&G.isExceed());A(D?KL:DH),p(D?[0,u]:null),_(D);const z=((J=y.current)===null||J===void 0?void 0:J.getHeight())||0,B=s===1?0:((q=x.current)===null||q===void 0?void 0:q.getHeight())||0,ee=((H=w.current)===null||H===void 0?void 0:H.getHeight())||0,Y=Math.max(z,B+ee);M(Y+1),l(D)}},[C]);const F=h?Math.ceil((h[0]+h[1])/2):0;Vn(()=>{var G;const[J,q]=h||[0,0];if(J!==q){const D=(((G=g.current)===null||G===void 0?void 0:G.getHeight())||0)>P;let z=F;q-J===1&&(z=D?J:q),p(D?[J,z]:[z,q])}},[h,F]);const V=k.useMemo(()=>{if(!e)return i(c,!1);if(C!==KL||!h||h[0]!==h[1]){const G=i(c,!1);return[DH,qL].includes(C)?G:k.createElement("span",{style:Object.assign(Object.assign({},tS),{WebkitLineClamp:s})},G)}return i(o?c:OH(c,h[0]),b)},[o,C,h,c].concat(St(a))),j={width:t,margin:0,padding:0,whiteSpace:L==="nowrap"?"normal":"inherit"};return k.createElement(k.Fragment,null,V,C===YL&&k.createElement(k.Fragment,null,k.createElement(eS,{style:Object.assign(Object.assign(Object.assign({},j),tS),{WebkitLineClamp:s}),ref:y},d),k.createElement(eS,{style:Object.assign(Object.assign(Object.assign({},j),tS),{WebkitLineClamp:s-1}),ref:x},d),k.createElement(eS,{style:Object.assign(Object.assign(Object.assign({},j),tS),{WebkitLineClamp:1}),ref:w},i([],!0))),C===KL&&h&&h[0]!==h[1]&&k.createElement(eS,{style:Object.assign(Object.assign({},j),{top:400}),ref:g},i(OH(c,F),!0)),C===XL&&k.createElement("span",{style:{whiteSpace:"inherit"},ref:v}))}const tve=n=>{let{enableEllipsis:e,isEllipsis:t,children:r,tooltipProps:i}=n;return!(i!=null&&i.title)||!e?r:k.createElement(UT,Object.assign({open:t?void 0:!1},i),r)};var nve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function rve(n,e){let{mark:t,code:r,underline:i,delete:s,strong:o,keyboard:a,italic:l}=n,c=e;function u(d,h){h&&(c=k.createElement(d,{},c))}return u("strong",o),u("u",i),u("del",s),u("code",r),u("mark",t),u("kbd",a),u("i",l),c}const ive="...",HT=k.forwardRef((n,e)=>{var t;const{prefixCls:r,className:i,style:s,type:o,disabled:a,children:l,ellipsis:c,editable:u,copyable:d,component:h,title:p}=n,g=nve(n,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:v,direction:y}=k.useContext(mr),[x]=bce("Text"),w=k.useRef(null),b=k.useRef(null),_=v("typography",r),C=r0(g,["mark","code","delete","underline","strong","keyboard","italic"]),[A,P]=VL(u),[M,L]=lw(!1,{value:P.editing}),{triggerType:I=["icon"]}=P,F=le=>{var Le;le&&((Le=P.onStart)===null||Le===void 0||Le.call(P)),L(le)},V=Xge(M);Vn(()=>{var le;!M&&V&&((le=b.current)===null||le===void 0||le.focus())},[M]);const j=le=>{le==null||le.preventDefault(),F(!0)},G=le=>{var Le;(Le=P.onChange)===null||Le===void 0||Le.call(P,le),F(!1)},J=()=>{var le;(le=P.onCancel)===null||le===void 0||le.call(P),F(!1)},[q,H]=VL(d),{copied:D,copyLoading:z,onClick:B}=qge({copyConfig:H,children:l}),[ee,Y]=k.useState(!1),[oe,ce]=k.useState(!1),[me,de]=k.useState(!1),[be,Oe]=k.useState(!1),[Te,we]=k.useState(!0),[De,pe]=VL(c,{expandable:!1,symbol:le=>le?x==null?void 0:x.collapse:x==null?void 0:x.expand}),[fe,Ae]=lw(pe.defaultExpanded||!1,{value:pe.expanded}),Pe=De&&(!fe||pe.expandable==="collapsible"),{rows:ge=1}=pe,je=k.useMemo(()=>Pe&&(pe.suffix!==void 0||pe.onEllipsis||pe.expandable||A||q),[Pe,pe,A,q]);Vn(()=>{De&&!je&&(Y(dH("webkitLineClamp")),ce(dH("textOverflow")))},[je,De]);const[We,qe]=k.useState(Pe),Ze=k.useMemo(()=>je?!1:ge===1?oe:ee,[je,oe,ee]);Vn(()=>{qe(Ze&&Pe)},[Ze,Pe]);const Xe=Pe&&(We?be:me),te=Pe&&ge===1&&We,X=Pe&&ge>1&&We,ve=(le,Le)=>{var Ke;Ae(Le.expanded),(Ke=pe.onExpand)===null||Ke===void 0||Ke.call(pe,le,Le)},[Ce,$e]=k.useState(0),Ve=le=>{let{offsetWidth:Le}=le;$e(Le)},Je=le=>{var Le;de(le),me!==le&&((Le=pe.onEllipsis)===null||Le===void 0||Le.call(pe,le))};k.useEffect(()=>{const le=w.current;if(De&&We&&le){const Le=Qge(le);be!==Le&&Oe(Le)}},[De,We,l,X,Te,Ce]),k.useEffect(()=>{const le=w.current;if(typeof IntersectionObserver>"u"||!le||!We||!Pe)return;const Le=new IntersectionObserver(()=>{we(!!le.offsetParent)});return Le.observe(le),()=>{Le.disconnect()}},[We,Pe]);const Ge=Yge(pe.tooltip,P.text,l),T=k.useMemo(()=>{if(!(!De||We))return[P.text,l,p,Ge.title].find(d5)},[De,We,p,Ge.title,Xe]);if(M)return k.createElement(zge,{value:(t=P.text)!==null&&t!==void 0?t:typeof l=="string"?l:"",onSave:G,onCancel:J,onEnd:P.onEnd,prefixCls:_,className:i,style:s,direction:y,component:h,maxLength:P.maxLength,autoSize:P.autoSize,enterIcon:P.enterIcon});const N=()=>{const{expandable:le,symbol:Le}=pe;return le?k.createElement("button",{type:"button",key:"expand",className:`${_}-${fe?"collapse":"expand"}`,onClick:Ke=>ve(Ke,{expanded:!fe}),"aria-label":fe?x.collapse:x==null?void 0:x.expand},typeof Le=="function"?Le(fe):Le):null},U=()=>{if(!A)return;const{icon:le,tooltip:Le,tabIndex:Ke}=P,ue=Yf(Le)[0]||(x==null?void 0:x.edit),Ee=typeof ue=="string"?ue:"";return I.includes("icon")?k.createElement(UT,{key:"edit",title:Le===!1?"":ue},k.createElement("button",{type:"button",ref:b,className:`${_}-edit`,onClick:j,"aria-label":Ee,tabIndex:Ke},le||k.createElement(vge,{role:"button"}))):null},ne=()=>q?k.createElement(Zge,Object.assign({key:"copy"},H,{prefixCls:_,copied:D,locale:x,onCopy:B,loading:z,iconOnly:l==null})):null,se=le=>[le&&N(),U(),ne()],K=le=>[le&&!fe&&k.createElement("span",{"aria-hidden":!0,key:"ellipsis"},ive),pe.suffix,se(le)];return k.createElement(Zw,{onResize:Ve,disabled:!Pe},le=>k.createElement(tve,{tooltipProps:Ge,enableEllipsis:Pe,isEllipsis:Xe},k.createElement(HY,Object.assign({className:yt({[`${_}-${o}`]:o,[`${_}-disabled`]:a,[`${_}-ellipsis`]:De,[`${_}-ellipsis-single-line`]:te,[`${_}-ellipsis-multiple-line`]:X},i),prefixCls:r,style:Object.assign(Object.assign({},s),{WebkitLineClamp:X?ge:void 0}),component:h,ref:gp(le,w,e),direction:y,onClick:I.includes("text")?j:void 0,"aria-label":T==null?void 0:T.toString(),title:p},C),k.createElement(eve,{enableMeasure:Pe&&!We,text:l,rows:ge,width:Ce,onEllipsis:Je,expanded:fe,miscDeps:[D,fe,z,A,q]},(Le,Ke)=>rve(n,k.createElement(k.Fragment,null,Le.length>0&&Ke&&!fe&&T?k.createElement("span",{key:"show-content","aria-hidden":!0},Le):Le,K(Ke)))))))});var sve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const ove=k.forwardRef((n,e)=>{var{ellipsis:t,rel:r}=n,i=sve(n,["ellipsis","rel"]);const s=Object.assign(Object.assign({},i),{rel:r===void 0&&i.target==="_blank"?"noopener noreferrer":r});return delete s.navigate,k.createElement(HT,Object.assign({},s,{ref:e,ellipsis:!!t,component:"a"}))}),ave=k.forwardRef((n,e)=>k.createElement(HT,Object.assign({ref:e},n,{component:"div"})));var lve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const cve=(n,e)=>{var{ellipsis:t}=n,r=lve(n,["ellipsis"]);const i=k.useMemo(()=>t&&typeof t=="object"?r0(t,["expandable","rows"]):t,[t]);return k.createElement(HT,Object.assign({ref:e},r,{ellipsis:i,component:"span"}))},uve=k.forwardRef(cve);var dve=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const hve=[1,2,3,4,5],fve=k.forwardRef((n,e)=>{const{level:t=1}=n,r=dve(n,["level"]),i=hve.includes(t)?`h${t}`:"h1";return k.createElement(HT,Object.assign({ref:e},r,{component:i}))}),yp=HY;yp.Text=uve;yp.Link=ove;yp.Title=fve;yp.Paragraph=ave;const jY=(n,e)=>{if(e==="dir")return n;const t=n.indexOf(".");return n.slice(0,t)};function pi(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var pve=typeof Symbol=="function"&&Symbol.observable||"@@observable",NH=pve,QL=()=>Math.random().toString(36).substring(7).split("").join("."),mve={INIT:`@@redux/INIT${QL()}`,REPLACE:`@@redux/REPLACE${QL()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${QL()}`},HA=mve;function Md(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function VY(n,e,t){if(typeof n!="function")throw new Error(pi(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(pi(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(pi(1));return t(VY)(n,e)}let r=n,i=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((y,x)=>{o.set(x,y)}))}function u(){if(l)throw new Error(pi(3));return i}function d(y){if(typeof y!="function")throw new Error(pi(4));if(l)throw new Error(pi(5));let x=!0;c();const w=a++;return o.set(w,y),function(){if(x){if(l)throw new Error(pi(6));x=!1,c(),o.delete(w),s=null}}}function h(y){if(!Md(y))throw new Error(pi(7));if(typeof y.type>"u")throw new Error(pi(8));if(typeof y.type!="string")throw new Error(pi(17));if(l)throw new Error(pi(9));try{l=!0,i=r(i,y)}finally{l=!1}return(s=o).forEach(w=>{w()}),y}function p(y){if(typeof y!="function")throw new Error(pi(10));r=y,h({type:HA.REPLACE})}function g(){const y=d;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(pi(11));function w(){const _=x;_.next&&_.next(u())}return w(),{unsubscribe:y(w)}},[NH](){return this}}}return h({type:HA.INIT}),{dispatch:h,subscribe:d,getState:u,replaceReducer:p,[NH]:g}}function gve(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:HA.INIT})>"u")throw new Error(pi(12));if(typeof t(void 0,{type:HA.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pi(13))})}function h5(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const o=e[s];typeof n[o]=="function"&&(t[o]=n[o])}const r=Object.keys(t);let i;try{gve(t)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const d=r[u],h=t[d],p=o[d],g=h(p,a);if(typeof g>"u")throw a&&a.type,new Error(pi(14));c[d]=g,l=l||g!==p}return l=l||r.length!==Object.keys(o).length,l?c:o}}function jA(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function vve(...n){return e=>(t,r)=>{const i=e(t,r);let s=()=>{throw new Error(pi(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=n.map(l=>l(o));return s=jA(...a)(i.dispatch),{...i,dispatch:s}}}function jT(n){return Md(n)&&"type"in n&&typeof n.type=="string"}var f5=Symbol.for("immer-nothing"),Q1=Symbol.for("immer-draftable"),Fs=Symbol.for("immer-state");function gi(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Jf=Object.getPrototypeOf;function po(n){return!!n&&!!n[Fs]}function za(n){var e;return n?GY(n)||Array.isArray(n)||!!n[Q1]||!!((e=n.constructor)!=null&&e[Q1])||ob(n)||ab(n):!1}var yve=Object.prototype.constructor.toString();function GY(n){if(!n||typeof n!="object")return!1;const e=Jf(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===yve}function xve(n){return po(n)||gi(15,n),n[Fs].base_}function dw(n,e){ep(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function ep(n){const e=n[Fs];return e?e.type_:Array.isArray(n)?1:ob(n)?2:ab(n)?3:0}function hw(n,e){return ep(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function ZL(n,e){return ep(n)===2?n.get(e):n[e]}function qY(n,e,t){const r=ep(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function wve(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function ob(n){return n instanceof Map}function ab(n){return n instanceof Set}function Sh(n){return n.copy_||n.base_}function DO(n,e){if(ob(n))return new Map(n);if(ab(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=GY(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[Fs];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:n[o]})}return Object.create(Jf(n),r)}else{const r=Jf(n);if(r!==null&&t)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function p5(n,e=!1){return VT(n)||po(n)||!za(n)||(ep(n)>1&&(n.set=n.add=n.clear=n.delete=bve),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>p5(r,!0))),n}function bve(){gi(2)}function VT(n){return Object.isFrozen(n)}var NO={};function tp(n){const e=NO[n];return e||gi(0,n),e}function _ve(n,e){NO[n]||(NO[n]=e)}var fw;function XY(){return fw}function Sve(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function FH(n,e){e&&(tp("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function FO(n){zO(n),n.drafts_.forEach(Eve),n.drafts_=null}function zO(n){n===fw&&(fw=n.parent_)}function zH(n){return fw=Sve(fw,n)}function Eve(n){const e=n[Fs];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function BH(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Fs].modified_&&(FO(e),gi(4)),za(n)&&(n=VA(e,n),e.parent_||GA(e,n)),e.patches_&&tp("Patches").generateReplacementPatches_(t[Fs].base_,n,e.patches_,e.inversePatches_)):n=VA(e,t,[]),FO(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==f5?n:void 0}function VA(n,e,t){if(VT(e))return e;const r=e[Fs];if(!r)return dw(e,(i,s)=>$H(n,r,e,i,s,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return GA(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),dw(s,(a,l)=>$H(n,r,i,a,l,t,o)),GA(n,i,!1),t&&n.patches_&&tp("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function $H(n,e,t,r,i,s,o){if(po(i)){const a=s&&e&&e.type_!==3&&!hw(e.assigned_,r)?s.concat(r):void 0,l=VA(n,i,a);if(qY(t,r,l),po(l))n.canAutoFreeze_=!1;else return}else o&&t.add(i);if(za(i)&&!VT(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;VA(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&GA(n,i)}}function GA(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&p5(e,t)}function Mve(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:XY(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=m5;t&&(i=[r],s=pw);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var m5={get(n,e){if(e===Fs)return n;const t=Sh(n);if(!hw(t,e))return Cve(n,t,e);const r=t[e];return n.finalized_||!za(r)?r:r===JL(n.base_,e)?(ek(n),n.copy_[e]=$O(r,n)):r},has(n,e){return e in Sh(n)},ownKeys(n){return Reflect.ownKeys(Sh(n))},set(n,e,t){const r=YY(Sh(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=JL(Sh(n),e),s=i==null?void 0:i[Fs];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(wve(t,i)&&(t!==void 0||hw(n.base_,e)))return!0;ek(n),BO(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return JL(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,ek(n),BO(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Sh(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){gi(11)},getPrototypeOf(n){return Jf(n.base_)},setPrototypeOf(){gi(12)}},pw={};dw(m5,(n,e)=>{pw[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});pw.deleteProperty=function(n,e){return pw.set.call(this,n,e,void 0)};pw.set=function(n,e,t){return m5.set.call(this,n[0],e,t,n[0])};function JL(n,e){const t=n[Fs];return(t?Sh(t):n)[e]}function Cve(n,e,t){var i;const r=YY(e,t);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function YY(n,e){if(!(e in n))return;let t=Jf(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=Jf(t)}}function BO(n){n.modified_||(n.modified_=!0,n.parent_&&BO(n.parent_))}function ek(n){n.copy_||(n.copy_=DO(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var Ave=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const o=this;return function(l=s,...c){return o.produce(l,u=>t.call(this,u,...c))}}typeof t!="function"&&gi(6),r!==void 0&&typeof r!="function"&&gi(7);let i;if(za(e)){const s=zH(this),o=$O(e,void 0);let a=!0;try{i=t(o),a=!1}finally{a?FO(s):zO(s)}return FH(s,r),BH(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===f5&&(i=void 0),this.autoFreeze_&&p5(i,!0),r){const s=[],o=[];tp("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else gi(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,t,(o,a)=>{r=o,i=a}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){za(n)||gi(8),po(n)&&(n=g5(n));const e=zH(this),t=$O(n,void 0);return t[Fs].isManual_=!0,zO(e),t}finishDraft(n,e){const t=n&&n[Fs];(!t||!t.isManual_)&&gi(9);const{scope_:r}=t;return FH(r,e),BH(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=tp("Patches").applyPatches_;return po(n)?r(n,e):this.produce(n,i=>r(i,e))}};function $O(n,e){const t=ob(n)?tp("MapSet").proxyMap_(n,e):ab(n)?tp("MapSet").proxySet_(n,e):Mve(n,e);return(e?e.scope_:XY()).drafts_.push(t),t}function g5(n){return po(n)||gi(10,n),KY(n)}function KY(n){if(!za(n)||VT(n))return n;const e=n[Fs];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=DO(n,e.scope_.immer_.useStrictShallowCopy_)}else t=DO(n,!0);return dw(t,(r,i)=>{qY(t,r,KY(i))}),e&&(e.finalized_=!1),t}function Tve(){const e="replace",t="add",r="remove";function i(h,p,g,v){switch(h.type_){case 0:case 2:return o(h,p,g,v);case 1:return s(h,p,g,v);case 3:return a(h,p,g,v)}}function s(h,p,g,v){let{base_:y,assigned_:x}=h,w=h.copy_;w.length<y.length&&([y,w]=[w,y],[g,v]=[v,g]);for(let b=0;b<y.length;b++)if(x[b]&&w[b]!==y[b]){const _=p.concat([b]);g.push({op:e,path:_,value:d(w[b])}),v.push({op:e,path:_,value:d(y[b])})}for(let b=y.length;b<w.length;b++){const _=p.concat([b]);g.push({op:t,path:_,value:d(w[b])})}for(let b=w.length-1;y.length<=b;--b){const _=p.concat([b]);v.push({op:r,path:_})}}function o(h,p,g,v){const{base_:y,copy_:x}=h;dw(h.assigned_,(w,b)=>{const _=ZL(y,w),C=ZL(x,w),A=b?hw(y,w)?e:t:r;if(_===C&&A===e)return;const P=p.concat(w);g.push(A===r?{op:A,path:P}:{op:A,path:P,value:C}),v.push(A===t?{op:r,path:P}:A===r?{op:t,path:P,value:d(_)}:{op:e,path:P,value:d(_)})})}function a(h,p,g,v){let{base_:y,copy_:x}=h,w=0;y.forEach(b=>{if(!x.has(b)){const _=p.concat([w]);g.push({op:r,path:_,value:b}),v.unshift({op:t,path:_,value:b})}w++}),w=0,x.forEach(b=>{if(!y.has(b)){const _=p.concat([w]);g.push({op:t,path:_,value:b}),v.unshift({op:r,path:_,value:b})}w++})}function l(h,p,g,v){g.push({op:e,path:[],value:p===f5?void 0:p}),v.push({op:e,path:[],value:h})}function c(h,p){return p.forEach(g=>{const{path:v,op:y}=g;let x=h;for(let C=0;C<v.length-1;C++){const A=ep(x);let P=v[C];typeof P!="string"&&typeof P!="number"&&(P=""+P),(A===0||A===1)&&(P==="__proto__"||P==="constructor")&&gi(19),typeof x=="function"&&P==="prototype"&&gi(19),x=ZL(x,P),typeof x!="object"&&gi(18,v.join("/"))}const w=ep(x),b=u(g.value),_=v[v.length-1];switch(y){case e:switch(w){case 2:return x.set(_,b);case 3:gi(16);default:return x[_]=b}case t:switch(w){case 1:return _==="-"?x.push(b):x.splice(_,0,b);case 2:return x.set(_,b);case 3:return x.add(b);default:return x[_]=b}case r:switch(w){case 1:return x.splice(_,1);case 2:return x.delete(_);case 3:return x.delete(g.value);default:return delete x[_]}default:gi(17,y)}}),h}function u(h){if(!za(h))return h;if(Array.isArray(h))return h.map(u);if(ob(h))return new Map(Array.from(h.entries()).map(([g,v])=>[g,u(v)]));if(ab(h))return new Set(Array.from(h).map(u));const p=Object.create(Jf(h));for(const g in h)p[g]=u(h[g]);return hw(h,Q1)&&(p[Q1]=h[Q1]),p}function d(h){return po(h)?u(h):h}_ve("Patches",{applyPatches_:c,generatePatches_:i,generateReplacementPatches_:l})}var mo=new Ave,l0=mo.produce,QY=mo.produceWithPatches.bind(mo);mo.setAutoFreeze.bind(mo);mo.setUseStrictShallowCopy.bind(mo);var UH=mo.applyPatches.bind(mo);mo.createDraft.bind(mo);mo.finishDraft.bind(mo);function Pve(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function Rve(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function Lve(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${t}]`)}}var WH=n=>Array.isArray(n)?n:[n];function kve(n){const e=Array.isArray(n[0])?n[0]:n;return Lve(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Ive(n,e){const t=[],{length:r}=n;for(let i=0;i<r;i++)t.push(n[i].apply(null,e));return t}var Ove=class{constructor(n){this.value=n}deref(){return this.value}},Dve=typeof WeakRef<"u"?WeakRef:Ove,Nve=0,HH=1;function nS(){return{s:Nve,v:void 0,o:null,p:null}}function mw(n,e={}){let t=nS();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var d;let a=t;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let v=a.o;v===null&&(a.o=v=new WeakMap);const y=v.get(g);y===void 0?(a=nS(),v.set(g,a)):a=y}else{let v=a.p;v===null&&(a.p=v=new Map);const y=v.get(g);y===void 0?(a=nS(),v.set(g,a)):a=y}}const c=a;let u;if(a.s===HH)u=a.v;else if(u=n.apply(null,arguments),s++,r){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&r(h,u)&&(u=h,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new Dve(u):u}return c.s=HH,c.v=u,u}return o.clearCache=()=>{t=nS(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function ZY(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,r=(...i)=>{let s=0,o=0,a,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),Pve(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...t,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:p=mw,argsMemoizeOptions:g=[],devModeChecks:v={}}=u,y=WH(h),x=WH(g),w=kve(i),b=d(function(){return s++,c.apply(null,arguments)},...y),_=p(function(){o++;const A=Ive(w,arguments);return a=b.apply(null,A),a},...x);return Object.assign(_,{resultFunc:c,memoizedResultFunc:b,dependencies:w,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var v5=ZY(mw),Fve=Object.assign((n,e=v5)=>{Rve(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),r=t.map(s=>n[s]);return e(r,(...s)=>s.reduce((o,a,l)=>(o[t[l]]=a,o),{}))},{withTypes:()=>Fve});function JY(n){return({dispatch:t,getState:r})=>i=>s=>typeof s=="function"?s(t,r,n):i(s)}var zve=JY(),Bve=JY,$ve=(...n)=>{const e=ZY(...n),t=Object.assign((...r)=>{const i=e(...r),s=(o,...a)=>i(po(o)?g5(o):o,...a);return Object.assign(s,i),s},{withTypes:()=>t});return t},Uve=$ve(mw),Wve=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jA:jA.apply(null,arguments)},Hve=n=>n&&typeof n.match=="function";function as(n,e){function t(...r){if(e){let i=e(...r);if(!i)throw new Error(wi(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>jT(r)&&r.type===n,t}function jve(n){return jT(n)&&Object.keys(n).every(Vve)}function Vve(n){return["type","payload","error","meta"].indexOf(n)>-1}function jH(n,e){for(const t of n)if(e(t))return t}var eK=class Fy extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Fy.prototype)}static get[Symbol.species](){return Fy}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Fy(...e[0].concat(this)):new Fy(...e.concat(this))}};function VH(n){return za(n)?l0(n,()=>{}):n}function GH(n,e,t){if(n.has(e)){let i=n.get(e);return t.update&&(i=t.update(i,e,n),n.set(e,i)),i}if(!t.insert)throw new Error(wi(10));const r=t.insert(e,n);return n.set(e,r),r}function Gve(n){return typeof n=="boolean"}var qve=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new eK;return t&&(Gve(t)?o.push(zve):o.push(Bve(t.extraArgument))),o},Ig="RTK_autoBatch",ty=()=>n=>({payload:n,meta:{[Ig]:!0}}),tK=n=>e=>{setTimeout(e,n)},Xve=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:tK(10),Yve=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let i=!0,s=!1,o=!1;const a=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?Xve:n.type==="callback"?n.queueNotification:tK(n.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const d=()=>i&&u(),h=r.subscribe(d);return a.add(u),()=>{h(),a.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[Ig]),s=!i,s&&(o||(o=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},Kve=n=>function(t){const{autoBatch:r=!0}=t??{};let i=new eK(n);return r&&i.push(Yve(typeof r=="object"?r:void 0)),i},Qve=!0;function Zve(n){const e=qve(),{reducer:t=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=n||{};let a;if(typeof t=="function")a=t;else if(Md(t))a=h5(t);else throw new Error(wi(1));let l;typeof r=="function"?l=r(e):l=e();let c=jA;i&&(c=Wve({trace:!Qve,...typeof i=="object"&&i}));const u=vve(...l),d=Kve(u);let h=typeof o=="function"?o(d):d();const p=c(...h);return VY(a,s,p)}function nK(n){const e={},t=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(wi(28));if(a in e)throw new Error(wi(29));return e[a]=o,i},addMatcher(s,o){return t.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return n(i),[e,t,r]}function Jve(n){return typeof n=="function"}function e0e(n,e){let[t,r,i]=nK(e),s;if(Jve(n))s=()=>VH(n());else{const a=VH(n);s=()=>a}function o(a=s(),l){let c=[t[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(po(u)){const p=d(u,l);return p===void 0?u:p}else{if(za(u))return l0(u,h=>d(h,l));{const h=d(u,l);if(h===void 0){if(u===null)return u;throw new Error(wi(9))}return h}}return u},a)}return o.getInitialState=s,o}var t0e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",y5=(n=21)=>{let e="",t=n;for(;t--;)e+=t0e[Math.random()*64|0];return e},rK=(n,e)=>Hve(n)?n.match(e):n(e);function Fc(...n){return e=>n.some(t=>rK(t,e))}function Z1(...n){return e=>n.every(t=>rK(t,e))}function GT(n,e){if(!n||!n.meta)return!1;const t=typeof n.meta.requestId=="string",r=e.indexOf(n.meta.requestStatus)>-1;return t&&r}function lb(n){return typeof n[0]=="function"&&"pending"in n[0]&&"fulfilled"in n[0]&&"rejected"in n[0]}function x5(...n){return n.length===0?e=>GT(e,["pending"]):lb(n)?Fc(...n.map(e=>e.pending)):x5()(n[0])}function $v(...n){return n.length===0?e=>GT(e,["rejected"]):lb(n)?Fc(...n.map(e=>e.rejected)):$v()(n[0])}function qT(...n){const e=t=>t&&t.meta&&t.meta.rejectedWithValue;return n.length===0?Z1($v(...n),e):lb(n)?Z1($v(...n),e):qT()(n[0])}function Cd(...n){return n.length===0?e=>GT(e,["fulfilled"]):lb(n)?Fc(...n.map(e=>e.fulfilled)):Cd()(n[0])}function UO(...n){return n.length===0?e=>GT(e,["pending","fulfilled","rejected"]):lb(n)?Fc(...n.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):UO()(n[0])}var n0e=["name","message","stack","code"],tk=class{constructor(n,e){H0(this,"_type");this.payload=n,this.meta=e}},qH=class{constructor(n,e){H0(this,"_type");this.payload=n,this.meta=e}},r0e=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of n0e)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},qA=(()=>{function n(e,t,r){const i=as(e+"/fulfilled",(l,c,u,d)=>({payload:l,meta:{...d||{},arg:u,requestId:c,requestStatus:"fulfilled"}})),s=as(e+"/pending",(l,c,u)=>({payload:void 0,meta:{...u||{},arg:c,requestId:l,requestStatus:"pending"}})),o=as(e+"/rejected",(l,c,u,d,h)=>({payload:d,error:(r&&r.serializeError||r0e)(l||"Rejected"),meta:{...h||{},arg:u,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l){return(c,u,d)=>{const h=r!=null&&r.idGenerator?r.idGenerator(l):y5(),p=new AbortController;let g,v;function y(w){v=w,p.abort()}const x=async function(){var _,C;let w;try{let A=(_=r==null?void 0:r.condition)==null?void 0:_.call(r,l,{getState:u,extra:d});if(s0e(A)&&(A=await A),A===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const P=new Promise((M,L)=>{g=()=>{L({name:"AbortError",message:v||"Aborted"})},p.signal.addEventListener("abort",g)});c(s(h,l,(C=r==null?void 0:r.getPendingMeta)==null?void 0:C.call(r,{requestId:h,arg:l},{getState:u,extra:d}))),w=await Promise.race([P,Promise.resolve(t(l,{dispatch:c,getState:u,extra:d,requestId:h,signal:p.signal,abort:y,rejectWithValue:(M,L)=>new tk(M,L),fulfillWithValue:(M,L)=>new qH(M,L)})).then(M=>{if(M instanceof tk)throw M;return M instanceof qH?i(M.payload,h,l,M.meta):i(M,h,l)})])}catch(A){w=A instanceof tk?o(null,h,l,A.payload,A.meta):o(A,h,l)}finally{g&&p.signal.removeEventListener("abort",g)}return r&&!r.dispatchConditionRejection&&o.match(w)&&w.meta.condition||c(w),w}();return Object.assign(x,{abort:y,requestId:h,arg:l,unwrap(){return x.then(i0e)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:Fc(o,i),typePrefix:e})}return n.withTypes=()=>n,n})();function i0e(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function s0e(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var o0e=Symbol.for("rtk-slice-createasyncthunk");function a0e(n,e){return`${n}/${e}`}function l0e({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[o0e];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(wi(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(u0e()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(b,_){const C=typeof b=="string"?b:b.type;if(!C)throw new Error(wi(12));if(C in c.sliceCaseReducersByType)throw new Error(wi(13));return c.sliceCaseReducersByType[C]=_,u},addMatcher(b,_){return c.sliceMatchers.push({matcher:b,reducer:_}),u},exposeAction(b,_){return c.actionCreators[b]=_,u},exposeCaseReducer(b,_){return c.sliceCaseReducersByName[b]=_,u}};l.forEach(b=>{const _=a[b],C={reducerName:b,type:a0e(s,b),createNotation:typeof i.reducers=="function"};h0e(_)?p0e(C,_,u,e):d0e(C,_,u)});function d(){const[b={},_=[],C=void 0]=typeof i.extraReducers=="function"?nK(i.extraReducers):[i.extraReducers],A={...b,...c.sliceCaseReducersByType};return e0e(i.initialState,P=>{for(let M in A)P.addCase(M,A[M]);for(let M of c.sliceMatchers)P.addMatcher(M.matcher,M.reducer);for(let M of _)P.addMatcher(M.matcher,M.reducer);C&&P.addDefaultCase(C)})}const h=b=>b,p=new Map;let g;function v(b,_){return g||(g=d()),g(b,_)}function y(){return g||(g=d()),g.getInitialState()}function x(b,_=!1){function C(P){let M=P[b];return typeof M>"u"&&_&&(M=y()),M}function A(P=h){const M=GH(p,_,{insert:()=>new WeakMap});return GH(M,P,{insert:()=>{const L={};for(const[I,F]of Object.entries(i.selectors??{}))L[I]=c0e(F,P,y,_);return L}})}return{reducerPath:b,getSelectors:A,get selectors(){return A(C)},selectSlice:C}}const w={name:s,reducer:v,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:y,...x(o),injectInto(b,{reducerPath:_,...C}={}){const A=_??o;return b.inject({reducerPath:A,reducer:v},C),{...w,...x(A,!0)}}};return w}}function c0e(n,e,t,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=t()),n(a,...o)}return i.unwrapped=n,i}var Nu=l0e();function u0e(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function d0e({type:n,reducerName:e,createNotation:t},r,i){let s,o;if("reducer"in r){if(t&&!f0e(r))throw new Error(wi(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,o?as(n,o):as(n))}function h0e(n){return n._reducerDefinitionType==="asyncThunk"}function f0e(n){return n._reducerDefinitionType==="reducerWithPrepare"}function p0e({type:n,reducerName:e},t,r,i){if(!i)throw new Error(wi(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:u}=t,d=i(n,s,u);r.exposeAction(e,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(e,{fulfilled:o||rS,pending:a||rS,rejected:l||rS,settled:c||rS})}function rS(){}function m0e(){return{ids:[],entities:{}}}function g0e(n){function e(t={},r){const i=Object.assign(m0e(),t);return r?n.setAll(i,r):i}return{getInitialState:e}}function v0e(){function n(e,t={}){const{createSelector:r=Uve}=t,i=d=>d.ids,s=d=>d.entities,o=r(i,s,(d,h)=>d.map(p=>h[p])),a=(d,h)=>h,l=(d,h)=>d[h],c=r(i,d=>d.length);if(!e)return{selectIds:i,selectEntities:s,selectAll:o,selectTotal:c,selectById:r(s,a,l)};const u=r(e,s);return{selectIds:r(e,i),selectEntities:u,selectAll:r(e,o),selectTotal:r(e,c),selectById:r(u,a,l)}}return{getSelectors:n}}var y0e=po;function x0e(n){const e=dr((t,r)=>n(r));return function(r){return e(r,void 0)}}function dr(n){return function(t,r){function i(o){return jve(o)}const s=o=>{i(r)?n(r.payload,o):n(r,o)};return y0e(t)?(s(t),t):l0(t,s)}}function Og(n,e){return e(n)}function Lf(n){return Array.isArray(n)||(n=Object.values(n)),n}function GE(n){return po(n)?g5(n):n}function iK(n,e,t){n=Lf(n);const r=GE(t.ids),i=new Set(r),s=[],o=[];for(const a of n){const l=Og(a,e);i.has(l)?o.push({id:l,changes:a}):s.push(a)}return[s,o,r]}function sK(n){function e(g,v){const y=Og(g,n);y in v.entities||(v.ids.push(y),v.entities[y]=g)}function t(g,v){g=Lf(g);for(const y of g)e(y,v)}function r(g,v){const y=Og(g,n);y in v.entities||v.ids.push(y),v.entities[y]=g}function i(g,v){g=Lf(g);for(const y of g)r(y,v)}function s(g,v){g=Lf(g),v.ids=[],v.entities={},t(g,v)}function o(g,v){return a([g],v)}function a(g,v){let y=!1;g.forEach(x=>{x in v.entities&&(delete v.entities[x],y=!0)}),y&&(v.ids=v.ids.filter(x=>x in v.entities))}function l(g){Object.assign(g,{ids:[],entities:{}})}function c(g,v,y){const x=y.entities[v.id];if(x===void 0)return!1;const w=Object.assign({},x,v.changes),b=Og(w,n),_=b!==v.id;return _&&(g[v.id]=b,delete y.entities[v.id]),y.entities[b]=w,_}function u(g,v){return d([g],v)}function d(g,v){const y={},x={};g.forEach(b=>{var _;b.id in v.entities&&(x[b.id]={id:b.id,changes:{...(_=x[b.id])==null?void 0:_.changes,...b.changes}})}),g=Object.values(x),g.length>0&&g.filter(_=>c(y,_,v)).length>0&&(v.ids=Object.values(v.entities).map(_=>Og(_,n)))}function h(g,v){return p([g],v)}function p(g,v){const[y,x]=iK(g,n,v);d(x,v),t(y,v)}return{removeAll:x0e(l),addOne:dr(e),addMany:dr(t),setOne:dr(r),setMany:dr(i),setAll:dr(s),updateOne:dr(u),updateMany:dr(d),upsertOne:dr(h),upsertMany:dr(p),removeOne:dr(o),removeMany:dr(a)}}function w0e(n,e,t){let r=0,i=n.length;for(;r<i;){let s=r+i>>>1;const o=n[s];t(e,o)>=0?r=s+1:i=s}return r}function b0e(n,e,t){const r=w0e(n,e,t);return n.splice(r,0,e),n}function _0e(n,e){const{removeOne:t,removeMany:r,removeAll:i}=sK(n);function s(y,x){return o([y],x)}function o(y,x,w){y=Lf(y);const b=new Set(w??GE(x.ids)),_=y.filter(C=>!b.has(Og(C,n)));_.length!==0&&v(x,_)}function a(y,x){return l([y],x)}function l(y,x){if(y=Lf(y),y.length!==0){for(const w of y)delete x.entities[n(w)];v(x,y)}}function c(y,x){y=Lf(y),x.entities={},x.ids=[],o(y,x,[])}function u(y,x){return d([y],x)}function d(y,x){let w=!1,b=!1;for(let _ of y){const C=x.entities[_.id];if(!C)continue;w=!0,Object.assign(C,_.changes);const A=n(C);if(_.id!==A){b=!0,delete x.entities[_.id];const P=x.ids.indexOf(_.id);x.ids[P]=A,x.entities[A]=C}}w&&v(x,[],w,b)}function h(y,x){return p([y],x)}function p(y,x){const[w,b,_]=iK(y,n,x);b.length&&d(b,x),w.length&&o(w,x,_)}function g(y,x){if(y.length!==x.length)return!1;for(let w=0;w<y.length;w++)if(y[w]!==x[w])return!1;return!0}const v=(y,x,w,b)=>{const _=GE(y.entities),C=GE(y.ids),A=y.entities;let P=C;b&&(P=new Set(C));let M=[];for(const F of P){const V=_[F];V&&M.push(V)}const L=M.length===0;for(const F of x)A[n(F)]=F,L||b0e(M,F,e);L?M=x.slice().sort(e):w&&M.sort(e);const I=M.map(n);g(C,I)||(y.ids=I)};return{removeOne:t,removeMany:r,removeAll:i,addOne:dr(s),updateOne:dr(u),upsertOne:dr(h),setOne:dr(a),setMany:dr(l),setAll:dr(c),addMany:dr(o),updateMany:dr(d),upsertMany:dr(p)}}function S0e(n={}){const{selectId:e,sortComparer:t}={sortComparer:!1,selectId:o=>o.id,...n},r=t?_0e(e,t):sK(e),i=g0e(r),s=v0e();return{selectId:e,sortComparer:t,...i,...s,...r}}var E0e="task",oK="listener",aK="completed",w5="cancelled",M0e=`task-${w5}`,C0e=`task-${aK}`,WO=`${oK}-${w5}`,A0e=`${oK}-${aK}`,XT=class{constructor(n){H0(this,"name","TaskAbortError");H0(this,"message");this.code=n,this.message=`${E0e} ${w5} (reason: ${n})`}},b5=(n,e)=>{if(typeof n!="function")throw new Error(wi(32))},XA=()=>{},lK=(n,e=XA)=>(n.catch(e),n),cK=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),kf=(n,e)=>{const t=n.signal;t.aborted||("reason"in t||Object.defineProperty(t,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),n.abort(e))},If=n=>{if(n.aborted){const{reason:e}=n;throw new XT(e)}};function uK(n,e){let t=XA;return new Promise((r,i)=>{const s=()=>i(new XT(n.reason));if(n.aborted){s();return}t=cK(n,s),e.finally(()=>t()).then(r,i)}).finally(()=>{t=XA})}var T0e=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(t){return{status:t instanceof XT?"cancelled":"rejected",error:t}}finally{e==null||e()}},YA=n=>e=>lK(uK(n,e).then(t=>(If(n),t))),dK=n=>{const e=YA(n);return t=>e(new Promise(r=>setTimeout(r,t)))},{assign:P0e}=Object,XH={},YT="listenerMiddleware",R0e=(n,e)=>{const t=r=>cK(n,()=>kf(r,n.reason));return(r,i)=>{b5(r);const s=new AbortController;t(s);const o=T0e(async()=>{If(n),If(s.signal);const a=await r({pause:YA(s.signal),delay:dK(s.signal),signal:s.signal});return If(s.signal),a},()=>kf(s,C0e));return i!=null&&i.autoJoin&&e.push(o.catch(XA)),{result:YA(n)(o),cancel(){kf(s,M0e)}}}},L0e=(n,e)=>{const t=async(r,i)=>{If(e);let s=()=>{};const a=[new Promise((l,c)=>{let u=n({predicate:r,effect:(d,h)=>{h.unsubscribe(),l([d,h.getState(),h.getOriginalState()])}});s=()=>{u(),c()}})];i!=null&&a.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await uK(e,Promise.race(a));return If(e),l}finally{s()}};return(r,i)=>lK(t(r,i))},hK=n=>{let{type:e,actionCreator:t,matcher:r,predicate:i,effect:s}=n;if(e)i=as(e).match;else if(t)e=t.type,i=t.match;else if(r)i=r;else if(!i)throw new Error(wi(21));return b5(s),{predicate:i,type:e,effect:s}},fK=Object.assign(n=>{const{type:e,predicate:t,effect:r}=hK(n);return{id:y5(),effect:r,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(wi(22))}}},{withTypes:()=>fK}),HO=n=>{n.pending.forEach(e=>{kf(e,WO)})},k0e=n=>()=>{n.forEach(HO),n.clear()},YH=(n,e,t)=>{try{n(e,t)}catch(r){setTimeout(()=>{throw r},0)}},pK=Object.assign(as(`${YT}/add`),{withTypes:()=>pK}),I0e=as(`${YT}/removeAll`),mK=Object.assign(as(`${YT}/remove`),{withTypes:()=>mK}),O0e=(...n)=>{console.error(`${YT}/error`,...n)},D0e=(n={})=>{const e=new Map,{extra:t,onError:r=O0e}=n;b5(r);const i=u=>(u.unsubscribe=()=>e.delete(u.id),e.set(u.id,u),d=>{u.unsubscribe(),d!=null&&d.cancelActive&&HO(u)}),s=u=>{let d=jH(Array.from(e.values()),h=>h.effect===u.effect);return d||(d=fK(u)),i(d)};Object.assign(s,{withTypes:()=>s});const o=u=>{const{type:d,effect:h,predicate:p}=hK(u),g=jH(Array.from(e.values()),v=>(typeof d=="string"?v.type===d:v.predicate===p)&&v.effect===h);return g&&(g.unsubscribe(),u.cancelActive&&HO(g)),!!g};Object.assign(o,{withTypes:()=>o});const a=async(u,d,h,p)=>{const g=new AbortController,v=L0e(s,g.signal),y=[];try{u.pending.add(g),await Promise.resolve(u.effect(d,P0e({},h,{getOriginalState:p,condition:(x,w)=>v(x,w).then(Boolean),take:v,delay:dK(g.signal),pause:YA(g.signal),extra:t,signal:g.signal,fork:R0e(g.signal,y),unsubscribe:u.unsubscribe,subscribe:()=>{e.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((x,w,b)=>{x!==g&&(kf(x,WO),b.delete(x))})},cancel:()=>{kf(g,WO),u.pending.delete(g)},throwIfCancelled:()=>{If(g.signal)}})))}catch(x){x instanceof XT||YH(r,x,{raisedBy:"effect"})}finally{await Promise.all(y),kf(g,A0e),u.pending.delete(g)}},l=k0e(e);return{middleware:u=>d=>h=>{if(!jT(h))return d(h);if(pK.match(h))return s(h.payload);if(I0e.match(h)){l();return}if(mK.match(h))return o(h.payload);let p=u.getState();const g=()=>{if(p===XH)throw new Error(wi(23));return p};let v;try{if(v=d(h),e.size>0){const y=u.getState(),x=Array.from(e.values());for(const w of x){let b=!1;try{b=w.predicate(h,y,p)}catch(_){b=!1,YH(r,_,{raisedBy:"predicate"})}b&&a(w,h,u,g)}}}finally{p=XH}return v},startListening:s,stopListening:o,clearListeners:l}};function wi(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var gK=(n=>(n.uninitialized="uninitialized",n.pending="pending",n.fulfilled="fulfilled",n.rejected="rejected",n))(gK||{});function N0e(n){return{status:n,isUninitialized:n==="uninitialized",isLoading:n==="pending",isSuccess:n==="fulfilled",isError:n==="rejected"}}var KH=n=>[].concat(...n);function F0e(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function z0e(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var QH=Md;function vK(n,e){if(n===e||!(QH(n)&&QH(e)||Array.isArray(n)&&Array.isArray(e)))return e;const t=Object.keys(e),r=Object.keys(n);let i=t.length===r.length;const s=Array.isArray(e)?[]:{};for(const o of t)s[o]=vK(n[o],e[o]),i&&(i=n[o]===s[o]);return i?n:s}var ZH=class{constructor(n,e=void 0){this.value=n,this.meta=e}},_5=as("__rtkq/focused"),yK=as("__rtkq/unfocused"),S5=as("__rtkq/online"),xK=as("__rtkq/offline");function wK(n){return n.type==="query"}function B0e(n){return n.type==="mutation"}function E5(n,e,t,r,i,s){return $0e(n)?n(e,t,r,i).map(jO).map(s):Array.isArray(n)?n.map(jO).map(s):[]}function $0e(n){return typeof n=="function"}function jO(n){return typeof n=="string"?{type:n}:n}function JH(n){return n!=null}function cv(n){let e=0;for(const t in n)e++;return e}function U0e(n,e){return n.catch(e)}var gw=Symbol("forceQueryFn"),VO=n=>typeof n[gw]=="function";function W0e({serializeQueryArgs:n,queryThunk:e,mutationThunk:t,api:r,context:i}){const s=new Map,o=new Map,{unsubscribeQueryResult:a,removeMutationResult:l,updateSubscriptionOptions:c}=r.internalActions;return{buildInitiateQuery:g,buildInitiateMutation:v,getRunningQueryThunk:u,getRunningMutationThunk:d,getRunningQueriesThunk:h,getRunningMutationsThunk:p};function u(y,x){return w=>{var C;const b=i.endpointDefinitions[y],_=n({queryArgs:x,endpointDefinition:b,endpointName:y});return(C=s.get(w))==null?void 0:C[_]}}function d(y,x){return w=>{var b;return(b=o.get(w))==null?void 0:b[x]}}function h(){return y=>Object.values(s.get(y)||{}).filter(JH)}function p(){return y=>Object.values(o.get(y)||{}).filter(JH)}function g(y,x){const w=(b,{subscribe:_=!0,forceRefetch:C,subscriptionOptions:A,[gw]:P,...M}={})=>(L,I)=>{var Y;const F=n({queryArgs:b,endpointDefinition:x,endpointName:y}),V=e({...M,type:"query",subscribe:_,forceRefetch:C,subscriptionOptions:A,endpointName:y,originalArgs:b,queryCacheKey:F,[gw]:P}),j=r.endpoints[y].select(b),G=L(V),J=j(I()),{requestId:q,abort:H}=G,D=J.requestId!==q,z=(Y=s.get(L))==null?void 0:Y[F],B=()=>j(I()),ee=Object.assign(P?G.then(B):D&&!z?Promise.resolve(J):Promise.all([z,G]).then(B),{arg:b,requestId:q,subscriptionOptions:A,queryCacheKey:F,abort:H,async unwrap(){const oe=await ee;if(oe.isError)throw oe.error;return oe.data},refetch:()=>L(w(b,{subscribe:!1,forceRefetch:!0})),unsubscribe(){_&&L(a({queryCacheKey:F,requestId:q}))},updateSubscriptionOptions(oe){ee.subscriptionOptions=oe,L(c({endpointName:y,requestId:q,queryCacheKey:F,options:oe}))}});if(!z&&!D&&!P){const oe=s.get(L)||{};oe[F]=ee,s.set(L,oe),ee.then(()=>{delete oe[F],cv(oe)||s.delete(L)})}return ee};return w}function v(y){return(x,{track:w=!0,fixedCacheKey:b}={})=>(_,C)=>{const A=t({type:"mutation",endpointName:y,originalArgs:x,track:w,fixedCacheKey:b}),P=_(A),{requestId:M,abort:L,unwrap:I}=P,F=U0e(P.unwrap().then(J=>({data:J})),J=>({error:J})),V=()=>{_(l({requestId:M,fixedCacheKey:b}))},j=Object.assign(F,{arg:P.arg,requestId:M,abort:L,unwrap:I,reset:V}),G=o.get(_)||{};return o.set(_,G),G[M]=j,j.then(()=>{delete G[M],cv(G)||o.delete(_)}),b&&(G[b]=j,j.then(()=>{G[b]===j&&(delete G[b],cv(G)||o.delete(_))})),j}}}function e8(n){return n}function H0e({reducerPath:n,baseQuery:e,context:{endpointDefinitions:t},serializeQueryArgs:r,api:i,assertTagType:s}){const o=(w,b,_,C)=>(A,P)=>{const M=t[w],L=r({queryArgs:b,endpointDefinition:M,endpointName:w});if(A(i.internalActions.queryResultPatched({queryCacheKey:L,patches:_})),!C)return;const I=i.endpoints[w].select(b)(P()),F=E5(M.providesTags,I.data,void 0,b,{},s);A(i.internalActions.updateProvidedBy({queryCacheKey:L,providedTags:F}))},a=(w,b,_,C=!0)=>(A,P)=>{const L=i.endpoints[w].select(b)(P());let I={patches:[],inversePatches:[],undo:()=>A(i.util.patchQueryData(w,b,I.inversePatches,C))};if(L.status==="uninitialized")return I;let F;if("data"in L)if(za(L.data)){const[V,j,G]=QY(L.data,_);I.patches.push(...j),I.inversePatches.push(...G),F=V}else F=_(L.data),I.patches.push({op:"replace",path:[],value:F}),I.inversePatches.push({op:"replace",path:[],value:L.data});return I.patches.length===0||A(i.util.patchQueryData(w,b,I.patches,C)),I},l=(w,b,_)=>C=>C(i.endpoints[w].initiate(b,{subscribe:!1,forceRefetch:!0,[gw]:()=>({data:_})})),c=async(w,{signal:b,abort:_,rejectWithValue:C,fulfillWithValue:A,dispatch:P,getState:M,extra:L})=>{const I=t[w.endpointName];try{let F=e8,V;const j={signal:b,abort:_,dispatch:P,getState:M,extra:L,endpoint:w.endpointName,type:w.type,forced:w.type==="query"?u(w,M()):void 0},G=w.type==="query"?w[gw]:void 0;if(G?V=G():I.query?(V=await e(I.query(w.originalArgs),j,I.extraOptions),I.transformResponse&&(F=I.transformResponse)):V=await I.queryFn(w.originalArgs,j,I.extraOptions,J=>e(J,j,I.extraOptions)),typeof process<"u",V.error)throw new ZH(V.error,V.meta);return A(await F(V.data,V.meta,w.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:V.meta,[Ig]:!0})}catch(F){let V=F;if(V instanceof ZH){let j=e8;I.query&&I.transformErrorResponse&&(j=I.transformErrorResponse);try{return C(await j(V.value,V.meta,w.originalArgs),{baseQueryMeta:V.meta,[Ig]:!0})}catch(G){V=G}}throw typeof process<"u",console.error(V),V}};function u(w,b){var M,L,I;const _=(L=(M=b[n])==null?void 0:M.queries)==null?void 0:L[w.queryCacheKey],C=(I=b[n])==null?void 0:I.config.refetchOnMountOrArgChange,A=_==null?void 0:_.fulfilledTimeStamp,P=w.forceRefetch??(w.subscribe&&C);return P?P===!0||(Number(new Date)-Number(A))/1e3>=P:!1}const d=qA(`${n}/executeQuery`,c,{getPendingMeta(){return{startedTimeStamp:Date.now(),[Ig]:!0}},condition(w,{getState:b}){var I,F,V;const _=b(),C=(F=(I=_[n])==null?void 0:I.queries)==null?void 0:F[w.queryCacheKey],A=C==null?void 0:C.fulfilledTimeStamp,P=w.originalArgs,M=C==null?void 0:C.originalArgs,L=t[w.endpointName];return VO(w)?!0:(C==null?void 0:C.status)==="pending"?!1:u(w,_)||wK(L)&&((V=L==null?void 0:L.forceRefetch)!=null&&V.call(L,{currentArg:P,previousArg:M,endpointState:C,state:_}))?!0:!A},dispatchConditionRejection:!0}),h=qA(`${n}/executeMutation`,c,{getPendingMeta(){return{startedTimeStamp:Date.now(),[Ig]:!0}}}),p=w=>"force"in w,g=w=>"ifOlderThan"in w,v=(w,b,_)=>(C,A)=>{const P=p(_)&&_.force,M=g(_)&&_.ifOlderThan,L=(F=!0)=>{const V={forceRefetch:F,isPrefetch:!0};return i.endpoints[w].initiate(b,V)},I=i.endpoints[w].select(b)(A());if(P)C(L());else if(M){const F=I==null?void 0:I.fulfilledTimeStamp;if(!F){C(L());return}(Number(new Date)-Number(new Date(F)))/1e3>=M&&C(L())}else C(L(!1))};function y(w){return b=>{var _,C;return((C=(_=b==null?void 0:b.meta)==null?void 0:_.arg)==null?void 0:C.endpointName)===w}}function x(w,b){return{matchPending:Z1(x5(w),y(b)),matchFulfilled:Z1(Cd(w),y(b)),matchRejected:Z1($v(w),y(b))}}return{queryThunk:d,mutationThunk:h,prefetch:v,updateQueryData:a,upsertQueryData:l,patchQueryData:o,buildMatchThunkActions:x}}function bK(n,e,t,r){return E5(t[n.meta.arg.endpointName][e],Cd(n)?n.payload:void 0,qT(n)?n.payload:void 0,n.meta.arg.originalArgs,"baseQueryMeta"in n.meta?n.meta.baseQueryMeta:void 0,r)}function iS(n,e,t){const r=n[e];r&&t(r)}function vw(n){return("arg"in n?n.arg.fixedCacheKey:n.fixedCacheKey)??n.requestId}function t8(n,e,t){const r=n[vw(e)];r&&t(r)}var ny={};function j0e({reducerPath:n,queryThunk:e,mutationThunk:t,context:{endpointDefinitions:r,apiUid:i,extractRehydrationInfo:s,hasRehydrationInfo:o},assertTagType:a,config:l}){const c=as(`${n}/resetApiState`),u=Nu({name:`${n}/queries`,initialState:ny,reducers:{removeQueryResult:{reducer(b,{payload:{queryCacheKey:_}}){delete b[_]},prepare:ty()},queryResultPatched:{reducer(b,{payload:{queryCacheKey:_,patches:C}}){iS(b,_,A=>{A.data=UH(A.data,C.concat())})},prepare:ty()}},extraReducers(b){b.addCase(e.pending,(_,{meta:C,meta:{arg:A}})=>{var M;const P=VO(A);_[M=A.queryCacheKey]??(_[M]={status:"uninitialized",endpointName:A.endpointName}),iS(_,A.queryCacheKey,L=>{L.status="pending",L.requestId=P&&L.requestId?L.requestId:C.requestId,A.originalArgs!==void 0&&(L.originalArgs=A.originalArgs),L.startedTimeStamp=C.startedTimeStamp})}).addCase(e.fulfilled,(_,{meta:C,payload:A})=>{iS(_,C.arg.queryCacheKey,P=>{if(P.requestId!==C.requestId&&!VO(C.arg))return;const{merge:M}=r[C.arg.endpointName];if(P.status="fulfilled",M)if(P.data!==void 0){const{fulfilledTimeStamp:L,arg:I,baseQueryMeta:F,requestId:V}=C;let j=l0(P.data,G=>M(G,A,{arg:I.originalArgs,baseQueryMeta:F,fulfilledTimeStamp:L,requestId:V}));P.data=j}else P.data=A;else P.data=r[C.arg.endpointName].structuralSharing??!0?vK(po(P.data)?xve(P.data):P.data,A):A;delete P.error,P.fulfilledTimeStamp=C.fulfilledTimeStamp})}).addCase(e.rejected,(_,{meta:{condition:C,arg:A,requestId:P},error:M,payload:L})=>{iS(_,A.queryCacheKey,I=>{if(!C){if(I.requestId!==P)return;I.status="rejected",I.error=L??M}})}).addMatcher(o,(_,C)=>{const{queries:A}=s(C);for(const[P,M]of Object.entries(A))((M==null?void 0:M.status)==="fulfilled"||(M==null?void 0:M.status)==="rejected")&&(_[P]=M)})}}),d=Nu({name:`${n}/mutations`,initialState:ny,reducers:{removeMutationResult:{reducer(b,{payload:_}){const C=vw(_);C in b&&delete b[C]},prepare:ty()}},extraReducers(b){b.addCase(t.pending,(_,{meta:C,meta:{requestId:A,arg:P,startedTimeStamp:M}})=>{P.track&&(_[vw(C)]={requestId:A,status:"pending",endpointName:P.endpointName,startedTimeStamp:M})}).addCase(t.fulfilled,(_,{payload:C,meta:A})=>{A.arg.track&&t8(_,A,P=>{P.requestId===A.requestId&&(P.status="fulfilled",P.data=C,P.fulfilledTimeStamp=A.fulfilledTimeStamp)})}).addCase(t.rejected,(_,{payload:C,error:A,meta:P})=>{P.arg.track&&t8(_,P,M=>{M.requestId===P.requestId&&(M.status="rejected",M.error=C??A)})}).addMatcher(o,(_,C)=>{const{mutations:A}=s(C);for(const[P,M]of Object.entries(A))((M==null?void 0:M.status)==="fulfilled"||(M==null?void 0:M.status)==="rejected")&&P!==(M==null?void 0:M.requestId)&&(_[P]=M)})}}),h=Nu({name:`${n}/invalidation`,initialState:ny,reducers:{updateProvidedBy:{reducer(b,_){var P,M;const{queryCacheKey:C,providedTags:A}=_.payload;for(const L of Object.values(b))for(const I of Object.values(L)){const F=I.indexOf(C);F!==-1&&I.splice(F,1)}for(const{type:L,id:I}of A){const F=(P=b[L]??(b[L]={}))[M=I||"__internal_without_id"]??(P[M]=[]);F.includes(C)||F.push(C)}},prepare:ty()}},extraReducers(b){b.addCase(u.actions.removeQueryResult,(_,{payload:{queryCacheKey:C}})=>{for(const A of Object.values(_))for(const P of Object.values(A)){const M=P.indexOf(C);M!==-1&&P.splice(M,1)}}).addMatcher(o,(_,C)=>{var P,M;const{provided:A}=s(C);for(const[L,I]of Object.entries(A))for(const[F,V]of Object.entries(I)){const j=(P=_[L]??(_[L]={}))[M=F||"__internal_without_id"]??(P[M]=[]);for(const G of V)j.includes(G)||j.push(G)}}).addMatcher(Fc(Cd(e),qT(e)),(_,C)=>{const A=bK(C,"providesTags",r,a),{queryCacheKey:P}=C.meta.arg;h.caseReducers.updateProvidedBy(_,h.actions.updateProvidedBy({queryCacheKey:P,providedTags:A}))})}}),p=Nu({name:`${n}/subscriptions`,initialState:ny,reducers:{updateSubscriptionOptions(b,_){},unsubscribeQueryResult(b,_){},internal_getRTKQSubscriptions(){}}}),g=Nu({name:`${n}/internalSubscriptions`,initialState:ny,reducers:{subscriptionsUpdated:{reducer(b,_){return UH(b,_.payload)},prepare:ty()}}}),v=Nu({name:`${n}/config`,initialState:{online:F0e(),focused:z0e(),middlewareRegistered:!1,...l},reducers:{middlewareRegistered(b,{payload:_}){b.middlewareRegistered=b.middlewareRegistered==="conflict"||i!==_?"conflict":!0}},extraReducers:b=>{b.addCase(S5,_=>{_.online=!0}).addCase(xK,_=>{_.online=!1}).addCase(_5,_=>{_.focused=!0}).addCase(yK,_=>{_.focused=!1}).addMatcher(o,_=>({..._}))}}),y=h5({queries:u.reducer,mutations:d.reducer,provided:h.reducer,subscriptions:g.reducer,config:v.reducer}),x=(b,_)=>y(c.match(_)?void 0:b,_),w={...v.actions,...u.actions,...p.actions,...g.actions,...d.actions,...h.actions,resetApiState:c};return{reducer:x,actions:w}}var lf=Symbol.for("RTKQ/skipToken"),_K={status:"uninitialized"},n8=l0(_K,()=>{}),r8=l0(_K,()=>{});function V0e({serializeQueryArgs:n,reducerPath:e,createSelector:t}){const r=d=>n8,i=d=>r8;return{buildQuerySelector:a,buildMutationSelector:l,selectInvalidatedBy:c,selectCachedArgsForQuery:u};function s(d){return{...d,...N0e(d.status)}}function o(d){return d[e]}function a(d,h){return p=>{const g=n({queryArgs:p,endpointDefinition:h,endpointName:d});return t(p===lf?r:x=>{var w,b;return((b=(w=o(x))==null?void 0:w.queries)==null?void 0:b[g])??n8},s)}}function l(){return d=>{let h;return typeof d=="object"?h=vw(d)??lf:h=d,t(h===lf?i:v=>{var y,x;return((x=(y=o(v))==null?void 0:y.mutations)==null?void 0:x[h])??r8},s)}}function c(d,h){const p=d[e],g=new Set;for(const v of h.map(jO)){const y=p.provided[v.type];if(!y)continue;let x=(v.id!==void 0?y[v.id]:KH(Object.values(y)))??[];for(const w of x)g.add(w)}return KH(Array.from(g.values()).map(v=>{const y=p.queries[v];return y?[{queryCacheKey:v,endpointName:y.endpointName,originalArgs:y.originalArgs}]:[]}))}function u(d,h){return Object.values(d[e].queries).filter(p=>(p==null?void 0:p.endpointName)===h&&p.status!=="uninitialized").map(p=>p.originalArgs)}}var im=WeakMap?new WeakMap:void 0,i8=({endpointName:n,queryArgs:e})=>{let t="";const r=im==null?void 0:im.get(e);if(typeof r=="string")t=r;else{const i=JSON.stringify(e,(s,o)=>(o=typeof o=="bigint"?{$bigint:o.toString()}:o,o=Md(o)?Object.keys(o).sort().reduce((a,l)=>(a[l]=o[l],a),{}):o,o));Md(e)&&(im==null||im.set(e,i)),t=i}return`${n}(${t})`};function G0e(...n){return function(t){const r=mw(c=>{var u;return(u=t.extractRehydrationInfo)==null?void 0:u.call(t,c,{reducerPath:t.reducerPath??"api"})}),i={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...t,extractRehydrationInfo:r,serializeQueryArgs(c){let u=i8;if("serializeQueryArgs"in c.endpointDefinition){const d=c.endpointDefinition.serializeQueryArgs;u=h=>{const p=d(h);return typeof p=="string"?p:i8({...h,queryArgs:p})}}else t.serializeQueryArgs&&(u=t.serializeQueryArgs);return u(c)},tagTypes:[...t.tagTypes||[]]},s={endpointDefinitions:{},batch(c){c()},apiUid:y5(),extractRehydrationInfo:r,hasRehydrationInfo:mw(c=>r(c)!=null)},o={injectEndpoints:l,enhanceEndpoints({addTagTypes:c,endpoints:u}){if(c)for(const d of c)i.tagTypes.includes(d)||i.tagTypes.push(d);if(u)for(const[d,h]of Object.entries(u))typeof h=="function"?h(s.endpointDefinitions[d]):Object.assign(s.endpointDefinitions[d]||{},h);return o}},a=n.map(c=>c.init(o,i,s));function l(c){const u=c.endpoints({query:d=>({...d,type:"query"}),mutation:d=>({...d,type:"mutation"})});for(const[d,h]of Object.entries(u)){if(c.overrideExisting!==!0&&d in s.endpointDefinitions){if(c.overrideExisting==="throw")throw new Error(wi(39));typeof process<"u";continue}s.endpointDefinitions[d]=h;for(const p of a)p.injectEndpoint(d,h)}return o}return o.injectEndpoints({endpoints:t.endpoints})}}function q0e(n){for(let e in n)return!1;return!0}var X0e=2147483647/1e3-1,Y0e=({reducerPath:n,api:e,queryThunk:t,context:r,internalState:i})=>{const{removeQueryResult:s,unsubscribeQueryResult:o}=e.internalActions,a=Fc(o.match,t.fulfilled,t.rejected);function l(h){const p=i.currentSubscriptions[h];return!!p&&!q0e(p)}const c={},u=(h,p,g)=>{var v;if(a(h)){const y=p.getState()[n],{queryCacheKey:x}=o.match(h)?h.payload:h.meta.arg;d(x,(v=y.queries[x])==null?void 0:v.endpointName,p,y.config)}if(e.util.resetApiState.match(h))for(const[y,x]of Object.entries(c))x&&clearTimeout(x),delete c[y];if(r.hasRehydrationInfo(h)){const y=p.getState()[n],{queries:x}=r.extractRehydrationInfo(h);for(const[w,b]of Object.entries(x))d(w,b==null?void 0:b.endpointName,p,y.config)}};function d(h,p,g,v){const y=r.endpointDefinitions[p],x=(y==null?void 0:y.keepUnusedDataFor)??v.keepUnusedDataFor;if(x===1/0)return;const w=Math.max(0,Math.min(x,X0e));if(!l(h)){const b=c[h];b&&clearTimeout(b),c[h]=setTimeout(()=>{l(h)||g.dispatch(s({queryCacheKey:h})),delete c[h]},w*1e3)}}return u},K0e=({reducerPath:n,context:e,context:{endpointDefinitions:t},mutationThunk:r,queryThunk:i,api:s,assertTagType:o,refetchQuery:a,internalState:l})=>{const{removeQueryResult:c}=s.internalActions,u=Fc(Cd(r),qT(r)),d=Fc(Cd(r,i),$v(r,i));let h=[];const p=(y,x)=>{u(y)?v(bK(y,"invalidatesTags",t,o),x):d(y)?v([],x):s.util.invalidateTags.match(y)&&v(E5(y.payload,void 0,void 0,void 0,void 0,o),x)};function g(y){var x,w;for(const b in y.queries)if(((x=y.queries[b])==null?void 0:x.status)==="pending")return!0;for(const b in y.mutations)if(((w=y.mutations[b])==null?void 0:w.status)==="pending")return!0;return!1}function v(y,x){const w=x.getState(),b=w[n];if(h.push(...y),b.config.invalidationBehavior==="delayed"&&g(b))return;const _=h;if(h=[],_.length===0)return;const C=s.util.selectInvalidatedBy(w,_);e.batch(()=>{const A=Array.from(C.values());for(const{queryCacheKey:P}of A){const M=b.queries[P],L=l.currentSubscriptions[P]??{};M&&(cv(L)===0?x.dispatch(c({queryCacheKey:P})):M.status!=="uninitialized"&&x.dispatch(a(M,P)))}})}return p},Q0e=({reducerPath:n,queryThunk:e,api:t,refetchQuery:r,internalState:i})=>{const s={},o=(h,p)=>{(t.internalActions.updateSubscriptionOptions.match(h)||t.internalActions.unsubscribeQueryResult.match(h))&&l(h.payload,p),(e.pending.match(h)||e.rejected.match(h)&&h.meta.condition)&&l(h.meta.arg,p),(e.fulfilled.match(h)||e.rejected.match(h)&&!h.meta.condition)&&a(h.meta.arg,p),t.util.resetApiState.match(h)&&u()};function a({queryCacheKey:h},p){const g=p.getState()[n],v=g.queries[h],y=i.currentSubscriptions[h];if(!v||v.status==="uninitialized")return;const{lowestPollingInterval:x,skipPollingIfUnfocused:w}=d(y);if(!Number.isFinite(x))return;const b=s[h];b!=null&&b.timeout&&(clearTimeout(b.timeout),b.timeout=void 0);const _=Date.now()+x;s[h]={nextPollTimestamp:_,pollingInterval:x,timeout:setTimeout(()=>{(g.config.focused||!w)&&p.dispatch(r(v,h)),a({queryCacheKey:h},p)},x)}}function l({queryCacheKey:h},p){const v=p.getState()[n].queries[h],y=i.currentSubscriptions[h];if(!v||v.status==="uninitialized")return;const{lowestPollingInterval:x}=d(y);if(!Number.isFinite(x)){c(h);return}const w=s[h],b=Date.now()+x;(!w||b<w.nextPollTimestamp)&&a({queryCacheKey:h},p)}function c(h){const p=s[h];p!=null&&p.timeout&&clearTimeout(p.timeout),delete s[h]}function u(){for(const h of Object.keys(s))c(h)}function d(h={}){let p=!1,g=Number.POSITIVE_INFINITY;for(let v in h)h[v].pollingInterval&&(g=Math.min(h[v].pollingInterval,g),p=h[v].skipPollingIfUnfocused||p);return{lowestPollingInterval:g,skipPollingIfUnfocused:p}}return o},Z0e=({reducerPath:n,context:e,api:t,refetchQuery:r,internalState:i})=>{const{removeQueryResult:s}=t.internalActions,o=(l,c)=>{_5.match(l)&&a(c,"refetchOnFocus"),S5.match(l)&&a(c,"refetchOnReconnect")};function a(l,c){const u=l.getState()[n],d=u.queries,h=i.currentSubscriptions;e.batch(()=>{for(const p of Object.keys(h)){const g=d[p],v=h[p];if(!v||!g)continue;(Object.values(v).some(x=>x[c]===!0)||Object.values(v).every(x=>x[c]===void 0)&&u.config[c])&&(cv(v)===0?l.dispatch(s({queryCacheKey:p})):g.status!=="uninitialized"&&l.dispatch(r(g,p)))}})}return o},s8=new Error("Promise never resolved before cacheEntryRemoved."),J0e=({api:n,reducerPath:e,context:t,queryThunk:r,mutationThunk:i,internalState:s})=>{const o=UO(r),a=UO(i),l=Cd(r,i),c={},u=(p,g,v)=>{const y=d(p);if(r.pending.match(p)){const x=v[e].queries[y],w=g.getState()[e].queries[y];!x&&w&&h(p.meta.arg.endpointName,p.meta.arg.originalArgs,y,g,p.meta.requestId)}else if(i.pending.match(p))g.getState()[e].mutations[y]&&h(p.meta.arg.endpointName,p.meta.arg.originalArgs,y,g,p.meta.requestId);else if(l(p)){const x=c[y];x!=null&&x.valueResolved&&(x.valueResolved({data:p.payload,meta:p.meta.baseQueryMeta}),delete x.valueResolved)}else if(n.internalActions.removeQueryResult.match(p)||n.internalActions.removeMutationResult.match(p)){const x=c[y];x&&(delete c[y],x.cacheEntryRemoved())}else if(n.util.resetApiState.match(p))for(const[x,w]of Object.entries(c))delete c[x],w.cacheEntryRemoved()};function d(p){return o(p)?p.meta.arg.queryCacheKey:a(p)?p.meta.arg.fixedCacheKey??p.meta.requestId:n.internalActions.removeQueryResult.match(p)?p.payload.queryCacheKey:n.internalActions.removeMutationResult.match(p)?vw(p.payload):""}function h(p,g,v,y,x){const w=t.endpointDefinitions[p],b=w==null?void 0:w.onCacheEntryAdded;if(!b)return;let _={};const C=new Promise(F=>{_.cacheEntryRemoved=F}),A=Promise.race([new Promise(F=>{_.valueResolved=F}),C.then(()=>{throw s8})]);A.catch(()=>{}),c[v]=_;const P=n.endpoints[p].select(w.type==="query"?g:v),M=y.dispatch((F,V,j)=>j),L={...y,getCacheEntry:()=>P(y.getState()),requestId:x,extra:M,updateCachedData:w.type==="query"?F=>y.dispatch(n.util.updateQueryData(p,g,F)):void 0,cacheDataLoaded:A,cacheEntryRemoved:C},I=b(g,L);Promise.resolve(I).catch(F=>{if(F!==s8)throw F})}return u},eye=({api:n,context:e,queryThunk:t,mutationThunk:r})=>{const i=x5(t,r),s=$v(t,r),o=Cd(t,r),a={};return(c,u)=>{var d,h;if(i(c)){const{requestId:p,arg:{endpointName:g,originalArgs:v}}=c.meta,y=e.endpointDefinitions[g],x=y==null?void 0:y.onQueryStarted;if(x){const w={},b=new Promise((P,M)=>{w.resolve=P,w.reject=M});b.catch(()=>{}),a[p]=w;const _=n.endpoints[g].select(y.type==="query"?v:p),C=u.dispatch((P,M,L)=>L),A={...u,getCacheEntry:()=>_(u.getState()),requestId:p,extra:C,updateCachedData:y.type==="query"?P=>u.dispatch(n.util.updateQueryData(g,v,P)):void 0,queryFulfilled:b};x(v,A)}}else if(o(c)){const{requestId:p,baseQueryMeta:g}=c.meta;(d=a[p])==null||d.resolve({data:c.payload,meta:g}),delete a[p]}else if(s(c)){const{requestId:p,rejectedWithValue:g,baseQueryMeta:v}=c.meta;(h=a[p])==null||h.reject({error:c.payload??c.error,isUnhandledError:!g,meta:v}),delete a[p]}}},tye=({api:n,context:{apiUid:e},reducerPath:t})=>(r,i)=>{n.util.resetApiState.match(r)&&i.dispatch(n.internalActions.middlewareRegistered(e)),typeof process<"u"},nye=({api:n,queryThunk:e,internalState:t})=>{const r=`${n.reducerPath}/subscriptions`;let i=null,s=null;const{updateSubscriptionOptions:o,unsubscribeQueryResult:a}=n.internalActions,l=(p,g)=>{var y,x,w;if(o.match(g)){const{queryCacheKey:b,requestId:_,options:C}=g.payload;return(y=p==null?void 0:p[b])!=null&&y[_]&&(p[b][_]=C),!0}if(a.match(g)){const{queryCacheKey:b,requestId:_}=g.payload;return p[b]&&delete p[b][_],!0}if(n.internalActions.removeQueryResult.match(g))return delete p[g.payload.queryCacheKey],!0;if(e.pending.match(g)){const{meta:{arg:b,requestId:_}}=g,C=p[x=b.queryCacheKey]??(p[x]={});return C[`${_}_running`]={},b.subscribe&&(C[_]=b.subscriptionOptions??C[_]??{}),!0}let v=!1;if(e.fulfilled.match(g)||e.rejected.match(g)){const b=p[g.meta.arg.queryCacheKey]||{},_=`${g.meta.requestId}_running`;v||(v=!!b[_]),delete b[_]}if(e.rejected.match(g)){const{meta:{condition:b,arg:_,requestId:C}}=g;if(b&&_.subscribe){const A=p[w=_.queryCacheKey]??(p[w]={});A[C]=_.subscriptionOptions??A[C]??{},v=!0}}return v},c=()=>t.currentSubscriptions,h={getSubscriptions:c,getSubscriptionCount:p=>{const v=c()[p]??{};return cv(v)},isRequestSubscribed:(p,g)=>{var y;const v=c();return!!((y=v==null?void 0:v[p])!=null&&y[g])}};return(p,g)=>{if(i||(i=JSON.parse(JSON.stringify(t.currentSubscriptions))),n.util.resetApiState.match(p))return i=t.currentSubscriptions={},s=null,[!0,!1];if(n.internalActions.internal_getRTKQSubscriptions.match(p))return[!1,h];const v=l(t.currentSubscriptions,p);let y=!0;if(v){s||(s=setTimeout(()=>{const b=JSON.parse(JSON.stringify(t.currentSubscriptions)),[,_]=QY(i,()=>b);g.next(n.internalActions.subscriptionsUpdated(_)),i=b,s=null},500));const x=typeof p.type=="string"&&!!p.type.startsWith(r),w=e.rejected.match(p)&&p.meta.condition&&!!p.meta.arg.subscribe;y=!x&&!w}return[y,!1]}};function rye(n){const{reducerPath:e,queryThunk:t,api:r,context:i}=n,{apiUid:s}=i,o={invalidateTags:as(`${e}/invalidateTags`)},a=d=>d.type.startsWith(`${e}/`),l=[tye,Y0e,K0e,Q0e,J0e,eye];return{middleware:d=>{let h=!1;const g={...n,internalState:{currentSubscriptions:{}},refetchQuery:u,isThisApiSliceAction:a},v=l.map(w=>w(g)),y=nye(g),x=Z0e(g);return w=>b=>{if(!jT(b))return w(b);h||(h=!0,d.dispatch(r.internalActions.middlewareRegistered(s)));const _={...d,next:w},C=d.getState(),[A,P]=y(b,_,C);let M;if(A?M=w(b):M=P,d.getState()[e]&&(x(b,_,C),a(b)||i.hasRehydrationInfo(b)))for(let L of v)L(b,_,C);return M}},actions:o};function u(d,h,p={}){return t({type:"query",endpointName:d.endpointName,originalArgs:d.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:h,...p})}}function au(n,...e){return Object.assign(n,...e)}var o8=Symbol(),iye=({createSelector:n=v5}={})=>({name:o8,init(e,{baseQuery:t,tagTypes:r,reducerPath:i,serializeQueryArgs:s,keepUnusedDataFor:o,refetchOnMountOrArgChange:a,refetchOnFocus:l,refetchOnReconnect:c,invalidationBehavior:u},d){Tve();const h=D=>(typeof process<"u",D);Object.assign(e,{reducerPath:i,endpoints:{},internalActions:{onOnline:S5,onOffline:xK,onFocus:_5,onFocusLost:yK},util:{}});const{queryThunk:p,mutationThunk:g,patchQueryData:v,updateQueryData:y,upsertQueryData:x,prefetch:w,buildMatchThunkActions:b}=H0e({baseQuery:t,reducerPath:i,context:d,api:e,serializeQueryArgs:s,assertTagType:h}),{reducer:_,actions:C}=j0e({context:d,queryThunk:p,mutationThunk:g,reducerPath:i,assertTagType:h,config:{refetchOnFocus:l,refetchOnReconnect:c,refetchOnMountOrArgChange:a,keepUnusedDataFor:o,reducerPath:i,invalidationBehavior:u}});au(e.util,{patchQueryData:v,updateQueryData:y,upsertQueryData:x,prefetch:w,resetApiState:C.resetApiState}),au(e.internalActions,C);const{middleware:A,actions:P}=rye({reducerPath:i,context:d,queryThunk:p,mutationThunk:g,api:e,assertTagType:h});au(e.util,P),au(e,{reducer:_,middleware:A});const{buildQuerySelector:M,buildMutationSelector:L,selectInvalidatedBy:I,selectCachedArgsForQuery:F}=V0e({serializeQueryArgs:s,reducerPath:i,createSelector:n});au(e.util,{selectInvalidatedBy:I,selectCachedArgsForQuery:F});const{buildInitiateQuery:V,buildInitiateMutation:j,getRunningMutationThunk:G,getRunningMutationsThunk:J,getRunningQueriesThunk:q,getRunningQueryThunk:H}=W0e({queryThunk:p,mutationThunk:g,api:e,serializeQueryArgs:s,context:d});return au(e.util,{getRunningMutationThunk:G,getRunningMutationsThunk:J,getRunningQueryThunk:H,getRunningQueriesThunk:q}),{name:o8,injectEndpoint(D,z){var ee;const B=e;(ee=B.endpoints)[D]??(ee[D]={}),wK(z)?au(B.endpoints[D],{name:D,select:M(D,z),initiate:V(D,z)},b(p,D)):B0e(z)&&au(B.endpoints[D],{name:D,select:L(),initiate:j(D)},b(g,D))}}}});function sye(n){return n.type==="query"}function oye(n){return n.type==="mutation"}function sS(n,...e){return Object.assign(n,...e)}function nk(n){return n.replace(n[0],n[0].toUpperCase())}var sm=WeakMap?new WeakMap:void 0,aye=({endpointName:n,queryArgs:e})=>{let t="";const r=sm==null?void 0:sm.get(e);if(typeof r=="string")t=r;else{const i=JSON.stringify(e,(s,o)=>(o=typeof o=="bigint"?{$bigint:o.toString()}:o,o=Md(o)?Object.keys(o).sort().reduce((a,l)=>(a[l]=o[l],a),{}):o,o));Md(e)&&(sm==null||sm.set(e,i)),t=i}return`${n}(${t})`},rk=Symbol();function a8(n,e,t,r){const i=k.useMemo(()=>({queryArgs:n,serialized:typeof n=="object"?e({queryArgs:n,endpointDefinition:t,endpointName:r}):n}),[n,e,t,r]),s=k.useRef(i);return k.useEffect(()=>{s.current.serialized!==i.serialized&&(s.current=i)},[i]),s.current.serialized===i.serialized?s.current.queryArgs:n}function ik(n){const e=k.useRef(n);return k.useEffect(()=>{G1(e.current,n)||(e.current=n)},[n]),G1(e.current,n)?e.current:n}var lye=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cye=lye(),uye=()=>typeof navigator<"u"&&navigator.product==="ReactNative",dye=uye(),hye=()=>cye||dye?k.useLayoutEffect:k.useEffect,fye=hye(),pye=n=>n.isUninitialized?{...n,isUninitialized:!1,isFetching:!0,isLoading:n.data===void 0,status:gK.pending}:n;function mye({api:n,moduleOptions:{batch:e,hooks:{useDispatch:t,useSelector:r,useStore:i},unstable__sideEffectsInRender:s,createSelector:o},serializeQueryArgs:a,context:l}){const c=s?g=>g():k.useEffect;return{buildQueryHooks:h,buildMutationHook:p,usePrefetch:d};function u(g,v,y){if(v!=null&&v.endpointName&&g.isUninitialized){const{endpointName:A}=v,P=l.endpointDefinitions[A];a({queryArgs:v.originalArgs,endpointDefinition:P,endpointName:A})===a({queryArgs:y,endpointDefinition:P,endpointName:A})&&(v=void 0)}let x=g.isSuccess?g.data:v==null?void 0:v.data;x===void 0&&(x=g.data);const w=x!==void 0,b=g.isLoading,_=(!v||v.isLoading||v.isUninitialized)&&!w&&b,C=g.isSuccess||b&&w;return{...g,data:x,currentData:g.data,isFetching:b,isLoading:_,isSuccess:C}}function d(g,v){const y=t(),x=ik(v);return k.useCallback((w,b)=>y(n.util.prefetch(g,w,{...x,...b})),[g,y,x])}function h(g){const v=(w,{refetchOnReconnect:b,refetchOnFocus:_,refetchOnMountOrArgChange:C,skip:A=!1,pollingInterval:P=0,skipPollingIfUnfocused:M=!1}={})=>{const{initiate:L}=n.endpoints[g],I=t(),F=k.useRef(void 0);if(!F.current){const B=I(n.internalActions.internal_getRTKQSubscriptions());F.current=B}const V=a8(A?lf:w,aye,l.endpointDefinitions[g],g),j=ik({refetchOnReconnect:b,refetchOnFocus:_,pollingInterval:P,skipPollingIfUnfocused:M}),G=k.useRef(!1),J=k.useRef(void 0);let{queryCacheKey:q,requestId:H}=J.current||{},D=!1;q&&H&&(D=F.current.isRequestSubscribed(q,H));const z=!D&&G.current;return c(()=>{G.current=D}),c(()=>{z&&(J.current=void 0)},[z]),c(()=>{var Y;const B=J.current;if(typeof process<"u",V===lf){B==null||B.unsubscribe(),J.current=void 0;return}const ee=(Y=J.current)==null?void 0:Y.subscriptionOptions;if(!B||B.arg!==V){B==null||B.unsubscribe();const oe=I(L(V,{subscriptionOptions:j,forceRefetch:C}));J.current=oe}else j!==ee&&B.updateSubscriptionOptions(j)},[I,L,C,V,j,z]),k.useEffect(()=>()=>{var B;(B=J.current)==null||B.unsubscribe(),J.current=void 0},[]),k.useMemo(()=>({refetch:()=>{var B;if(!J.current)throw new Error(wi(38));return(B=J.current)==null?void 0:B.refetch()}}),[])},y=({refetchOnReconnect:w,refetchOnFocus:b,pollingInterval:_=0,skipPollingIfUnfocused:C=!1}={})=>{const{initiate:A}=n.endpoints[g],P=t(),[M,L]=k.useState(rk),I=k.useRef(void 0),F=ik({refetchOnReconnect:w,refetchOnFocus:b,pollingInterval:_,skipPollingIfUnfocused:C});c(()=>{var J,q;const G=(J=I.current)==null?void 0:J.subscriptionOptions;F!==G&&((q=I.current)==null||q.updateSubscriptionOptions(F))},[F]);const V=k.useRef(F);c(()=>{V.current=F},[F]);const j=k.useCallback(function(G,J=!1){let q;return e(()=>{var H;(H=I.current)==null||H.unsubscribe(),I.current=q=P(A(G,{subscriptionOptions:V.current,forceRefetch:!J})),L(G)}),q},[P,A]);return k.useEffect(()=>()=>{var G;(G=I==null?void 0:I.current)==null||G.unsubscribe()},[]),k.useEffect(()=>{M!==rk&&!I.current&&j(M,!0)},[M,j]),k.useMemo(()=>[j,M],[j,M])},x=(w,{skip:b=!1,selectFromResult:_}={})=>{const{select:C}=n.endpoints[g],A=a8(b?lf:w,a,l.endpointDefinitions[g],g),P=k.useRef(void 0),M=k.useMemo(()=>o([C(A),(j,G)=>G,j=>A],u,{memoizeOptions:{resultEqualityCheck:G1}}),[C,A]),L=k.useMemo(()=>_?o([M],_,{devModeChecks:{identityFunctionCheck:"never"}}):M,[M,_]),I=r(j=>L(j,P.current),G1),F=i(),V=M(F.getState(),P.current);return fye(()=>{P.current=V},[V]),I};return{useQueryState:x,useQuerySubscription:v,useLazyQuerySubscription:y,useLazyQuery(w){const[b,_]=y(w),C=x(_,{...w,skip:_===rk}),A=k.useMemo(()=>({lastArg:_}),[_]);return k.useMemo(()=>[b,C,A],[b,C,A])},useQuery(w,b){const _=v(w,b),C=x(w,{selectFromResult:w===lf||b!=null&&b.skip?void 0:pye,...b}),{data:A,status:P,isLoading:M,isSuccess:L,isError:I,error:F}=C;return k.useDebugValue({data:A,status:P,isLoading:M,isSuccess:L,isError:I,error:F}),k.useMemo(()=>({...C,..._}),[C,_])}}}function p(g){return({selectFromResult:v,fixedCacheKey:y}={})=>{const{select:x,initiate:w}=n.endpoints[g],b=t(),[_,C]=k.useState();k.useEffect(()=>()=>{_!=null&&_.arg.fixedCacheKey||_==null||_.reset()},[_]);const A=k.useCallback(function(ee){const Y=b(w(ee,{fixedCacheKey:y}));return C(Y),Y},[b,w,y]),{requestId:P}=_||{},M=k.useMemo(()=>x({fixedCacheKey:y,requestId:_==null?void 0:_.requestId}),[y,_,x]),L=k.useMemo(()=>v?o([M],v):M,[v,M]),I=r(L,G1),F=y==null?_==null?void 0:_.arg.originalArgs:void 0,V=k.useCallback(()=>{e(()=>{_&&C(void 0),y&&b(n.internalActions.removeMutationResult({requestId:P,fixedCacheKey:y}))})},[b,y,_,P]),{endpointName:j,data:G,status:J,isLoading:q,isSuccess:H,isError:D,error:z}=I;k.useDebugValue({endpointName:j,data:G,status:J,isLoading:q,isSuccess:H,isError:D,error:z});const B=k.useMemo(()=>({...I,originalArgs:F,reset:V}),[I,F,V]);return k.useMemo(()=>[A,B],[A,B])}}}var gye=Symbol(),vye=({batch:n=koe,hooks:e={useDispatch:Loe,useSelector:_oe,useStore:bq},createSelector:t=v5,unstable__sideEffectsInRender:r=!1,...i}={})=>({name:gye,init(s,{serializeQueryArgs:o},a){const l=s,{buildQueryHooks:c,buildMutationHook:u,usePrefetch:d}=mye({api:s,moduleOptions:{batch:n,hooks:e,unstable__sideEffectsInRender:r,createSelector:t},serializeQueryArgs:o,context:a});return sS(l,{usePrefetch:d}),sS(a,{batch:n}),{injectEndpoint(h,p){if(sye(p)){const{useQuery:g,useLazyQuery:v,useLazyQuerySubscription:y,useQueryState:x,useQuerySubscription:w}=c(h);sS(l.endpoints[h],{useQuery:g,useLazyQuery:v,useLazyQuerySubscription:y,useQueryState:x,useQuerySubscription:w}),s[`use${nk(h)}Query`]=g,s[`useLazy${nk(h)}Query`]=v}else if(oye(p)){const g=u(h);sS(l.endpoints[h],{useMutation:g}),s[`use${nk(h)}Mutation`]=g}}}}}),yye=G0e(iye(),vye());function SK(n,e){return function(){return n.apply(e,arguments)}}const{toString:xye}=Object.prototype,{getPrototypeOf:M5}=Object,KT=(n=>e=>{const t=xye.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ba=n=>(n=n.toLowerCase(),e=>KT(e)===n),QT=n=>e=>typeof e===n,{isArray:c0}=Array,yw=QT("undefined");function wye(n){return n!==null&&!yw(n)&&n.constructor!==null&&!yw(n.constructor)&&ta(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const EK=Ba("ArrayBuffer");function bye(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&EK(n.buffer),e}const _ye=QT("string"),ta=QT("function"),MK=QT("number"),ZT=n=>n!==null&&typeof n=="object",Sye=n=>n===!0||n===!1,qE=n=>{if(KT(n)!=="object")return!1;const e=M5(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Eye=Ba("Date"),Mye=Ba("File"),Cye=Ba("Blob"),Aye=Ba("FileList"),Tye=n=>ZT(n)&&ta(n.pipe),Pye=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ta(n.append)&&((e=KT(n))==="formdata"||e==="object"&&ta(n.toString)&&n.toString()==="[object FormData]"))},Rye=Ba("URLSearchParams"),[Lye,kye,Iye,Oye]=["ReadableStream","Request","Response","Headers"].map(Ba),Dye=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cb(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),c0(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function CK(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const AK=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,TK=n=>!yw(n)&&n!==AK;function GO(){const{caseless:n}=TK(this)&&this||{},e={},t=(r,i)=>{const s=n&&CK(e,i)||i;qE(e[s])&&qE(r)?e[s]=GO(e[s],r):qE(r)?e[s]=GO({},r):c0(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&cb(arguments[r],t);return e}const Nye=(n,e,t,{allOwnKeys:r}={})=>(cb(e,(i,s)=>{t&&ta(i)?n[s]=SK(i,t):n[s]=i},{allOwnKeys:r}),n),Fye=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),zye=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Bye=(n,e,t,r)=>{let i,s,o;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&M5(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},$ye=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},Uye=n=>{if(!n)return null;if(c0(n))return n;let e=n.length;if(!MK(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Wye=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&M5(Uint8Array)),Hye=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},jye=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},Vye=Ba("HTMLFormElement"),Gye=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),l8=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),qye=Ba("RegExp"),PK=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};cb(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},Xye=n=>{PK(n,(e,t)=>{if(ta(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(ta(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Yye=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return c0(n)?r(n):r(String(n).split(e)),t},Kye=()=>{},Qye=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,sk="abcdefghijklmnopqrstuvwxyz",c8="0123456789",RK={DIGIT:c8,ALPHA:sk,ALPHA_DIGIT:sk+sk.toUpperCase()+c8},Zye=(n=16,e=RK.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function Jye(n){return!!(n&&ta(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const e1e=n=>{const e=new Array(10),t=(r,i)=>{if(ZT(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=c0(r)?[]:{};return cb(r,(o,a)=>{const l=t(o,i+1);!yw(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return t(n,0)},t1e=Ba("AsyncFunction"),n1e=n=>n&&(ZT(n)||ta(n))&&ta(n.then)&&ta(n.catch),Ne={isArray:c0,isArrayBuffer:EK,isBuffer:wye,isFormData:Pye,isArrayBufferView:bye,isString:_ye,isNumber:MK,isBoolean:Sye,isObject:ZT,isPlainObject:qE,isReadableStream:Lye,isRequest:kye,isResponse:Iye,isHeaders:Oye,isUndefined:yw,isDate:Eye,isFile:Mye,isBlob:Cye,isRegExp:qye,isFunction:ta,isStream:Tye,isURLSearchParams:Rye,isTypedArray:Wye,isFileList:Aye,forEach:cb,merge:GO,extend:Nye,trim:Dye,stripBOM:Fye,inherits:zye,toFlatObject:Bye,kindOf:KT,kindOfTest:Ba,endsWith:$ye,toArray:Uye,forEachEntry:Hye,matchAll:jye,isHTMLForm:Vye,hasOwnProperty:l8,hasOwnProp:l8,reduceDescriptors:PK,freezeMethods:Xye,toObjectSet:Yye,toCamelCase:Gye,noop:Kye,toFiniteNumber:Qye,findKey:CK,global:AK,isContextDefined:TK,ALPHABET:RK,generateString:Zye,isSpecCompliantForm:Jye,toJSONObject:e1e,isAsyncFn:t1e,isThenable:n1e};function $t(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i)}Ne.inherits($t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ne.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const LK=$t.prototype,kK={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{kK[n]={value:n}});Object.defineProperties($t,kK);Object.defineProperty(LK,"isAxiosError",{value:!0});$t.from=(n,e,t,r,i,s)=>{const o=Object.create(LK);return Ne.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),$t.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const r1e=null;function qO(n){return Ne.isPlainObject(n)||Ne.isArray(n)}function IK(n){return Ne.endsWith(n,"[]")?n.slice(0,-2):n}function u8(n,e,t){return n?n.concat(e).map(function(i,s){return i=IK(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function i1e(n){return Ne.isArray(n)&&!n.some(qO)}const s1e=Ne.toFlatObject(Ne,{},null,function(e){return/^is[A-Z]/.test(e)});function JT(n,e,t){if(!Ne.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Ne.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!Ne.isUndefined(y[v])});const r=t.metaTokens,i=t.visitor||u,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&Ne.isSpecCompliantForm(e);if(!Ne.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(Ne.isDate(g))return g.toISOString();if(!l&&Ne.isBlob(g))throw new $t("Blob is not supported. Use a Buffer instead.");return Ne.isArrayBuffer(g)||Ne.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,v,y){let x=g;if(g&&!y&&typeof g=="object"){if(Ne.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(Ne.isArray(g)&&i1e(g)||(Ne.isFileList(g)||Ne.endsWith(v,"[]"))&&(x=Ne.toArray(g)))return v=IK(v),x.forEach(function(b,_){!(Ne.isUndefined(b)||b===null)&&e.append(o===!0?u8([v],_,s):o===null?v:v+"[]",c(b))}),!1}return qO(g)?!0:(e.append(u8(y,v,s),c(g)),!1)}const d=[],h=Object.assign(s1e,{defaultVisitor:u,convertValue:c,isVisitable:qO});function p(g,v){if(!Ne.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(g),Ne.forEach(g,function(x,w){(!(Ne.isUndefined(x)||x===null)&&i.call(e,x,Ne.isString(w)?w.trim():w,v,h))===!0&&p(x,v?v.concat(w):[w])}),d.pop()}}if(!Ne.isObject(n))throw new TypeError("data must be an object");return p(n),e}function d8(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function C5(n,e){this._pairs=[],n&&JT(n,this,e)}const OK=C5.prototype;OK.append=function(e,t){this._pairs.push([e,t])};OK.toString=function(e){const t=e?function(r){return e.call(this,r,d8)}:d8;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function o1e(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function DK(n,e,t){if(!e)return n;const r=t&&t.encode||o1e,i=t&&t.serialize;let s;if(i?s=i(e,t):s=Ne.isURLSearchParams(e)?e.toString():new C5(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class h8{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ne.forEach(this.handlers,function(r){r!==null&&e(r)})}}const NK={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},a1e=typeof URLSearchParams<"u"?URLSearchParams:C5,l1e=typeof FormData<"u"?FormData:null,c1e=typeof Blob<"u"?Blob:null,u1e={isBrowser:!0,classes:{URLSearchParams:a1e,FormData:l1e,Blob:c1e},protocols:["http","https","file","blob","url","data"]},A5=typeof window<"u"&&typeof document<"u",d1e=(n=>A5&&["ReactNative","NativeScript","NS"].indexOf(n)<0)(typeof navigator<"u"&&navigator.product),h1e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",f1e=A5&&window.location.href||"http://localhost",p1e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:A5,hasStandardBrowserEnv:d1e,hasStandardBrowserWebWorkerEnv:h1e,origin:f1e},Symbol.toStringTag,{value:"Module"})),Oa={...p1e,...u1e};function m1e(n,e){return JT(n,new Oa.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return Oa.isNode&&Ne.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function g1e(n){return Ne.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function v1e(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function FK(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&Ne.isArray(i)?i.length:o,l?(Ne.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Ne.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&Ne.isArray(i[o])&&(i[o]=v1e(i[o])),!a)}if(Ne.isFormData(n)&&Ne.isFunction(n.entries)){const t={};return Ne.forEachEntry(n,(r,i)=>{e(g1e(r),i,t,0)}),t}return null}function y1e(n,e,t){if(Ne.isString(n))try{return(e||JSON.parse)(n),Ne.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const ub={transitional:NK,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=Ne.isObject(e);if(s&&Ne.isHTMLForm(e)&&(e=new FormData(e)),Ne.isFormData(e))return i?JSON.stringify(FK(e)):e;if(Ne.isArrayBuffer(e)||Ne.isBuffer(e)||Ne.isStream(e)||Ne.isFile(e)||Ne.isBlob(e)||Ne.isReadableStream(e))return e;if(Ne.isArrayBufferView(e))return e.buffer;if(Ne.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return m1e(e,this.formSerializer).toString();if((a=Ne.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return JT(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),y1e(e)):e}],transformResponse:[function(e){const t=this.transitional||ub.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(Ne.isResponse(e)||Ne.isReadableStream(e))return e;if(e&&Ne.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?$t.from(a,$t.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Oa.classes.FormData,Blob:Oa.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ne.forEach(["delete","get","head","post","put","patch"],n=>{ub.headers[n]={}});const x1e=Ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),w1e=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&x1e[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},f8=Symbol("internals");function ry(n){return n&&String(n).trim().toLowerCase()}function XE(n){return n===!1||n==null?n:Ne.isArray(n)?n.map(XE):String(n)}function b1e(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const _1e=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function ok(n,e,t,r,i){if(Ne.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!Ne.isString(e)){if(Ne.isString(r))return e.indexOf(r)!==-1;if(Ne.isRegExp(r))return r.test(e)}}function S1e(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function E1e(n,e){const t=Ne.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Os{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(a,l,c){const u=ry(l);if(!u)throw new Error("header name must be a non-empty string");const d=Ne.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=XE(a))}const o=(a,l)=>Ne.forEach(a,(c,u)=>s(c,u,l));if(Ne.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Ne.isString(e)&&(e=e.trim())&&!_1e(e))o(w1e(e),t);else if(Ne.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(t,e,r);return this}get(e,t){if(e=ry(e),e){const r=Ne.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return b1e(i);if(Ne.isFunction(t))return t.call(this,i,r);if(Ne.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ry(e),e){const r=Ne.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||ok(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=ry(o),o){const a=Ne.findKey(r,o);a&&(!t||ok(r,r[a],a,t))&&(delete r[a],i=!0)}}return Ne.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||ok(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return Ne.forEach(this,(i,s)=>{const o=Ne.findKey(r,s);if(o){t[o]=XE(i),delete t[s];return}const a=e?S1e(s):String(s).trim();a!==s&&delete t[s],t[a]=XE(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ne.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&Ne.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[f8]=this[f8]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=ry(o);r[a]||(E1e(i,o),r[a]=!0)}return Ne.isArray(e)?e.forEach(s):s(e),this}}Os.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ne.reduceDescriptors(Os.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Ne.freezeMethods(Os);function ak(n,e){const t=this||ub,r=e||t,i=Os.from(r.headers);let s=r.data;return Ne.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function zK(n){return!!(n&&n.__CANCEL__)}function u0(n,e,t){$t.call(this,n??"canceled",$t.ERR_CANCELED,e,t),this.name="CanceledError"}Ne.inherits(u0,$t,{__CANCEL__:!0});function BK(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new $t("Request failed with status code "+t.status,[$t.ERR_BAD_REQUEST,$t.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function M1e(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function C1e(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];o||(o=c),t[i]=l,r[i]=c;let d=s,h=0;for(;d!==i;)h+=t[d++],d=d%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),c-o<e)return;const p=u&&c-u;return p?Math.round(h*1e3/p):void 0}}function A1e(n,e){let t=0;const r=1e3/e;let i=null;return function(){const o=this===!0,a=Date.now();if(o||a-t>r)return i&&(clearTimeout(i),i=null),t=a,n.apply(null,arguments);i||(i=setTimeout(()=>(i=null,t=Date.now(),n.apply(null,arguments)),r-(a-t)))}}const KA=(n,e,t=3)=>{let r=0;const i=C1e(50,250);return A1e(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),u=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null};d[e?"download":"upload"]=!0,n(d)},t)},T1e=Oa.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function i(s){let o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=i(window.location.href),function(o){const a=Ne.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),P1e=Oa.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const o=[n+"="+encodeURIComponent(e)];Ne.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),Ne.isString(r)&&o.push("path="+r),Ne.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function R1e(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function L1e(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function $K(n,e){return n&&!R1e(e)?L1e(n,e):e}const p8=n=>n instanceof Os?{...n}:n;function np(n,e){e=e||{};const t={};function r(c,u,d){return Ne.isPlainObject(c)&&Ne.isPlainObject(u)?Ne.merge.call({caseless:d},c,u):Ne.isPlainObject(u)?Ne.merge({},u):Ne.isArray(u)?u.slice():u}function i(c,u,d){if(Ne.isUndefined(u)){if(!Ne.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function s(c,u){if(!Ne.isUndefined(u))return r(void 0,u)}function o(c,u){if(Ne.isUndefined(u)){if(!Ne.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in n)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>i(p8(c),p8(u),!0)};return Ne.forEach(Object.keys(Object.assign({},n,e)),function(u){const d=l[u]||i,h=d(n[u],e[u],u);Ne.isUndefined(h)&&d!==a||(t[u]=h)}),t}const UK=n=>{const e=np({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Os.from(o),e.url=DK($K(e.baseURL,e.url),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Ne.isFormData(t)){if(Oa.hasStandardBrowserEnv||Oa.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Oa.hasStandardBrowserEnv&&(r&&Ne.isFunction(r)&&(r=r(e)),r||r!==!1&&T1e(e.url))){const c=i&&s&&P1e.read(s);c&&o.set(i,c)}return e},k1e=typeof XMLHttpRequest<"u",I1e=k1e&&function(n){return new Promise(function(t,r){const i=UK(n);let s=i.data;const o=Os.from(i.headers).normalize();let{responseType:a}=i,l;function c(){i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let u=new XMLHttpRequest;u.open(i.method.toUpperCase(),i.url,!0),u.timeout=i.timeout;function d(){if(!u)return;const p=Os.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),v={data:!a||a==="text"||a==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:p,config:n,request:u};BK(function(x){t(x),c()},function(x){r(x),c()},v),u=null}"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(d)},u.onabort=function(){u&&(r(new $t("Request aborted",$t.ECONNABORTED,i,u)),u=null)},u.onerror=function(){r(new $t("Network Error",$t.ERR_NETWORK,i,u)),u=null},u.ontimeout=function(){let g=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const v=i.transitional||NK;i.timeoutErrorMessage&&(g=i.timeoutErrorMessage),r(new $t(g,v.clarifyTimeoutError?$t.ETIMEDOUT:$t.ECONNABORTED,i,u)),u=null},s===void 0&&o.setContentType(null),"setRequestHeader"in u&&Ne.forEach(o.toJSON(),function(g,v){u.setRequestHeader(v,g)}),Ne.isUndefined(i.withCredentials)||(u.withCredentials=!!i.withCredentials),a&&a!=="json"&&(u.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&u.addEventListener("progress",KA(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",KA(i.onUploadProgress)),(i.cancelToken||i.signal)&&(l=p=>{u&&(r(!p||p.type?new u0(null,n,u):p),u.abort(),u=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));const h=M1e(i.url);if(h&&Oa.protocols.indexOf(h)===-1){r(new $t("Unsupported protocol "+h+":",$t.ERR_BAD_REQUEST,n));return}u.send(s||null)})},O1e=(n,e)=>{let t=new AbortController,r;const i=function(l){if(!r){r=!0,o();const c=l instanceof Error?l:this.reason;t.abort(c instanceof $t?c:new u0(c instanceof Error?c.message:c))}};let s=e&&setTimeout(()=>{i(new $t(`timeout ${e} of ms exceeded`,$t.ETIMEDOUT))},e);const o=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),n=null)};n.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:a}=t;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},D1e=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},N1e=async function*(n,e,t){for await(const r of n)yield*D1e(ArrayBuffer.isView(r)?r:await t(String(r)),e)},m8=(n,e,t,r,i)=>{const s=N1e(n,e,i);let o=0;return new ReadableStream({type:"bytes",async pull(a){const{done:l,value:c}=await s.next();if(l){a.close(),r();return}let u=c.byteLength;t&&t(o+=u),a.enqueue(new Uint8Array(c))},cancel(a){return r(a),s.return()}},{highWaterMark:2})},g8=(n,e)=>{const t=n!=null;return r=>setTimeout(()=>e({lengthComputable:t,total:n,loaded:r}))},eP=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",WK=eP&&typeof ReadableStream=="function",XO=eP&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),F1e=WK&&(()=>{let n=!1;const e=new Request(Oa.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e})(),v8=64*1024,YO=WK&&!!(()=>{try{return Ne.isReadableStream(new Response("").body)}catch{}})(),QA={stream:YO&&(n=>n.body)};eP&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!QA[e]&&(QA[e]=Ne.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new $t(`Response type '${e}' is not supported`,$t.ERR_NOT_SUPPORT,r)})})})(new Response);const z1e=async n=>{if(n==null)return 0;if(Ne.isBlob(n))return n.size;if(Ne.isSpecCompliantForm(n))return(await new Request(n).arrayBuffer()).byteLength;if(Ne.isArrayBufferView(n))return n.byteLength;if(Ne.isURLSearchParams(n)&&(n=n+""),Ne.isString(n))return(await XO(n)).byteLength},B1e=async(n,e)=>{const t=Ne.toFiniteNumber(n.getContentLength());return t??z1e(e)},$1e=eP&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=UK(n);c=c?(c+"").toLowerCase():"text";let[p,g]=i||s||o?O1e([i,s],o):[],v,y;const x=()=>{!v&&setTimeout(()=>{p&&p.unsubscribe()}),v=!0};let w;try{if(l&&F1e&&t!=="get"&&t!=="head"&&(w=await B1e(u,r))!==0){let A=new Request(e,{method:"POST",body:r,duplex:"half"}),P;Ne.isFormData(r)&&(P=A.headers.get("content-type"))&&u.setContentType(P),A.body&&(r=m8(A.body,v8,g8(w,KA(l)),null,XO))}Ne.isString(d)||(d=d?"cors":"omit"),y=new Request(e,{...h,signal:p,method:t.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",withCredentials:d});let b=await fetch(y);const _=YO&&(c==="stream"||c==="response");if(YO&&(a||_)){const A={};["status","statusText","headers"].forEach(M=>{A[M]=b[M]});const P=Ne.toFiniteNumber(b.headers.get("content-length"));b=new Response(m8(b.body,v8,a&&g8(P,KA(a,!0)),_&&x,XO),A)}c=c||"text";let C=await QA[Ne.findKey(QA,c)||"text"](b,n);return!_&&x(),g&&g(),await new Promise((A,P)=>{BK(A,P,{data:C,headers:Os.from(b.headers),status:b.status,statusText:b.statusText,config:n,request:y})})}catch(b){throw x(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new $t("Network Error",$t.ERR_NETWORK,n,y),{cause:b.cause||b}):$t.from(b,b&&b.code,n,y)}}),KO={http:r1e,xhr:I1e,fetch:$1e};Ne.forEach(KO,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const y8=n=>`- ${n}`,U1e=n=>Ne.isFunction(n)||n===null||n===!1,HK={getAdapter:n=>{n=Ne.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let o;if(r=t,!U1e(t)&&(r=KO[(o=String(t)).toLowerCase()],r===void 0))throw new $t(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(y8).join(`
`):" "+y8(s[0]):"as no adapter specified";throw new $t("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:KO};function lk(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new u0(null,n)}function x8(n){return lk(n),n.headers=Os.from(n.headers),n.data=ak.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),HK.getAdapter(n.adapter||ub.adapter)(n).then(function(r){return lk(n),r.data=ak.call(n,n.transformResponse,r),r.headers=Os.from(r.headers),r},function(r){return zK(r)||(lk(n),r&&r.response&&(r.response.data=ak.call(n,n.transformResponse,r.response),r.response.headers=Os.from(r.response.headers))),Promise.reject(r)})}const jK="1.7.2",T5={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{T5[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const w8={};T5.transitional=function(e,t,r){function i(s,o){return"[Axios v"+jK+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new $t(i(o," has been removed"+(t?" in "+t:"")),$t.ERR_DEPRECATED);return t&&!w8[o]&&(w8[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function W1e(n,e,t){if(typeof n!="object")throw new $t("options must be an object",$t.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new $t("option "+s+" must be "+l,$t.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new $t("Unknown option "+s,$t.ERR_BAD_OPTION)}}const QO={assertOptions:W1e,validators:T5},lu=QO.validators;class Of{constructor(e){this.defaults=e,this.interceptors={request:new h8,response:new h8}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=np(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&QO.assertOptions(r,{silentJSONParsing:lu.transitional(lu.boolean),forcedJSONParsing:lu.transitional(lu.boolean),clarifyTimeoutError:lu.transitional(lu.boolean)},!1),i!=null&&(Ne.isFunction(i)?t.paramsSerializer={serialize:i}:QO.assertOptions(i,{encode:lu.function,serialize:lu.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&Ne.merge(s.common,s[t.method]);s&&Ne.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),t.headers=Os.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,d=0,h;if(!l){const g=[x8.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),h=g.length,u=Promise.resolve(t);d<h;)u=u.then(g[d++],g[d++]);return u}h=a.length;let p=t;for(d=0;d<h;){const g=a[d++],v=a[d++];try{p=g(p)}catch(y){v.call(this,y);break}}try{u=x8.call(this,p)}catch(g){return Promise.reject(g)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=np(this.defaults,e);const t=$K(e.baseURL,e.url);return DK(t,e.params,e.paramsSerializer)}}Ne.forEach(["delete","get","head","options"],function(e){Of.prototype[e]=function(t,r){return this.request(np(r||{},{method:e,url:t,data:(r||{}).data}))}});Ne.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(np(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Of.prototype[e]=t(),Of.prototype[e+"Form"]=t(!0)});class P5{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new u0(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new P5(function(i){e=i}),cancel:e}}}function H1e(n){return function(t){return n.apply(null,t)}}function j1e(n){return Ne.isObject(n)&&n.isAxiosError===!0}const ZO={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ZO).forEach(([n,e])=>{ZO[e]=n});function VK(n){const e=new Of(n),t=SK(Of.prototype.request,e);return Ne.extend(t,Of.prototype,e,{allOwnKeys:!0}),Ne.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return VK(np(n,i))},t}const Tr=VK(ub);Tr.Axios=Of;Tr.CanceledError=u0;Tr.CancelToken=P5;Tr.isCancel=zK;Tr.VERSION=jK;Tr.toFormData=JT;Tr.AxiosError=$t;Tr.Cancel=Tr.CanceledError;Tr.all=function(e){return Promise.all(e)};Tr.spread=H1e;Tr.isAxiosError=j1e;Tr.mergeConfig=np;Tr.AxiosHeaders=Os;Tr.formToJSON=n=>FK(Ne.isHTMLForm(n)?new FormData(n):n);Tr.getAdapter=HK.getAdapter;Tr.HttpStatusCode=ZO;Tr.default=Tr;const R5=Tr.create({baseURL:"https://cloud-api.yandex.net/v1/"});R5.interceptors.request.use(n=>{const e=localStorage.getItem("access_token");return e&&(n.headers.Authorization=`OAuth ${JSON.parse(e)}`),n.headers["Content-Type"]="application/json",n},n=>{Promise.reject(n)});R5.interceptors.response.use(n=>n,n=>{const{response:e}=n;return e.status===401&&(window.location.href="https://oauth.yandex.ru/authorize?response_type=token&client_id=eacca3682f374561b43cfc4991784ea7"),Promise.reject(n)});const V1e=async n=>await yandexApi.get("/disk/resources/",{params:{path:n}}),G1e=async n=>await yandexApi.get("/disk/resources/download",{params:{path:n}}),q1e=({baseUrl:n}={baseUrl:""})=>async({url:e,method:t,data:r,params:i,headers:s})=>{var o,a;try{return{data:(await R5({url:n+e,method:t,data:r,params:i,headers:s})).data}}catch(l){const c=l;return{error:{status:(o=c.response)==null?void 0:o.status,data:((a=c.response)==null?void 0:a.data)||c.message}}}},xw=yye({reducerPath:"yandexApi",baseQuery:q1e({baseUrl:"https://cloud-api.yandex.net/v1"}),endpoints:n=>({getResources:n.query({query:e=>{const{path:t}=e;return{url:"/disk/resources",params:{path:t}}},transformResponse:e=>e._embedded.items}),getResourceLink:n.query({query:e=>{const{path:t}=e;return{url:"/disk/resources/download",params:{path:t}}}})})}),{useGetResourcesQuery:L5,useGetResourceLinkQuery:GK}=xw,X1e=()=>{const n=Kw(),{currentData:e,isFetching:t}=L5({path:"labs",refetchOnMountOrArgChange:!0});return he.jsxs(Qf,{vertical:!0,gap:20,children:[he.jsx(yp.Title,{level:1,children:'Название предмета "Источники питания"'}),t?he.jsx(a0,{size:"large"}):he.jsx(Qf,{vertical:!0,gap:20,children:e.map(r=>{const i=jY(r.name,r.type);return he.jsx(Ed,{type:"primary",onClick:()=>{n(`/labs/${i}`)},children:i},r.resource_id)})})]})},Y1e="modulepreload",K1e=function(n){return"/"+n},b8={},oS=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(t.map(a=>{if(a=K1e(a),a in b8)return;b8[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":Y1e,l||(u.as="script",u.crossOrigin=""),u.href=a,o&&u.setAttribute("nonce",o),document.head.appendChild(u),l)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Q1e=Object.defineProperty,Z1e=(n,e,t)=>e in n?Q1e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ut=(n,e,t)=>(Z1e(n,typeof e!="symbol"?e+"":e,t),t),k5=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},S=(n,e,t)=>(k5(n,e,"read from private field"),t?t.call(n):e.get(n)),W=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},Z=(n,e,t,r)=>(k5(n,e,"write to private field"),e.set(n,t),t),na=(n,e,t,r)=>({set _(i){Z(n,e,i)},get _(){return S(n,e,r)}}),Q=(n,e,t)=>(k5(n,e,"access private method"),t),zy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qK(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Fze(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var iy=function(n){return n&&n.Math===Math&&n},Cl=iy(typeof globalThis=="object"&&globalThis)||iy(typeof window=="object"&&window)||iy(typeof self=="object"&&self)||iy(typeof zy=="object"&&zy)||iy(typeof zy=="object"&&zy)||function(){return this}()||Function("return this")(),I5={},Bd=function(n){try{return!!n()}catch{return!0}},J1e=Bd,xp=!J1e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),exe=Bd,XK=!exe(function(){var n=(function(){}).bind();return typeof n!="function"||n.hasOwnProperty("prototype")}),txe=XK,aS=Function.prototype.call,O5=txe?aS.bind(aS):function(){return aS.apply(aS,arguments)},YK={},KK={}.propertyIsEnumerable,QK=Object.getOwnPropertyDescriptor,nxe=QK&&!KK.call({1:2},1);YK.f=nxe?function(n){var e=QK(this,n);return!!e&&e.enumerable}:KK;var ZK=function(n,e){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:e}},JK=XK,eQ=Function.prototype,JO=eQ.call,rxe=JK&&eQ.bind.bind(JO,JO),Hc=JK?rxe:function(n){return function(){return JO.apply(n,arguments)}},tQ=Hc,ixe=tQ({}.toString),sxe=tQ("".slice),oxe=function(n){return sxe(ixe(n),8,-1)},axe=Hc,lxe=Bd,cxe=oxe,ck=Object,uxe=axe("".split),dxe=lxe(function(){return!ck("z").propertyIsEnumerable(0)})?function(n){return cxe(n)==="String"?uxe(n,""):ck(n)}:ck,nQ=function(n){return n==null},hxe=nQ,fxe=TypeError,rQ=function(n){if(hxe(n))throw new fxe("Can't call method on "+n);return n},pxe=dxe,mxe=rQ,D5=function(n){return pxe(mxe(n))},uk=typeof document=="object"&&document.all,Al=typeof uk>"u"&&uk!==void 0?function(n){return typeof n=="function"||n===uk}:function(n){return typeof n=="function"},gxe=Al,db=function(n){return typeof n=="object"?n!==null:gxe(n)},dk=Cl,vxe=Al,yxe=function(n){return vxe(n)?n:void 0},iQ=function(n,e){return arguments.length<2?yxe(dk[n]):dk[n]&&dk[n][e]},xxe=Hc,wxe=xxe({}.isPrototypeOf),bxe=typeof navigator<"u"&&String(navigator.userAgent)||"",sQ=Cl,hk=bxe,_8=sQ.process,S8=sQ.Deno,E8=_8&&_8.versions||S8&&S8.version,M8=E8&&E8.v8,Ta,ZA;M8&&(Ta=M8.split("."),ZA=Ta[0]>0&&Ta[0]<4?1:+(Ta[0]+Ta[1]));!ZA&&hk&&(Ta=hk.match(/Edge\/(\d+)/),(!Ta||Ta[1]>=74)&&(Ta=hk.match(/Chrome\/(\d+)/),Ta&&(ZA=+Ta[1])));var _xe=ZA,C8=_xe,Sxe=Bd,Exe=Cl,Mxe=Exe.String,oQ=!!Object.getOwnPropertySymbols&&!Sxe(function(){var n=Symbol("symbol detection");return!Mxe(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&C8&&C8<41}),Cxe=oQ,aQ=Cxe&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Axe=iQ,Txe=Al,Pxe=wxe,Rxe=aQ,Lxe=Object,lQ=Rxe?function(n){return typeof n=="symbol"}:function(n){var e=Axe("Symbol");return Txe(e)&&Pxe(e.prototype,Lxe(n))},kxe=String,Ixe=function(n){try{return kxe(n)}catch{return"Object"}},Oxe=Al,Dxe=Ixe,Nxe=TypeError,cQ=function(n){if(Oxe(n))return n;throw new Nxe(Dxe(n)+" is not a function")},Fxe=cQ,zxe=nQ,Bxe=function(n,e){var t=n[e];return zxe(t)?void 0:Fxe(t)},fk=O5,pk=Al,mk=db,$xe=TypeError,Uxe=function(n,e){var t,r;if(e==="string"&&pk(t=n.toString)&&!mk(r=fk(t,n))||pk(t=n.valueOf)&&!mk(r=fk(t,n))||e!=="string"&&pk(t=n.toString)&&!mk(r=fk(t,n)))return r;throw new $xe("Can't convert object to primitive value")},uQ={exports:{}},A8=Cl,Wxe=Object.defineProperty,N5=function(n,e){try{Wxe(A8,n,{value:e,configurable:!0,writable:!0})}catch{A8[n]=e}return e},Hxe=Cl,jxe=N5,T8="__core-js_shared__",P8=uQ.exports=Hxe[T8]||jxe(T8,{});(P8.versions||(P8.versions=[])).push({version:"3.37.1",mode:"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"});var F5=uQ.exports,R8=F5,dQ=function(n,e){return R8[n]||(R8[n]=e||{})},Vxe=rQ,Gxe=Object,qxe=function(n){return Gxe(Vxe(n))},Xxe=Hc,Yxe=qxe,Kxe=Xxe({}.hasOwnProperty),wp=Object.hasOwn||function(n,e){return Kxe(Yxe(n),e)},Qxe=Hc,Zxe=0,Jxe=Math.random(),ewe=Qxe(1 .toString),hQ=function(n){return"Symbol("+(n===void 0?"":n)+")_"+ewe(++Zxe+Jxe,36)},twe=Cl,nwe=dQ,L8=wp,rwe=hQ,iwe=oQ,swe=aQ,Dg=twe.Symbol,gk=nwe("wks"),owe=swe?Dg.for||Dg:Dg&&Dg.withoutSetter||rwe,awe=function(n){return L8(gk,n)||(gk[n]=iwe&&L8(Dg,n)?Dg[n]:owe("Symbol."+n)),gk[n]},lwe=O5,k8=db,I8=lQ,cwe=Bxe,uwe=Uxe,dwe=awe,hwe=TypeError,fwe=dwe("toPrimitive"),pwe=function(n,e){if(!k8(n)||I8(n))return n;var t=cwe(n,fwe),r;if(t){if(e===void 0&&(e="default"),r=lwe(t,n,e),!k8(r)||I8(r))return r;throw new hwe("Can't convert object to primitive value")}return e===void 0&&(e="number"),uwe(n,e)},mwe=pwe,gwe=lQ,fQ=function(n){var e=mwe(n,"string");return gwe(e)?e:e+""},vwe=Cl,O8=db,eD=vwe.document,ywe=O8(eD)&&O8(eD.createElement),xwe=function(n){return ywe?eD.createElement(n):{}},wwe=xp,bwe=Bd,_we=xwe,pQ=!wwe&&!bwe(function(){return Object.defineProperty(_we("div"),"a",{get:function(){return 7}}).a!==7}),Swe=xp,Ewe=O5,Mwe=YK,Cwe=ZK,Awe=D5,Twe=fQ,Pwe=wp,Rwe=pQ,D8=Object.getOwnPropertyDescriptor;I5.f=Swe?D8:function(n,e){if(n=Awe(n),e=Twe(e),Rwe)try{return D8(n,e)}catch{}if(Pwe(n,e))return Cwe(!Ewe(Mwe.f,n,e),n[e])};var tP={},Lwe=xp,kwe=Bd,Iwe=Lwe&&kwe(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Owe=db,Dwe=String,Nwe=TypeError,mQ=function(n){if(Owe(n))return n;throw new Nwe(Dwe(n)+" is not an object")},Fwe=xp,zwe=pQ,Bwe=Iwe,lS=mQ,N8=fQ,$we=TypeError,vk=Object.defineProperty,Uwe=Object.getOwnPropertyDescriptor,yk="enumerable",xk="configurable",wk="writable";tP.f=Fwe?Bwe?function(n,e,t){if(lS(n),e=N8(e),lS(t),typeof n=="function"&&e==="prototype"&&"value"in t&&wk in t&&!t[wk]){var r=Uwe(n,e);r&&r[wk]&&(n[e]=t.value,t={configurable:xk in t?t[xk]:r[xk],enumerable:yk in t?t[yk]:r[yk],writable:!1})}return vk(n,e,t)}:vk:function(n,e,t){if(lS(n),e=N8(e),lS(t),zwe)try{return vk(n,e,t)}catch{}if("get"in t||"set"in t)throw new $we("Accessors not supported");return"value"in t&&(n[e]=t.value),n};var Wwe=xp,Hwe=tP,jwe=ZK,gQ=Wwe?function(n,e,t){return Hwe.f(n,e,jwe(1,t))}:function(n,e,t){return n[e]=t,n},vQ={exports:{}},tD=xp,Vwe=wp,yQ=Function.prototype,Gwe=tD&&Object.getOwnPropertyDescriptor,z5=Vwe(yQ,"name"),qwe=z5&&(function(){}).name==="something",Xwe=z5&&(!tD||tD&&Gwe(yQ,"name").configurable),Ywe={EXISTS:z5,PROPER:qwe,CONFIGURABLE:Xwe},Kwe=Hc,Qwe=Al,nD=F5,Zwe=Kwe(Function.toString);Qwe(nD.inspectSource)||(nD.inspectSource=function(n){return Zwe(n)});var Jwe=nD.inspectSource,ebe=Cl,tbe=Al,F8=ebe.WeakMap,nbe=tbe(F8)&&/native code/.test(String(F8)),rbe=dQ,ibe=hQ,z8=rbe("keys"),sbe=function(n){return z8[n]||(z8[n]=ibe(n))},xQ={},obe=nbe,wQ=Cl,abe=db,lbe=gQ,bk=wp,_k=F5,cbe=sbe,ube=xQ,B8="Object already initialized",rD=wQ.TypeError,dbe=wQ.WeakMap,JA,ww,e2,hbe=function(n){return e2(n)?ww(n):JA(n,{})},fbe=function(n){return function(e){var t;if(!abe(e)||(t=ww(e)).type!==n)throw new rD("Incompatible receiver, "+n+" required");return t}};if(obe||_k.state){var Ka=_k.state||(_k.state=new dbe);Ka.get=Ka.get,Ka.has=Ka.has,Ka.set=Ka.set,JA=function(n,e){if(Ka.has(n))throw new rD(B8);return e.facade=n,Ka.set(n,e),e},ww=function(n){return Ka.get(n)||{}},e2=function(n){return Ka.has(n)}}else{var om=cbe("state");ube[om]=!0,JA=function(n,e){if(bk(n,om))throw new rD(B8);return e.facade=n,lbe(n,om,e),e},ww=function(n){return bk(n,om)?n[om]:{}},e2=function(n){return bk(n,om)}}var pbe={set:JA,get:ww,has:e2,enforce:hbe,getterFor:fbe},B5=Hc,mbe=Bd,gbe=Al,cS=wp,iD=xp,vbe=Ywe.CONFIGURABLE,ybe=Jwe,bQ=pbe,xbe=bQ.enforce,wbe=bQ.get,$8=String,YE=Object.defineProperty,bbe=B5("".slice),_be=B5("".replace),Sbe=B5([].join),Ebe=iD&&!mbe(function(){return YE(function(){},"length",{value:8}).length!==8}),Mbe=String(String).split("String"),Cbe=vQ.exports=function(n,e,t){bbe($8(e),0,7)==="Symbol("&&(e="["+_be($8(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),t&&t.getter&&(e="get "+e),t&&t.setter&&(e="set "+e),(!cS(n,"name")||vbe&&n.name!==e)&&(iD?YE(n,"name",{value:e,configurable:!0}):n.name=e),Ebe&&t&&cS(t,"arity")&&n.length!==t.arity&&YE(n,"length",{value:t.arity});try{t&&cS(t,"constructor")&&t.constructor?iD&&YE(n,"prototype",{writable:!1}):n.prototype&&(n.prototype=void 0)}catch{}var r=xbe(n);return cS(r,"source")||(r.source=Sbe(Mbe,typeof e=="string"?e:"")),n};Function.prototype.toString=Cbe(function(){return gbe(this)&&wbe(this).source||ybe(this)},"toString");var Abe=vQ.exports,Tbe=Al,Pbe=tP,Rbe=Abe,Lbe=N5,kbe=function(n,e,t,r){r||(r={});var i=r.enumerable,s=r.name!==void 0?r.name:e;if(Tbe(t)&&Rbe(t,s,r),r.global)i?n[e]=t:Lbe(e,t);else{try{r.unsafe?n[e]&&(i=!0):delete n[e]}catch{}i?n[e]=t:Pbe.f(n,e,{value:t,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return n},_Q={},Ibe=Math.ceil,Obe=Math.floor,Dbe=Math.trunc||function(n){var e=+n;return(e>0?Obe:Ibe)(e)},Nbe=Dbe,SQ=function(n){var e=+n;return e!==e||e===0?0:Nbe(e)},Fbe=SQ,zbe=Math.max,Bbe=Math.min,$be=function(n,e){var t=Fbe(n);return t<0?zbe(t+e,0):Bbe(t,e)},Ube=SQ,Wbe=Math.min,Hbe=function(n){var e=Ube(n);return e>0?Wbe(e,9007199254740991):0},jbe=Hbe,Vbe=function(n){return jbe(n.length)},Gbe=D5,qbe=$be,Xbe=Vbe,U8=function(n){return function(e,t,r){var i=Gbe(e),s=Xbe(i);if(s===0)return!n&&-1;var o=qbe(r,s),a;if(n&&t!==t){for(;s>o;)if(a=i[o++],a!==a)return!0}else for(;s>o;o++)if((n||o in i)&&i[o]===t)return n||o||0;return!n&&-1}},Ybe={includes:U8(!0),indexOf:U8(!1)},Kbe=Hc,Sk=wp,Qbe=D5,Zbe=Ybe.indexOf,Jbe=xQ,W8=Kbe([].push),e_e=function(n,e){var t=Qbe(n),r=0,i=[],s;for(s in t)!Sk(Jbe,s)&&Sk(t,s)&&W8(i,s);for(;e.length>r;)Sk(t,s=e[r++])&&(~Zbe(i,s)||W8(i,s));return i},t_e=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],n_e=e_e,r_e=t_e,i_e=r_e.concat("length","prototype");_Q.f=Object.getOwnPropertyNames||function(n){return n_e(n,i_e)};var EQ={};EQ.f=Object.getOwnPropertySymbols;var s_e=iQ,o_e=Hc,a_e=_Q,l_e=EQ,c_e=mQ,u_e=o_e([].concat),d_e=s_e("Reflect","ownKeys")||function(n){var e=a_e.f(c_e(n)),t=l_e.f;return t?u_e(e,t(n)):e},H8=wp,h_e=d_e,f_e=I5,p_e=tP,m_e=function(n,e,t){for(var r=h_e(e),i=p_e.f,s=f_e.f,o=0;o<r.length;o++){var a=r[o];!H8(n,a)&&!(t&&H8(t,a))&&i(n,a,s(e,a))}},g_e=Bd,v_e=Al,y_e=/#|\.prototype\./,hb=function(n,e){var t=w_e[x_e(n)];return t===__e?!0:t===b_e?!1:v_e(e)?g_e(e):!!e},x_e=hb.normalize=function(n){return String(n).replace(y_e,".").toLowerCase()},w_e=hb.data={},b_e=hb.NATIVE="N",__e=hb.POLYFILL="P",S_e=hb,uS=Cl,E_e=I5.f,M_e=gQ,C_e=kbe,A_e=N5,T_e=m_e,P_e=S_e,R_e=function(n,e){var t=n.target,r=n.global,i=n.stat,s,o,a,l,c,u;if(r?o=uS:i?o=uS[t]||A_e(t,{}):o=uS[t]&&uS[t].prototype,o)for(a in e){if(c=e[a],n.dontCallGetSet?(u=E_e(o,a),l=u&&u.value):l=o[a],s=P_e(r?a:t+(i?".":"#")+a,n.forced),!s&&l!==void 0){if(typeof c==typeof l)continue;T_e(c,l)}(n.sham||l&&l.sham)&&M_e(c,"sham",!0),C_e(o,a,c,n)}},MQ={},j8=cQ,L_e=TypeError,k_e=function(n){var e,t;this.promise=new n(function(r,i){if(e!==void 0||t!==void 0)throw new L_e("Bad Promise constructor");e=r,t=i}),this.resolve=j8(e),this.reject=j8(t)};MQ.f=function(n){return new k_e(n)};var I_e=R_e,O_e=MQ;I_e({target:"Promise",stat:!0},{withResolvers:function(){var n=O_e.f(this);return{promise:n.promise,resolve:n.resolve,reject:n.reject}}});function D_e(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var CQ={exports:{}},gr=CQ.exports={},ll,cl;function sD(){throw new Error("setTimeout has not been defined")}function oD(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ll=setTimeout:ll=sD}catch{ll=sD}try{typeof clearTimeout=="function"?cl=clearTimeout:cl=oD}catch{cl=oD}})();function AQ(n){if(ll===setTimeout)return setTimeout(n,0);if((ll===sD||!ll)&&setTimeout)return ll=setTimeout,setTimeout(n,0);try{return ll(n,0)}catch{try{return ll.call(null,n,0)}catch{return ll.call(this,n,0)}}}function N_e(n){if(cl===clearTimeout)return clearTimeout(n);if((cl===oD||!cl)&&clearTimeout)return cl=clearTimeout,clearTimeout(n);try{return cl(n)}catch{try{return cl.call(null,n)}catch{return cl.call(this,n)}}}var _c=[],uv=!1,cf,KE=-1;function F_e(){!uv||!cf||(uv=!1,cf.length?_c=cf.concat(_c):KE=-1,_c.length&&TQ())}function TQ(){if(!uv){var n=AQ(F_e);uv=!0;for(var e=_c.length;e;){for(cf=_c,_c=[];++KE<e;)cf&&cf[KE].run();KE=-1,e=_c.length}cf=null,uv=!1,N_e(n)}}gr.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];_c.push(new PQ(n,e)),_c.length===1&&!uv&&AQ(TQ)};function PQ(n,e){this.fun=n,this.array=e}PQ.prototype.run=function(){this.fun.apply(null,this.array)};gr.title="browser";gr.browser=!0;gr.env={};gr.argv=[];gr.version="";gr.versions={};function jc(){}gr.on=jc;gr.addListener=jc;gr.once=jc;gr.off=jc;gr.removeListener=jc;gr.removeAllListeners=jc;gr.emit=jc;gr.prependListener=jc;gr.prependOnceListener=jc;gr.listeners=function(n){return[]};gr.binding=function(n){throw new Error("process.binding is not supported")};gr.cwd=function(){return"/"};gr.chdir=function(n){throw new Error("process.chdir is not supported")};gr.umask=function(){return 0};var z_e=CQ.exports;const Nt=D_e(z_e);var Gi=function(){return Gi=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Gi.apply(this,arguments)};function rp(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}function B_e(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var $_e=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,U_e=B_e(function(n){return $_e.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),Un="-ms-",J1="-moz-",vn="-webkit-",RQ="comm",nP="rule",$5="decl",W_e="@import",LQ="@keyframes",H_e="@layer",kQ=Math.abs,U5=String.fromCharCode,aD=Object.assign;function j_e(n,e){return ni(n,0)^45?(((e<<2^ni(n,0))<<2^ni(n,1))<<2^ni(n,2))<<2^ni(n,3):0}function IQ(n){return n.trim()}function sc(n,e){return(n=e.exec(n))?n[0]:n}function Kt(n,e,t){return n.replace(e,t)}function QE(n,e,t){return n.indexOf(e,t)}function ni(n,e){return n.charCodeAt(e)|0}function Uv(n,e,t){return n.slice(e,t)}function pl(n){return n.length}function OQ(n){return n.length}function By(n,e){return e.push(n),n}function V_e(n,e){return n.map(e).join("")}function V8(n,e){return n.filter(function(t){return!sc(t,e)})}var rP=1,Wv=1,DQ=0,oa=0,Er=0,d0="";function iP(n,e,t,r,i,s,o,a){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:rP,column:Wv,length:o,return:"",siblings:a}}function wu(n,e){return aD(iP("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function am(n){for(;n.root;)n=wu(n.root,{children:[n]});By(n,n.siblings)}function G_e(){return Er}function q_e(){return Er=oa>0?ni(d0,--oa):0,Wv--,Er===10&&(Wv=1,rP--),Er}function Da(){return Er=oa<DQ?ni(d0,oa++):0,Wv++,Er===10&&(Wv=1,rP++),Er}function Df(){return ni(d0,oa)}function ZE(){return oa}function sP(n,e){return Uv(d0,n,e)}function lD(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function X_e(n){return rP=Wv=1,DQ=pl(d0=n),oa=0,[]}function Y_e(n){return d0="",n}function Ek(n){return IQ(sP(oa-1,cD(n===91?n+2:n===40?n+1:n)))}function K_e(n){for(;(Er=Df())&&Er<33;)Da();return lD(n)>2||lD(Er)>3?"":" "}function Q_e(n,e){for(;--e&&Da()&&!(Er<48||Er>102||Er>57&&Er<65||Er>70&&Er<97););return sP(n,ZE()+(e<6&&Df()==32&&Da()==32))}function cD(n){for(;Da();)switch(Er){case n:return oa;case 34:case 39:n!==34&&n!==39&&cD(Er);break;case 40:n===41&&cD(n);break;case 92:Da();break}return oa}function Z_e(n,e){for(;Da()&&n+Er!==57&&!(n+Er===84&&Df()===47););return"/*"+sP(e,oa-1)+"*"+U5(n===47?n:Da())}function J_e(n){for(;!lD(Df());)Da();return sP(n,oa)}function eSe(n){return Y_e(JE("",null,null,null,[""],n=X_e(n),0,[0],n))}function JE(n,e,t,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,p=0,g=0,v=1,y=1,x=1,w=0,b="",_=i,C=s,A=r,P=b;y;)switch(g=w,w=Da()){case 40:if(g!=108&&ni(P,d-1)==58){QE(P+=Kt(Ek(w),"&","&\f"),"&\f",kQ(c?a[c-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:P+=Ek(w);break;case 9:case 10:case 13:case 32:P+=K_e(g);break;case 92:P+=Q_e(ZE()-1,7);continue;case 47:switch(Df()){case 42:case 47:By(tSe(Z_e(Da(),ZE()),e,t,l),l);break;default:P+="/"}break;case 123*v:a[c++]=pl(P)*x;case 125*v:case 59:case 0:switch(w){case 0:case 125:y=0;case 59+u:x==-1&&(P=Kt(P,/\f/g,"")),p>0&&pl(P)-d&&By(p>32?q8(P+";",r,t,d-1,l):q8(Kt(P," ","")+";",r,t,d-2,l),l);break;case 59:P+=";";default:if(By(A=G8(P,e,t,c,u,i,a,b,_=[],C=[],d,s),s),w===123)if(u===0)JE(P,e,A,A,_,s,d,a,C);else switch(h===99&&ni(P,3)===110?100:h){case 100:case 108:case 109:case 115:JE(n,A,A,r&&By(G8(n,A,A,0,0,i,a,b,i,_=[],d,C),C),i,C,d,a,r?_:C);break;default:JE(P,A,A,A,[""],C,0,a,C)}}c=u=p=0,v=x=1,b=P="",d=o;break;case 58:d=1+pl(P),p=g;default:if(v<1){if(w==123)--v;else if(w==125&&v++==0&&q_e()==125)continue}switch(P+=U5(w),w*v){case 38:x=u>0?1:(P+="\f",-1);break;case 44:a[c++]=(pl(P)-1)*x,x=1;break;case 64:Df()===45&&(P+=Ek(Da())),h=Df(),u=d=pl(b=P+=J_e(ZE())),w++;break;case 45:g===45&&pl(P)==2&&(v=0)}}return s}function G8(n,e,t,r,i,s,o,a,l,c,u,d){for(var h=i-1,p=i===0?s:[""],g=OQ(p),v=0,y=0,x=0;v<r;++v)for(var w=0,b=Uv(n,h+1,h=kQ(y=o[v])),_=n;w<g;++w)(_=IQ(y>0?p[w]+" "+b:Kt(b,/&\f/g,p[w])))&&(l[x++]=_);return iP(n,e,t,i===0?nP:a,l,c,u,d)}function tSe(n,e,t,r){return iP(n,e,t,RQ,U5(G_e()),Uv(n,2,-2),0,r)}function q8(n,e,t,r,i){return iP(n,e,t,$5,Uv(n,0,r),Uv(n,r+1,-1),r,i)}function NQ(n,e,t){switch(j_e(n,e)){case 5103:return vn+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return vn+n+n;case 4789:return J1+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return vn+n+J1+n+Un+n+n;case 5936:switch(ni(n,e+11)){case 114:return vn+n+Un+Kt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return vn+n+Un+Kt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return vn+n+Un+Kt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return vn+n+Un+n+n;case 6165:return vn+n+Un+"flex-"+n+n;case 5187:return vn+n+Kt(n,/(\w+).+(:[^]+)/,vn+"box-$1$2"+Un+"flex-$1$2")+n;case 5443:return vn+n+Un+"flex-item-"+Kt(n,/flex-|-self/g,"")+(sc(n,/flex-|baseline/)?"":Un+"grid-row-"+Kt(n,/flex-|-self/g,""))+n;case 4675:return vn+n+Un+"flex-line-pack"+Kt(n,/align-content|flex-|-self/g,"")+n;case 5548:return vn+n+Un+Kt(n,"shrink","negative")+n;case 5292:return vn+n+Un+Kt(n,"basis","preferred-size")+n;case 6060:return vn+"box-"+Kt(n,"-grow","")+vn+n+Un+Kt(n,"grow","positive")+n;case 4554:return vn+Kt(n,/([^-])(transform)/g,"$1"+vn+"$2")+n;case 6187:return Kt(Kt(Kt(n,/(zoom-|grab)/,vn+"$1"),/(image-set)/,vn+"$1"),n,"")+n;case 5495:case 3959:return Kt(n,/(image-set\([^]*)/,vn+"$1$`$1");case 4968:return Kt(Kt(n,/(.+:)(flex-)?(.*)/,vn+"box-pack:$3"+Un+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+vn+n+n;case 4200:if(!sc(n,/flex-|baseline/))return Un+"grid-column-align"+Uv(n,e)+n;break;case 2592:case 3360:return Un+Kt(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(r,i){return e=i,sc(r.props,/grid-\w+-end/)})?~QE(n+(t=t[e].value),"span",0)?n:Un+Kt(n,"-start","")+n+Un+"grid-row-span:"+(~QE(t,"span",0)?sc(t,/\d+/):+sc(t,/\d+/)-+sc(n,/\d+/))+";":Un+Kt(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(r){return sc(r.props,/grid-\w+-start/)})?n:Un+Kt(Kt(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return Kt(n,/(.+)-inline(.+)/,vn+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(pl(n)-1-e>6)switch(ni(n,e+1)){case 109:if(ni(n,e+4)!==45)break;case 102:return Kt(n,/(.+:)(.+)-([^]+)/,"$1"+vn+"$2-$3$1"+J1+(ni(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~QE(n,"stretch",0)?NQ(Kt(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return Kt(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return Un+i+":"+s+c+(o?Un+i+"-span:"+(a?l:+l-+s)+c:"")+n});case 4949:if(ni(n,e+6)===121)return Kt(n,":",":"+vn)+n;break;case 6444:switch(ni(n,ni(n,14)===45?18:11)){case 120:return Kt(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+vn+(ni(n,14)===45?"inline-":"")+"box$3$1"+vn+"$2$3$1"+Un+"$2box$3")+n;case 100:return Kt(n,":",":"+Un)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Kt(n,"scroll-","scroll-snap-")+n}return n}function t2(n,e){for(var t="",r=0;r<n.length;r++)t+=e(n[r],r,n,e)||"";return t}function nSe(n,e,t,r){switch(n.type){case H_e:if(n.children.length)break;case W_e:case $5:return n.return=n.return||n.value;case RQ:return"";case LQ:return n.return=n.value+"{"+t2(n.children,r)+"}";case nP:if(!pl(n.value=n.props.join(",")))return""}return pl(t=t2(n.children,r))?n.return=n.value+"{"+t+"}":""}function rSe(n){var e=OQ(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function iSe(n){return function(e){e.root||(e=e.return)&&n(e)}}function sSe(n,e,t,r){if(n.length>-1&&!n.return)switch(n.type){case $5:n.return=NQ(n.value,n.length,t);return;case LQ:return t2([wu(n,{value:Kt(n.value,"@","@"+vn)})],r);case nP:if(n.length)return V_e(t=n.props,function(i){switch(sc(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":am(wu(n,{props:[Kt(i,/:(read-\w+)/,":"+J1+"$1")]})),am(wu(n,{props:[i]})),aD(n,{props:V8(t,r)});break;case"::placeholder":am(wu(n,{props:[Kt(i,/:(plac\w+)/,":"+vn+"input-$1")]})),am(wu(n,{props:[Kt(i,/:(plac\w+)/,":"+J1+"$1")]})),am(wu(n,{props:[Kt(i,/:(plac\w+)/,Un+"input-$1")]})),am(wu(n,{props:[i]})),aD(n,{props:V8(t,r)});break}return""})}}var oSe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ip=typeof Nt<"u"&&Nt.env!==void 0&&(Nt.env.REACT_APP_SC_ATTR||Nt.env.SC_ATTR)||"data-styled",FQ="active",zQ="data-styled-version",oP="6.1.11",W5=`/*!sc*/
`,H5=typeof window<"u"&&"HTMLElement"in window,aSe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof Nt<"u"&&Nt.env!==void 0&&Nt.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Nt.env.REACT_APP_SC_DISABLE_SPEEDY!==""?Nt.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Nt.env.REACT_APP_SC_DISABLE_SPEEDY:typeof Nt<"u"&&Nt.env!==void 0&&Nt.env.SC_DISABLE_SPEEDY!==void 0&&Nt.env.SC_DISABLE_SPEEDY!==""?Nt.env.SC_DISABLE_SPEEDY!=="false"&&Nt.env.SC_DISABLE_SPEEDY:Nt.env.NODE_ENV!=="production"),X8=/invalid hook call/i,dS=new Set,lSe=function(n,e){if(Nt.env.NODE_ENV!=="production"){var t=e?' with the id of "'.concat(e,'"'):"",r="The component ".concat(n).concat(t,` has been created dynamically.
`)+`You may see this warning because you've called styled inside another component.
To resolve this only create new StyledComponents outside of any render method and function component.`,i=console.error;try{var s=!0;console.error=function(o){for(var a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];X8.test(o)?(s=!1,dS.delete(r)):i.apply(void 0,rp([o],a,!1))},k.useRef(),s&&!dS.has(r)&&(console.warn(r),dS.add(r))}catch(o){X8.test(o.message)&&dS.delete(r)}finally{console.error=i}}},aP=Object.freeze([]),Hv=Object.freeze({});function cSe(n,e,t){return t===void 0&&(t=Hv),n.theme!==t.theme&&n.theme||e||t.theme}var uD=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),uSe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,dSe=/(^-|-$)/g;function Y8(n){return n.replace(uSe,"-").replace(dSe,"")}var hSe=/(a)(d)/gi,hS=52,K8=function(n){return String.fromCharCode(n+(n>25?39:97))};function dD(n){var e,t="";for(e=Math.abs(n);e>hS;e=e/hS|0)t=K8(e%hS)+t;return(K8(e%hS)+t).replace(hSe,"$1-$2")}var Mk,BQ=5381,Vh=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},$Q=function(n){return Vh(BQ,n)};function UQ(n){return dD($Q(n)>>>0)}function WQ(n){return Nt.env.NODE_ENV!=="production"&&typeof n=="string"&&n||n.displayName||n.name||"Component"}function Ck(n){return typeof n=="string"&&(Nt.env.NODE_ENV==="production"||n.charAt(0)===n.charAt(0).toLowerCase())}var HQ=typeof Symbol=="function"&&Symbol.for,jQ=HQ?Symbol.for("react.memo"):60115,fSe=HQ?Symbol.for("react.forward_ref"):60112,pSe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},mSe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},VQ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gSe=((Mk={})[fSe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Mk[jQ]=VQ,Mk);function Q8(n){return("type"in(e=n)&&e.type.$$typeof)===jQ?VQ:"$$typeof"in n?gSe[n.$$typeof]:pSe;var e}var vSe=Object.defineProperty,ySe=Object.getOwnPropertyNames,Z8=Object.getOwnPropertySymbols,xSe=Object.getOwnPropertyDescriptor,wSe=Object.getPrototypeOf,J8=Object.prototype;function GQ(n,e,t){if(typeof e!="string"){if(J8){var r=wSe(e);r&&r!==J8&&GQ(n,r,t)}var i=ySe(e);Z8&&(i=i.concat(Z8(e)));for(var s=Q8(n),o=Q8(e),a=0;a<i.length;++a){var l=i[a];if(!(l in mSe||t&&t[l]||o&&l in o||s&&l in s)){var c=xSe(e,l);try{vSe(n,l,c)}catch{}}}}return n}function sp(n){return typeof n=="function"}function j5(n){return typeof n=="object"&&"styledComponentId"in n}function uf(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function hD(n,e){if(n.length===0)return"";for(var t=n[0],r=1;r<n.length;r++)t+=n[r];return t}function jv(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function fD(n,e,t){if(t===void 0&&(t=!1),!t&&!jv(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)n[r]=fD(n[r],e[r]);else if(jv(e))for(var r in e)n[r]=fD(n[r],e[r]);return n}function V5(n,e){Object.defineProperty(n,"toString",{value:e})}var bSe=Nt.env.NODE_ENV!=="production"?{1:`Cannot create styled-component for component: %s.

`,2:`Can't collect styles once you've consumed a \`ServerStyleSheet\`'s styles! \`ServerStyleSheet\` is a one off instance for each server-side render cycle.

- Are you trying to reuse it across renders?
- Are you accidentally calling collectStyles twice?

`,3:`Streaming SSR is only supported in a Node.js environment; Please do not try to call this method in the browser.

`,4:`The \`StyleSheetManager\` expects a valid target or sheet prop!

- Does this error occur on the client and is your target falsy?
- Does this error occur on the server and is the sheet falsy?

`,5:`The clone method cannot be used on the client!

- Are you running in a client-like environment on the server?
- Are you trying to run SSR on the client?

`,6:`Trying to insert a new style tag, but the given Node is unmounted!

- Are you using a custom target that isn't mounted?
- Does your document not have a valid head element?
- Have you accidentally removed a style tag manually?

`,7:'ThemeProvider: Please return an object from your "theme" prop function, e.g.\n\n```js\ntheme={() => ({})}\n```\n\n',8:`ThemeProvider: Please make your "theme" prop an object.

`,9:"Missing document `<head>`\n\n",10:`Cannot find a StyleSheet instance. Usually this happens if there are multiple copies of styled-components loaded at once. Check out this issue for how to troubleshoot and fix the common cases where this situation can happen: https://github.com/styled-components/styled-components/issues/1941#issuecomment-417862021

`,11:`_This error was replaced with a dev-time warning, it will be deleted for v4 final._ [createGlobalStyle] received children which will not be rendered. Please use the component without passing children elements.

`,12:"It seems you are interpolating a keyframe declaration (%s) into an untagged string. This was supported in styled-components v3, but is not longer supported in v4 as keyframes are now injected on-demand. Please wrap your string in the css\\`\\` helper which ensures the styles are injected correctly. See https://www.styled-components.com/docs/api#css\n\n",13:`%s is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.

`,14:`ThemeProvider: "theme" prop is required.

`,15:"A stylis plugin has been supplied that is not named. We need a name for each plugin to be able to prevent styling collisions between different stylis configurations within the same app. Before you pass your plugin to `<StyleSheetManager stylisPlugins={[]}>`, please make sure each plugin is uniquely-named, e.g.\n\n```js\nObject.defineProperty(importedPlugin, 'name', { value: 'some-unique-name' });\n```\n\n",16:`Reached the limit of how many styled components may be created at group %s.
You may only create up to 1,073,741,824 components. If you're creating components dynamically,
as for instance in your render method then you may be running into this limitation.

`,17:`CSSStyleSheet could not be found on HTMLStyleElement.
Has styled-components' style tag been unmounted or altered by another script?
`,18:"ThemeProvider: Please make sure your useTheme hook is within a `<ThemeProvider>`"}:{};function _Se(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=n[0],r=[],i=1,s=n.length;i<s;i+=1)r.push(n[i]);return r.forEach(function(o){t=t.replace(/%[a-z]/,o)}),t}function Rc(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return Nt.env.NODE_ENV==="production"?new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):"")):new Error(_Se.apply(void 0,rp([bSe[n]],e,!1)).trim())}var SSe=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw Rc(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,t.length);o<l;o++)this.tag.insertRule(a,t[o])&&(this.groupSizes[e]++,a++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),i=r+t;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)t+="".concat(this.tag.getRule(o)).concat(W5);return t},n}(),ESe=1<<30,eM=new Map,n2=new Map,tM=1,fS=function(n){if(eM.has(n))return eM.get(n);for(;n2.has(tM);)tM++;var e=tM++;if(Nt.env.NODE_ENV!=="production"&&((0|e)<0||e>ESe))throw Rc(16,"".concat(e));return eM.set(n,e),n2.set(e,n),e},MSe=function(n,e){tM=e+1,eM.set(n,e),n2.set(e,n)},CSe="style[".concat(ip,"][").concat(zQ,'="').concat(oP,'"]'),ASe=new RegExp("^".concat(ip,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),TSe=function(n,e,t){for(var r,i=t.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&n.registerName(e,r)},PSe=function(n,e){for(var t,r=((t=e.textContent)!==null&&t!==void 0?t:"").split(W5),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(ASe);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(MSe(u,c),TSe(n,u,l[3]),n.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function RSe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var qQ=function(n){var e=document.head,t=n||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(ip,"]")));return l[l.length-1]}(t),s=i!==void 0?i.nextSibling:null;r.setAttribute(ip,FQ),r.setAttribute(zQ,oP);var o=RSe();return o&&r.setAttribute("nonce",o),t.insertBefore(r,s),r},LSe=function(){function n(e){this.element=qQ(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===t)return o}throw Rc(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),kSe=function(){function n(e){this.element=qQ(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),ISe=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),ej=H5,OSe={isServer:!H5,useCSSOMInjection:!aSe},XQ=function(){function n(e,t,r){e===void 0&&(e=Hv),t===void 0&&(t={});var i=this;this.options=Gi(Gi({},OSe),e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&H5&&ej&&(ej=!1,function(s){for(var o=document.querySelectorAll(CSe),a=0,l=o.length;a<l;a++){var c=o[a];c&&c.getAttribute(ip)!==FQ&&(PSe(s,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),V5(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(d){var h=function(x){return n2.get(x)}(d);if(h===void 0)return"continue";var p=s.names.get(h),g=o.getGroup(d);if(p===void 0||g.length===0)return"continue";var v="".concat(ip,".g").concat(d,'[id="').concat(h,'"]'),y="";p!==void 0&&p.forEach(function(x){x.length>0&&(y+="".concat(x,","))}),l+="".concat(g).concat(v,'{content:"').concat(y,'"}').concat(W5)},u=0;u<a;u++)c(u);return l}(i)})}return n.registerId=function(e){return fS(e)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(Gi(Gi({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var r=t.useCSSOMInjection,i=t.target;return t.isServer?new ISe(i):r?new LSe(i):new kSe(i)}(this.options),new SSe(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(fS(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},n.prototype.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(fS(e),r)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(fS(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),DSe=/&/g,NSe=/^\s*\/\/.*$/gm;function YQ(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=YQ(t.children,e)),t})}function FSe(n){var e,t,r,i=Hv,s=i.options,o=s===void 0?Hv:s,a=i.plugins,l=a===void 0?aP:a,c=function(h,p,g){return g.startsWith(t)&&g.endsWith(t)&&g.replaceAll(t,"").length>0?".".concat(e):h},u=l.slice();u.push(function(h){h.type===nP&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(DSe,t).replace(r,c))}),o.prefix&&u.push(sSe),u.push(nSe);var d=function(h,p,g,v){p===void 0&&(p=""),g===void 0&&(g=""),v===void 0&&(v="&"),e=v,t=p,r=new RegExp("\\".concat(t,"\\b"),"g");var y=h.replace(NSe,""),x=eSe(g||p?"".concat(g," ").concat(p," { ").concat(y," }"):y);o.namespace&&(x=YQ(x,o.namespace));var w=[];return t2(x,rSe(u.concat(iSe(function(b){return w.push(b)})))),w};return d.hash=l.length?l.reduce(function(h,p){return p.name||Rc(15),Vh(h,p.name)},BQ).toString():"",d}var zSe=new XQ,pD=FSe(),KQ=it.createContext({shouldForwardProp:void 0,styleSheet:zSe,stylis:pD});KQ.Consumer;it.createContext(void 0);function tj(){return k.useContext(KQ)}var mD=function(){function n(e,t){var r=this;this.inject=function(i,s){s===void 0&&(s=pD);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,V5(this,function(){throw Rc(12,String(r.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=pD),this.name+e.hash},n}(),BSe=function(n){return n>="A"&&n<="Z"};function nj(n){for(var e="",t=0;t<n.length;t++){var r=n[t];if(t===1&&r==="-"&&n[0]==="-")return n;BSe(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var QQ=function(n){return n==null||n===!1||n===""},ZQ=function(n){var e,t,r=[];for(var i in n){var s=n[i];n.hasOwnProperty(i)&&!QQ(s)&&(Array.isArray(s)&&s.isCss||sp(s)?r.push("".concat(nj(i),":"),s,";"):jv(s)?r.push.apply(r,rp(rp(["".concat(i," {")],ZQ(s),!1),["}"],!1)):r.push("".concat(nj(i),": ").concat((e=i,(t=s)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in oSe||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return r};function Nf(n,e,t,r){if(QQ(n))return[];if(j5(n))return[".".concat(n.styledComponentId)];if(sp(n)){if(!sp(s=n)||s.prototype&&s.prototype.isReactComponent||!e)return[n];var i=n(e);return Nt.env.NODE_ENV==="production"||typeof i!="object"||Array.isArray(i)||i instanceof mD||jv(i)||i===null||console.error("".concat(WQ(n)," is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.")),Nf(i,e,t,r)}var s;return n instanceof mD?t?(n.inject(t,r),[n.getName(r)]):[n]:jv(n)?ZQ(n):Array.isArray(n)?Array.prototype.concat.apply(aP,n.map(function(o){return Nf(o,e,t,r)})):[n.toString()]}function $Se(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(sp(t)&&!j5(t))return!1}return!0}var USe=$Q(oP),WSe=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=Nt.env.NODE_ENV==="production"&&(r===void 0||r.isStatic)&&$Se(e),this.componentId=t,this.baseHash=Vh(USe,t),this.baseStyle=r,XQ.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))i=uf(i,this.staticRulesId);else{var s=hD(Nf(this.rules,e,t,r)),o=dD(Vh(this.baseHash,s)>>>0);if(!t.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,a)}i=uf(i,o),this.staticRulesId=o}else{for(var l=Vh(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d,Nt.env.NODE_ENV!=="production"&&(l=Vh(l,d));else if(d){var h=hD(Nf(d,e,t,r));l=Vh(l,h+u),c+=h}}if(c){var p=dD(l>>>0);t.hasNameForId(this.componentId,p)||t.insertRules(this.componentId,p,r(c,".".concat(p),void 0,this.componentId)),i=uf(i,p)}}return i},n}(),r2=it.createContext(void 0);r2.Consumer;function HSe(n){var e=it.useContext(r2),t=k.useMemo(function(){return function(r,i){if(!r)throw Rc(14);if(sp(r)){var s=r(i);if(Nt.env.NODE_ENV!=="production"&&(s===null||Array.isArray(s)||typeof s!="object"))throw Rc(7);return s}if(Array.isArray(r)||typeof r!="object")throw Rc(8);return i?Gi(Gi({},i),r):r}(n.theme,e)},[n.theme,e]);return n.children?it.createElement(r2.Provider,{value:t},n.children):null}var Ak={},rj=new Set;function jSe(n,e,t){var r=j5(n),i=n,s=!Ck(n),o=e.attrs,a=o===void 0?aP:o,l=e.componentId,c=l===void 0?function(_,C){var A=typeof _!="string"?"sc":Y8(_);Ak[A]=(Ak[A]||0)+1;var P="".concat(A,"-").concat(UQ(oP+A+Ak[A]));return C?"".concat(C,"-").concat(P):P}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(_){return Ck(_)?"styled.".concat(_):"Styled(".concat(WQ(_),")")}(n):u,h=e.displayName&&e.componentId?"".concat(Y8(e.displayName),"-").concat(e.componentId):e.componentId||c,p=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,g=e.shouldForwardProp;if(r&&i.shouldForwardProp){var v=i.shouldForwardProp;if(e.shouldForwardProp){var y=e.shouldForwardProp;g=function(_,C){return v(_,C)&&y(_,C)}}else g=v}var x=new WSe(t,h,r?i.componentStyle:void 0);function w(_,C){return function(A,P,M){var L=A.attrs,I=A.componentStyle,F=A.defaultProps,V=A.foldedComponentIds,j=A.styledComponentId,G=A.target,J=it.useContext(r2),q=tj(),H=A.shouldForwardProp||q.shouldForwardProp;Nt.env.NODE_ENV!=="production"&&k.useDebugValue(j);var D=cSe(P,J,F)||Hv,z=function(me,de,be){for(var Oe,Te=Gi(Gi({},de),{className:void 0,theme:be}),we=0;we<me.length;we+=1){var De=sp(Oe=me[we])?Oe(Te):Oe;for(var pe in De)Te[pe]=pe==="className"?uf(Te[pe],De[pe]):pe==="style"?Gi(Gi({},Te[pe]),De[pe]):De[pe]}return de.className&&(Te.className=uf(Te.className,de.className)),Te}(L,P,D),B=z.as||G,ee={};for(var Y in z)z[Y]===void 0||Y[0]==="$"||Y==="as"||Y==="theme"&&z.theme===D||(Y==="forwardedAs"?ee.as=z.forwardedAs:H&&!H(Y,B)||(ee[Y]=z[Y],H||Nt.env.NODE_ENV!=="development"||U_e(Y)||rj.has(Y)||!uD.has(B)||(rj.add(Y),console.warn('styled-components: it looks like an unknown prop "'.concat(Y,'" is being sent through to the DOM, which will likely trigger a React console error. If you would like automatic filtering of unknown props, you can opt-into that behavior via `<StyleSheetManager shouldForwardProp={...}>` (connect an API like `@emotion/is-prop-valid`) or consider using transient props (`$` prefix for automatic filtering.)')))));var oe=function(me,de){var be=tj(),Oe=me.generateAndInjectStyles(de,be.styleSheet,be.stylis);return Nt.env.NODE_ENV!=="production"&&k.useDebugValue(Oe),Oe}(I,z);Nt.env.NODE_ENV!=="production"&&A.warnTooManyClasses&&A.warnTooManyClasses(oe);var ce=uf(V,j);return oe&&(ce+=" "+oe),z.className&&(ce+=" "+z.className),ee[Ck(B)&&!uD.has(B)?"class":"className"]=ce,ee.ref=M,k.createElement(B,ee)}(b,_,C)}w.displayName=d;var b=it.forwardRef(w);return b.attrs=p,b.componentStyle=x,b.displayName=d,b.shouldForwardProp=g,b.foldedComponentIds=r?uf(i.foldedComponentIds,i.styledComponentId):"",b.styledComponentId=h,b.target=r?i.target:n,Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(_){this._foldedDefaultProps=r?function(C){for(var A=[],P=1;P<arguments.length;P++)A[P-1]=arguments[P];for(var M=0,L=A;M<L.length;M++)fD(C,L[M],!0);return C}({},i.defaultProps,_):_}}),Nt.env.NODE_ENV!=="production"&&(lSe(d,h),b.warnTooManyClasses=function(_,C){var A={},P=!1;return function(M){if(!P&&(A[M]=!0,Object.keys(A).length>=200)){var L=C?' with the id of "'.concat(C,'"'):"";console.warn("Over ".concat(200," classes were generated for component ").concat(_).concat(L,`.
`)+`Consider using the attrs method, together with a style object for frequently changed styles.
Example:
  const Component = styled.div.attrs(props => ({
    style: {
      background: props.background,
    },
  }))\`width: 100%;\`

  <Component />`),P=!0,A={}}}}(d,h)),V5(b,function(){return".".concat(b.styledComponentId)}),s&&GQ(b,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),b}function ij(n,e){for(var t=[n[0]],r=0,i=e.length;r<i;r+=1)t.push(e[r],n[r+1]);return t}var sj=function(n){return Object.assign(n,{isCss:!0})};function lP(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(sp(n)||jv(n))return sj(Nf(ij(aP,rp([n],e,!0))));var r=n;return e.length===0&&r.length===1&&typeof r[0]=="string"?Nf(r):sj(Nf(ij(r,e)))}function gD(n,e,t){if(t===void 0&&(t=Hv),!e)throw Rc(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return n(e,t,lP.apply(void 0,rp([i],s,!1)))};return r.attrs=function(i){return gD(n,e,Gi(Gi({},t),{attrs:Array.prototype.concat(t.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return gD(n,e,Gi(Gi({},t),i))},r}var JQ=function(n){return gD(jSe,n)},tn=JQ;uD.forEach(function(n){tn[n]=JQ(n)});function VSe(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];Nt.env.NODE_ENV!=="production"&&typeof navigator<"u"&&navigator.product==="ReactNative"&&console.warn("`keyframes` cannot be used on ReactNative, only on the web. To do animation in ReactNative please use Animated.");var r=hD(lP.apply(void 0,rp([n],e,!1))),i=UQ(r);return new mD(i,r)}Nt.env.NODE_ENV!=="production"&&typeof navigator<"u"&&navigator.product==="ReactNative"&&console.warn(`It looks like you've imported 'styled-components' on React Native.
Perhaps you're looking to import 'styled-components/native'?
Read more about this at https://www.styled-components.com/docs/basics#react-native`);var pS="__sc-".concat(ip,"__");Nt.env.NODE_ENV!=="production"&&Nt.env.NODE_ENV!=="test"&&typeof window<"u"&&(window[pS]||(window[pS]=0),window[pS]===1&&console.warn(`It looks like there are several instances of 'styled-components' initialized in this application. This may cause dynamic styles to not render properly, errors during the rehydration process, a missing theme prop, and makes your application bigger without good reason.

See https://s-c.sh/2BAXzed for more info.`),window[pS]+=1);const GSe="Document {{ currentFileNo }} of {{ allFilesCount }}",qSe="No renderer for file type: {{{ fileType }}}",XSe="Download file",YSe="Your file is broken. Please check it on your machine.",KSe="Recipients",QSe="Sender",ZSe="Loading...",JSe="Page {{ currentPage }}/{{ allPagesCount }}",eEe={documentNavInfo:GSe,noRendererMessage:qSe,downloadButtonLabel:XSe,brokenFile:YSe,msgPluginRecipients:KSe,msgPluginSender:QSe,pdfPluginLoading:ZSe,pdfPluginPageNumber:JSe},tEe="Dokument {{ currentFileNo }} z {{ allFilesCount }}",nEe="Brak funckji renderującej dla: {{{ fileType }}}",rEe="Pobierz plik",iEe="Twój plik jest uszkodzony. Sprawdź go na swoim komputerze.",sEe="Odbiorcy",oEe="Nadawca",aEe="Wczytywanie...",lEe="Strona {{ currentPage }}/{{ allPagesCount }}",cEe={documentNavInfo:tEe,noRendererMessage:nEe,downloadButtonLabel:rEe,brokenFile:iEe,msgPluginRecipients:sEe,msgPluginSender:oEe,pdfPluginLoading:aEe,pdfPluginPageNumber:lEe},uEe="Documento {{ currentFileNo }} de {{ allFilesCount }}",dEe="No hay procesador para el tipo de archivo: {{{ fileType }}}",hEe="Descargar archivo",fEe="Tu archivo está roto. Compruébalo en tu máquina.",pEe="Destinatarios",mEe="Remitente",gEe="Cargando...",vEe="Página {{ currentPage }}/{{ allPagesCount }}",yEe={documentNavInfo:uEe,noRendererMessage:dEe,downloadButtonLabel:hEe,brokenFile:fEe,msgPluginRecipients:pEe,msgPluginSender:mEe,pdfPluginLoading:gEe,pdfPluginPageNumber:vEe},xEe="Dokument {{ currentFileNo }} von {{ allFilesCount }}",wEe="Kein Renderer für Dateityp: {{{ fileType }}}",bEe="Datei herunterladen",_Ee="Ihre Datei ist defekt. Bitte überprüfen Sie sie auf Ihrem Rechner.",SEe="Empfänger",EEe="Absender",MEe="Wird geladen...",CEe="Seite {{ currentPage }}/{{ allPagesCount }}",AEe={documentNavInfo:xEe,noRendererMessage:wEe,downloadButtonLabel:bEe,brokenFile:_Ee,msgPluginRecipients:SEe,msgPluginSender:EEe,pdfPluginLoading:MEe,pdfPluginPageNumber:CEe},TEe="Documento {{ currentFileNo }} di {{ allFilesCount }}",PEe="Nessun renderer per il tipo di file: {{{ fileType }}}",REe="Scarica file",LEe="Il tuo file è danneggiato. Controllalo sul tuo computer.",kEe="Destinatari",IEe="Mittente",OEe="Caricamento in corso...",DEe="Pagina {{ currentPage }}/{{ allPagesCount }}",NEe={documentNavInfo:TEe,noRendererMessage:PEe,downloadButtonLabel:REe,brokenFile:LEe,msgPluginRecipients:kEe,msgPluginSender:IEe,pdfPluginLoading:OEe,pdfPluginPageNumber:DEe},FEe="Documento {{ currentFileNo }} de {{ allFilesCount }}",zEe="Nenhum renderizador para o tipo de arquivo: {{{ fileType }}}",BEe="Baixar arquivo",$Ee="Seu arquivo está quebrado. Por favor, verifique-o em sua máquina.",UEe="Destinatários",WEe="Remetente",HEe="Carregando...",jEe="Página {{ currentPage }}/{{ allPagesCount }}",VEe={documentNavInfo:FEe,noRendererMessage:zEe,downloadButtonLabel:BEe,brokenFile:$Ee,msgPluginRecipients:UEe,msgPluginSender:WEe,pdfPluginLoading:HEe,pdfPluginPageNumber:jEe},GEe="Document {{ currentFileNo }} de {{ allFilesCount }}",qEe="Aucun moteur de rendu pour le type de fichier : {{{ fileType }}}",XEe="Télécharger le fichier",YEe="Votre fichier est cassé. Veuillez le vérifier sur votre machine.",KEe="Destinataires",QEe="Expéditeur",ZEe="Chargement...",JEe="Page {{ currentPage }}/{{ allPagesCount }}",eMe={documentNavInfo:GEe,noRendererMessage:qEe,downloadButtonLabel:XEe,brokenFile:YEe,msgPluginRecipients:KEe,msgPluginSender:QEe,pdfPluginLoading:ZEe,pdfPluginPageNumber:JEe},tMe="مستند {{ currentFileNo }} من {{ allFilesCount }}",nMe="{{{ fileType }}} : لا يمكننا عرض هذا النوع من الملفات",rMe="تحميل الملف",iMe="الملف تالف، يرجى التحقق منه على جهازك الخاص.",sMe="المستلمين",oMe="المرسل",aMe="تحميل ...",lMe=" {{ allPagesCount }} \\ {{ currentPage }} صفحة ",cMe={documentNavInfo:tMe,noRendererMessage:nMe,downloadButtonLabel:rMe,brokenFile:iMe,msgPluginRecipients:sMe,msgPluginSender:oMe,pdfPluginLoading:aMe,pdfPluginPageNumber:lMe},uMe="Dokument {{ currentFileNo }} od {{ allFilesCount }}",dMe="Ne postoji pregledač za tip fajla: {{ fileType }}",hMe="Preuzimanje fajla",fMe="Vaš fajl nije dobar. Molimo Vas da probate da ga otvorite na vašem računaru.",pMe="Primaoci",mMe="Pošiljalac",gMe="Učitavanje...",vMe="Strana {{ currentPage }}/{{ allPagesCount }}",yMe={documentNavInfo:uMe,noRendererMessage:dMe,downloadButtonLabel:hMe,brokenFile:fMe,msgPluginRecipients:pMe,msgPluginSender:mMe,pdfPluginLoading:gMe,pdfPluginPageNumber:vMe},xMe="Документ {{ currentFileNo }} od {{ allFilesCount }}",wMe="Не постоји прегледач за тип фајла: {{ fileType }}",bMe="Преузимање фајла",_Me="Ваш фајл није добар. Молимо Вас да пробате да га отворите на вашем рачунару.",SMe="Примаоци",EMe="Пошиљалац",MMe="Учитавање...",CMe="Страна {{ currentPage }}/{{ allPagesCount }}",AMe={documentNavInfo:xMe,noRendererMessage:wMe,downloadButtonLabel:bMe,brokenFile:_Me,msgPluginRecipients:SMe,msgPluginSender:EMe,pdfPluginLoading:MMe,pdfPluginPageNumber:CMe},TMe="ファイル {{ currentFileNo }} / {{ allFilesCount }}",PMe="ファイルタイプに対応したレンダラーはありません: {{ fileType }}",RMe="ダウンロード",LMe="ファイルが壊れています。あなたのマシンでファイルを確認してください。",kMe="受信者",IMe="送信者",OMe="ローティング中...",DMe="ページ {{ currentPage }}/{{ allPagesCount }}",NMe={documentNavInfo:TMe,noRendererMessage:PMe,downloadButtonLabel:RMe,brokenFile:LMe,msgPluginRecipients:kMe,msgPluginSender:IMe,pdfPluginLoading:OMe,pdfPluginPageNumber:DMe},FMe="Документ {{ currentFileNo }} из {{ allFilesCount }}",zMe="Данный тип файла не поддерживается рендером: {{{ fileType }}}",BMe="Скачать файл",$Me="Ваш файл сломан. Пожалуйста, проверьте его на своём комьютере.",UMe="Получатели",WMe="Отправитель",HMe="Загрузка...",jMe="Страница {{ currentPage }}/{{ allPagesCount }}",VMe={documentNavInfo:FMe,noRendererMessage:zMe,downloadButtonLabel:BMe,brokenFile:$Me,msgPluginRecipients:UMe,msgPluginSender:WMe,pdfPluginLoading:HMe,pdfPluginPageNumber:jMe},GMe="Dokument {{ currentFileNo }} av {{ allFilesCount }}",qMe="Ingen renderare för filtypen: {{{ fileType }}}",XMe="Ladda ner",YMe="Filen är trasig. Var vänlig kontrollera den på din maskin.",KMe="Mottagare",QMe="Avsändare",ZMe="Laddar...",JMe="Sida {{ currentPage }}/{{ allPagesCount }}",eCe={documentNavInfo:GMe,noRendererMessage:qMe,downloadButtonLabel:XMe,brokenFile:YMe,msgPluginRecipients:KMe,msgPluginSender:QMe,pdfPluginLoading:ZMe,pdfPluginPageNumber:JMe},vD={en:eEe,pl:cEe,es:yEe,de:AEe,it:NEe,pt:VEe,fr:eMe,ar:cMe,sr:yMe,sr_cyr:AMe,ja:NMe,ru:VMe,se:eCe},G5="en",eZ="SET_ALL_DOCUMENTS",tZ="SET_DOCUMENT_LOADING",nZ="NEXT_DOCUMENT",rZ="PREVIOUS_DOCUMENT",iZ="UPDATE_CURRENT_DOCUMENT",sZ="SET_RENDERER_RECT",oZ="SET_MAIN_CONFIG",tCe=(n,e)=>({type:eZ,documents:n,initialActiveDocument:e}),Tk=n=>({type:tZ,value:n}),q5=()=>({type:nZ}),X5=()=>({type:rZ}),yD=n=>({type:iZ,document:n}),nCe=n=>({type:sZ,rect:n}),rCe=n=>({type:oZ,config:n}),i2={currentFileNo:0,documents:[],documentLoading:!0,currentDocument:void 0,rendererRect:void 0,config:{},pluginRenderers:[],language:G5},iCe=(n=i2,e)=>{switch(e.type){case eZ:{const{documents:t,initialActiveDocument:r}=e;return{...n,documents:t,currentDocument:r||t[0]||null,currentFileNo:r&&t.includes(r)?t.indexOf(r):i2.currentFileNo}}case tZ:{const{value:t}=e;return{...n,documentLoading:t}}case nZ:{if(n.currentFileNo>=n.documents.length-1)return n;const t=n.currentFileNo+1;return n.onDocumentChange&&n.onDocumentChange(n.documents[t]),{...n,currentFileNo:t,currentDocument:n.documents[t],documentLoading:!0}}case rZ:{if(n.currentFileNo<=0)return n;const t=n.currentFileNo-1;return n.onDocumentChange&&n.onDocumentChange(n.documents[t]),{...n,currentFileNo:n.currentFileNo-1,currentDocument:n.documents[t],documentLoading:!0}}case iZ:{const{document:t}=e;return{...n,currentDocument:t,currentFileNo:n.documents.findIndex(r=>r.uri===t.uri)}}case sZ:{const{rect:t}=e;return{...n,rendererRect:t}}case oZ:{const{config:t}=e;return{...n,config:t}}default:return n}},$d=k.createContext({state:i2,dispatch:()=>null}),sCe=k.forwardRef((n,e)=>{const{children:t,documents:r,config:i,pluginRenderers:s,prefetchMethod:o,requestHeaders:a,initialActiveDocument:l,language:c,activeDocument:u,onDocumentChange:d}=n,[h,p]=k.useReducer(iCe,{...i2,documents:r||[],currentDocument:r&&r.length?l||r[0]:void 0,config:i,pluginRenderers:s,prefetchMethod:o,requestHeaders:a,currentFileNo:l?r.findIndex(g=>g===l)??0:0,language:c&&vD[c]?c:G5,activeDocument:u,onDocumentChange:d});return k.useEffect(()=>{p(tCe(r,l)),i&&p(rCe(i))},[r,i,l]),k.useEffect(()=>{u&&p(yD(u))},[u]),k.useImperativeHandle(e,()=>({prev(){p(X5())},next(){p(q5())}}),[p]),he.jsx($d.Provider,{value:{state:h,dispatch:p},children:t})}),oCe=lP`
  background-color: ${n=>n.theme.primary};
  color: ${n=>n.theme.textPrimary};
`,aCe=lP`
  background-color: ${n=>n.theme.secondary};
  color: ${n=>n.theme.textSecondary};
`,cP=tn.button`
  ${oCe}
  display: flex;
  justify-content: center;
  align-items: center;
  width: 35px;
  height: 35px;
  padding: 0;
  margin: 0 0 0 5px;
  text-align: center;
  font-size: 18px;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  opacity: ${n=>n.disabled?.4:1};
  pointer-events: ${n=>n.disabled?"none":"all"};
  box-shadow: 2px 2px 3px #00000033;

  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`,aZ=tn.a`
  display: flex;
  justify-content: center;
  align-items: center;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  background-color: ${n=>n.theme.primary};
  color: ${n=>n.theme.textPrimary};
  box-shadow: 2px 2px 3px #00000033;

  width: 35px;
  height: 35px;
  font-size: 18px;
  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`;tn(cP)``;const lCe=tn(cP)`
  ${aCe}
`,cCe=n=>he.jsx(lZ,{...n}),uCe=n=>he.jsx(lZ,{...n,reverse:!0}),lZ=({color:n,size:e,reverse:t})=>he.jsx("svg",{width:e||"100%",height:e||"100%",style:{transform:`${t?"rotate(180deg)":""}`},id:"arrow_left",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:he.jsx("path",{clipRule:"evenodd",d:"M31.106,15H3.278l8.325-8.293  c0.391-0.391,0.391-1.024,0-1.414c-0.391-0.391-1.024-0.391-1.414,0l-9.9,9.899c-0.385,0.385-0.385,1.029,0,1.414l9.9,9.9  c0.391,0.391,1.024,0.391,1.414,0c0.391-0.391,0.391-1.024,0-1.414L3.278,17h27.828c0.552,0,1-0.448,1-1  C32.106,15.448,31.658,15,31.106,15z",fill:n||"#aaa",fillRule:"evenodd",id:"Arrow_Back"})}),dCe=n=>{const{color:e,size:t}=n;return he.jsx("svg",{width:t||"100%",height:t||"100%",version:"1.1",id:"Icons",viewBox:"0 0 32 32",xmlSpace:"preserve",style:{alignSelf:"center",justifySelf:"center"},children:he.jsxs("g",{children:[he.jsx("path",{fill:e||"#aaa",d:"M16,2c-0.6,0-1,0.4-1,1v5c0,0.6,0.4,1,1,1s1-0.4,1-1V3C17,2.4,16.6,2,16,2z"}),he.jsx("path",{fill:e||"#aaa",d:`M7.5,6.1c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l3.5,3.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.5,6.1
		z`}),he.jsx("path",{fill:e||"#aaa",d:"M9,16c0-0.6-0.4-1-1-1H3c-0.6,0-1,0.4-1,1s0.4,1,1,1h5C8.6,17,9,16.6,9,16z"}),he.jsx("path",{fill:e||"#aaa",d:`M9.6,20.9l-3.5,3.5c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l3.5-3.5c0.4-0.4,0.4-1,0-1.4
		S10,20.6,9.6,20.9z`}),he.jsx("path",{fill:e||"#aaa",d:"M16,23c-0.6,0-1,0.4-1,1v5c0,0.6,0.4,1,1,1s1-0.4,1-1v-5C17,23.4,16.6,23,16,23z"}),he.jsx("path",{fill:e||"#aaa",d:`M22.4,20.9c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l3.5,3.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4
		L22.4,20.9z`}),he.jsx("path",{fill:e||"#aaa",d:"M29,15h-5c-0.6,0-1,0.4-1,1s0.4,1,1,1h5c0.6,0,1-0.4,1-1S29.6,15,29,15z"}),he.jsx("path",{fill:e||"#aaa",d:`M21.7,11.3c0.3,0,0.5-0.1,0.7-0.3l3.5-3.5c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-3.5,3.5c-0.4,0.4-0.4,1,0,1.4
		C21.1,11.2,21.4,11.3,21.7,11.3z`})]})})};/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var hCe=Object.prototype.toString,h0=Array.isArray||function(n){return hCe.call(n)==="[object Array]"};function Y5(n){return typeof n=="function"}function fCe(n){return h0(n)?"array":typeof n}function Pk(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function oj(n,e){return n!=null&&typeof n=="object"&&e in n}function pCe(n,e){return n!=null&&typeof n!="object"&&n.hasOwnProperty&&n.hasOwnProperty(e)}var mCe=RegExp.prototype.test;function gCe(n,e){return mCe.call(n,e)}var vCe=/\S/;function yCe(n){return!gCe(vCe,n)}var xCe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function wCe(n){return String(n).replace(/[&<>"'`=\/]/g,function(e){return xCe[e]})}var bCe=/\s*/,_Ce=/\s+/,aj=/\s*=/,SCe=/\s*\}/,ECe=/#|\^|\/|>|\{|&|=|!/;function MCe(n,e){if(!n)return[];var t=!1,r=[],i=[],s=[],o=!1,a=!1,l="",c=0;function u(){if(o&&!a)for(;s.length;)delete i[s.pop()];else s=[];o=!1,a=!1}var d,h,p;function g(M){if(typeof M=="string"&&(M=M.split(_Ce,2)),!h0(M)||M.length!==2)throw new Error("Invalid tags: "+M);d=new RegExp(Pk(M[0])+"\\s*"),h=new RegExp("\\s*"+Pk(M[1])),p=new RegExp("\\s*"+Pk("}"+M[1]))}g(e||go.tags);for(var v=new fb(n),y,x,w,b,_,C;!v.eos();){if(y=v.pos,w=v.scanUntil(d),w)for(var A=0,P=w.length;A<P;++A)b=w.charAt(A),yCe(b)?(s.push(i.length),l+=b):(a=!0,t=!0,l+=" "),i.push(["text",b,y,y+1]),y+=1,b===`
`&&(u(),l="",c=0,t=!1);if(!v.scan(d))break;if(o=!0,x=v.scan(ECe)||"name",v.scan(bCe),x==="="?(w=v.scanUntil(aj),v.scan(aj),v.scanUntil(h)):x==="{"?(w=v.scanUntil(p),v.scan(SCe),v.scanUntil(h),x="&"):w=v.scanUntil(h),!v.scan(h))throw new Error("Unclosed tag at "+v.pos);if(x==">"?_=[x,w,y,v.pos,l,c,t]:_=[x,w,y,v.pos],c++,i.push(_),x==="#"||x==="^")r.push(_);else if(x==="/"){if(C=r.pop(),!C)throw new Error('Unopened section "'+w+'" at '+y);if(C[1]!==w)throw new Error('Unclosed section "'+C[1]+'" at '+y)}else x==="name"||x==="{"||x==="&"?a=!0:x==="="&&g(w)}if(u(),C=r.pop(),C)throw new Error('Unclosed section "'+C[1]+'" at '+v.pos);return ACe(CCe(i))}function CCe(n){for(var e=[],t,r,i=0,s=n.length;i<s;++i)t=n[i],t&&(t[0]==="text"&&r&&r[0]==="text"?(r[1]+=t[1],r[3]=t[3]):(e.push(t),r=t));return e}function ACe(n){for(var e=[],t=e,r=[],i,s,o=0,a=n.length;o<a;++o)switch(i=n[o],i[0]){case"#":case"^":t.push(i),r.push(i),t=i[4]=[];break;case"/":s=r.pop(),s[5]=i[2],t=r.length>0?r[r.length-1][4]:e;break;default:t.push(i)}return e}function fb(n){this.string=n,this.tail=n,this.pos=0}fb.prototype.eos=function(){return this.tail===""};fb.prototype.scan=function(n){var e=this.tail.match(n);if(!e||e.index!==0)return"";var t=e[0];return this.tail=this.tail.substring(t.length),this.pos+=t.length,t};fb.prototype.scanUntil=function(n){var e=this.tail.search(n),t;switch(e){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,e),this.tail=this.tail.substring(e)}return this.pos+=t.length,t};function Vv(n,e){this.view=n,this.cache={".":this.view},this.parent=e}Vv.prototype.push=function(n){return new Vv(n,this)};Vv.prototype.lookup=function(n){var e=this.cache,t;if(e.hasOwnProperty(n))t=e[n];else{for(var r=this,i,s,o,a=!1;r;){if(n.indexOf(".")>0)for(i=r.view,s=n.split("."),o=0;i!=null&&o<s.length;)o===s.length-1&&(a=oj(i,s[o])||pCe(i,s[o])),i=i[s[o++]];else i=r.view[n],a=oj(r.view,n);if(a){t=i;break}r=r.parent}e[n]=t}return Y5(t)&&(t=t.call(this.view)),t};function hs(){this.templateCache={_cache:{},set:function(n,e){this._cache[n]=e},get:function(n){return this._cache[n]},clear:function(){this._cache={}}}}hs.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};hs.prototype.parse=function(n,e){var t=this.templateCache,r=n+":"+(e||go.tags).join(":"),i=typeof t<"u",s=i?t.get(r):void 0;return s==null&&(s=MCe(n,e),i&&t.set(r,s)),s};hs.prototype.render=function(n,e,t,r){var i=this.getConfigTags(r),s=this.parse(n,i),o=e instanceof Vv?e:new Vv(e,void 0);return this.renderTokens(s,o,t,n,r)};hs.prototype.renderTokens=function(n,e,t,r,i){for(var s="",o,a,l,c=0,u=n.length;c<u;++c)l=void 0,o=n[c],a=o[0],a==="#"?l=this.renderSection(o,e,t,r,i):a==="^"?l=this.renderInverted(o,e,t,r,i):a===">"?l=this.renderPartial(o,e,t,i):a==="&"?l=this.unescapedValue(o,e):a==="name"?l=this.escapedValue(o,e,i):a==="text"&&(l=this.rawValue(o)),l!==void 0&&(s+=l);return s};hs.prototype.renderSection=function(n,e,t,r,i){var s=this,o="",a=e.lookup(n[1]);function l(d){return s.render(d,e,t,i)}if(a){if(h0(a))for(var c=0,u=a.length;c<u;++c)o+=this.renderTokens(n[4],e.push(a[c]),t,r,i);else if(typeof a=="object"||typeof a=="string"||typeof a=="number")o+=this.renderTokens(n[4],e.push(a),t,r,i);else if(Y5(a)){if(typeof r!="string")throw new Error("Cannot use higher-order sections without the original template");a=a.call(e.view,r.slice(n[3],n[5]),l),a!=null&&(o+=a)}else o+=this.renderTokens(n[4],e,t,r,i);return o}};hs.prototype.renderInverted=function(n,e,t,r,i){var s=e.lookup(n[1]);if(!s||h0(s)&&s.length===0)return this.renderTokens(n[4],e,t,r,i)};hs.prototype.indentPartial=function(n,e,t){for(var r=e.replace(/[^ \t]/g,""),i=n.split(`
`),s=0;s<i.length;s++)i[s].length&&(s>0||!t)&&(i[s]=r+i[s]);return i.join(`
`)};hs.prototype.renderPartial=function(n,e,t,r){if(t){var i=this.getConfigTags(r),s=Y5(t)?t(n[1]):t[n[1]];if(s!=null){var o=n[6],a=n[5],l=n[4],c=s;a==0&&l&&(c=this.indentPartial(s,l,o));var u=this.parse(c,i);return this.renderTokens(u,e,t,c,r)}}};hs.prototype.unescapedValue=function(n,e){var t=e.lookup(n[1]);if(t!=null)return t};hs.prototype.escapedValue=function(n,e,t){var r=this.getConfigEscape(t)||go.escape,i=e.lookup(n[1]);if(i!=null)return typeof i=="number"&&r===go.escape?String(i):r(i)};hs.prototype.rawValue=function(n){return n[1]};hs.prototype.getConfigTags=function(n){return h0(n)?n:n&&typeof n=="object"?n.tags:void 0};hs.prototype.getConfigEscape=function(n){if(n&&typeof n=="object"&&!h0(n))return n.escape};var go={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(n){bw.templateCache=n},get templateCache(){return bw.templateCache}},bw=new hs;go.clearCache=function(){return bw.clearCache()};go.parse=function(n,e){return bw.parse(n,e)};go.render=function(n,e,t,r){if(typeof n!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+fCe(n)+'" was given as the first argument for mustache#render(template, view, partials)');return bw.render(n,e,t,r)};go.escape=wCe;go.Scanner=fb;go.Context=Vv;go.Writer=hs;const bp=()=>{const{state:{language:n}}=k.useContext($d),e=vD[G5];return{t:k.useCallback((t,r)=>{const i=vD[n];return i[t]?go.render(i[t],r):e[t]?go.render(e[t],r):t},[n,e])}},TCe=()=>{const{state:{currentDocument:n,currentFileNo:e,documents:t},dispatch:r}=k.useContext($d),{t:i}=bp();if(t.length<=1||!n)return null;let s=n.uri||"";const o=s==null?void 0:s.split("/");return o.length&&(s=o[o.length-1]),he.jsxs(PCe,{id:"doc-nav",children:[he.jsx("p",{id:"doc-nav-info",children:i("documentNavInfo",{currentFileNo:e+1,allFilesCount:t.length})}),he.jsx(cZ,{id:"doc-nav-prev",onClick:()=>r(X5()),disabled:e===0,children:he.jsx(cCe,{color:"#fff",size:"60%"})}),he.jsx(RCe,{id:"doc-nav-next",onClick:()=>r(q5()),disabled:e>=t.length-1,children:he.jsx(uCe,{color:"#fff",size:"60%"})})]})},PCe=tn.div`
  min-width: 150px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  margin: 0 10px;
  color: ${n=>n.theme.textPrimary};
`,cZ=tn(lCe)`
  width: 30px;
  height: 30px;
  margin: 0 5px 0 10px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`,RCe=tn(cZ)`
  margin: 0 5px;
`,uZ=(n,e)=>{var t;if(!n)return"";let r="";if(n.fileName)r=n.fileName;else{r=n.uri||"",r=decodeURI(r),e||(r=(t=r==null?void 0:r.split("?"))==null?void 0:t[0]);const i=r==null?void 0:r.split("/");i.length&&(r=i[i.length-1])}return r},LCe=()=>{var n,e;const{state:{config:t,currentDocument:r}}=k.useContext($d);if(!r||(n=t==null?void 0:t.header)!=null&&n.disableFileName)return null;const i=uZ(r,((e=t==null?void 0:t.header)==null?void 0:e.retainURLParams)||!1);return he.jsx(kCe,{id:"file-name","data-testid":"file-name",children:i})},kCe=tn.div`
  flex: 1;
  text-align: left;
  color: ${n=>n.theme.textPrimary};
  font-weight: bold;
  margin: 0 10px;
  overflow: hidden;
`,ICe=()=>{var n,e,t;const{state:r,dispatch:i}=k.useContext($d),{config:s}=r;return(n=s==null?void 0:s.header)!=null&&n.disableHeader?null:((t=(e=s==null?void 0:s.header)==null?void 0:e.overrideComponent)==null?void 0:t.call(e,r,()=>i(X5()),()=>i(q5())))||he.jsxs(OCe,{id:"header-bar","data-testid":"header-bar",children:[he.jsx(LCe,{}),he.jsx(TCe,{})]})},OCe=tn.div`
  display: flex;
  justify-content: flex-end;
  align-items: center;
  z-index: 1;
  padding: 0 10px;
  background-color: ${n=>n.theme.primary};
  font-size: 16px;
  min-height: 50px;

  @media (max-width: 768px) {
    min-height: 30px;
    padding: 5px;
    font-size: 10px;
  }
`,K5=({documentURI:n,signal:e,fileLoaderComplete:t,readerTypeFunction:r,headers:i})=>fetch(n,{signal:e,headers:i}).then(async s=>{const o=await s.blob(),a=new FileReader;switch(a.addEventListener("loadend",()=>t(a)),r){case"arrayBuffer":a.readAsArrayBuffer(o);break;case"binaryString":a.readAsBinaryString(o);break;case"dataURL":a.readAsDataURL(o);break;case"text":a.readAsText(o);break}}).catch(s=>s),DCe=n=>K5({...n,readerTypeFunction:"arrayBuffer"}),dZ=n=>K5({...n,readerTypeFunction:"dataURL"}),hZ=n=>K5({...n,readerTypeFunction:"text"}),NCe=dZ,FCe=()=>{const{state:{currentDocument:n,pluginRenderers:e}}=k.useContext($d),[t,r]=k.useState();return k.useEffect(()=>{if(!n)return;if(!n.fileType){r(void 0);return}const i=[];e==null||e.forEach(o=>{n.fileType!==void 0&&o.fileTypes.indexOf(n.fileType)>=0&&i.push(o)});const[s]=i.sort((o,a)=>a.weight-o.weight);r(s&&s!==void 0?()=>s:null)},[n,e]),{CurrentRenderer:t}},zCe=()=>{const{state:n,dispatch:e}=k.useContext($d),{currentFileNo:t,currentDocument:r,prefetchMethod:i}=n,{CurrentRenderer:s}=FCe(),o=(r==null?void 0:r.uri)||"";return k.useEffect(()=>{if(!r||r.fileType!==void 0)return;const a=new AbortController,{signal:l}=a;return fetch(o,{method:i||o.startsWith("blob:")?"GET":"HEAD",signal:l,headers:n==null?void 0:n.requestHeaders}).then(c=>{const u=c.headers.get("content-type"),d=(u==null?void 0:u.split(";"))||[],h=d.length?d[0]:void 0;e(yD({...r,fileType:h||void 0}))}).catch(c=>{if((c==null?void 0:c.name)!=="AbortError")throw c}),()=>{a.abort()}},[t,o,r]),k.useEffect(()=>{var a;if(!r||s===void 0)return;const l=new AbortController,{signal:c}=l,u={documentURI:o,signal:c,fileLoaderComplete:d=>{if(!r||!d){e(Tk(!1));return}const h={...r};d.result!==null&&(h.fileData=d.result),e(yD(h)),e(Tk(!1))},headers:n==null?void 0:n.requestHeaders};return s===null?e(Tk(!1)):s.fileLoader!==void 0?(a=s.fileLoader)==null||a.call(s,u):NCe(u),()=>{l.abort()}},[s,t]),{state:n,dispatch:e,CurrentRenderer:s}},BCe=()=>{const[n,e]=k.useState({width:void 0,height:void 0});return k.useEffect(()=>{function t(){e({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",t),t(),()=>window.removeEventListener("resize",t)},[]),n},lj=({children:n})=>{var e,t;const{state:r}=k.useContext($d),{config:i}=r,[s,o]=k.useState(((e=i==null?void 0:i.loadingRenderer)==null?void 0:e.showLoadingTimeout)===!1);return k.useEffect(()=>{var a;setTimeout(()=>{o(!0)},typeof((a=i==null?void 0:i.loadingRenderer)==null?void 0:a.showLoadingTimeout)=="number"?i.loadingRenderer.showLoadingTimeout:500)},[(t=i==null?void 0:i.loadingRenderer)==null?void 0:t.showLoadingTimeout]),s?he.jsx(he.Fragment,{children:n}):null},$Ce=({documents:n,documentLoading:e,config:t,currentDocument:r,fileName:i,CurrentRenderer:s,state:o,t:a})=>{var l,c;if(n.length)if(e){if(t&&(l=t==null?void 0:t.loadingRenderer)!=null&&l.overrideComponent){const u=t.loadingRenderer.overrideComponent;return he.jsx(lj,{children:he.jsx(u,{document:r,fileName:i})})}return he.jsx(lj,{children:he.jsx(WCe,{id:"loading-renderer","data-testid":"loading-renderer",children:he.jsx(jCe,{children:he.jsx(dCe,{color:"#444",size:40})})})})}else{if(s)return he.jsx(s,{mainState:o});if(s===void 0)return null;if(t&&(c=t==null?void 0:t.noRenderer)!=null&&c.overrideComponent){const u=t.noRenderer.overrideComponent;return he.jsx(u,{document:r,fileName:i})}return he.jsxs("div",{id:"no-renderer","data-testid":"no-renderer",children:[a("noRendererMessage",{fileType:(r==null?void 0:r.fileType)??""}),he.jsx(VCe,{id:"no-renderer-download",href:r==null?void 0:r.uri,download:r==null?void 0:r.uri,children:a("downloadButtonLabel")})]})}else return he.jsx("div",{id:"no-documents"})},UCe=()=>{var n;const{state:e,dispatch:t,CurrentRenderer:r}=zCe(),{documents:i,documentLoading:s,currentDocument:o,config:a}=e,l=BCe(),{t:c}=bp(),u=k.useCallback(h=>{h&&t(nCe(h==null?void 0:h.getBoundingClientRect()))},[l,t]),d=uZ(o,((n=a==null?void 0:a.header)==null?void 0:n.retainURLParams)||!1);return he.jsx("div",{id:"proxy-renderer","data-testid":"proxy-renderer",ref:u,children:he.jsx($Ce,{state:e,documents:i,documentLoading:s,config:a,currentDocument:o,fileName:d,CurrentRenderer:r,t:c})})},WCe=tn.div`
  display: flex;
  flex: 1;
  height: 75px;
  align-items: center;
  justify-content: center;
`,HCe=VSe`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,jCe=tn.div`
  animation-name: ${HCe};
  animation-duration: 4s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
`,VCe=tn(aZ)`
  width: 130px;
  height: 30px;
  background-color: ${n=>n.theme.primary};
  @media (max-width: 768px) {
    width: 125px;
    height: 25px;
  }
`,cj={primary:"#fff",secondary:"#000",tertiary:"#ffffff99",textPrimary:"#000",textSecondary:"#fff",textTertiary:"#00000044",disableThemeScrollbar:!1},zc=n=>{const{mainState:{currentDocument:e},children:t}=n;return e?he.jsx(GCe,{id:"image-renderer",...n,children:t||he.jsx(qCe,{id:"image-img",src:e.fileData})}):null};zc.fileTypes=[];zc.weight=0;const GCe=tn.div`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  background-color: #fff;
`,qCe=tn.img`
  max-width: 95%;
  max-height: 95%;
`,Q5=n=>he.jsx(zc,{...n});Q5.fileTypes=["bmp","image/bmp"];Q5.weight=0;const uP=({mainState:{currentDocument:n}})=>(k.useEffect(()=>{const e=n==null?void 0:n.fileData;let t="";const r=(e==null?void 0:e.replace(/^data:text\/html;(?:charset=([^;]*);)?base64,/,(l,c)=>(t=c,"")))||"";let i=window.atob(r);if(t){const l=new Uint8Array(i.length);for(let c=0;c<i.length;c++)l[c]=i.charCodeAt(c);i=new TextDecoder(t).decode(l)}const s=document.getElementById("html-body"),o=(s==null?void 0:s.contentWindow)&&s.contentWindow;if(!o)return;const a=o.document;a.open(),a.write(`${i}`),a.close()},[n]),he.jsx(XCe,{id:"html-renderer",children:he.jsx(YCe,{id:"html-body",sandbox:"allow-same-origin"})}));uP.fileTypes=["htm","html","text/htm","text/html"];uP.weight=0;uP.fileLoader=dZ;const XCe=tn.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0 30px;
`,YCe=tn.iframe`
  height: 100%;
  padding: 15px;
  margin: 20px 0 20px 0;
  border: 1px solid ${n=>n.theme.secondary};
`,Z5=n=>he.jsx(zc,{...n});Z5.fileTypes=["jpg","jpeg","image/jpg","image/jpeg"];Z5.weight=0;const dP=({mainState:{currentDocument:n}})=>n?he.jsx(KCe,{id:"msdoc-renderer",children:he.jsx(QCe,{id:"msdoc-iframe",title:"msdoc-iframe",src:`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(n.uri)}`,frameBorder:"0"})}):null,ah={odt:["odt","application/vnd.oasis.opendocument.text"],doc:["doc","application/msword"],docx:["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/octet-stream"],xls:["xls","application/vnd.ms-excel"],xlsx:["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],ppt:["ppt","application/vnd.ms-powerpoint"],pptx:["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"]};dP.fileTypes=[...ah.odt,...ah.doc,...ah.docx,...ah.xls,...ah.xlsx,...ah.ppt,...ah.pptx];dP.weight=0;dP.fileLoader=({fileLoaderComplete:n})=>n();const KCe=tn.div`
  width: 100%;
`,QCe=tn.iframe`
  width: 100%;
  height: 100%;
  border: 0;
`;var Vr={},hP={};hP.byteLength=eAe;hP.toByteArray=nAe;hP.fromByteArray=sAe;var vl=[],jo=[],ZCe=typeof Uint8Array<"u"?Uint8Array:Array,Rk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var lm=0,JCe=Rk.length;lm<JCe;++lm)vl[lm]=Rk[lm],jo[Rk.charCodeAt(lm)]=lm;jo[45]=62;jo[95]=63;function fZ(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function eAe(n){var e=fZ(n),t=e[0],r=e[1];return(t+r)*3/4-r}function tAe(n,e,t){return(e+t)*3/4-t}function nAe(n){var e,t=fZ(n),r=t[0],i=t[1],s=new ZCe(tAe(n,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=jo[n.charCodeAt(l)]<<18|jo[n.charCodeAt(l+1)]<<12|jo[n.charCodeAt(l+2)]<<6|jo[n.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=jo[n.charCodeAt(l)]<<2|jo[n.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=jo[n.charCodeAt(l)]<<10|jo[n.charCodeAt(l+1)]<<4|jo[n.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function rAe(n){return vl[n>>18&63]+vl[n>>12&63]+vl[n>>6&63]+vl[n&63]}function iAe(n,e,t){for(var r,i=[],s=e;s<t;s+=3)r=(n[s]<<16&16711680)+(n[s+1]<<8&65280)+(n[s+2]&255),i.push(rAe(r));return i.join("")}function sAe(n){for(var e,t=n.length,r=t%3,i=[],s=16383,o=0,a=t-r;o<a;o+=s)i.push(iAe(n,o,o+s>a?a:o+s));return r===1?(e=n[t-1],i.push(vl[e>>2]+vl[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],i.push(vl[e>>10]+vl[e>>4&63]+vl[e<<2&63]+"=")),i.join("")}var J5={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */J5.read=function(n,e,t,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=t?i-1:0,h=t?-1:1,p=n[e+d];for(d+=h,s=p&(1<<-u)-1,p>>=-u,u+=a;u>0;s=s*256+n[e+d],d+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=o*256+n[e+d],d+=h,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(p?-1:1)*o*Math.pow(2,s-r)};J5.write=function(n,e,t,r,i,s){var o,a,l,c=s*8-i-1,u=(1<<c)-1,d=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,g=r?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?e+=h/l:e+=h*Math.pow(2,1-d),e*l>=2&&(o++,l/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(e*l-1)*Math.pow(2,i),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;n[t+p]=a&255,p+=g,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;n[t+p]=o&255,p+=g,o/=256,c-=8);n[t+p-g]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=hP,t=J5,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=u,n.SlowBuffer=C,n.INSPECT_MAX_BYTES=50;const i=2147483647;n.kMaxLength=i;const{Uint8Array:s,ArrayBuffer:o,SharedArrayBuffer:a}=globalThis;u.TYPED_ARRAY_SUPPORT=l(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const T=new s(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,s.prototype),Object.setPrototypeOf(T,N),T.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function c(T){if(T>i)throw new RangeError('The value "'+T+'" is invalid for option "size"');const N=new s(T);return Object.setPrototypeOf(N,u.prototype),N}function u(T,N,U){if(typeof T=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(T)}return d(T,N,U)}u.poolSize=8192;function d(T,N,U){if(typeof T=="string")return v(T,N);if(o.isView(T))return x(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(Ce(T,o)||T&&Ce(T.buffer,o)||typeof a<"u"&&(Ce(T,a)||T&&Ce(T.buffer,a)))return w(T,N,U);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ne=T.valueOf&&T.valueOf();if(ne!=null&&ne!==T)return u.from(ne,N,U);const se=b(T);if(se)return se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return u.from(T[Symbol.toPrimitive]("string"),N,U);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}u.from=function(T,N,U){return d(T,N,U)},Object.setPrototypeOf(u.prototype,s.prototype),Object.setPrototypeOf(u,s);function h(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function p(T,N,U){return h(T),T<=0?c(T):N!==void 0?typeof U=="string"?c(T).fill(N,U):c(T).fill(N):c(T)}u.alloc=function(T,N,U){return p(T,N,U)};function g(T){return h(T),c(T<0?0:_(T)|0)}u.allocUnsafe=function(T){return g(T)},u.allocUnsafeSlow=function(T){return g(T)};function v(T,N){if((typeof N!="string"||N==="")&&(N="utf8"),!u.isEncoding(N))throw new TypeError("Unknown encoding: "+N);const U=A(T,N)|0;let ne=c(U);const se=ne.write(T,N);return se!==U&&(ne=ne.slice(0,se)),ne}function y(T){const N=T.length<0?0:_(T.length)|0,U=c(N);for(let ne=0;ne<N;ne+=1)U[ne]=T[ne]&255;return U}function x(T){if(Ce(T,s)){const N=new s(T);return w(N.buffer,N.byteOffset,N.byteLength)}return y(T)}function w(T,N,U){if(N<0||T.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<N+(U||0))throw new RangeError('"length" is outside of buffer bounds');let ne;return N===void 0&&U===void 0?ne=new s(T):U===void 0?ne=new s(T,N):ne=new s(T,N,U),Object.setPrototypeOf(ne,u.prototype),ne}function b(T){if(u.isBuffer(T)){const N=_(T.length)|0,U=c(N);return U.length===0||T.copy(U,0,0,N),U}if(T.length!==void 0)return typeof T.length!="number"||$e(T.length)?c(0):y(T);if(T.type==="Buffer"&&Array.isArray(T.data))return y(T.data)}function _(T){if(T>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return T|0}function C(T){return+T!=T&&(T=0),u.alloc(+T)}u.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==u.prototype},u.compare=function(T,N){if(Ce(T,s)&&(T=u.from(T,T.offset,T.byteLength)),Ce(N,s)&&(N=u.from(N,N.offset,N.byteLength)),!u.isBuffer(T)||!u.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===N)return 0;let U=T.length,ne=N.length;for(let se=0,K=Math.min(U,ne);se<K;++se)if(T[se]!==N[se]){U=T[se],ne=N[se];break}return U<ne?-1:ne<U?1:0},u.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(T,N){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return u.alloc(0);let U;if(N===void 0)for(N=0,U=0;U<T.length;++U)N+=T[U].length;const ne=u.allocUnsafe(N);let se=0;for(U=0;U<T.length;++U){let K=T[U];if(Ce(K,s))se+K.length>ne.length?(u.isBuffer(K)||(K=u.from(K)),K.copy(ne,se)):s.prototype.set.call(ne,K,se);else if(u.isBuffer(K))K.copy(ne,se);else throw new TypeError('"list" argument must be an Array of Buffers');se+=K.length}return ne};function A(T,N){if(u.isBuffer(T))return T.length;if(o.isView(T)||Ce(T,o))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);const U=T.length,ne=arguments.length>2&&arguments[2]===!0;if(!ne&&U===0)return 0;let se=!1;for(;;)switch(N){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return Ze(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U*2;case"hex":return U>>>1;case"base64":return X(T).length;default:if(se)return ne?-1:Ze(T).length;N=(""+N).toLowerCase(),se=!0}}u.byteLength=A;function P(T,N,U){let ne=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0,N>>>=0,U<=N))return"";for(T||(T="utf8");;)switch(T){case"hex":return Y(this,N,U);case"utf8":case"utf-8":return H(this,N,U);case"ascii":return B(this,N,U);case"latin1":case"binary":return ee(this,N,U);case"base64":return q(this,N,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,N,U);default:if(ne)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),ne=!0}}u.prototype._isBuffer=!0;function M(T,N,U){const ne=T[N];T[N]=T[U],T[U]=ne}u.prototype.swap16=function(){const T=this.length;if(T%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let N=0;N<T;N+=2)M(this,N,N+1);return this},u.prototype.swap32=function(){const T=this.length;if(T%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let N=0;N<T;N+=4)M(this,N,N+3),M(this,N+1,N+2);return this},u.prototype.swap64=function(){const T=this.length;if(T%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let N=0;N<T;N+=8)M(this,N,N+7),M(this,N+1,N+6),M(this,N+2,N+5),M(this,N+3,N+4);return this},u.prototype.toString=function(){const T=this.length;return T===0?"":arguments.length===0?H(this,0,T):P.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(T){if(!u.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T?!0:u.compare(this,T)===0},u.prototype.inspect=function(){let T="";const N=n.INSPECT_MAX_BYTES;return T=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(T+=" ... "),"<Buffer "+T+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(T,N,U,ne,se){if(Ce(T,s)&&(T=u.from(T,T.offset,T.byteLength)),!u.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(N===void 0&&(N=0),U===void 0&&(U=T?T.length:0),ne===void 0&&(ne=0),se===void 0&&(se=this.length),N<0||U>T.length||ne<0||se>this.length)throw new RangeError("out of range index");if(ne>=se&&N>=U)return 0;if(ne>=se)return-1;if(N>=U)return 1;if(N>>>=0,U>>>=0,ne>>>=0,se>>>=0,this===T)return 0;let K=se-ne,le=U-N;const Le=Math.min(K,le),Ke=this.slice(ne,se),ue=T.slice(N,U);for(let Ee=0;Ee<Le;++Ee)if(Ke[Ee]!==ue[Ee]){K=Ke[Ee],le=ue[Ee];break}return K<le?-1:le<K?1:0};function L(T,N,U,ne,se){if(T.length===0)return-1;if(typeof U=="string"?(ne=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),U=+U,$e(U)&&(U=se?0:T.length-1),U<0&&(U=T.length+U),U>=T.length){if(se)return-1;U=T.length-1}else if(U<0)if(se)U=0;else return-1;if(typeof N=="string"&&(N=u.from(N,ne)),u.isBuffer(N))return N.length===0?-1:I(T,N,U,ne,se);if(typeof N=="number")return N=N&255,typeof s.prototype.indexOf=="function"?se?s.prototype.indexOf.call(T,N,U):s.prototype.lastIndexOf.call(T,N,U):I(T,[N],U,ne,se);throw new TypeError("val must be string, number or Buffer")}function I(T,N,U,ne,se){let K=1,le=T.length,Le=N.length;if(ne!==void 0&&(ne=String(ne).toLowerCase(),ne==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(T.length<2||N.length<2)return-1;K=2,le/=2,Le/=2,U/=2}function Ke(Ee,Fe){return K===1?Ee[Fe]:Ee.readUInt16BE(Fe*K)}let ue;if(se){let Ee=-1;for(ue=U;ue<le;ue++)if(Ke(T,ue)===Ke(N,Ee===-1?0:ue-Ee)){if(Ee===-1&&(Ee=ue),ue-Ee+1===Le)return Ee*K}else Ee!==-1&&(ue-=ue-Ee),Ee=-1}else for(U+Le>le&&(U=le-Le),ue=U;ue>=0;ue--){let Ee=!0;for(let Fe=0;Fe<Le;Fe++)if(Ke(T,ue+Fe)!==Ke(N,Fe)){Ee=!1;break}if(Ee)return ue}return-1}u.prototype.includes=function(T,N,U){return this.indexOf(T,N,U)!==-1},u.prototype.indexOf=function(T,N,U){return L(this,T,N,U,!0)},u.prototype.lastIndexOf=function(T,N,U){return L(this,T,N,U,!1)};function F(T,N,U,ne){U=Number(U)||0;const se=T.length-U;ne?(ne=Number(ne),ne>se&&(ne=se)):ne=se;const K=N.length;ne>K/2&&(ne=K/2);let le;for(le=0;le<ne;++le){const Le=parseInt(N.substr(le*2,2),16);if($e(Le))return le;T[U+le]=Le}return le}function V(T,N,U,ne){return ve(Ze(N,T.length-U),T,U,ne)}function j(T,N,U,ne){return ve(Xe(N),T,U,ne)}function G(T,N,U,ne){return ve(X(N),T,U,ne)}function J(T,N,U,ne){return ve(te(N,T.length-U),T,U,ne)}u.prototype.write=function(T,N,U,ne){if(N===void 0)ne="utf8",U=this.length,N=0;else if(U===void 0&&typeof N=="string")ne=N,U=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite(U)?(U=U>>>0,ne===void 0&&(ne="utf8")):(ne=U,U=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const se=this.length-N;if((U===void 0||U>se)&&(U=se),T.length>0&&(U<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let K=!1;for(;;)switch(ne){case"hex":return F(this,T,N,U);case"utf8":case"utf-8":return V(this,T,N,U);case"ascii":case"latin1":case"binary":return j(this,T,N,U);case"base64":return G(this,T,N,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,T,N,U);default:if(K)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),K=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function q(T,N,U){return N===0&&U===T.length?e.fromByteArray(T):e.fromByteArray(T.slice(N,U))}function H(T,N,U){U=Math.min(T.length,U);const ne=[];let se=N;for(;se<U;){const K=T[se];let le=null,Le=K>239?4:K>223?3:K>191?2:1;if(se+Le<=U){let Ke,ue,Ee,Fe;switch(Le){case 1:K<128&&(le=K);break;case 2:Ke=T[se+1],(Ke&192)===128&&(Fe=(K&31)<<6|Ke&63,Fe>127&&(le=Fe));break;case 3:Ke=T[se+1],ue=T[se+2],(Ke&192)===128&&(ue&192)===128&&(Fe=(K&15)<<12|(Ke&63)<<6|ue&63,Fe>2047&&(Fe<55296||Fe>57343)&&(le=Fe));break;case 4:Ke=T[se+1],ue=T[se+2],Ee=T[se+3],(Ke&192)===128&&(ue&192)===128&&(Ee&192)===128&&(Fe=(K&15)<<18|(Ke&63)<<12|(ue&63)<<6|Ee&63,Fe>65535&&Fe<1114112&&(le=Fe))}}le===null?(le=65533,Le=1):le>65535&&(le-=65536,ne.push(le>>>10&1023|55296),le=56320|le&1023),ne.push(le),se+=Le}return z(ne)}const D=4096;function z(T){const N=T.length;if(N<=D)return String.fromCharCode.apply(String,T);let U="",ne=0;for(;ne<N;)U+=String.fromCharCode.apply(String,T.slice(ne,ne+=D));return U}function B(T,N,U){let ne="";U=Math.min(T.length,U);for(let se=N;se<U;++se)ne+=String.fromCharCode(T[se]&127);return ne}function ee(T,N,U){let ne="";U=Math.min(T.length,U);for(let se=N;se<U;++se)ne+=String.fromCharCode(T[se]);return ne}function Y(T,N,U){const ne=T.length;(!N||N<0)&&(N=0),(!U||U<0||U>ne)&&(U=ne);let se="";for(let K=N;K<U;++K)se+=Ve[T[K]];return se}function oe(T,N,U){const ne=T.slice(N,U);let se="";for(let K=0;K<ne.length-1;K+=2)se+=String.fromCharCode(ne[K]+ne[K+1]*256);return se}u.prototype.slice=function(T,N){const U=this.length;T=~~T,N=N===void 0?U:~~N,T<0?(T+=U,T<0&&(T=0)):T>U&&(T=U),N<0?(N+=U,N<0&&(N=0)):N>U&&(N=U),N<T&&(N=T);const ne=this.subarray(T,N);return Object.setPrototypeOf(ne,u.prototype),ne};function ce(T,N,U){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+N>U)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(T,N,U){T=T>>>0,N=N>>>0,U||ce(T,N,this.length);let ne=this[T],se=1,K=0;for(;++K<N&&(se*=256);)ne+=this[T+K]*se;return ne},u.prototype.readUintBE=u.prototype.readUIntBE=function(T,N,U){T=T>>>0,N=N>>>0,U||ce(T,N,this.length);let ne=this[T+--N],se=1;for(;N>0&&(se*=256);)ne+=this[T+--N]*se;return ne},u.prototype.readUint8=u.prototype.readUInt8=function(T,N){return T=T>>>0,N||ce(T,1,this.length),this[T]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(T,N){return T=T>>>0,N||ce(T,2,this.length),this[T]|this[T+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(T,N){return T=T>>>0,N||ce(T,2,this.length),this[T]<<8|this[T+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(T,N){return T=T>>>0,N||ce(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+this[T+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(T,N){return T=T>>>0,N||ce(T,4,this.length),this[T]*16777216+(this[T+1]<<16|this[T+2]<<8|this[T+3])},u.prototype.readBigUInt64LE=Je(function(T){T=T>>>0,ge(T,"offset");const N=this[T],U=this[T+7];(N===void 0||U===void 0)&&je(T,this.length-8);const ne=N+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24,se=this[++T]+this[++T]*2**8+this[++T]*2**16+U*2**24;return BigInt(ne)+(BigInt(se)<<BigInt(32))}),u.prototype.readBigUInt64BE=Je(function(T){T=T>>>0,ge(T,"offset");const N=this[T],U=this[T+7];(N===void 0||U===void 0)&&je(T,this.length-8);const ne=N*2**24+this[++T]*2**16+this[++T]*2**8+this[++T],se=this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+U;return(BigInt(ne)<<BigInt(32))+BigInt(se)}),u.prototype.readIntLE=function(T,N,U){T=T>>>0,N=N>>>0,U||ce(T,N,this.length);let ne=this[T],se=1,K=0;for(;++K<N&&(se*=256);)ne+=this[T+K]*se;return se*=128,ne>=se&&(ne-=Math.pow(2,8*N)),ne},u.prototype.readIntBE=function(T,N,U){T=T>>>0,N=N>>>0,U||ce(T,N,this.length);let ne=N,se=1,K=this[T+--ne];for(;ne>0&&(se*=256);)K+=this[T+--ne]*se;return se*=128,K>=se&&(K-=Math.pow(2,8*N)),K},u.prototype.readInt8=function(T,N){return T=T>>>0,N||ce(T,1,this.length),this[T]&128?(255-this[T]+1)*-1:this[T]},u.prototype.readInt16LE=function(T,N){T=T>>>0,N||ce(T,2,this.length);const U=this[T]|this[T+1]<<8;return U&32768?U|4294901760:U},u.prototype.readInt16BE=function(T,N){T=T>>>0,N||ce(T,2,this.length);const U=this[T+1]|this[T]<<8;return U&32768?U|4294901760:U},u.prototype.readInt32LE=function(T,N){return T=T>>>0,N||ce(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},u.prototype.readInt32BE=function(T,N){return T=T>>>0,N||ce(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},u.prototype.readBigInt64LE=Je(function(T){T=T>>>0,ge(T,"offset");const N=this[T],U=this[T+7];(N===void 0||U===void 0)&&je(T,this.length-8);const ne=this[T+4]+this[T+5]*2**8+this[T+6]*2**16+(U<<24);return(BigInt(ne)<<BigInt(32))+BigInt(N+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24)}),u.prototype.readBigInt64BE=Je(function(T){T=T>>>0,ge(T,"offset");const N=this[T],U=this[T+7];(N===void 0||U===void 0)&&je(T,this.length-8);const ne=(N<<24)+this[++T]*2**16+this[++T]*2**8+this[++T];return(BigInt(ne)<<BigInt(32))+BigInt(this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+U)}),u.prototype.readFloatLE=function(T,N){return T=T>>>0,N||ce(T,4,this.length),t.read(this,T,!0,23,4)},u.prototype.readFloatBE=function(T,N){return T=T>>>0,N||ce(T,4,this.length),t.read(this,T,!1,23,4)},u.prototype.readDoubleLE=function(T,N){return T=T>>>0,N||ce(T,8,this.length),t.read(this,T,!0,52,8)},u.prototype.readDoubleBE=function(T,N){return T=T>>>0,N||ce(T,8,this.length),t.read(this,T,!1,52,8)};function me(T,N,U,ne,se,K){if(!u.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>se||N<K)throw new RangeError('"value" argument is out of bounds');if(U+ne>T.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(T,N,U,ne){if(T=+T,N=N>>>0,U=U>>>0,!ne){const le=Math.pow(2,8*U)-1;me(this,T,N,U,le,0)}let se=1,K=0;for(this[N]=T&255;++K<U&&(se*=256);)this[N+K]=T/se&255;return N+U},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(T,N,U,ne){if(T=+T,N=N>>>0,U=U>>>0,!ne){const le=Math.pow(2,8*U)-1;me(this,T,N,U,le,0)}let se=U-1,K=1;for(this[N+se]=T&255;--se>=0&&(K*=256);)this[N+se]=T/K&255;return N+U},u.prototype.writeUint8=u.prototype.writeUInt8=function(T,N,U){return T=+T,N=N>>>0,U||me(this,T,N,1,255,0),this[N]=T&255,N+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(T,N,U){return T=+T,N=N>>>0,U||me(this,T,N,2,65535,0),this[N]=T&255,this[N+1]=T>>>8,N+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(T,N,U){return T=+T,N=N>>>0,U||me(this,T,N,2,65535,0),this[N]=T>>>8,this[N+1]=T&255,N+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(T,N,U){return T=+T,N=N>>>0,U||me(this,T,N,4,4294967295,0),this[N+3]=T>>>24,this[N+2]=T>>>16,this[N+1]=T>>>8,this[N]=T&255,N+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(T,N,U){return T=+T,N=N>>>0,U||me(this,T,N,4,4294967295,0),this[N]=T>>>24,this[N+1]=T>>>16,this[N+2]=T>>>8,this[N+3]=T&255,N+4};function de(T,N,U,ne,se){Pe(N,ne,se,T,U,7);let K=Number(N&BigInt(4294967295));T[U++]=K,K=K>>8,T[U++]=K,K=K>>8,T[U++]=K,K=K>>8,T[U++]=K;let le=Number(N>>BigInt(32)&BigInt(4294967295));return T[U++]=le,le=le>>8,T[U++]=le,le=le>>8,T[U++]=le,le=le>>8,T[U++]=le,U}function be(T,N,U,ne,se){Pe(N,ne,se,T,U,7);let K=Number(N&BigInt(4294967295));T[U+7]=K,K=K>>8,T[U+6]=K,K=K>>8,T[U+5]=K,K=K>>8,T[U+4]=K;let le=Number(N>>BigInt(32)&BigInt(4294967295));return T[U+3]=le,le=le>>8,T[U+2]=le,le=le>>8,T[U+1]=le,le=le>>8,T[U]=le,U+8}u.prototype.writeBigUInt64LE=Je(function(T,N=0){return de(this,T,N,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Je(function(T,N=0){return be(this,T,N,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(T,N,U,ne){if(T=+T,N=N>>>0,!ne){const Le=Math.pow(2,8*U-1);me(this,T,N,U,Le-1,-Le)}let se=0,K=1,le=0;for(this[N]=T&255;++se<U&&(K*=256);)T<0&&le===0&&this[N+se-1]!==0&&(le=1),this[N+se]=(T/K>>0)-le&255;return N+U},u.prototype.writeIntBE=function(T,N,U,ne){if(T=+T,N=N>>>0,!ne){const Le=Math.pow(2,8*U-1);me(this,T,N,U,Le-1,-Le)}let se=U-1,K=1,le=0;for(this[N+se]=T&255;--se>=0&&(K*=256);)T<0&&le===0&&this[N+se+1]!==0&&(le=1),this[N+se]=(T/K>>0)-le&255;return N+U},u.prototype.writeInt8=function(T,N,U){return T=+T,N=N>>>0,U||me(this,T,N,1,127,-128),T<0&&(T=255+T+1),this[N]=T&255,N+1},u.prototype.writeInt16LE=function(T,N,U){return T=+T,N=N>>>0,U||me(this,T,N,2,32767,-32768),this[N]=T&255,this[N+1]=T>>>8,N+2},u.prototype.writeInt16BE=function(T,N,U){return T=+T,N=N>>>0,U||me(this,T,N,2,32767,-32768),this[N]=T>>>8,this[N+1]=T&255,N+2},u.prototype.writeInt32LE=function(T,N,U){return T=+T,N=N>>>0,U||me(this,T,N,4,2147483647,-2147483648),this[N]=T&255,this[N+1]=T>>>8,this[N+2]=T>>>16,this[N+3]=T>>>24,N+4},u.prototype.writeInt32BE=function(T,N,U){return T=+T,N=N>>>0,U||me(this,T,N,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[N]=T>>>24,this[N+1]=T>>>16,this[N+2]=T>>>8,this[N+3]=T&255,N+4},u.prototype.writeBigInt64LE=Je(function(T,N=0){return de(this,T,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Je(function(T,N=0){return be(this,T,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Oe(T,N,U,ne,se,K){if(U+ne>T.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function Te(T,N,U,ne,se){return N=+N,U=U>>>0,se||Oe(T,N,U,4),t.write(T,N,U,ne,23,4),U+4}u.prototype.writeFloatLE=function(T,N,U){return Te(this,T,N,!0,U)},u.prototype.writeFloatBE=function(T,N,U){return Te(this,T,N,!1,U)};function we(T,N,U,ne,se){return N=+N,U=U>>>0,se||Oe(T,N,U,8),t.write(T,N,U,ne,52,8),U+8}u.prototype.writeDoubleLE=function(T,N,U){return we(this,T,N,!0,U)},u.prototype.writeDoubleBE=function(T,N,U){return we(this,T,N,!1,U)},u.prototype.copy=function(T,N,U,ne){if(!u.isBuffer(T))throw new TypeError("argument should be a Buffer");if(U||(U=0),!ne&&ne!==0&&(ne=this.length),N>=T.length&&(N=T.length),N||(N=0),ne>0&&ne<U&&(ne=U),ne===U||T.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),T.length-N<ne-U&&(ne=T.length-N+U);const se=ne-U;return this===T&&typeof s.prototype.copyWithin=="function"?this.copyWithin(N,U,ne):s.prototype.set.call(T,this.subarray(U,ne),N),se},u.prototype.fill=function(T,N,U,ne){if(typeof T=="string"){if(typeof N=="string"?(ne=N,N=0,U=this.length):typeof U=="string"&&(ne=U,U=this.length),ne!==void 0&&typeof ne!="string")throw new TypeError("encoding must be a string");if(typeof ne=="string"&&!u.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(T.length===1){const K=T.charCodeAt(0);(ne==="utf8"&&K<128||ne==="latin1")&&(T=K)}}else typeof T=="number"?T=T&255:typeof T=="boolean"&&(T=Number(T));if(N<0||this.length<N||this.length<U)throw new RangeError("Out of range index");if(U<=N)return this;N=N>>>0,U=U===void 0?this.length:U>>>0,T||(T=0);let se;if(typeof T=="number")for(se=N;se<U;++se)this[se]=T;else{const K=u.isBuffer(T)?T:u.from(T,ne),le=K.length;if(le===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(se=0;se<U-N;++se)this[se+N]=K[se%le]}return this};const De={};function pe(T,N,U){De[T]=class extends U{constructor(){super(),Object.defineProperty(this,"message",{value:N.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,this.stack,delete this.name}get code(){return T}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}}}pe("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pe("ERR_INVALID_ARG_TYPE",function(T,N){return`The "${T}" argument must be of type number. Received type ${typeof N}`},TypeError),pe("ERR_OUT_OF_RANGE",function(T,N,U){let ne=`The value of "${T}" is out of range.`,se=U;return Number.isInteger(U)&&Math.abs(U)>2**32?se=fe(String(U)):typeof U=="bigint"&&(se=String(U),(U>BigInt(2)**BigInt(32)||U<-(BigInt(2)**BigInt(32)))&&(se=fe(se)),se+="n"),ne+=` It must be ${N}. Received ${se}`,ne},RangeError);function fe(T){let N="",U=T.length;const ne=T[0]==="-"?1:0;for(;U>=ne+4;U-=3)N=`_${T.slice(U-3,U)}${N}`;return`${T.slice(0,U)}${N}`}function Ae(T,N,U){ge(N,"offset"),(T[N]===void 0||T[N+U]===void 0)&&je(N,T.length-(U+1))}function Pe(T,N,U,ne,se,K){if(T>U||T<N){const le=typeof N=="bigint"?"n":"";let Le;throw N===0||N===BigInt(0)?Le=`>= 0${le} and < 2${le} ** ${(K+1)*8}${le}`:Le=`>= -(2${le} ** ${(K+1)*8-1}${le}) and < 2 ** ${(K+1)*8-1}${le}`,new De.ERR_OUT_OF_RANGE("value",Le,T)}Ae(ne,se,K)}function ge(T,N){if(typeof T!="number")throw new De.ERR_INVALID_ARG_TYPE(N,"number",T)}function je(T,N,U){throw Math.floor(T)!==T?(ge(T,U),new De.ERR_OUT_OF_RANGE("offset","an integer",T)):N<0?new De.ERR_BUFFER_OUT_OF_BOUNDS:new De.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${N}`,T)}const We=/[^+/0-9A-Za-z-_]/g;function qe(T){if(T=T.split("=")[0],T=T.trim().replace(We,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function Ze(T,N){N=N||1/0;let U;const ne=T.length;let se=null;const K=[];for(let le=0;le<ne;++le){if(U=T.charCodeAt(le),U>55295&&U<57344){if(!se){if(U>56319){(N-=3)>-1&&K.push(239,191,189);continue}else if(le+1===ne){(N-=3)>-1&&K.push(239,191,189);continue}se=U;continue}if(U<56320){(N-=3)>-1&&K.push(239,191,189),se=U;continue}U=(se-55296<<10|U-56320)+65536}else se&&(N-=3)>-1&&K.push(239,191,189);if(se=null,U<128){if((N-=1)<0)break;K.push(U)}else if(U<2048){if((N-=2)<0)break;K.push(U>>6|192,U&63|128)}else if(U<65536){if((N-=3)<0)break;K.push(U>>12|224,U>>6&63|128,U&63|128)}else if(U<1114112){if((N-=4)<0)break;K.push(U>>18|240,U>>12&63|128,U>>6&63|128,U&63|128)}else throw new Error("Invalid code point")}return K}function Xe(T){const N=[];for(let U=0;U<T.length;++U)N.push(T.charCodeAt(U)&255);return N}function te(T,N){let U,ne,se;const K=[];for(let le=0;le<T.length&&!((N-=2)<0);++le)U=T.charCodeAt(le),ne=U>>8,se=U%256,K.push(se),K.push(ne);return K}function X(T){return e.toByteArray(qe(T))}function ve(T,N,U,ne){let se;for(se=0;se<ne&&!(se+U>=N.length||se>=T.length);++se)N[se+U]=T[se];return se}function Ce(T,N){return T instanceof N||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===N.name}function $e(T){return T!==T}const Ve=function(){const T="0123456789abcdef",N=new Array(256);for(let U=0;U<16;++U){const ne=U*16;for(let se=0;se<16;++se)N[ne+se]=T[U]+T[se]}return N}();function Je(T){return typeof BigInt>"u"?Ge:T}function Ge(){throw new Error("BigInt not supported")}})(Vr);const xD=Vr.Buffer,oAe=Vr.Blob,aAe=Vr.BlobOptions,lAe=Vr.Buffer,cAe=Vr.File,uAe=Vr.FileOptions,dAe=Vr.INSPECT_MAX_BYTES,hAe=Vr.SlowBuffer,fAe=Vr.TranscodeEncoding,pAe=Vr.atob,mAe=Vr.btoa,gAe=Vr.constants,vAe=Vr.isAscii,yAe=Vr.isUtf8,xAe=Vr.kMaxLength,wAe=Vr.kStringMaxLength,bAe=Vr.resolveObjectURL,_Ae=Vr.transcode,zze=Object.freeze(Object.defineProperty({__proto__:null,Blob:oAe,BlobOptions:aAe,Buffer:lAe,File:cAe,FileOptions:uAe,INSPECT_MAX_BYTES:dAe,SlowBuffer:hAe,TranscodeEncoding:fAe,atob:pAe,btoa:mAe,constants:gAe,default:xD,isAscii:vAe,isUtf8:yAe,kMaxLength:xAe,kStringMaxLength:wAe,resolveObjectURL:bAe,transcode:_Ae},Symbol.toStringTag,{value:"Module"}));var ex={};ex.d=(n,e)=>{for(var t in e)ex.o(e,t)&&!ex.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};ex.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var It=globalThis.pdfjsLib={};ex.d(It,{AbortException:()=>Sp,AnnotationEditorLayer:()=>ITe,AnnotationEditorParamsType:()=>Dt,AnnotationEditorType:()=>ln,AnnotationEditorUIManager:()=>_w,AnnotationLayer:()=>TTe,AnnotationMode:()=>Hu,CMapCompressionType:()=>bD,ColorPicker:()=>zJ,DOMSVGFactory:()=>nB,DrawLayer:()=>OTe,FeatureTest:()=>zs,GlobalWorkerOptions:()=>Ad,ImageKind:()=>nM,InvalidPDFException:()=>mZ,MissingPDFException:()=>_p,OPS:()=>_a,Outliner:()=>ZN,PDFDataRangeTransport:()=>cJ,PDFDateString:()=>_Z,PDFWorker:()=>JM,PasswordResponses:()=>CAe,PermissionFlag:()=>MAe,PixelsPerInch:()=>Gv,RenderingCancelledException:()=>rB,TextLayer:()=>_2,UnexpectedResponseException:()=>gP,Util:()=>vt,VerbosityLevel:()=>fP,XfaLayer:()=>hJ,build:()=>aTe,createValidAbsoluteUrl:()=>RAe,fetchData:()=>_P,getDocument:()=>K2e,getFilenameFromUrl:()=>$Ae,getPdfFilenameFromUrl:()=>UAe,getXfaPageViewport:()=>WAe,isDataScheme:()=>iB,isPdfFile:()=>sB,noContextMenu:()=>Ds,normalizeUnicode:()=>NAe,renderTextLayer:()=>U2e,setLayerDimensions:()=>op,shadow:()=>un,updateTextLayer:()=>W2e,version:()=>oTe});const qi=typeof Nt=="object"&&Nt+""=="[object process]"&&!Nt.versions.nw&&!(Nt.versions.electron&&Nt.type&&Nt.type!=="browser"),pZ=[1,0,0,1,0,0],wD=[.001,0,0,.001,0,0],SAe=1e7,Lk=1.35,Vo={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Hu={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},EAe="pdfjs_internal_editor_",ln={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Dt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},MAe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ki={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},nM={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Or={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},sy={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},fP={ERRORS:0,WARNINGS:1,INFOS:5},bD={NONE:0,BINARY:1},_a={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},CAe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let pP=fP.WARNINGS;function AAe(n){Number.isInteger(n)&&(pP=n)}function TAe(){return pP}function mP(n){pP>=fP.INFOS&&console.log(`Info: ${n}`)}function en(n){pP>=fP.WARNINGS&&console.log(`Warning: ${n}`)}function Tn(n){throw new Error(n)}function Fr(n,e){n||Tn(e)}function PAe(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function RAe(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=DAe(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(PAe(r))return r}catch{}return null}function un(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const Ud=function(){function n(e,t){this.constructor===n&&Tn("Cannot initialize BaseException."),this.message=e,this.name=t}return n.prototype=new Error,n.constructor=n,n}();class _D extends Ud{constructor(e,t){super(e,"PasswordException"),this.code=t}}class SD extends Ud{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class mZ extends Ud{constructor(e){super(e,"InvalidPDFException")}}class _p extends Ud{constructor(e){super(e,"MissingPDFException")}}class gP extends Ud{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class LAe extends Ud{constructor(e){super(e,"FormatError")}}class Sp extends Ud{constructor(e){super(e,"AbortException")}}function gZ(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Tn("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),o=n.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function vP(n){typeof n!="string"&&Tn("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function kAe(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function eB(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function IAe(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function OAe(){try{return new Function(""),!0}catch{return!1}}class zs{static get isLittleEndian(){return un(this,"isLittleEndian",IAe())}static get isEvalSupported(){return un(this,"isEvalSupported",OAe())}static get isOffscreenCanvasSupported(){return un(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?un(this,"platform",{isMac:navigator.platform.includes("Mac")}):un(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,t;return un(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const kk=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var oy,mS,s2,ED;class vt{static makeHexColor(e,t,r){return`#${kk[e]}${kk[t]}${kk[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],s[0],o[0]),Math.min(r[1],i[1],s[1],o[1]),Math.max(r[0],i[0],s[0],o[0]),Math.max(r[1],i[1],s[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(r+o)/2,l=Math.sqrt((r+o)**2-4*(r*o-s*i))/2,c=a+l||1,u=a-l||1;return[Math.sqrt(c),Math.sqrt(u)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[r,s,i,o]}static bezierBoundingBox(e,t,r,i,s,o,a,l,c){return c?(c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,l),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,l)):c=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],Q(this,s2,ED).call(this,e,r,s,a,t,i,o,l,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),c),Q(this,s2,ED).call(this,e,r,s,a,t,i,o,l,3*(-t+3*(i-o)+l),6*(t-2*i+o),3*(i-t),c),c}}oy=new WeakSet,mS=function(n,e,t,r,i,s,o,a,l,c){if(l<=0||l>=1)return;const u=1-l,d=l*l,h=d*l,p=u*(u*(u*n+3*l*e)+3*d*t)+h*r,g=u*(u*(u*i+3*l*s)+3*d*o)+h*a;c[0]=Math.min(c[0],p),c[1]=Math.min(c[1],g),c[2]=Math.max(c[2],p),c[3]=Math.max(c[3],g)},s2=new WeakSet,ED=function(n,e,t,r,i,s,o,a,l,c,u,d){if(Math.abs(l)<1e-12){Math.abs(c)>=1e-12&&Q(this,oy,mS).call(this,n,e,t,r,i,s,o,a,-u/c,d);return}const h=c**2-4*u*l;if(h<0)return;const p=Math.sqrt(h),g=2*l;Q(this,oy,mS).call(this,n,e,t,r,i,s,o,a,(-c+p)/g,d),Q(this,oy,mS).call(this,n,e,t,r,i,s,o,a,(-c-p)/g,d)},W(vt,oy),W(vt,s2);function DAe(n){return decodeURIComponent(escape(n))}let Ik=null,uj=null;function NAe(n){return Ik||(Ik=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,uj=new Map([["ﬅ","ſt"]])),n.replaceAll(Ik,(e,t,r)=>t?t.normalize("NFKC"):uj.get(r))}function FAe(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return gZ(n)}const vZ="pdfjs_internal_id_",zl={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class yP{constructor(){this.constructor===yP&&Tn("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}class xP{constructor(){this.constructor===xP&&Tn("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d")}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Tn("Abstract method `_createCanvas` called.")}}class wP{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===wP&&Tn("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?bD.BINARY:bD.NONE;return this._fetchData(t,r).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(e,t){Tn("Abstract method `_fetchData` called.")}}class bP{constructor({baseUrl:e=null}){this.constructor===bP&&Tn("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetchData(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(e){Tn("Abstract method `_fetchData` called.")}}class tB{constructor(){this.constructor===tB&&Tn("Cannot initialize BaseSVGFactory.")}create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Tn("Abstract method `_createSVG` called.")}}const Gl="http://www.w3.org/2000/svg",Dm=class{};Ut(Dm,"CSS",96),Ut(Dm,"PDF",72),Ut(Dm,"PDF_TO_CSS_UNITS",Dm.CSS/Dm.PDF);let Gv=Dm;var df,fc,bu,to,rM,Nm,ui,Ii,Eh,Fm,hf,Ng,$y,iM,MD,yZ,sM,CD,Mh,zm,Bm,ay,$m,Uy,oM,AD,Um,Wy;class zAe extends yP{constructor({docId:e,ownerDocument:t=globalThis.document}={}){super(),W(this,ui),W(this,Eh),W(this,hf),W(this,$y),W(this,MD),W(this,sM),W(this,Mh),W(this,Bm),W(this,$m),W(this,oM),W(this,Um),W(this,df,void 0),W(this,fc,void 0),W(this,bu,void 0),W(this,to,void 0),W(this,rM,void 0),W(this,Nm,0),Z(this,bu,e),Z(this,to,t)}addFilter(e){if(!e)return"none";let t=S(this,ui,Ii).get(e);if(t)return t;const[r,i,s]=Q(this,$y,iM).call(this,e),o=e.length===1?r:`${r}${i}${s}`;if(t=S(this,ui,Ii).get(o),t)return S(this,ui,Ii).set(e,t),t;const a=`g_${S(this,bu)}_transfer_map_${na(this,Nm)._++}`,l=`url(#${a})`;S(this,ui,Ii).set(e,l),S(this,ui,Ii).set(o,l);const c=Q(this,Mh,zm).call(this,a);return Q(this,$m,Uy).call(this,r,i,s,c),l}addHCMFilter(e,t){var r;const i=`${e}-${t}`,s="base";let o=S(this,Eh,Fm).get(s);if((o==null?void 0:o.key)===i||(o?((r=o.filter)==null||r.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},S(this,Eh,Fm).set(s,o)),!e||!t))return o.url;const a=Q(this,Um,Wy).call(this,e);e=vt.makeHexColor(...a);const l=Q(this,Um,Wy).call(this,t);if(t=vt.makeHexColor(...l),S(this,hf,Ng).style.color="",e==="#000000"&&t==="#ffffff"||e===t)return o.url;const c=new Array(256);for(let g=0;g<=255;g++){const v=g/255;c[g]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const u=c.join(","),d=`g_${S(this,bu)}_hcm_filter`,h=o.filter=Q(this,Mh,zm).call(this,d);Q(this,$m,Uy).call(this,u,u,u,h),Q(this,sM,CD).call(this,h);const p=(g,v)=>{const y=a[g]/255,x=l[g]/255,w=new Array(v+1);for(let b=0;b<=v;b++)w[b]=y+b/v*(x-y);return w.join(",")};return Q(this,$m,Uy).call(this,p(0,5),p(1,5),p(2,5),h),o.url=`url(#${d})`,o.url}addAlphaFilter(e){let t=S(this,ui,Ii).get(e);if(t)return t;const[r]=Q(this,$y,iM).call(this,[e]),i=`alpha_${r}`;if(t=S(this,ui,Ii).get(i),t)return S(this,ui,Ii).set(e,t),t;const s=`g_${S(this,bu)}_alpha_map_${na(this,Nm)._++}`,o=`url(#${s})`;S(this,ui,Ii).set(e,o),S(this,ui,Ii).set(i,o);const a=Q(this,Mh,zm).call(this,s);return Q(this,oM,AD).call(this,r,a),o}addLuminosityFilter(e){let t=S(this,ui,Ii).get(e||"luminosity");if(t)return t;let r,i;if(e?([r]=Q(this,$y,iM).call(this,[e]),i=`luminosity_${r}`):i="luminosity",t=S(this,ui,Ii).get(i),t)return S(this,ui,Ii).set(e,t),t;const s=`g_${S(this,bu)}_luminosity_map_${na(this,Nm)._++}`,o=`url(#${s})`;S(this,ui,Ii).set(e,o),S(this,ui,Ii).set(i,o);const a=Q(this,Mh,zm).call(this,s);return Q(this,MD,yZ).call(this,a),e&&Q(this,oM,AD).call(this,r,a),o}addHighlightHCMFilter(e,t,r,i,s){var o;const a=`${t}-${r}-${i}-${s}`;let l=S(this,Eh,Fm).get(e);if((l==null?void 0:l.key)===a||(l?((o=l.filter)==null||o.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},S(this,Eh,Fm).set(e,l)),!t||!r))return l.url;const[c,u]=[t,r].map(Q(this,Um,Wy).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,g]=[i,s].map(Q(this,Um,Wy).bind(this));h<d&&([d,h,p,g]=[h,d,g,p]),S(this,hf,Ng).style.color="";const v=(w,b,_)=>{const C=new Array(256),A=(h-d)/_,P=w/255,M=(b-w)/(255*_);let L=0;for(let I=0;I<=_;I++){const F=Math.round(d+I*A),V=P+I*M;for(let j=L;j<=F;j++)C[j]=V;L=F+1}for(let I=L;I<256;I++)C[I]=C[L-1];return C.join(",")},y=`g_${S(this,bu)}_hcm_${e}_filter`,x=l.filter=Q(this,Mh,zm).call(this,y);return Q(this,sM,CD).call(this,x),Q(this,$m,Uy).call(this,v(p[0],g[0],5),v(p[1],g[1],5),v(p[2],g[2],5),x),l.url=`url(#${y})`,l.url}destroy(e=!1){e&&S(this,Eh,Fm).size!==0||(S(this,fc)&&(S(this,fc).parentNode.parentNode.remove(),Z(this,fc,null)),S(this,df)&&(S(this,df).clear(),Z(this,df,null)),Z(this,Nm,0))}}df=new WeakMap,fc=new WeakMap,bu=new WeakMap,to=new WeakMap,rM=new WeakMap,Nm=new WeakMap,ui=new WeakSet,Ii=function(){return S(this,df)||Z(this,df,new Map)},Eh=new WeakSet,Fm=function(){return S(this,rM)||Z(this,rM,new Map)},hf=new WeakSet,Ng=function(){if(!S(this,fc)){const n=S(this,to).createElement("div"),{style:e}=n;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const t=S(this,to).createElementNS(Gl,"svg");t.setAttribute("width",0),t.setAttribute("height",0),Z(this,fc,S(this,to).createElementNS(Gl,"defs")),n.append(t),t.append(S(this,fc)),S(this,to).body.append(n)}return S(this,fc)},$y=new WeakSet,iM=function(n){if(n.length===1){const a=n[0],l=new Array(256);for(let u=0;u<256;u++)l[u]=a[u]/255;const c=l.join(",");return[c,c,c]}const[e,t,r]=n,i=new Array(256),s=new Array(256),o=new Array(256);for(let a=0;a<256;a++)i[a]=e[a]/255,s[a]=t[a]/255,o[a]=r[a]/255;return[i.join(","),s.join(","),o.join(",")]},MD=new WeakSet,yZ=function(n){const e=S(this,to).createElementNS(Gl,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(e)},sM=new WeakSet,CD=function(n){const e=S(this,to).createElementNS(Gl,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(e)},Mh=new WeakSet,zm=function(n){const e=S(this,to).createElementNS(Gl,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",n),S(this,hf,Ng).append(e),e},Bm=new WeakSet,ay=function(n,e,t){const r=S(this,to).createElementNS(Gl,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",t),n.append(r)},$m=new WeakSet,Uy=function(n,e,t,r){const i=S(this,to).createElementNS(Gl,"feComponentTransfer");r.append(i),Q(this,Bm,ay).call(this,i,"feFuncR",n),Q(this,Bm,ay).call(this,i,"feFuncG",e),Q(this,Bm,ay).call(this,i,"feFuncB",t)},oM=new WeakSet,AD=function(n,e){const t=S(this,to).createElementNS(Gl,"feComponentTransfer");e.append(t),Q(this,Bm,ay).call(this,t,"feFuncA",n)},Um=new WeakSet,Wy=function(n){return S(this,hf,Ng).style.color=n,oB(getComputedStyle(S(this,hf,Ng)).getPropertyValue("color"))};class BAe extends xP{constructor({ownerDocument:e=globalThis.document}={}){super(),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}async function _P(n,e="text"){if(Hy(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class xZ extends wP{_fetchData(e,t){return _P(e,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):vP(r),compressionType:t}))}}class wZ extends bP{_fetchData(e){return _P(e,"arraybuffer").then(t=>new Uint8Array(t))}}class nB extends tB{_createSVG(e){return document.createElementNS(Gl,e)}}class pb{constructor({viewBox:e,scale:t,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=i,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,u,d,h;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,u=0,d=0,h=1;break;case 90:c=0,u=1,d=1,h=0;break;case 270:c=0,u=-1,d=-1,h=0;break;case 0:c=1,u=0,d=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(d=-d,h=-h);let p,g,v,y;c===0?(p=Math.abs(l-e[1])*t+i,g=Math.abs(a-e[0])*t+s,v=(e[3]-e[1])*t,y=(e[2]-e[0])*t):(p=Math.abs(a-e[0])*t+i,g=Math.abs(l-e[1])*t+s,v=(e[2]-e[0])*t,y=(e[3]-e[1])*t),this.transform=[c*t,u*t,d*t,h*t,p-c*t*a-d*t*l,g-u*t*a-h*t*l],this.width=v,this.height=y}get rawDims(){const{viewBox:e}=this;return un(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new pb({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return vt.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=vt.applyTransform([e[0],e[1]],this.transform),r=vt.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return vt.applyInverseTransform([e,t],this.transform)}}class rB extends Ud{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function iB(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function sB(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function $Ae(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function UAe(n,e="document.pdf"){if(typeof n!="string")return e;if(iB(n))return en('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class dj{constructor(){Ut(this,"started",Object.create(null)),Ut(this,"times",[])}time(e){e in this.started&&en(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||en(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function Hy(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function Ds(n){n.preventDefault()}function bZ(n){console.log("Deprecated API usage: "+n)}let Ok;class _Z{static toDateObject(e){if(!e||typeof e!="string")return null;Ok||(Ok=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=Ok.exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(o+=u,a+=d):c==="+"&&(o-=u,a-=d),new Date(Date.UTC(r,i,s,o,a,l))}}function WAe(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new pb({viewBox:s,scale:e,rotation:t})}function oB(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(en(`Not a valid color format: "${n}"`),[0,0,0])}function HAe(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,oB(r))}e.remove()}function Yn(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform();return[e,t,r,i,s,o]}function Bl(n){const{a:e,b:t,c:r,d:i,e:s,f:o}=n.getTransform().invertSelf();return[e,t,r,i,s,o]}function op(n,e,t=!1,r=!0){if(e instanceof pb){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=n,a=zs.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,c=`var(--scale-factor) * ${s}px`,u=a?`round(${l}, 1px)`:`calc(${l})`,d=a?`round(${c}, 1px)`:`calc(${c})`;!t||e.rotation%180===0?(o.width=u,o.height=d):(o.width=d,o.height=u)}r&&n.setAttribute("data-main-rotation",e.rotation)}var Wm,Hm,pc,Fg,TD,SZ,PD,hj,RD,fj,tx,o2,LD,EZ,aM,kD;const MZ=class CZ{constructor(e){W(this,PD),W(this,RD),W(this,tx),W(this,LD),W(this,aM),W(this,Wm,null),W(this,Hm,null),W(this,pc,void 0),W(this,Fg,null),Z(this,pc,e)}render(){const e=Z(this,Wm,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ds),e.addEventListener("pointerdown",Q(CZ,TD,SZ));const t=Z(this,Fg,document.createElement("div"));t.className="buttons",e.append(t);const r=S(this,pc).toolbarPosition;if(r){const{style:i}=e,s=S(this,pc)._uiManager.direction==="ltr"?1-r[0]:r[0];i.insetInlineEnd=`${100*s}%`,i.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return Q(this,LD,EZ).call(this),e}hide(){var e;S(this,Wm).classList.add("hidden"),(e=S(this,Hm))==null||e.hideDropdown()}show(){S(this,Wm).classList.remove("hidden")}addAltTextButton(e){Q(this,tx,o2).call(this,e),S(this,Fg).prepend(e,S(this,aM,kD))}addColorPicker(e){Z(this,Hm,e);const t=e.renderButton();Q(this,tx,o2).call(this,t),S(this,Fg).prepend(t,S(this,aM,kD))}remove(){var e;S(this,Wm).remove(),(e=S(this,Hm))==null||e.destroy(),Z(this,Hm,null)}};Wm=new WeakMap,Hm=new WeakMap,pc=new WeakMap,Fg=new WeakMap,TD=new WeakSet,SZ=function(n){n.stopPropagation()},PD=new WeakSet,hj=function(n){S(this,pc)._focusEventsAllowed=!1,n.preventDefault(),n.stopPropagation()},RD=new WeakSet,fj=function(n){S(this,pc)._focusEventsAllowed=!0,n.preventDefault(),n.stopPropagation()},tx=new WeakSet,o2=function(n){n.addEventListener("focusin",Q(this,PD,hj).bind(this),{capture:!0}),n.addEventListener("focusout",Q(this,RD,fj).bind(this),{capture:!0}),n.addEventListener("contextmenu",Ds)},LD=new WeakSet,EZ=function(){const n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",`pdfjs-editor-remove-${S(this,pc).editorType}-button`),Q(this,tx,o2).call(this,n),n.addEventListener("click",e=>{S(this,pc)._uiManager.delete()}),S(this,Fg).append(n)},aM=new WeakSet,kD=function(){const n=document.createElement("div");return n.className="divider",n},W(MZ,TD);let jAe=MZ;var lM,Gh,a2,ID,AZ,OD,TZ,DD,pj;class VAe{constructor(e){W(this,ID),W(this,OD),W(this,DD),W(this,lM,null),W(this,Gh,null),W(this,a2,void 0),Z(this,a2,e)}show(e,t,r){const[i,s]=Q(this,OD,TZ).call(this,t,r),{style:o}=S(this,Gh)||Z(this,Gh,Q(this,ID,AZ).call(this));e.append(S(this,Gh)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){S(this,Gh).remove()}}lM=new WeakMap,Gh=new WeakMap,a2=new WeakMap,ID=new WeakSet,AZ=function(){const n=Z(this,Gh,document.createElement("div"));n.className="editToolbar",n.setAttribute("role","toolbar"),n.addEventListener("contextmenu",Ds);const e=Z(this,lM,document.createElement("div"));return e.className="buttons",n.append(e),Q(this,DD,pj).call(this),n},OD=new WeakSet,TZ=function(n,e){let t=0,r=0;for(const i of n){const s=i.y+i.height;if(s<t)continue;const o=i.x+(e?i.width:0);if(s>t){r=o,t=s;continue}e?o>r&&(r=o):o<r&&(r=o)}return[e?1-r:r,t]},DD=new WeakSet,pj=function(){const n=document.createElement("button");n.className="highlightButton",n.tabIndex=0,n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");n.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),n.addEventListener("contextmenu",Ds),n.addEventListener("click",()=>{S(this,a2).highlightSelection("floating_button")}),S(this,lM).append(n)};function l2(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}function GAe(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var ND;class qAe{constructor(){W(this,ND,0)}get id(){return`${EAe}${na(this,ND)._++}`}}ND=new WeakMap;var c2,FD,Es,cM,zD;const PZ=class{constructor(){W(this,cM),W(this,c2,FAe()),W(this,FD,0),W(this,Es,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',t=new OffscreenCanvas(1,3).getContext("2d"),r=new Image;r.src=e;const i=r.decode().then(()=>(t.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(t.getImageData(0,0,1,1).data.buffer)[0]===0));return un(this,"_isSVGFittingCanvas",i)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return Q(this,cM,zD).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return Q(this,cM,zD).call(this,e,e)}async getFromId(e){S(this,Es)||Z(this,Es,new Map);const t=S(this,Es).get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=S(this,Es).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){S(this,Es)||Z(this,Es,new Map);const t=S(this,Es).get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${S(this,c2)}_`)}};c2=new WeakMap,FD=new WeakMap,Es=new WeakMap,cM=new WeakSet,zD=async function(n,e){S(this,Es)||Z(this,Es,new Map);let t=S(this,Es).get(n);if(t===null)return null;if(t!=null&&t.bitmap)return t.refCounter+=1,t;try{t||(t={bitmap:null,id:`image_${S(this,c2)}_${na(this,FD)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(t.url=e,r=await _P(e,"blob")):r=t.file=e,r.type==="image/svg+xml"){const i=PZ._isSVGFittingCanvas,s=new FileReader,o=new Image,a=new Promise((l,c)=>{o.onload=()=>{t.bitmap=o,t.isSvg=!0,l()},s.onload=async()=>{const u=t.svgUrl=s.result;o.src=await i?`${u}#svgView(preserveAspectRatio(none))`:u},o.onerror=s.onerror=c});s.readAsDataURL(r),await a}else t.bitmap=await createImageBitmap(r);t.refCounter=1}catch(r){console.error(r),t=null}return S(this,Es).set(n,t),t&&S(this,Es).set(t.id,t),t};let XAe=PZ;var di,Ch,uM,Dr;class YAe{constructor(e=128){W(this,di,[]),W(this,Ch,!1),W(this,uM,void 0),W(this,Dr,-1),Z(this,uM,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),S(this,Ch))return;const l={cmd:e,undo:t,post:r,type:s};if(S(this,Dr)===-1){S(this,di).length>0&&(S(this,di).length=0),Z(this,Dr,0),S(this,di).push(l);return}if(o&&S(this,di)[S(this,Dr)].type===s){a&&(l.undo=S(this,di)[S(this,Dr)].undo),S(this,di)[S(this,Dr)]=l;return}const c=S(this,Dr)+1;c===S(this,uM)?S(this,di).splice(0,1):(Z(this,Dr,c),c<S(this,di).length&&S(this,di).splice(c)),S(this,di).push(l)}undo(){if(S(this,Dr)===-1)return;Z(this,Ch,!0);const{undo:e,post:t}=S(this,di)[S(this,Dr)];e(),t==null||t(),Z(this,Ch,!1),Z(this,Dr,S(this,Dr)-1)}redo(){if(S(this,Dr)<S(this,di).length-1){Z(this,Dr,S(this,Dr)+1),Z(this,Ch,!0);const{cmd:e,post:t}=S(this,di)[S(this,Dr)];e(),t==null||t(),Z(this,Ch,!1)}}hasSomethingToUndo(){return S(this,Dr)!==-1}hasSomethingToRedo(){return S(this,Dr)<S(this,di).length-1}destroy(){Z(this,di,null)}}di=new WeakMap,Ch=new WeakMap,uM=new WeakMap,Dr=new WeakMap;var BD,RZ;class mb{constructor(e){W(this,BD),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=zs.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(Q(this,BD,RZ).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(i.bind(e,...o,t)(),s||(t.stopPropagation(),t.preventDefault()))}}BD=new WeakSet,RZ=function(n){n.altKey&&this.buffer.push("alt"),n.ctrlKey&&this.buffer.push("ctrl"),n.metaKey&&this.buffer.push("meta"),n.shiftKey&&this.buffer.push("shift"),this.buffer.push(n.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const LZ=class kZ{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return HAe(e),un(this,"_colors",e)}convert(e){const t=oB(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,o)=>s===t[o]))return kZ._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?vt.makeHexColor(...t):e}};Ut(LZ,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let KAe=LZ;var Bo,Zr,Fi,jy,_u,jm,Za,Vy,Vm,ql,Su,Gm,u2,dM,Xl,Gy,qh,ul,$D,Xh,hM,qm,fM,qy,Ui,An,Eu,Xm,Xy,pM,mM,gM,vM,yM,xM,wM,bM,_M,SM,EM,MM,CM,Ah,Yl,Mu,AM,nx,TM,UD,mj,WD,IZ,rx,d2,HD,OZ,jD,DZ,VD,NZ,PM,GD,RM,qD,LM,XD,kM,YD,IM,KD,Bi,rs,oc,Fu,QD,FZ,ZD,zZ,OM,JD,eN,BZ,Ym,Yy,DM,tN;const nN=class rN{constructor(e,t,r,i,s,o,a,l,c){W(this,nx),W(this,UD),W(this,WD),W(this,rx),W(this,HD),W(this,jD),W(this,VD),W(this,PM),W(this,RM),W(this,LM),W(this,kM),W(this,IM),W(this,Bi),W(this,oc),W(this,QD),W(this,ZD),W(this,OM),W(this,eN),W(this,Ym),W(this,DM),W(this,Bo,null),W(this,Zr,new Map),W(this,Fi,new Map),W(this,jy,null),W(this,_u,null),W(this,jm,null),W(this,Za,new YAe),W(this,Vy,0),W(this,Vm,new Set),W(this,ql,null),W(this,Su,null),W(this,Gm,new Set),W(this,u2,!1),W(this,dM,null),W(this,Xl,null),W(this,Gy,null),W(this,qh,!1),W(this,ul,null),W(this,$D,new qAe),W(this,Xh,!1),W(this,hM,!1),W(this,qm,null),W(this,fM,null),W(this,qy,null),W(this,Ui,ln.NONE),W(this,An,new Set),W(this,Eu,null),W(this,Xm,null),W(this,Xy,null),W(this,pM,this.blur.bind(this)),W(this,mM,this.focus.bind(this)),W(this,gM,this.copy.bind(this)),W(this,vM,this.cut.bind(this)),W(this,yM,this.paste.bind(this)),W(this,xM,this.keydown.bind(this)),W(this,wM,this.keyup.bind(this)),W(this,bM,this.onEditingAction.bind(this)),W(this,_M,this.onPageChanging.bind(this)),W(this,SM,this.onScaleChanging.bind(this)),W(this,EM,Q(this,WD,IZ).bind(this)),W(this,MM,this.onRotationChanging.bind(this)),W(this,CM,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),W(this,Ah,[0,0]),W(this,Yl,null),W(this,Mu,null),W(this,AM,null),Z(this,Mu,e),Z(this,AM,t),Z(this,jy,r),this._eventBus=i,this._eventBus._on("editingaction",S(this,bM)),this._eventBus._on("pagechanging",S(this,_M)),this._eventBus._on("scalechanging",S(this,SM)),this._eventBus._on("rotationchanging",S(this,MM)),Q(this,HD,OZ).call(this),Q(this,RM,qD).call(this),Z(this,_u,s.annotationStorage),Z(this,dM,s.filterFactory),Z(this,Xm,o),Z(this,Gy,a||null),Z(this,u2,l),Z(this,qy,c||null),this.viewParameters={realScale:Gv.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=rN.prototype,t=o=>S(o,Mu).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return un(this,"_keyboardManager",new mb([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&S(o,Mu).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&S(o,Mu).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t;Q(this,LM,XD).call(this),Q(this,PM,GD).call(this),this._eventBus._off("editingaction",S(this,bM)),this._eventBus._off("pagechanging",S(this,_M)),this._eventBus._off("scalechanging",S(this,SM)),this._eventBus._off("rotationchanging",S(this,MM));for(const r of S(this,Fi).values())r.destroy();S(this,Fi).clear(),S(this,Zr).clear(),S(this,Gm).clear(),Z(this,Bo,null),S(this,An).clear(),S(this,Za).destroy(),(e=S(this,jy))==null||e.destroy(),(t=S(this,ul))==null||t.hide(),Z(this,ul,null),S(this,Xl)&&(clearTimeout(S(this,Xl)),Z(this,Xl,null)),S(this,Yl)&&(clearTimeout(S(this,Yl)),Z(this,Yl,null)),Q(this,jD,DZ).call(this)}async mlGuess(e){var t;return((t=S(this,qy))==null?void 0:t.guess(e))||null}get hasMLManager(){return!!S(this,qy)}get hcmFilter(){return un(this,"hcmFilter",S(this,Xm)?S(this,dM).addHCMFilter(S(this,Xm).foreground,S(this,Xm).background):"none")}get direction(){return un(this,"direction",getComputedStyle(S(this,Mu)).direction)}get highlightColors(){return un(this,"highlightColors",S(this,Gy)?new Map(S(this,Gy).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return un(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){Z(this,fM,e)}editAltText(e){var t;(t=S(this,jy))==null||t.editAltText(this,e)}onPageChanging({pageNumber:e}){Z(this,Vy,e-1)}focusMainContainer(){S(this,Mu).focus()}findParent(e,t){for(const r of S(this,Fi).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=s&&t<=s+a)return r}return null}disableUserSelect(e=!1){S(this,AM).classList.toggle("noUserSelect",e)}addShouldRescale(e){S(this,Gm).add(e)}removeShouldRescale(e){S(this,Gm).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Gv.PDF_TO_CSS_UNITS;for(const t of S(this,Gm))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=t,a=t.toString(),l=Q(this,nx,TM).call(this,t).closest(".textLayer"),c=this.getSelectionBoxes(l);if(c){t.empty(),S(this,Ui)===ln.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:ln.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const u of S(this,Fi).values())if(u.hasTextLayer(l)){u.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:c,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&S(this,_u)&&!S(this,_u).has(e.id)&&S(this,_u).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,S(this,qh)&&(Z(this,qh,!1),Q(this,rx,d2).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of S(this,An))if(t.div.contains(e)){Z(this,qm,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!S(this,qm))return;const[e,t]=S(this,qm);Z(this,qm,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),t.focus()}addEditListeners(){Q(this,RM,qD).call(this),Q(this,kM,YD).call(this)}removeEditListeners(){Q(this,LM,XD).call(this),Q(this,IM,KD).call(this)}copy(e){var t;if(e.preventDefault(),(t=S(this,Bo))==null||t.commitOrRemove(),!this.hasSelection)return;const r=[];for(const i of S(this,An)){const s=i.serialize(!0);s&&r.push(s)}r.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(r))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of S(this,Su))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){en(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=i.deserialize(l);if(!c)return;s.push(c)}const o=()=>{for(const l of s)Q(this,OM,JD).call(this,l);Q(this,DM,tN).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){en(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),S(this,Ui)!==ln.NONE&&!this.isEditorHandlingKeyboard&&rN._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,S(this,qh)&&(Z(this,qh,!1),Q(this,rx,d2).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(Q(this,VD,NZ).call(this),Q(this,kM,YD).call(this),Q(this,Bi,rs).call(this,{isEditing:S(this,Ui)!==ln.NONE,isEmpty:Q(this,Ym,Yy).call(this),hasSomethingToUndo:S(this,Za).hasSomethingToUndo(),hasSomethingToRedo:S(this,Za).hasSomethingToRedo(),hasSelectedEditor:!1})):(Q(this,PM,GD).call(this),Q(this,IM,KD).call(this),Q(this,Bi,rs).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!S(this,Su)){Z(this,Su,e);for(const t of S(this,Su))Q(this,oc,Fu).call(this,t.defaultPropertiesToUpdate)}}getId(){return S(this,$D).id}get currentLayer(){return S(this,Fi).get(S(this,Vy))}getLayer(e){return S(this,Fi).get(e)}get currentPageIndex(){return S(this,Vy)}addLayer(e){S(this,Fi).set(e.pageIndex,e),S(this,Xh)?e.enable():e.disable()}removeLayer(e){S(this,Fi).delete(e.pageIndex)}updateMode(e,t=null,r=!1){if(S(this,Ui)!==e){if(Z(this,Ui,e),e===ln.NONE){this.setEditingState(!1),Q(this,ZD,zZ).call(this);return}this.setEditingState(!0),Q(this,QD,FZ).call(this),this.unselectAll();for(const i of S(this,Fi).values())i.updateMode(e);if(!t&&r){this.addNewEditorFromKeyboard();return}if(t){for(const i of S(this,Zr).values())if(i.annotationElementId===t){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==S(this,Ui)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(S(this,Su)){switch(e){case Dt.CREATE:this.currentLayer.addNewEditor();return;case Dt.HIGHLIGHT_DEFAULT_COLOR:(r=S(this,fM))==null||r.updateColor(t);break;case Dt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(S(this,Xy)||Z(this,Xy,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of S(this,An))i.updateParams(e,t);for(const i of S(this,Su))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var i;for(const s of S(this,Zr).values())s.editorType===e&&s.show(t);(((i=S(this,Xy))==null?void 0:i.get(Dt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&Q(this,oc,Fu).call(this,[[Dt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(S(this,hM)!==e){Z(this,hM,e);for(const t of S(this,Fi).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of S(this,Zr).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return S(this,Zr).get(e)}addEditor(e){S(this,Zr).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(S(this,Xl)&&clearTimeout(S(this,Xl)),Z(this,Xl,setTimeout(()=>{this.focusMainContainer(),Z(this,Xl,null)},0))),S(this,Zr).delete(e.id),this.unselect(e),(!e.annotationElementId||!S(this,Vm).has(e.annotationElementId))&&((t=S(this,_u))==null||t.remove(e.id))}addDeletedAnnotationElement(e){S(this,Vm).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return S(this,Vm).has(e)}removeDeletedAnnotationElement(e){S(this,Vm).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){S(this,Bo)!==e&&(Z(this,Bo,e),e&&Q(this,oc,Fu).call(this,e.propertiesToUpdate))}updateUI(e){S(this,eN,BZ)===e&&Q(this,oc,Fu).call(this,e.propertiesToUpdate)}toggleSelected(e){if(S(this,An).has(e)){S(this,An).delete(e),e.unselect(),Q(this,Bi,rs).call(this,{hasSelectedEditor:this.hasSelection});return}S(this,An).add(e),e.select(),Q(this,oc,Fu).call(this,e.propertiesToUpdate),Q(this,Bi,rs).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of S(this,An))t!==e&&t.unselect();S(this,An).clear(),S(this,An).add(e),e.select(),Q(this,oc,Fu).call(this,e.propertiesToUpdate),Q(this,Bi,rs).call(this,{hasSelectedEditor:!0})}isSelected(e){return S(this,An).has(e)}get firstSelectedEditor(){return S(this,An).values().next().value}unselect(e){e.unselect(),S(this,An).delete(e),Q(this,Bi,rs).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return S(this,An).size!==0}get isEnterHandled(){return S(this,An).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){S(this,Za).undo(),Q(this,Bi,rs).call(this,{hasSomethingToUndo:S(this,Za).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Q(this,Ym,Yy).call(this)})}redo(){S(this,Za).redo(),Q(this,Bi,rs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:S(this,Za).hasSomethingToRedo(),isEmpty:Q(this,Ym,Yy).call(this)})}addCommands(e){S(this,Za).add(e),Q(this,Bi,rs).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Q(this,Ym,Yy).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...S(this,An)],t=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)Q(this,OM,JD).call(this,i)};this.addCommands({cmd:t,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=S(this,Bo))==null||e.commitOrRemove()}hasSomethingToControl(){return S(this,Bo)||this.hasSelection}selectAll(){for(const e of S(this,An))e.commit();Q(this,DM,tN).call(this,S(this,Zr).values())}unselectAll(){if(!(S(this,Bo)&&(S(this,Bo).commitOrRemove(),S(this,Ui)!==ln.NONE))&&this.hasSelection){for(const e of S(this,An))e.unselect();S(this,An).clear(),Q(this,Bi,rs).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;S(this,Ah)[0]+=e,S(this,Ah)[1]+=t;const[i,s]=S(this,Ah),o=[...S(this,An)];S(this,Yl)&&clearTimeout(S(this,Yl)),Z(this,Yl,setTimeout(()=>{Z(this,Yl,null),S(this,Ah)[0]=S(this,Ah)[1]=0,this.addCommands({cmd:()=>{for(const l of o)S(this,Zr).has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of o)S(this,Zr).has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},1e3));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Z(this,ql,new Map);for(const e of S(this,An))S(this,ql).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!S(this,ql))return!1;this.disableUserSelect(!1);const e=S(this,ql);Z(this,ql,null);let t=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,t||(t=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const r=(i,s,o,a)=>{if(S(this,Zr).has(i.id)){const l=S(this,Fi).get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(S(this,ql))for(const r of S(this,ql).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||S(this,An).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return S(this,Bo)===e}getActive(){return S(this,Bo)}getMode(){return S(this,Ui)}get imageManager(){return un(this,"imageManager",new XAe)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,u=t.rangeCount;c<u;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,u,d,h)=>({x:(u-i)/o,y:1-(c+d-r)/s,width:h/o,height:d/s});break;case"180":a=(c,u,d,h)=>({x:1-(c+d-r)/s,y:1-(u+h-i)/o,width:d/s,height:h/o});break;case"270":a=(c,u,d,h)=>({x:1-(u+h-i)/o,y:(c-r)/s,width:h/o,height:d/s});break;default:a=(c,u,d,h)=>({x:(c-r)/s,y:(u-i)/o,width:d/s,height:h/o});break}const l=[];for(let c=0,u=t.rangeCount;c<u;c++){const d=t.getRangeAt(c);if(!d.collapsed)for(const{x:h,y:p,width:g,height:v}of d.getClientRects())g===0||v===0||l.push(a(h,p,g,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(S(this,jm)||Z(this,jm,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=S(this,jm))==null||t.delete(e)}renderAnnotationElement(e){var t;const r=(t=S(this,jm))==null?void 0:t.get(e.data.id);if(!r)return;const i=S(this,_u).getRawValue(r);i&&(S(this,Ui)===ln.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}};Bo=new WeakMap,Zr=new WeakMap,Fi=new WeakMap,jy=new WeakMap,_u=new WeakMap,jm=new WeakMap,Za=new WeakMap,Vy=new WeakMap,Vm=new WeakMap,ql=new WeakMap,Su=new WeakMap,Gm=new WeakMap,u2=new WeakMap,dM=new WeakMap,Xl=new WeakMap,Gy=new WeakMap,qh=new WeakMap,ul=new WeakMap,$D=new WeakMap,Xh=new WeakMap,hM=new WeakMap,qm=new WeakMap,fM=new WeakMap,qy=new WeakMap,Ui=new WeakMap,An=new WeakMap,Eu=new WeakMap,Xm=new WeakMap,Xy=new WeakMap,pM=new WeakMap,mM=new WeakMap,gM=new WeakMap,vM=new WeakMap,yM=new WeakMap,xM=new WeakMap,wM=new WeakMap,bM=new WeakMap,_M=new WeakMap,SM=new WeakMap,EM=new WeakMap,MM=new WeakMap,CM=new WeakMap,Ah=new WeakMap,Yl=new WeakMap,Mu=new WeakMap,AM=new WeakMap,nx=new WeakSet,TM=function({anchorNode:n}){return n.nodeType===Node.TEXT_NODE?n.parentElement:n},UD=new WeakSet,mj=function(){const n=document.getSelection();if(!n||n.isCollapsed)return;const e=Q(this,nx,TM).call(this,n).closest(".textLayer"),t=this.getSelectionBoxes(e);t&&(S(this,ul)||Z(this,ul,new VAe(this)),S(this,ul).show(e,t,this.direction==="ltr"))},WD=new WeakSet,IZ=function(){var n,e,t;const r=document.getSelection();if(!r||r.isCollapsed){S(this,Eu)&&((n=S(this,ul))==null||n.hide(),Z(this,Eu,null),Q(this,Bi,rs).call(this,{hasSelectedText:!1}));return}const{anchorNode:i}=r;if(i!==S(this,Eu)){if(!Q(this,nx,TM).call(this,r).closest(".textLayer")){S(this,Eu)&&((e=S(this,ul))==null||e.hide(),Z(this,Eu,null),Q(this,Bi,rs).call(this,{hasSelectedText:!1}));return}if((t=S(this,ul))==null||t.hide(),Z(this,Eu,i),Q(this,Bi,rs).call(this,{hasSelectedText:!0}),!(S(this,Ui)!==ln.HIGHLIGHT&&S(this,Ui)!==ln.NONE)&&(S(this,Ui)===ln.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),Z(this,qh,this.isShiftKeyDown),!this.isShiftKeyDown)){const s=o=>{o.type==="pointerup"&&o.button!==0||(window.removeEventListener("pointerup",s),window.removeEventListener("blur",s),o.type==="pointerup"&&Q(this,rx,d2).call(this,"main_toolbar"))};window.addEventListener("pointerup",s),window.addEventListener("blur",s)}}},rx=new WeakSet,d2=function(n=""){S(this,Ui)===ln.HIGHLIGHT?this.highlightSelection(n):S(this,u2)&&Q(this,UD,mj).call(this)},HD=new WeakSet,OZ=function(){document.addEventListener("selectionchange",S(this,EM))},jD=new WeakSet,DZ=function(){document.removeEventListener("selectionchange",S(this,EM))},VD=new WeakSet,NZ=function(){window.addEventListener("focus",S(this,mM)),window.addEventListener("blur",S(this,pM))},PM=new WeakSet,GD=function(){window.removeEventListener("focus",S(this,mM)),window.removeEventListener("blur",S(this,pM))},RM=new WeakSet,qD=function(){window.addEventListener("keydown",S(this,xM)),window.addEventListener("keyup",S(this,wM))},LM=new WeakSet,XD=function(){window.removeEventListener("keydown",S(this,xM)),window.removeEventListener("keyup",S(this,wM))},kM=new WeakSet,YD=function(){document.addEventListener("copy",S(this,gM)),document.addEventListener("cut",S(this,vM)),document.addEventListener("paste",S(this,yM))},IM=new WeakSet,KD=function(){document.removeEventListener("copy",S(this,gM)),document.removeEventListener("cut",S(this,vM)),document.removeEventListener("paste",S(this,yM))},Bi=new WeakSet,rs=function(n){Object.entries(n).some(([e,t])=>S(this,CM)[e]!==t)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(S(this,CM),n)}),S(this,Ui)===ln.HIGHLIGHT&&n.hasSelectedEditor===!1&&Q(this,oc,Fu).call(this,[[Dt.HIGHLIGHT_FREE,!0]]))},oc=new WeakSet,Fu=function(n){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:n})},QD=new WeakSet,FZ=function(){if(!S(this,Xh)){Z(this,Xh,!0);for(const n of S(this,Fi).values())n.enable();for(const n of S(this,Zr).values())n.enable()}},ZD=new WeakSet,zZ=function(){if(this.unselectAll(),S(this,Xh)){Z(this,Xh,!1);for(const n of S(this,Fi).values())n.disable();for(const n of S(this,Zr).values())n.disable()}},OM=new WeakSet,JD=function(n){const e=S(this,Fi).get(n.pageIndex);e?e.addOrRebuild(n):(this.addEditor(n),this.addToAnnotationStorage(n))},eN=new WeakSet,BZ=function(){let n=null;for(n of S(this,An));return n},Ym=new WeakSet,Yy=function(){if(S(this,Zr).size===0)return!0;if(S(this,Zr).size===1)for(const n of S(this,Zr).values())return n.isEmpty();return!1},DM=new WeakSet,tN=function(n){for(const e of S(this,An))e.unselect();S(this,An).clear();for(const e of n)e.isEmpty()||(S(this,An).add(e),e.select());Q(this,Bi,rs).call(this,{hasSelectedEditor:this.hasSelection})},Ut(nN,"TRANSLATE_SMALL",1),Ut(nN,"TRANSLATE_BIG",10);let _w=nN;var ju,Vu,nl,zu,ml,Ky,ad,NM,iN;const FM=class zM{constructor(e){W(this,NM),W(this,ju,""),W(this,Vu,!1),W(this,nl,null),W(this,zu,null),W(this,ml,null),W(this,Ky,!1),W(this,ad,null),Z(this,ad,e)}static initialize(e){zM._l10nPromise||(zM._l10nPromise=e)}async render(){const e=Z(this,nl,document.createElement("button"));e.className="altText";const t=await zM._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0",e.addEventListener("contextmenu",Ds),e.addEventListener("pointerdown",i=>i.stopPropagation());const r=i=>{i.preventDefault(),S(this,ad)._uiManager.editAltText(S(this,ad))};return e.addEventListener("click",r,{capture:!0}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(Z(this,Ky,!0),r(i))}),await Q(this,NM,iN).call(this),e}finish(){S(this,nl)&&(S(this,nl).focus({focusVisible:S(this,Ky)}),Z(this,Ky,!1))}isEmpty(){return!S(this,ju)&&!S(this,Vu)}get data(){return{altText:S(this,ju),decorative:S(this,Vu)}}set data({altText:e,decorative:t}){S(this,ju)===e&&S(this,Vu)===t||(Z(this,ju,e),Z(this,Vu,t),Q(this,NM,iN).call(this))}toggle(e=!1){S(this,nl)&&(!e&&S(this,ml)&&(clearTimeout(S(this,ml)),Z(this,ml,null)),S(this,nl).disabled=!e)}destroy(){var e;(e=S(this,nl))==null||e.remove(),Z(this,nl,null),Z(this,zu,null)}};ju=new WeakMap,Vu=new WeakMap,nl=new WeakMap,zu=new WeakMap,ml=new WeakMap,Ky=new WeakMap,ad=new WeakMap,NM=new WeakSet,iN=async function(){var n;const e=S(this,nl);if(!e)return;if(!S(this,ju)&&!S(this,Vu)){e.classList.remove("done"),(n=S(this,zu))==null||n.remove();return}e.classList.add("done"),FM._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(i=>{e.setAttribute("aria-label",i)});let t=S(this,zu);if(!t){Z(this,zu,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const i=t.id=`alt-text-tooltip-${S(this,ad).id}`;e.setAttribute("aria-describedby",i);const s=100;e.addEventListener("mouseenter",()=>{Z(this,ml,setTimeout(()=>{Z(this,ml,null),S(this,zu).classList.add("show"),S(this,ad)._reportTelemetry({action:"alt_text_tooltip"})},s))}),e.addEventListener("mouseleave",()=>{var o;S(this,ml)&&(clearTimeout(S(this,ml)),Z(this,ml,null)),(o=S(this,zu))==null||o.classList.remove("show")})}t.innerText=S(this,Vu)?await FM._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):S(this,ju),t.parentNode||e.append(t);const r=S(this,ad).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},Ut(FM,"_l10nPromise",null);let gj=FM;var dl,ws,Qy,Km,Wi,zg,Zy,Jy,ts,h2,Bg,Kl,BM,Qm,ld,Ql,e1,t1,$o,$M,sN,UM,oN,f2,aN,WM,Dk,lN,$Z,cN,vj,HM,Nk,p2,uN,m2,dN,hN,UZ,fN,WZ,pN,HZ,mN,jZ,g2,gN,$g,ix;const Zl=class hi{constructor(e){W(this,UM),W(this,WM),W(this,lN),W(this,cN),W(this,HM),W(this,p2),W(this,m2),W(this,hN),W(this,fN),W(this,pN),W(this,mN),W(this,g2),W(this,$g),W(this,dl,null),W(this,ws,null),W(this,Qy,!1),W(this,Km,!1),W(this,Wi,null),W(this,zg,null),W(this,Zy,this.focusin.bind(this)),W(this,Jy,this.focusout.bind(this)),W(this,ts,null),W(this,h2,""),W(this,Bg,!1),W(this,Kl,null),W(this,BM,!1),W(this,Qm,!1),W(this,ld,!1),W(this,Ql,null),W(this,e1,0),W(this,t1,0),W(this,$o,null),Ut(this,"_initialOptions",Object.create(null)),Ut(this,"_isVisible",!0),Ut(this,"_uiManager",null),Ut(this,"_focusEventsAllowed",!0),Ut(this,"_l10nPromise",null),W(this,$M,!1),W(this,sN,hi._zIndex++),this.constructor===hi&&Tn("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=hi.prototype._resizeWithKeyboard,t=_w.TRANSLATE_SMALL,r=_w.TRANSLATE_BIG;return un(this,"_resizerKeyboardManager",new mb([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],hi.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return un(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new QAe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,r){if(hi._l10nPromise||(hi._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),r!=null&&r.strings)for(const s of r.strings)hi._l10nPromise.set(s,e.get(s));if(hi._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);hi._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Tn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return S(this,$M)}set _isDraggable(e){var t;Z(this,$M,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=S(this,sN)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):Q(this,$g,ix).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(S(this,Bg)?Z(this,Bg,!1):this.parent.setSelected(this))}focusout(e){var t;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const r=e.relatedTarget;r!=null&&r.closest(`#${this.id}`)||(e.preventDefault(),(t=this.parent)!=null&&t.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/o,this.fixAndSetPosition()}translate(e,t){Q(this,UM,oN).call(this,this.parentDimensions,e,t)}translateInPage(e,t){S(this,Kl)||Z(this,Kl,[this.x,this.y]),Q(this,UM,oN).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){S(this,Kl)||Z(this,Kl,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!S(this,Kl)&&(S(this,Kl)[0]!==this.x||S(this,Kl)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=hi,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,r]=this.pageDimensions;let{x:i,y:s,width:o,height:a}=this;if(o*=t,a*=r,i*=t,s*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(t-o,i)),s=Math.max(0,Math.min(r-a,s));break;case 90:i=Math.max(0,Math.min(t-a,i)),s=Math.min(r,Math.max(o,s));break;case 180:i=Math.min(t,Math.max(o,i)),s=Math.min(r,Math.max(a,s));break;case 270:i=Math.min(t,Math.max(a,i)),s=Math.max(0,Math.min(r-o,s));break}this.x=i/=t,this.y=s/=r;const[l,c]=this.getBaseTranslation();i+=l,s+=c;const{style:u}=this.div;u.left=`${(100*i).toFixed(2)}%`,u.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return Q(r=hi,f2,aN).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return Q(r=hi,f2,aN).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this,i=t*e,s=r*e;return zs.isCSSRoundSupported?[Math.round(i),Math.round(s)]:[i,s]}setDims(e,t){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,S(this,Km)||(this.div.style.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!S(this,Km)&&t.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!S(this,Km)&&!s&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=S(this,ws))==null||e.finish()}async addEditToolbar(){return S(this,ts)||S(this,Qm)?S(this,ts):(Z(this,ts,new jAe(this)),this.div.append(S(this,ts).render()),S(this,ws)&&S(this,ts).addAltTextButton(await S(this,ws).render()),S(this,ts))}removeEditToolbar(){var e;S(this,ts)&&(S(this,ts).remove(),Z(this,ts,null),(e=S(this,ws))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){S(this,ws)||(gj.initialize(hi._l10nPromise),Z(this,ws,new gj(this)),await this.addEditToolbar())}get altTextData(){var e;return(e=S(this,ws))==null?void 0:e.data}set altTextData(e){S(this,ws)&&(S(this,ws).data=e)}hasAltText(){var e;return!((e=S(this,ws))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=S(this,Qy)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",S(this,Zy)),this.div.addEventListener("focusout",S(this,Jy));const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),l2(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=zs.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(Z(this,Bg,!0),this._isDraggable){Q(this,hN,UZ).call(this,e);return}Q(this,m2,dN).call(this,e)}moveInDOM(){S(this,Ql)&&clearTimeout(S(this,Ql)),Z(this,Ql,setTimeout(()=>{var e;Z(this,Ql,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=e/i,u=t/i,d=this.x*s,h=this.y*o,p=this.width*s,g=this.height*o;switch(r){case 0:return[d+c+a,o-h-u-g+l,d+c+p+a,o-h-u+l];case 90:return[d+u+a,o-h+c+l,d+u+g+a,o-h+c+p+l];case 180:return[d-c-p+a,o-h+u+l,d-c+a,o-h+u+g+l];case 270:return[d-u-g+a,o-h-c-p+l,d-u+a,o-h-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,o]=e,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,t-o,a,l];case 90:return[r,t-i,l,a];case 180:return[s,t-i,a,l];case 270:return[s,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Z(this,Qm,!0)}disableEditMode(){Z(this,Qm,!1)}isInEditMode(){return S(this,Qm)}shouldGetKeyboardEvents(){return S(this,ld)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e,t;(e=this.div)==null||e.addEventListener("focusin",S(this,Zy)),(t=this.div)==null||t.addEventListener("focusout",S(this,Jy))}rotate(e){}serialize(e=!1,t=null){Tn("An editor must be serializable")}static deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation;const[s,o]=i.pageDimensions,[a,l,c,u]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=l/o,i.width=c/s,i.height=u/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",S(this,Zy)),this.div.removeEventListener("focusout",S(this,Jy)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),S(this,Ql)&&(clearTimeout(S(this,Ql)),Z(this,Ql,null)),Q(this,$g,ix).call(this),this.removeEditToolbar(),S(this,$o)){for(const e of S(this,$o).values())clearTimeout(e);Z(this,$o,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(Q(this,lN,$Z).call(this),S(this,Wi).classList.remove("hidden"),l2(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),Z(this,zg,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=S(this,Wi).children;if(!S(this,dl)){Z(this,dl,Array.from(t));const o=Q(this,fN,WZ).bind(this),a=Q(this,pN,HZ).bind(this);for(const l of S(this,dl)){const c=l.getAttribute("data-resizer-name");l.setAttribute("role","spinbutton"),l.addEventListener("keydown",o),l.addEventListener("blur",a),l.addEventListener("focus",Q(this,mN,jZ).bind(this,c)),hi._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(u=>l.setAttribute("aria-label",u))}}const r=S(this,dl)[0];let i=0;for(const o of t){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(S(this,dl).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)S(this,Wi).append(S(this,Wi).firstChild);else if(s>i)for(let a=0;a<s-i;a++)S(this,Wi).firstChild.before(S(this,Wi).lastChild);let o=0;for(const a of t){const l=S(this,dl)[o++].getAttribute("data-resizer-name");hi._l10nPromise.get(`pdfjs-editor-resizer-label-${l}`).then(c=>a.setAttribute("aria-label",c))}}Q(this,g2,gN).call(this,0),Z(this,ld,!0),S(this,Wi).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){S(this,ld)&&Q(this,p2,uN).call(this,S(this,h2),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){Q(this,$g,ix).call(this),this.div.focus()}select(){var e,t;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!S(this,ts)){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=S(this,ts))==null||i.show())});return}(t=S(this,ts))==null||t.show()}unselect(){var e,t,r,i;(e=S(this,Wi))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=S(this,ts))==null||i.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return S(this,BM)}set isEditing(e){Z(this,BM,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){Z(this,Km,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){S(this,$o)||Z(this,$o,new Map);const{action:r}=e;let i=S(this,$o).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),S(this,$o).delete(r),S(this,$o).size===0&&Z(this,$o,null)},hi._telemetryTimeout),S(this,$o).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),Z(this,Qy,!1)}disable(){this.div&&(this.div.tabIndex=-1),Z(this,Qy,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};dl=new WeakMap,ws=new WeakMap,Qy=new WeakMap,Km=new WeakMap,Wi=new WeakMap,zg=new WeakMap,Zy=new WeakMap,Jy=new WeakMap,ts=new WeakMap,h2=new WeakMap,Bg=new WeakMap,Kl=new WeakMap,BM=new WeakMap,Qm=new WeakMap,ld=new WeakMap,Ql=new WeakMap,e1=new WeakMap,t1=new WeakMap,$o=new WeakMap,$M=new WeakMap,sN=new WeakMap,UM=new WeakSet,oN=function([n,e],t,r){[t,r]=this.screenToPageTranslation(t,r),this.x+=t/n,this.y+=r/e,this.fixAndSetPosition()},f2=new WeakSet,aN=function(n,e,t){switch(t){case 90:return[e,-n];case 180:return[-n,-e];case 270:return[-e,n];default:return[n,e]}},WM=new WeakSet,Dk=function(n){switch(n){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}},lN=new WeakSet,$Z=function(){if(S(this,Wi))return;Z(this,Wi,document.createElement("div")),S(this,Wi).classList.add("resizers");const n=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const e of n){const t=document.createElement("div");S(this,Wi).append(t),t.classList.add("resizer",e),t.setAttribute("data-resizer-name",e),t.addEventListener("pointerdown",Q(this,cN,vj).bind(this,e)),t.addEventListener("contextmenu",Ds),t.tabIndex=-1}this.div.prepend(S(this,Wi))},cN=new WeakSet,vj=function(n,e){var t;e.preventDefault();const{isMac:r}=zs.platform;if(e.button!==0||e.ctrlKey&&r)return;(t=S(this,ws))==null||t.toggle(!1);const i=Q(this,p2,uN).bind(this,n),s=this._isDraggable;this._isDraggable=!1;const o={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,o),window.addEventListener("contextmenu",Ds);const a=this.x,l=this.y,c=this.width,u=this.height,d=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const p=()=>{var g;this.parent.togglePointerEvents(!0),(g=S(this,ws))==null||g.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),window.removeEventListener("pointermove",i,o),window.removeEventListener("contextmenu",Ds),this.parent.div.style.cursor=d,this.div.style.cursor=h,Q(this,HM,Nk).call(this,a,l,c,u)};window.addEventListener("pointerup",p),window.addEventListener("blur",p)},HM=new WeakSet,Nk=function(n,e,t,r){const i=this.x,s=this.y,o=this.width,a=this.height;i===n&&s===e&&o===t&&a===r||this.addCommands({cmd:()=>{this.width=o,this.height=a,this.x=i,this.y=s;const[l,c]=this.parentDimensions;this.setDims(l*o,c*a),this.fixAndSetPosition()},undo:()=>{this.width=t,this.height=r,this.x=n,this.y=e;const[l,c]=this.parentDimensions;this.setDims(l*t,c*r),this.fixAndSetPosition()},mustExec:!0})},p2=new WeakSet,uN=function(n,e){const[t,r]=this.parentDimensions,i=this.x,s=this.y,o=this.width,a=this.height,l=Zl.MIN_SIZE/t,c=Zl.MIN_SIZE/r,u=q=>Math.round(q*1e4)/1e4,d=Q(this,WM,Dk).call(this,this.rotation),h=(q,H)=>[d[0]*q+d[2]*H,d[1]*q+d[3]*H],p=Q(this,WM,Dk).call(this,360-this.rotation),g=(q,H)=>[p[0]*q+p[2]*H,p[1]*q+p[3]*H];let v,y,x=!1,w=!1;switch(n){case"topLeft":x=!0,v=(q,H)=>[0,0],y=(q,H)=>[q,H];break;case"topMiddle":v=(q,H)=>[q/2,0],y=(q,H)=>[q/2,H];break;case"topRight":x=!0,v=(q,H)=>[q,0],y=(q,H)=>[0,H];break;case"middleRight":w=!0,v=(q,H)=>[q,H/2],y=(q,H)=>[0,H/2];break;case"bottomRight":x=!0,v=(q,H)=>[q,H],y=(q,H)=>[0,0];break;case"bottomMiddle":v=(q,H)=>[q/2,H],y=(q,H)=>[q/2,0];break;case"bottomLeft":x=!0,v=(q,H)=>[0,H],y=(q,H)=>[q,0];break;case"middleLeft":w=!0,v=(q,H)=>[0,H/2],y=(q,H)=>[q,H/2];break}const b=v(o,a),_=y(o,a);let C=h(..._);const A=u(i+C[0]),P=u(s+C[1]);let M=1,L=1,[I,F]=this.screenToPageTranslation(e.movementX,e.movementY);if([I,F]=g(I/t,F/r),x){const q=Math.hypot(o,a);M=L=Math.max(Math.min(Math.hypot(_[0]-b[0]-I,_[1]-b[1]-F)/q,1/o,1/a),l/o,c/a)}else w?M=Math.max(l,Math.min(1,Math.abs(_[0]-b[0]-I)))/o:L=Math.max(c,Math.min(1,Math.abs(_[1]-b[1]-F)))/a;const V=u(o*M),j=u(a*L);C=h(...y(V,j));const G=A-C[0],J=P-C[1];this.width=V,this.height=j,this.x=G,this.y=J,this.setDims(t*V,r*j),this.fixAndSetPosition()},m2=new WeakSet,dN=function(n){const{isMac:e}=zs.platform;n.ctrlKey&&!e||n.shiftKey||n.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},hN=new WeakSet,UZ=function(n){const e=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let t,r;e&&(this.div.classList.add("moving"),t={passive:!0,capture:!0},Z(this,e1,n.clientX),Z(this,t1,n.clientY),r=s=>{const{clientX:o,clientY:a}=s,[l,c]=this.screenToPageTranslation(o-S(this,e1),a-S(this,t1));Z(this,e1,o),Z(this,t1,a),this._uiManager.dragSelectedEditors(l,c)},window.addEventListener("pointermove",r,t));const i=()=>{window.removeEventListener("pointerup",i),window.removeEventListener("blur",i),e&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",r,t)),Z(this,Bg,!1),this._uiManager.endDragSession()||Q(this,m2,dN).call(this,n)};window.addEventListener("pointerup",i),window.addEventListener("blur",i)},fN=new WeakSet,WZ=function(n){Zl._resizerKeyboardManager.exec(this,n)},pN=new WeakSet,HZ=function(n){var e;S(this,ld)&&((e=n.relatedTarget)==null?void 0:e.parentNode)!==S(this,Wi)&&Q(this,$g,ix).call(this)},mN=new WeakSet,jZ=function(n){Z(this,h2,S(this,ld)?n:"")},g2=new WeakSet,gN=function(n){if(S(this,dl))for(const e of S(this,dl))e.tabIndex=n},$g=new WeakSet,ix=function(){if(Z(this,ld,!1),Q(this,g2,gN).call(this,-1),S(this,zg)){const{savedX:n,savedY:e,savedWidth:t,savedHeight:r}=S(this,zg);Q(this,HM,Nk).call(this,n,e,t,r),Z(this,zg,null)}},W(Zl,f2),Ut(Zl,"_borderLineWidth",-1),Ut(Zl,"_colorManager",new KAe),Ut(Zl,"_zIndex",1),Ut(Zl,"_telemetryTimeout",1e3);let On=Zl;class QAe extends On{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const yj=3285377520,Do=4294901760,Qa=65535;class VZ{constructor(e){this.h1=e?e&4294967295:yj,this.h2=e?e&4294967295:yj}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let v=0,y=e.length;v<y;v++){const x=e.charCodeAt(v);x<=255?t[r++]=x:(t[r++]=x>>>8,t[r++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(t.buffer,0,i);let a=0,l=0,c=this.h1,u=this.h2;const d=3432918353,h=461845907,p=d&Qa,g=h&Qa;for(let v=0;v<i;v++)v&1?(a=o[v],a=a*d&Do|a*p&Qa,a=a<<15|a>>>17,a=a*h&Do|a*g&Qa,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[v],l=l*d&Do|l*p&Qa,l=l<<15|l>>>17,l=l*h&Do|l*g&Qa,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,s){case 3:a^=t[i*4+2]<<16;case 2:a^=t[i*4+1]<<8;case 1:a^=t[i*4],a=a*d&Do|a*p&Qa,a=a<<15|a>>>17,a=a*h&Do|a*g&Qa,i&1?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Do|e*36045&Qa,t=t*4283543511&Do|((t<<16|e>>>16)*2950163797&Do)>>>16,e^=t>>>1,e=e*444984403&Do|e*60499&Qa,t=t*3301882366&Do|((t<<16|e>>>16)*3120437893&Do)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const vN=Object.freeze({map:null,hash:"",transfer:void 0});var dv,Oi,yN,GZ;class aB{constructor(){W(this,yN),W(this,dv,!1),W(this,Oi,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=S(this,Oi).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return S(this,Oi).get(e)}remove(e){if(S(this,Oi).delete(e),S(this,Oi).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of S(this,Oi).values())if(t instanceof On)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=S(this,Oi).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(t))r[s]!==o&&(i=!0,r[s]=o);else i=!0,S(this,Oi).set(e,t);i&&Q(this,yN,GZ).call(this),t instanceof On&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return S(this,Oi).has(e)}getAll(){return S(this,Oi).size>0?eB(S(this,Oi)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return S(this,Oi).size}resetModified(){S(this,dv)&&(Z(this,dv,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new qZ(this)}get serializable(){if(S(this,Oi).size===0)return vN;const e=new Map,t=new VZ,r=[],i=Object.create(null);let s=!1;for(const[o,a]of S(this,Oi)){const l=a instanceof On?a.serialize(!1,i):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:vN}get editorStats(){let e=null;const t=new Map;for(const r of S(this,Oi).values()){if(!(r instanceof On))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}}dv=new WeakMap,Oi=new WeakMap,yN=new WeakSet,GZ=function(){S(this,dv)||(Z(this,dv,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var jM;class qZ extends aB{constructor(e){super(),W(this,jM,void 0);const{map:t,hash:r,transfer:i}=e.serializable,s=structuredClone(t,i?{transfer:i}:null);Z(this,jM,{map:s,hash:r,transfer:i})}get print(){Tn("Should not call PrintAnnotationStorage.print")}get serializable(){return S(this,jM)}}jM=new WeakMap;var n1;class ZAe{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){W(this,n1,new Set),this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),S(this,n1).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||S(this,n1).has(e.loadedName))){if(Fr(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,o=new FontFace(r,i,s);this.addNativeFontFace(o);try{await o.load(),S(this,n1).add(r),t==null||t(e)}catch{en(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Tn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw en(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return un(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let e=!1;return(qi||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),un(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Fr(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return un(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(b,_){return b.charCodeAt(_)<<24|b.charCodeAt(_+1)<<16|b.charCodeAt(_+2)<<8|b.charCodeAt(_+3)&255}function i(b,_,C,A){const P=b.substring(0,_),M=b.substring(_+C);return P+A+M}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function u(b,_){if(++c>30){en("Load test font never loaded."),_();return}if(l.font="30px "+b,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){_();return}setTimeout(u.bind(null,b,_))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,d.length,d);const p=16,g=1482184792;let v=r(h,p);for(s=0,o=d.length-3;s<o;s+=4)v=v-g+r(d,s)|0;s<d.length&&(v=v-g+r(d+"XXX",s)|0),h=i(h,p,4,kAe(v));const y=`url(data:font/opentype;base64,${btoa(h)});`,x=`@font-face {font-family:"${d}";src:${y}}`;this.insertRule(x);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const b of[e.loadedName,d]){const _=this._document.createElement("span");_.textContent="Hi",_.style.fontFamily=b,w.append(_)}this._document.body.append(w),u(d,()=>{w.remove(),t.complete()})}}n1=new WeakMap;class JAe{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var e;if(!this.data||this.disableFontFace)return null;const t=gZ(this.data),r=`url(data:${this.mimetype};base64,${btoa(t)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${r}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${r}}`}return(e=this._inspectFont)==null||e.call(this,this,r),i}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(s){en(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(s,o){};const i=[];for(let s=0,o=r.length;s<o;)switch(r[s++]){case zl.BEZIER_CURVE_TO:{const[a,l,c,u,d,h]=r.slice(s,s+6);i.push(p=>p.bezierCurveTo(a,l,c,u,d,h)),s+=6}break;case zl.MOVE_TO:{const[a,l]=r.slice(s,s+2);i.push(c=>c.moveTo(a,l)),s+=2}break;case zl.LINE_TO:{const[a,l]=r.slice(s,s+2);i.push(c=>c.lineTo(a,l)),s+=2}break;case zl.QUADRATIC_CURVE_TO:{const[a,l,c,u]=r.slice(s,s+4);i.push(d=>d.quadraticCurveTo(a,l,c,u)),s+=4}break;case zl.RESTORE:i.push(a=>a.restore());break;case zl.SAVE:i.push(a=>a.save());break;case zl.SCALE:Fr(i.length===2,"Scale command is only valid at the third position.");break;case zl.TRANSFORM:{const[a,l,c,u,d,h]=r.slice(s,s+6);i.push(p=>p.transform(a,l,c,u,d,h)),s+=6}break;case zl.TRANSLATE:{const[a,l]=r.slice(s,s+2);i.push(c=>c.translate(a,l)),s+=2}break}return this.compiledGlyphs[t]=function(s,o){i[0](s),i[1](s),s.scale(o,-o);for(let a=2,l=i.length;a<l;a++)i[a](s)}}}if(qi){var xN=Promise.withResolvers(),v2=null;(async()=>{const n=await oS(()=>import("./empty-GlqisfcO-CRMO4_-l.js"),[]),e=await oS(()=>import("./index-4HENfCPg-BJ-Y1Hn1.js"),__vite__mapDeps([0,1])).then(o=>o.i),t=await oS(()=>import("./index-BepDdkdq-CoP7m41a.js"),__vite__mapDeps([2,0,1])).then(o=>o.i),r=await oS(()=>import("./url-DQYFKQ_E-D9eePgF7.js"),[]).then(o=>o.u);let i,s;return new Map(Object.entries({fs:n,http:e,https:t,url:r,canvas:i,path2d:s}))})().then(n=>{v2=n,xN.resolve()},n=>{en(`loadPackages: ${n}`),v2=new Map,xN.resolve()})}class Sl{static get promise(){return xN.promise}static get(e){return v2==null?void 0:v2.get(e)}}const XZ=function(n){return Sl.get("fs").promises.readFile(n).then(e=>new Uint8Array(e))};class e2e extends yP{}class t2e extends xP{_createCanvas(e,t){return Sl.get("canvas").createCanvas(e,t)}}class n2e extends wP{_fetchData(e,t){return XZ(e).then(r=>({cMapData:r,compressionType:t}))}}class r2e extends bP{_fetchData(e){return XZ(e)}}const ss={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function wN(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class gb{constructor(){this.constructor===gb&&Tn("Cannot initialize BaseShadingPattern.")}getPattern(){Tn("Abstract method `getPattern` called.")}}class i2e extends gb{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===ss.STROKE||i===ss.FILL){const o=t.current.getClippedPathBoundingBox(i,Yn(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,l,!0),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),r=vt.transform(r,[1,0,0,1,o[0],o[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),wN(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(r);s.setTransform(d)}else wN(e,this._bbox),s=this._createGradient(e);return s}}function Fk(n,e,t,r,i,s,o,a){const l=e.coords,c=e.colors,u=n.data,d=n.width*4;let h;l[t+1]>l[r+1]&&(h=t,t=r,r=h,h=s,s=o,o=h),l[r+1]>l[i+1]&&(h=r,r=i,i=h,h=o,o=a,a=h),l[t+1]>l[r+1]&&(h=t,t=r,r=h,h=s,s=o,o=h);const p=(l[t]+e.offsetX)*e.scaleX,g=(l[t+1]+e.offsetY)*e.scaleY,v=(l[r]+e.offsetX)*e.scaleX,y=(l[r+1]+e.offsetY)*e.scaleY,x=(l[i]+e.offsetX)*e.scaleX,w=(l[i+1]+e.offsetY)*e.scaleY;if(g>=w)return;const b=c[s],_=c[s+1],C=c[s+2],A=c[o],P=c[o+1],M=c[o+2],L=c[a],I=c[a+1],F=c[a+2],V=Math.round(g),j=Math.round(w);let G,J,q,H,D,z,B,ee;for(let Y=V;Y<=j;Y++){if(Y<y){const be=Y<g?0:(g-Y)/(g-y);G=p-(p-v)*be,J=b-(b-A)*be,q=_-(_-P)*be,H=C-(C-M)*be}else{let be;Y>w?be=1:y===w?be=0:be=(y-Y)/(y-w),G=v-(v-x)*be,J=A-(A-L)*be,q=P-(P-I)*be,H=M-(M-F)*be}let oe;Y<g?oe=0:Y>w?oe=1:oe=(g-Y)/(g-w),D=p-(p-x)*oe,z=b-(b-L)*oe,B=_-(_-I)*oe,ee=C-(C-F)*oe;const ce=Math.round(Math.min(G,D)),me=Math.round(Math.max(G,D));let de=d*Y+ce*4;for(let be=ce;be<=me;be++)oe=(G-be)/(G-D),oe<0?oe=0:oe>1&&(oe=1),u[de++]=J-(J-z)*oe|0,u[de++]=q-(q-B)*oe|0,u[de++]=H-(H-ee)*oe|0,u[de++]=255}}function s2e(n,e,t){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,c=a-1;for(s=0;s<l;s++){let u=s*a;for(let d=0;d<c;d++,u++)Fk(n,t,r[u],r[u+1],r[u+a],i[u],i[u+1],i[u+a]),Fk(n,t,r[u+a+1],r[u+1],r[u+a],i[u+a+1],i[u+1],i[u+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)Fk(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class o2e extends gb{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const i=Math.floor(this._bounds[0]),s=Math.floor(this._bounds[1]),o=Math.ceil(this._bounds[2])-i,a=Math.ceil(this._bounds[3])-s,l=Math.min(Math.ceil(Math.abs(o*e[0]*1.1)),3e3),c=Math.min(Math.ceil(Math.abs(a*e[1]*1.1)),3e3),u=o/l,d=a/c,h={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-s,scaleX:1/u,scaleY:1/d},p=l+2*2,g=c+2*2,v=r.getCanvas("mesh",p,g,!1),y=v.context,x=y.createImageData(l,c);if(t){const w=x.data;for(let b=0,_=w.length;b<_;b+=4)w[b]=t[0],w[b+1]=t[1],w[b+2]=t[2],w[b+3]=255}for(const w of this._figures)s2e(x,w,h);return y.putImageData(x,2,2),{canvas:v.canvas,offsetX:i-2*u,offsetY:s-2*d,scaleX:u,scaleY:d}}getPattern(e,t,r,i){wN(e,this._bbox);let s;if(i===ss.SHADING)s=vt.singularValueDecompose2dScale(Yn(e));else if(s=vt.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=vt.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,i===ss.SHADING?null:this._background,t.cachedCanvases);return i!==ss.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class a2e extends gb{getPattern(){return"hotpink"}}function l2e(n){switch(n[0]){case"RadialAxial":return new i2e(n);case"Mesh":return new o2e(n);case"Dummy":return new a2e}throw new Error(`Unknown IR type: ${n[0]}`)}const xj={COLORED:1,UNCOLORED:2},YZ=class KZ{constructor(e,t,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,r=this.bbox,i=this.xstep,s=this.ystep,o=this.paintType,a=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;mP("TilingType: "+a);const u=r[0],d=r[1],h=r[2],p=r[3],g=vt.singularValueDecompose2dScale(this.matrix),v=vt.singularValueDecompose2dScale(this.baseTransform),y=[g[0]*v[0],g[1]*v[1]],x=this.getSizeAndScale(i,this.ctx.canvas.width,y[0]),w=this.getSizeAndScale(s,this.ctx.canvas.height,y[1]),b=e.cachedCanvases.getCanvas("pattern",x.size,w.size,!0),_=b.context,C=c.createCanvasGraphics(_);C.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(C,o,l);let A=u,P=d,M=h,L=p;return u<0&&(A=0,M+=Math.abs(u)),d<0&&(P=0,L+=Math.abs(d)),_.translate(-(x.scale*A),-(w.scale*P)),C.transform(x.scale,0,0,w.scale,0,0),_.save(),this.clipBbox(C,A,P,M,L),C.baseTransform=Yn(C.ctx),C.executeOperatorList(t),C.endDrawing(),{canvas:b.canvas,scaleX:x.scale,scaleY:w.scale,offsetX:A,offsetY:P}}getSizeAndScale(e,t,r){e=Math.abs(e);const i=Math.max(KZ.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const o=i-t,a=s-r;e.ctx.rect(t,r,o,a),e.current.updateRectMinMax(Yn(e.ctx),[t,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case xj.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case xj.UNCOLORED:const a=vt.makeHexColor(r[0],r[1],r[2]);i.fillStyle=a,i.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new LAe(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,i){let s=r;i!==ss.SHADING&&(s=vt.transform(s,t.baseTransform),this.matrix&&(s=vt.transform(s,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};Ut(YZ,"MAX_PATTERN_SIZE",3e3);let c2e=YZ;function u2e({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=zs.isLittleEndian?4278190080:255,[l,c]=o?[s,a]:[a,s],u=r>>3,d=r&7,h=n.length;t=new Uint32Array(t.buffer);let p=0;for(let g=0;g<i;g++){for(const y=e+u;e<y;e++){const x=e<h?n[e]:255;t[p++]=x&128?c:l,t[p++]=x&64?c:l,t[p++]=x&32?c:l,t[p++]=x&16?c:l,t[p++]=x&8?c:l,t[p++]=x&4?c:l,t[p++]=x&2?c:l,t[p++]=x&1?c:l}if(d===0)continue;const v=e<h?n[e++]:255;for(let y=0;y<d;y++)t[p++]=v&1<<7-y?c:l}return{srcPos:e,destPos:p}}const wj=16,bj=100,d2e=15,_j=10,Sj=1e3,_s=16;function h2e(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},n.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},n.transform=function(t,r,i,s,o,a){e.transform(t,r,i,s,o,a),this.__originalTransform(t,r,i,s,o,a)},n.setTransform=function(t,r,i,s,o,a){e.setTransform(t,r,i,s,o,a),this.__originalSetTransform(t,r,i,s,o,a)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,o,a){e.bezierCurveTo(t,r,i,s,o,a),this.__originalBezierCurveTo(t,r,i,s,o,a)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class f2e{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function gS(n,e,t,r,i,s,o,a,l,c){const[u,d,h,p,g,v]=Yn(n);if(d===0&&h===0){const w=o*u+g,b=Math.round(w),_=a*p+v,C=Math.round(_),A=(o+l)*u+g,P=Math.abs(Math.round(A)-b)||1,M=(a+c)*p+v,L=Math.abs(Math.round(M)-C)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(p),b,C),n.drawImage(e,t,r,i,s,0,0,P,L),n.setTransform(u,d,h,p,g,v),[P,L]}if(u===0&&p===0){const w=a*h+g,b=Math.round(w),_=o*d+v,C=Math.round(_),A=(a+c)*h+g,P=Math.abs(Math.round(A)-b)||1,M=(o+l)*d+v,L=Math.abs(Math.round(M)-C)||1;return n.setTransform(0,Math.sign(d),Math.sign(h),0,b,C),n.drawImage(e,t,r,i,s,0,0,L,P),n.setTransform(u,d,h,p,g,v),[L,P]}n.drawImage(e,t,r,i,s,o,a,l,c);const y=Math.hypot(u,d),x=Math.hypot(h,p);return[y*l,x*c]}function p2e(n){const{width:e,height:t}=n;if(e>Sj||t>Sj)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(t+1)),a,l,c;const u=e+7&-8;let d=new Uint8Array(u*t),h=0;for(const y of n.data){let x=128;for(;x>0;)d[h++]=y&x?0:255,x>>=1}let p=0;for(h=0,d[h]!==0&&(o[0]=1,++p),l=1;l<e;l++)d[h]!==d[h+1]&&(o[l]=d[h]?2:1,++p),h++;for(d[h]!==0&&(o[l]=2,++p),a=1;a<t;a++){h=a*u,c=a*s,d[h-u]!==d[h]&&(o[c]=d[h]?1:8,++p);let y=(d[h]?4:0)+(d[h-u]?8:0);for(l=1;l<e;l++)y=(y>>2)+(d[h+1]?4:0)+(d[h-u+1]?8:0),i[y]&&(o[c+l]=i[y],++p),h++;if(d[h-u]!==d[h]&&(o[c+l]=d[h]?2:4,++p),p>r)return null}for(h=u*(t-1),c=a*s,d[h]!==0&&(o[c]=8,++p),l=1;l<e;l++)d[h]!==d[h+1]&&(o[c+l]=d[h]?4:8,++p),h++;if(d[h]!==0&&(o[c+l]=4,++p),p>r)return null;const g=new Int32Array([0,s,-1,0,-s,0,0,0,1]),v=new Path2D;for(a=0;p&&a<=t;a++){let y=a*s;const x=y+e;for(;y<x&&!o[y];)y++;if(y===x)continue;v.moveTo(y%s,a);const w=y;let b=o[y];do{const _=g[b];do y+=_;while(!o[y]);const C=o[y];C!==5&&C!==10?(b=C,o[y]=0):(b=C&51*b>>4,o[y]&=b>>2|b<<2),v.lineTo(y%s,y/s|0),o[y]||--p}while(w!==y);--a}return d=null,o=null,function(y){y.save(),y.scale(1/e,-1/t),y.translate(0,-t),y.fill(v),y.beginPath(),y.restore()}}class Ej{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=pZ,this.textMatrixScale=1,this.fontMatrix=wD,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=ki.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=vt.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=vt.applyTransform(t,e),i=vt.applyTransform(t.slice(2),e),s=vt.applyTransform([t[0],t[3]],e),o=vt.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],o[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],o[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],o[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],o[1])}updateScalingPathMinMax(e,t){vt.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,s,o,a,l,c,u){const d=vt.bezierBoundingBox(t,r,i,s,o,a,l,c,u);u||this.updateRectMinMax(e,d)}getPathBoundingBox(e=ss.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===ss.STROKE){t||Tn("Stroke bounding box must include transform.");const i=vt.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=o,r[2]+=s,r[3]+=o}return r}updateClipFromPath(){const e=vt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=ss.FILL,t=null){return vt.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Mj(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%_s,s=(t-i)/_s,o=i===0?s:s+1,a=n.createImageData(r,_s);let l=0,c;const u=e.data,d=a.data;let h,p,g,v;if(e.kind===nM.GRAYSCALE_1BPP){const y=u.byteLength,x=new Uint32Array(d.buffer,0,d.byteLength>>2),w=x.length,b=r+7>>3,_=4294967295,C=zs.isLittleEndian?4278190080:255;for(h=0;h<o;h++){for(g=h<s?_s:i,c=0,p=0;p<g;p++){const A=y-l;let P=0;const M=A>b?r:A*8-7,L=M&-8;let I=0,F=0;for(;P<L;P+=8)F=u[l++],x[c++]=F&128?_:C,x[c++]=F&64?_:C,x[c++]=F&32?_:C,x[c++]=F&16?_:C,x[c++]=F&8?_:C,x[c++]=F&4?_:C,x[c++]=F&2?_:C,x[c++]=F&1?_:C;for(;P<M;P++)I===0&&(F=u[l++],I=128),x[c++]=F&I?_:C,I>>=1}for(;c<w;)x[c++]=0;n.putImageData(a,0,h*_s)}}else if(e.kind===nM.RGBA_32BPP){for(p=0,v=r*_s*4,h=0;h<s;h++)d.set(u.subarray(l,l+v)),l+=v,n.putImageData(a,0,p),p+=_s;h<o&&(v=r*i*4,d.set(u.subarray(l,l+v)),n.putImageData(a,0,p))}else if(e.kind===nM.RGB_24BPP)for(g=_s,v=r*g,h=0;h<o;h++){for(h>=s&&(g=i,v=r*g),c=0,p=v;p--;)d[c++]=u[l++],d[c++]=u[l++],d[c++]=u[l++],d[c++]=255;n.putImageData(a,0,h*_s)}else throw new Error(`bad image kind: ${e.kind}`)}function Cj(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%_s,s=(t-i)/_s,o=i===0?s:s+1,a=n.createImageData(r,_s);let l=0;const c=e.data,u=a.data;for(let d=0;d<o;d++){const h=d<s?_s:i;({srcPos:l}=u2e({src:c,srcPos:l,dest:u,width:r,height:h,nonBlackColor:0})),n.putImageData(a,0,d*_s)}}function ly(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function vS(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!qi){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function Aj(n,e){if(e)return!0;const t=vt.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Gv.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const m2e=["butt","round","square"],g2e=["miter","round","bevel"],v2e={},Tj={};var VM,bN,GM,_N;const y2e=class QZ{constructor(e,t,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,c){W(this,VM),W(this,GM),this.ctx=e,this.current=new Ej(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new f2e(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Yn(this.compositeCtx))}this.ctx.save(),vS(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Yn(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const c=l-a>_j&&typeof r=="function",u=c?Date.now()+d2e:0;let d=0;const h=this.commonObjs,p=this.objs;let g;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(g=o[a],g!==_a.dependency)this[g].apply(this,s[a]);else for(const v of s[a]){const y=v.startsWith("g_")?h:p;if(!y.has(v))return y.get(v,r),a}if(a++,a===l)return a;if(c&&++d>_j){if(Date.now()>u)return r(),a;d=0}}}endDrawing(){Q(this,VM,bN).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),Q(this,GM,_N).call(this)}_scaleImage(e,t){const r=e.width,i=e.height;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=i,c="prescale1",u,d;for(;s>2&&a>1||o>2&&l>1;){let h=a,p=l;s>2&&a>1&&(h=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/h),o>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/p),u=this.cachedCanvases.getCanvas(c,h,p),d=u.context,d.clearRect(0,0,h,p),d.drawImage(e,0,0,a,l,0,0,h,p),e=u.canvas,a=h,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,a=Yn(t);let l,c,u,d;if((e.bitmap||e.data)&&e.count>1){const M=e.bitmap||e.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(M),l||(l=new Map,this._cachedBitmapsMap.set(M,l));const L=l.get(c);if(L&&!o){const I=Math.round(Math.min(a[0],a[2])+a[4]),F=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:L,offsetX:I,offsetY:F}}u=L}u||(d=this.cachedCanvases.getCanvas("maskCanvas",r,i),Cj(d.context,e));let h=vt.transform(a,[1/r,0,0,-1/i,0,0]);h=vt.transform(h,[1,0,0,1,0,-i]);const[p,g,v,y]=vt.getAxialAlignedBoundingBox([0,0,r,i],h),x=Math.round(v-p)||1,w=Math.round(y-g)||1,b=this.cachedCanvases.getCanvas("fillCanvas",x,w),_=b.context,C=p,A=g;_.translate(-C,-A),_.transform(...h),u||(u=this._scaleImage(d.canvas,Bl(_)),u=u.img,l&&o&&l.set(c,u)),_.imageSmoothingEnabled=Aj(Yn(_),e.interpolate),gS(_,u,0,0,u.width,u.height,0,0,r,i),_.globalCompositeOperation="source-in";const P=vt.transform(Bl(_),[1,0,0,1,-C,-A]);return _.fillStyle=o?s.getPattern(t,this,P,ss.FILL):s,_.fillRect(0,0,r,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,b.canvas)),{canvas:b.canvas,offsetX:Math.round(C),offsetY:Math.round(A)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=m2e[e]}setLineJoin(e){this.ctx.lineJoin=g2e[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...Yn(this.suspendedCtx)),ly(this.suspendedCtx,s),h2e(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ly(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,o,a,l,c,u,d){let h=e.canvas,p=l-u,g=c-d;if(o){if(p<0||g<0||p+r>h.width||g+i>h.height){const y=this.cachedCanvases.getCanvas("maskExtension",r,i),x=y.context;x.drawImage(h,-p,-g),o.some(w=>w!==0)&&(x.globalCompositeOperation="destination-atop",x.fillStyle=vt.makeHexColor(...o),x.fillRect(0,0,r,i),x.globalCompositeOperation="source-over"),h=y.canvas,p=g=0}else if(o.some(y=>y!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const y=new Path2D;y.rect(p,g,r,i),e.clip(y),e.globalCompositeOperation="destination-atop",e.fillStyle=vt.makeHexColor(...o),e.fillRect(p,g,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const v=new Path2D;v.rect(l,c,r,i),t.clip(v),t.globalCompositeOperation="destination-in",t.drawImage(h,p,g,r,i,l,c,r,i),t.restore()}save(){this.inSMaskMode?(ly(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ly(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,s,o){this.ctx.transform(e,t,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const i=this.ctx,s=this.current;let o=s.x,a=s.y,l,c;const u=Yn(i),d=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,h=d?r.slice(0):null;for(let p=0,g=0,v=e.length;p<v;p++)switch(e[p]|0){case _a.rectangle:o=t[g++],a=t[g++];const y=t[g++],x=t[g++],w=o+y,b=a+x;i.moveTo(o,a),y===0||x===0?i.lineTo(w,b):(i.lineTo(w,a),i.lineTo(w,b),i.lineTo(o,b)),d||s.updateRectMinMax(u,[o,a,w,b]),i.closePath();break;case _a.moveTo:o=t[g++],a=t[g++],i.moveTo(o,a),d||s.updatePathMinMax(u,o,a);break;case _a.lineTo:o=t[g++],a=t[g++],i.lineTo(o,a),d||s.updatePathMinMax(u,o,a);break;case _a.curveTo:l=o,c=a,o=t[g+4],a=t[g+5],i.bezierCurveTo(t[g],t[g+1],t[g+2],t[g+3],o,a),s.updateCurvePathMinMax(u,l,c,t[g],t[g+1],t[g+2],t[g+3],o,a,h),g+=6;break;case _a.curveTo2:l=o,c=a,i.bezierCurveTo(o,a,t[g],t[g+1],t[g+2],t[g+3]),s.updateCurvePathMinMax(u,l,c,o,a,t[g],t[g+1],t[g+2],t[g+3],h),o=t[g+2],a=t[g+3],g+=4;break;case _a.curveTo3:l=o,c=a,o=t[g+2],a=t[g+3],i.bezierCurveTo(t[g],t[g+1],o,a,o,a),s.updateCurvePathMinMax(u,l,c,t[g],t[g+1],o,a,o,a,h),g+=4;break;case _a.closePath:i.closePath();break}d&&s.updateScalingPathMinMax(u,h),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&r!=null&&r.getPattern?(t.save(),t.strokeStyle=r.getPattern(t,this,Bl(t),ss.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,Bl(t),ss.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=v2e}eoClip(){this.pendingClip=Tj}beginText(){this.current.textMatrix=pZ,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var r;const i=this.commonObjs.get(e),s=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=i.fontMatrix||wD,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&en("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const o=i.loadedName||"sans-serif",a=((r=i.systemFontInfo)==null?void 0:r.css)||`"${o}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let u=t;t<wj?u=wj:t>bj&&(u=bj),this.current.fontSizeScale=t/u,this.ctx.font=`${c} ${l} ${u}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,s,o){this.current.textMatrix=[e,t,r,i,s,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,c=o.fontSize/o.fontSizeScale,u=l&ki.FILL_STROKE_MASK,d=!!(l&ki.ADD_TO_PATH_FLAG),h=o.patternFill&&!a.missingFile;let p;(a.disableFontFace||d||h)&&(p=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||h?(s.save(),s.translate(t,r),s.beginPath(),p(s,c),i&&s.setTransform(...i),(u===ki.FILL||u===ki.FILL_STROKE)&&s.fill(),(u===ki.STROKE||u===ki.FILL_STROKE)&&s.stroke(),s.restore()):((u===ki.FILL||u===ki.FILL_STROKE)&&s.fillText(e,t,r),(u===ki.STROKE||u===ki.FILL_STROKE)&&s.strokeText(e,t,r)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Yn(s),x:t,y:r,fontSize:c,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return un(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,u=t.textHScale*c,d=e.length,h=r.vertical,p=h?1:-1,g=r.defaultVMetrics,v=i*t.fontMatrix[0],y=t.textRenderingMode===ki.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),c>0?s.scale(u,-1):s.scale(u,1);let x;if(t.patternFill){s.save();const A=t.fillColor.getPattern(s,this,Bl(s),ss.FILL);x=Yn(s),s.restore(),s.fillStyle=A}let w=t.lineWidth;const b=t.textMatrixScale;if(b===0||w===0){const A=t.textRenderingMode&ki.FILL_STROKE_MASK;(A===ki.STROKE||A===ki.FILL_STROKE)&&(w=this.getSinglePixelWidth())}else w/=b;if(o!==1&&(s.scale(o,o),w/=o),s.lineWidth=w,r.isInvalidPDFjsFont){const A=[];let P=0;for(const M of e)A.push(M.unicode),P+=M.width;s.fillText(A.join(""),0,0),t.x+=P*v*u,s.restore(),this.compose();return}let _=0,C;for(C=0;C<d;++C){const A=e[C];if(typeof A=="number"){_+=p*A*i/1e3;continue}let P=!1;const M=(A.isSpace?l:0)+a,L=A.fontChar,I=A.accent;let F,V,j=A.width;if(h){const J=A.vmetric||g,q=-(A.vmetric?J[1]:j*.5)*v,H=J[2]*v;j=J?-J[0]:j,F=q/o,V=(_+H)/o}else F=_/o,V=0;if(r.remeasure&&j>0){const J=s.measureText(L).width*1e3/i*o;if(j<J&&this.isFontSubpixelAAEnabled){const q=j/J;P=!0,s.save(),s.scale(q,1),F/=q}else j!==J&&(F+=(j-J)/2e3*i/o)}if(this.contentVisible&&(A.isInFont||r.missingFile)){if(y&&!I)s.fillText(L,F,V);else if(this.paintChar(L,F,V,x),I){const J=F+i*I.offset.x/o,q=V-i*I.offset.y/o;this.paintChar(I.fontChar,J,q,x)}}const G=h?j*v-M*c:j*v+M*c;_+=G,P&&s.restore()}h?t.y-=_:t.x+=_*u,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,c=r.wordSpacing,u=r.textHScale*o,d=r.fontMatrix||wD,h=e.length,p=r.textRenderingMode===ki.INVISIBLE;let g,v,y,x;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(u,o),g=0;g<h;++g){if(v=e[g],typeof v=="number"){x=a*v*s/1e3,this.ctx.translate(x,0),r.x+=x*u;continue}const w=(v.isSpace?c:0)+l,b=i.charProcOperatorList[v.operatorListId];if(!b){en(`Type3 character "${v.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=v,this.save(),t.scale(s,s),t.transform(...d),this.executeOperatorList(b),this.restore()),y=vt.applyTransform([v.width,0],d)[0]*s+w,t.translate(y,0),r.x+=y*u}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,o){this.ctx.rect(r,i,s-r,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||Yn(this.ctx),s={createCanvasGraphics:o=>new QZ(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new c2e(e,r,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){const i=vt.makeHexColor(e,t,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,t,r){const i=vt.makeHexColor(e,t,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=l2e(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,Bl(t),ss.SHADING);const i=Bl(t);if(i){const{width:s,height:o}=t.canvas,[a,l,c,u]=vt.getAxialAlignedBoundingBox([0,0,s,o],i);this.ctx.fillRect(a,l,c-a,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Tn("Should not call beginInlineImage")}beginImageData(){Tn("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Yn(this.ctx),t)){const r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(Yn(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||mP("TODO: Support non-isolated groups."),e.knockout&&en("Knockout groups not supported.");const r=Yn(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=vt.getAxialAlignedBoundingBox(e.bbox,Yn(t));const s=[0,0,t.canvas.width,t.canvas.height];i=vt.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),c=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(u,l,c),h=d.context;h.translate(-o,-a),h.transform(...r),e.smask?this.smaskStack.push({canvas:d.canvas,context:h,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),ly(t,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Yn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=vt.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(Q(this,VM,bN).call(this),vS(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,c]=vt.singularValueDecompose2dScale(Yn(this.ctx)),{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),h=Math.ceil(a*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,a*c),vS(this.ctx)}else vS(this.ctx),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.endPath()}this.current=new Ej(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Q(this,GM,_N).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=p2e(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Yn(a);a.transform(t,r,i,s,0,0);const c=this._createMaskCanvas(e);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,d=o.length;u<d;u+=2){const h=vt.transform(l,[t,r,i,s,o[u],o[u+1]]),[p,g]=vt.applyTransform([0,0],h);a.drawImage(c.canvas,p,g)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:c}=s,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=u.context;d.save();const h=this.getObject(o,s);Cj(d,h),d.globalCompositeOperation="source-in",d.fillStyle=i?r.getPattern(d,this,Bl(t),ss.FILL):r,d.fillRect(0,0,a,l),d.restore(),t.save(),t.transform(...c),t.scale(1,-1),gS(t,u.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){en("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){en("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let c=0,u=i.length;c<u;c+=2)l.push({transform:[t,0,0,r,i[c],i[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;if(this.save(),!qi){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/t,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const a=this.cachedCanvases.getCanvas("inlineImage",t,r).context;Mj(a,e),s=this.applyTransferMapsToCanvas(a)}const o=this._scaleImage(s,Bl(i));i.imageSmoothingEnabled=Aj(Yn(i),e.interpolate),gS(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,a=this.cachedCanvases.getCanvas("inlineImage",s,o).context;Mj(a,e),i=this.applyTransferMapsToCanvas(a)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),gS(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===Tj?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Yn(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(t),c=Math.abs(s);if(l===c)if(e===0)o=a=1/l;else{const u=l*e;o=a=u<1?1/u:1}else if(e===0)o=1/l,a=1/c;else{const u=l*e,d=c*e;o=u<1?1/u:1,a=d<1?1/d:1}}else{const l=Math.abs(t*s-r*i),c=Math.hypot(t,r),u=Math.hypot(i,s);if(e===0)o=u/l,a=c/l;else{const d=e*l;o=u>d?u/d:1,a=c>d?c/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&s===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(i,s),o.length>0){const a=Math.max(i,s);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};VM=new WeakSet,bN=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},GM=new WeakSet,_N=function(){if(this.pageColors){const n=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(n!=="none"){const e=this.ctx.filter;this.ctx.filter=n,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let qM=y2e;for(const n in _a)qM.prototype[n]!==void 0&&(qM.prototype[_a[n]]=qM.prototype[n]);var y2,x2;class Ad{static get workerPort(){return S(this,y2)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");Z(this,y2,e)}static get workerSrc(){return S(this,x2)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");Z(this,x2,e)}}y2=new WeakMap,x2=new WeakMap,W(Ad,y2,null),W(Ad,x2,"");const yS={UNKNOWN:0,DATA:1,ERROR:2},br={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function no(n){switch(n instanceof Error||typeof n=="object"&&n!==null||Tn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Sp(n.message);case"MissingPDFException":return new _p(n.message);case"PasswordException":return new _D(n.message,n.code);case"UnexpectedResponseException":return new gP(n.message,n.status);case"UnknownErrorException":return new SD(n.message,n.details);default:return new SD(n.message,n.toString())}}var SN,ZZ,EN,JZ,r1,xS;class i1{constructor(e,t,r){W(this,SN),W(this,EN),W(this,r1),this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const s=i.data;if(s.targetName!==this.sourceName)return;if(s.stream){Q(this,EN,JZ).call(this,s);return}if(s.callback){const a=s.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],s.callback===yS.DATA)l.resolve(s.data);else if(s.callback===yS.ERROR)l.reject(no(s.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const a=this.sourceName,l=s.sourceName;new Promise(function(c){c(o(s.data))}).then(function(c){r.postMessage({sourceName:a,targetName:l,callback:yS.DATA,callbackId:s.callbackId,data:c})},function(c){r.postMessage({sourceName:a,targetName:l,callback:yS.ERROR,callbackId:s.callbackId,reason:no(c)})});return}if(s.streamId){Q(this,SN,ZZ).call(this,s);return}o(s.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:br.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{Fr(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:br.CANCEL,streamId:s,reason:no(c)}),u.promise}},r)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}SN=new WeakSet,ZZ=function(n){const e=n.streamId,t=this.sourceName,r=n.sourceName,i=this.comObj,s=this,o=this.actionHandler[n.action],a={enqueue(l,c=1,u){if(this.isCancelled)return;const d=this.desiredSize;this.desiredSize-=c,d>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:t,targetName:r,stream:br.ENQUEUE,streamId:e,chunk:l},u)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:t,targetName:r,stream:br.CLOSE,streamId:e}),delete s.streamSinks[e])},error(l){Fr(l instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:t,targetName:r,stream:br.ERROR,streamId:e,reason:no(l)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:n.desiredSize,ready:null};a.sinkCapability.resolve(),a.ready=a.sinkCapability.promise,this.streamSinks[e]=a,new Promise(function(l){l(o(n.data,a))}).then(function(){i.postMessage({sourceName:t,targetName:r,stream:br.START_COMPLETE,streamId:e,success:!0})},function(l){i.postMessage({sourceName:t,targetName:r,stream:br.START_COMPLETE,streamId:e,reason:no(l)})})},EN=new WeakSet,JZ=function(n){const e=n.streamId,t=this.sourceName,r=n.sourceName,i=this.comObj,s=this.streamControllers[e],o=this.streamSinks[e];switch(n.stream){case br.START_COMPLETE:n.success?s.startCall.resolve():s.startCall.reject(no(n.reason));break;case br.PULL_COMPLETE:n.success?s.pullCall.resolve():s.pullCall.reject(no(n.reason));break;case br.PULL:if(!o){i.postMessage({sourceName:t,targetName:r,stream:br.PULL_COMPLETE,streamId:e,success:!0});break}o.desiredSize<=0&&n.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=n.desiredSize,new Promise(function(a){var l;a((l=o.onPull)==null?void 0:l.call(o))}).then(function(){i.postMessage({sourceName:t,targetName:r,stream:br.PULL_COMPLETE,streamId:e,success:!0})},function(a){i.postMessage({sourceName:t,targetName:r,stream:br.PULL_COMPLETE,streamId:e,reason:no(a)})});break;case br.ENQUEUE:if(Fr(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(n.chunk);break;case br.CLOSE:if(Fr(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),Q(this,r1,xS).call(this,s,e);break;case br.ERROR:Fr(s,"error should have stream controller"),s.controller.error(no(n.reason)),Q(this,r1,xS).call(this,s,e);break;case br.CANCEL_COMPLETE:n.success?s.cancelCall.resolve():s.cancelCall.reject(no(n.reason)),Q(this,r1,xS).call(this,s,e);break;case br.CANCEL:if(!o)break;new Promise(function(a){var l;a((l=o.onCancel)==null?void 0:l.call(o,no(n.reason)))}).then(function(){i.postMessage({sourceName:t,targetName:r,stream:br.CANCEL_COMPLETE,streamId:e,success:!0})},function(a){i.postMessage({sourceName:t,targetName:r,stream:br.CANCEL_COMPLETE,streamId:e,reason:no(a)})}),o.sinkCapability.reject(no(n.reason)),o.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},r1=new WeakSet,xS=async function(n,e){var t,r,i;await Promise.allSettled([(t=n.startCall)==null?void 0:t.promise,(r=n.pullCall)==null?void 0:r.promise,(i=n.cancelCall)==null?void 0:i.promise]),delete this.streamControllers[e]};var Zm,XM;class x2e{constructor({parsedData:e,rawData:t}){W(this,Zm,void 0),W(this,XM,void 0),Z(this,Zm,e),Z(this,XM,t)}getRaw(){return S(this,XM)}get(e){return S(this,Zm).get(e)??null}getAll(){return eB(S(this,Zm))}has(e){return S(this,Zm).has(e)}}Zm=new WeakMap,XM=new WeakMap;const Cu=Symbol("INTERNAL");var YM,KM,QM,s1;class w2e{constructor(e,{name:t,intent:r,usage:i}){W(this,YM,!1),W(this,KM,!1),W(this,QM,!1),W(this,s1,!0),Z(this,YM,!!(e&Vo.DISPLAY)),Z(this,KM,!!(e&Vo.PRINT)),this.name=t,this.intent=r,this.usage=i}get visible(){if(S(this,QM))return S(this,s1);if(!S(this,s1))return!1;const{print:e,view:t}=this.usage;return S(this,YM)?(t==null?void 0:t.viewState)!=="OFF":S(this,KM)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Cu&&Tn("Internal method `_setVisible` called."),Z(this,QM,r),Z(this,s1,t)}}YM=new WeakMap,KM=new WeakMap,QM=new WeakMap,s1=new WeakMap;var Th,Ln,o1,a1,w2,MN;class b2e{constructor(e,t=Vo.DISPLAY){if(W(this,w2),W(this,Th,null),W(this,Ln,new Map),W(this,o1,null),W(this,a1,null),this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,Z(this,a1,e.order);for(const r of e.groups)S(this,Ln).set(r.id,new w2e(t,r));if(e.baseState==="OFF")for(const r of S(this,Ln).values())r._setVisible(Cu,!1);for(const r of e.on)S(this,Ln).get(r)._setVisible(Cu,!0);for(const r of e.off)S(this,Ln).get(r)._setVisible(Cu,!1);Z(this,o1,this.getHash())}}isVisible(e){if(S(this,Ln).size===0)return!0;if(!e)return mP("Optional content group not defined."),!0;if(e.type==="OCG")return S(this,Ln).has(e.id)?S(this,Ln).get(e.id).visible:(en(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return Q(this,w2,MN).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!S(this,Ln).has(t))return en(`Optional content group not found: ${t}`),!0;if(S(this,Ln).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!S(this,Ln).has(t))return en(`Optional content group not found: ${t}`),!0;if(!S(this,Ln).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!S(this,Ln).has(t))return en(`Optional content group not found: ${t}`),!0;if(!S(this,Ln).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!S(this,Ln).has(t))return en(`Optional content group not found: ${t}`),!0;if(S(this,Ln).get(t).visible)return!1}return!0}return en(`Unknown optional content policy ${e.policy}.`),!0}return en(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){const r=S(this,Ln).get(e);if(!r){en(`Optional content group not found: ${e}`);return}r._setVisible(Cu,!!t,!0),Z(this,Th,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=S(this,Ln).get(i);if(s)switch(r){case"ON":s._setVisible(Cu,!0);break;case"OFF":s._setVisible(Cu,!1);break;case"Toggle":s._setVisible(Cu,!s.visible);break}}Z(this,Th,null)}get hasInitialVisibility(){return S(this,o1)===null||this.getHash()===S(this,o1)}getOrder(){return S(this,Ln).size?S(this,a1)?S(this,a1).slice():[...S(this,Ln).keys()]:null}getGroups(){return S(this,Ln).size>0?eB(S(this,Ln)):null}getGroup(e){return S(this,Ln).get(e)||null}getHash(){if(S(this,Th)!==null)return S(this,Th);const e=new VZ;for(const[t,r]of S(this,Ln))e.update(`${t}:${r.visible}`);return Z(this,Th,e.hexdigest())}}Th=new WeakMap,Ln=new WeakMap,o1=new WeakMap,a1=new WeakMap,w2=new WeakSet,MN=function(n){const e=n.length;if(e<2)return!0;const t=n[0];for(let r=1;r<e;r++){const i=n[r];let s;if(Array.isArray(i))s=Q(this,w2,MN).call(this,i);else if(S(this,Ln).has(i))s=S(this,Ln).get(i).visible;else return en(`Optional content group not found: ${i}`),!0;switch(t){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return t==="And"};class _2e{constructor(e,{disableRange:t=!1,disableStream:r=!1}){Fr(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});Fr(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Fr(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new S2e(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new E2e(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class S2e{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=sB(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class E2e{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function M2e(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let u=a(t);return u=unescape(u),u=l(u),u=c(u),s(u)}if(t=o(n),t){const u=c(t);return s(u)}if(t=r("filename","i").exec(n),t){t=t[1];let u=a(t);return u=c(u),s(u)}function r(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const h=new TextDecoder(u,{fatal:!0}),p=vP(d);d=h.decode(p),e=!1}catch{}}return d}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function o(u){const d=[];let h;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=p.exec(u))!==null;){let[,v,y,x]=h;if(v=parseInt(v,10),v in d){if(v===0)break;continue}d[v]=[y,x]}const g=[];for(let v=0;v<d.length&&v in d;++v){let[y,x]=d[v];x=a(x),y&&(x=unescape(x),v===0&&(x=l(x))),g.push(x)}return g.join("")}function a(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let h=0;h<d.length;++h){const p=d[h].indexOf('"');p!==-1&&(d[h]=d[h].slice(0,p),d.length=h+1),d[h]=d[h].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function l(u){const d=u.indexOf("'");if(d===-1)return u;const h=u.slice(0,d),p=u.slice(d+1).replace(/^[^']*'/,"");return i(h,p)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,h,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,y){return String.fromCharCode(parseInt(y,16))}),i(h,g);try{g=atob(g)}catch{}return i(h,g)})}return""}function lB({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function cB(n){const e=n("Content-Disposition");if(e){let t=M2e(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(sB(t))return t}return null}function SP(n,e){return n===404||n===0&&e.startsWith("file:")?new _p('Missing PDF "'+e+'".'):new gP(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function eJ(n){return n===200||n===206}function tJ(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function nJ(n){const e=new Headers;for(const t in n){const r=n[t];r!==void 0&&e.append(t,r)}return e}function rJ(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(en(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class Pj{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Fr(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new C2e(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new A2e(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class C2e{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=nJ(this._stream.httpHeaders);const r=t.url;fetch(r,tJ(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!eJ(i.status))throw SP(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=l=>i.headers.get(l),{allowRangeRequests:o,suggestedLength:a}=lB({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=cB(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Sp("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._headersCapability.promise;const{value:t,done:r}=await this._reader.read();return r?{value:t,done:r}:(this._loaded+=t.byteLength,(e=this.onProgress)==null||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:rJ(t),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class A2e{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=nJ(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${r-1}`);const s=i.url;fetch(s,tJ(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!eJ(o.status))throw SP(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._readCapability.promise;const{value:t,done:r}=await this._reader.read();return r?{value:t,done:r}:(this._loaded+=t.byteLength,(e=this.onProgress)==null||e.call(this,{loaded:this._loaded}),{value:rJ(t),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const zk=200,Bk=206;function T2e(n){const e=n.response;return typeof e!="string"?e:vP(e).buffer}class P2e{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){const i={begin:e,end:t};for(const s in r)i[s]=r[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];o!==void 0&&t.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=Bk):i.expectedStatus=zk,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,t))}onStateChange(e,t){var r,i,s;const o=this.pendingRequests[e];if(!o)return;const a=o.xhr;if(a.readyState>=2&&o.onHeadersReceived&&(o.onHeadersReceived(),delete o.onHeadersReceived),a.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],a.status===0&&this.isHttp){(r=o.onError)==null||r.call(o,a.status);return}const l=a.status||zk;if(!(l===zk&&o.expectedStatus===Bk)&&l!==o.expectedStatus){(i=o.onError)==null||i.call(o,a.status);return}const c=T2e(a);if(l===Bk){const u=a.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);o.onDone({begin:parseInt(d[1],10),chunk:c})}else c?o.onDone({begin:0,chunk:c}):(s=o.onError)==null||s.call(o,a.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class R2e{constructor(e){this._source=e,this._manager=new P2e(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Fr(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new L2e(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new k2e(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class L2e{constructor(e,t){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=o=>t.getResponseHeader(o),{allowRangeRequests:i,suggestedLength:s}=lB({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=cB(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=SP(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class k2e{constructor(e,t,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=SP(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const iJ=/^file:\/\/\/[a-zA-Z]:\//;function I2e(n){const e=Sl.get("url"),t=e.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?e.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class O2e{constructor(e){this.source=e,this.url=I2e(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Fr(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new F2e(this):new D2e(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new z2e(this,e,t):new N2e(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class sJ{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(e=this.onProgress)==null||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Sp("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class oJ{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(e=this.onProgress)==null||e.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function b2(n,e){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:e}}class D2e extends sJ{constructor(e){super(e);const t=r=>{if(r.statusCode===404){const a=new _p(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=lB({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=cB(i)};if(this._request=null,this._url.protocol==="http:"){const r=Sl.get("http");this._request=r.request(b2(this._url,e.httpHeaders),t)}else{const r=Sl.get("https");this._request=r.request(b2(this._url,e.httpHeaders),t)}this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class N2e extends oJ{constructor(e,t,r){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const o=e.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${t}-${r-1}`;const i=s=>{if(s.statusCode===404){const o=new _p(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=Sl.get("http");this._request=s.request(b2(this._url,this._httpHeaders),i)}else{const s=Sl.get("https");this._request=s.request(b2(this._url,this._httpHeaders),i)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class F2e extends sJ{constructor(e){super(e);let t=decodeURIComponent(this._url.path);iJ.test(this._url.href)&&(t=t.replace(/^\//,""));const r=Sl.get("fs");r.promises.lstat(t).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(t)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new _p(`Missing PDF "${t}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class z2e extends oJ{constructor(e,t,r){super(e);let i=decodeURIComponent(this._url.path);iJ.test(this._url.href)&&(i=i.replace(/^\//,""));const s=Sl.get("fs");this._setReadableStream(s.createReadStream(i,{start:t,end:r-1}))}}const B2e=1e5,ys=30,$2e=.8;var Rj,lh,Qs,wS,bS,ch,cu,_S,SS,cm,cy,uy,uh,dy,ES,hy,um,MS,CS,No,dm,hm,fy,$k,Lj,Uk,kj,AS,Wk,py,TS,Hk,Ij;let _2=(No=class{constructor({textContentSource:n,container:e,viewport:t}){if(W(this,$k),W(this,Uk),W(this,AS),W(this,lh,Promise.withResolvers()),W(this,Qs,null),W(this,wS,!1),W(this,bS,!!((Rj=globalThis.FontInspector)!=null&&Rj.enabled)),W(this,ch,null),W(this,cu,null),W(this,_S,0),W(this,SS,0),W(this,cm,null),W(this,cy,null),W(this,uy,0),W(this,uh,0),W(this,dy,Object.create(null)),W(this,ES,[]),W(this,hy,null),W(this,um,[]),W(this,MS,new WeakMap),W(this,CS,null),n instanceof ReadableStream)Z(this,hy,n);else if(typeof n=="object")Z(this,hy,new ReadableStream({start(a){a.enqueue(n),a.close()}}));else throw new Error('No "textContentSource" parameter specified.');Z(this,Qs,Z(this,cy,e)),Z(this,uh,t.scale*(globalThis.devicePixelRatio||1)),Z(this,uy,t.rotation),Z(this,cu,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:i,pageX:s,pageY:o}=t.rawDims;Z(this,CS,[1,0,0,-1,-s,o+i]),Z(this,SS,r),Z(this,_S,i),op(e,t),S(this,lh).promise.catch(()=>{}).then(()=>{S(No,fy).delete(this),Z(this,cu,null),Z(this,dy,null)})}render(){const n=()=>{S(this,cm).read().then(({value:e,done:t})=>{if(t){S(this,lh).resolve();return}S(this,ch)??Z(this,ch,e.lang),Object.assign(S(this,dy),e.styles),Q(this,$k,Lj).call(this,e.items),n()},S(this,lh).reject)};return Z(this,cm,S(this,hy).getReader()),S(No,fy).add(this),n(),S(this,lh).promise}update({viewport:n,onBefore:e=null}){var t;const r=n.scale*(globalThis.devicePixelRatio||1),i=n.rotation;if(i!==S(this,uy)&&(e==null||e(),Z(this,uy,i),op(S(this,cy),{rotation:i})),r!==S(this,uh)){e==null||e(),Z(this,uh,r);const s={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:Q(t=No,py,TS).call(t,S(this,ch))};for(const o of S(this,um))s.properties=S(this,MS).get(o),s.div=o,Q(this,AS,Wk).call(this,s)}}cancel(){var n;const e=new Sp("TextLayer task cancelled.");(n=S(this,cm))==null||n.cancel(e).catch(()=>{}),Z(this,cm,null),S(this,lh).reject(e)}get textDivs(){return S(this,um)}get textContentItemsStr(){return S(this,ES)}static cleanup(){if(!(S(this,fy).size>0)){S(this,dm).clear();for(const{canvas:n}of S(this,hm).values())n.remove();S(this,hm).clear()}}},lh=new WeakMap,Qs=new WeakMap,wS=new WeakMap,bS=new WeakMap,ch=new WeakMap,cu=new WeakMap,_S=new WeakMap,SS=new WeakMap,cm=new WeakMap,cy=new WeakMap,uy=new WeakMap,uh=new WeakMap,dy=new WeakMap,ES=new WeakMap,hy=new WeakMap,um=new WeakMap,MS=new WeakMap,CS=new WeakMap,dm=new WeakMap,hm=new WeakMap,fy=new WeakMap,$k=new WeakSet,Lj=function(n){var e,t;if(S(this,wS))return;(t=S(this,cu)).ctx||(t.ctx=Q(e=No,py,TS).call(e,S(this,ch)));const r=S(this,um),i=S(this,ES);for(const s of n){if(r.length>B2e){en("Ignoring additional textDivs for performance reasons."),Z(this,wS,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const o=S(this,Qs);Z(this,Qs,document.createElement("span")),S(this,Qs).classList.add("markedContent"),s.id!==null&&S(this,Qs).setAttribute("id",`${s.id}`),o.append(S(this,Qs))}else s.type==="endMarkedContent"&&Z(this,Qs,S(this,Qs).parentNode);continue}i.push(s.str),Q(this,Uk,kj).call(this,s)}},Uk=new WeakSet,kj=function(n){var e;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:n.str!=="",hasEOL:n.hasEOL,fontSize:0};S(this,um).push(t);const i=vt.transform(S(this,CS),n.transform);let s=Math.atan2(i[1],i[0]);const o=S(this,dy)[n.fontName];o.vertical&&(s+=Math.PI/2);const a=S(this,bS)&&o.fontSubstitution||o.fontFamily,l=Math.hypot(i[2],i[3]),c=l*Q(e=No,Hk,Ij).call(e,a,S(this,ch));let u,d;s===0?(u=i[4],d=i[5]-c):(u=i[4]+c*Math.sin(s),d=i[5]-c*Math.cos(s));const h="calc(var(--scale-factor)*",p=t.style;S(this,Qs)===S(this,cy)?(p.left=`${(100*u/S(this,SS)).toFixed(2)}%`,p.top=`${(100*d/S(this,_S)).toFixed(2)}%`):(p.left=`${h}${u.toFixed(2)}px)`,p.top=`${h}${d.toFixed(2)}px)`),p.fontSize=`${h}${l.toFixed(2)}px)`,p.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=n.str,t.dir=n.dir,S(this,bS)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||n.fontName),s!==0&&(r.angle=s*(180/Math.PI));let g=!1;if(n.str.length>1)g=!0;else if(n.str!==" "&&n.transform[0]!==n.transform[3]){const v=Math.abs(n.transform[0]),y=Math.abs(n.transform[3]);v!==y&&Math.max(v,y)/Math.min(v,y)>1.5&&(g=!0)}if(g&&(r.canvasWidth=o.vertical?n.height:n.width),S(this,MS).set(t,r),S(this,cu).div=t,S(this,cu).properties=r,Q(this,AS,Wk).call(this,S(this,cu)),r.hasText&&S(this,Qs).append(t),r.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),S(this,Qs).append(v)}},AS=new WeakSet,Wk=function(n){const{div:e,properties:t,ctx:r,prevFontSize:i,prevFontFamily:s}=n,{style:o}=e;let a="";if(t.canvasWidth!==0&&t.hasText){const{fontFamily:l}=o,{canvasWidth:c,fontSize:u}=t;(i!==u||s!==l)&&(r.font=`${u*S(this,uh)}px ${l}`,n.prevFontSize=u,n.prevFontFamily=l);const{width:d}=r.measureText(e.textContent);d>0&&(a=`scaleX(${c*S(this,uh)/d})`)}t.angle!==0&&(a=`rotate(${t.angle}deg) ${a}`),a.length>0&&(o.transform=a)},py=new WeakSet,TS=function(n=null){let e=S(this,hm).get(n||(n=""));if(!e){const t=document.createElement("canvas");t.className="hiddenCanvasElement",t.lang=n,document.body.append(t),e=t.getContext("2d",{alpha:!1}),S(this,hm).set(n,e)}return e},Hk=new WeakSet,Ij=function(n,e){const t=S(this,dm).get(n);if(t)return t;const r=Q(this,py,TS).call(this,e),i=r.font;r.canvas.width=r.canvas.height=ys,r.font=`${ys}px ${n}`;const s=r.measureText("");let o=s.fontBoundingBoxAscent,a=Math.abs(s.fontBoundingBoxDescent);if(o){const u=o/(o+a);return S(this,dm).set(n,u),r.canvas.width=r.canvas.height=0,r.font=i,u}r.strokeStyle="red",r.clearRect(0,0,ys,ys),r.strokeText("g",0,0);let l=r.getImageData(0,0,ys,ys).data;a=0;for(let u=l.length-1-3;u>=0;u-=4)if(l[u]>0){a=Math.ceil(u/4/ys);break}r.clearRect(0,0,ys,ys),r.strokeText("A",0,ys),l=r.getImageData(0,0,ys,ys).data,o=0;for(let u=0,d=l.length;u<d;u+=4)if(l[u]>0){o=ys-Math.floor(u/4/ys);break}r.canvas.width=r.canvas.height=0,r.font=i;const c=o?o/(o+a):$2e;return S(this,dm).set(n,c),c},W(No,py),W(No,Hk),W(No,dm,new Map),W(No,hm,new Map),W(No,fy,new Set),No);function U2e(){bZ("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:e,viewport:t,...r}=arguments[0],i=Object.keys(r);i.length>0&&en("Ignoring `renderTextLayer` parameters: "+i.join(", "));const s=new _2({textContentSource:n,container:e,viewport:t}),{textDivs:o,textContentItemsStr:a}=s;return{promise:s.render(),textDivs:o,textContentItemsStr:a}}function W2e(){bZ("`updateTextLayer`, please use `TextLayer` instead.")}class Sw{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var o;if(!s)return;let a=null;const l=s.name;if(l==="#text")a=s.value;else if(Sw.shouldBuildText(l))(o=s==null?void 0:s.attributes)!=null&&o.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const c of s.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const H2e=65536,j2e=100,V2e=5e3,G2e=qi?t2e:BAe,q2e=qi?n2e:xZ,X2e=qi?e2e:zAe,Y2e=qi?r2e:wZ;function K2e(n){if(typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n}),typeof n!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!n.url&&!n.data&&!n.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const e=new J2e,{docId:t}=e,r=n.url?Q2e(n.url):null,i=n.data?Z2e(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof cJ?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:H2e;let u=n.worker instanceof JM?n.worker:null;const d=n.verbosity,h=typeof n.docBaseUrl=="string"&&!iB(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,g=n.cMapPacked!==!1,v=n.CMapReaderFactory||q2e,y=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,x=n.StandardFontDataFactory||Y2e,w=n.stopAtErrors!==!0,b=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,_=n.isEvalSupported!==!1,C=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!qi,A=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,P=typeof n.disableFontFace=="boolean"?n.disableFontFace:qi,M=n.fontExtraProperties===!0,L=n.enableXfa===!0,I=n.ownerDocument||globalThis.document,F=n.disableRange===!0,V=n.disableStream===!0,j=n.disableAutoFetch===!0,G=n.pdfBug===!0,J=l?l.length:n.length??NaN,q=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!qi&&!P,H=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:v===xZ&&x===wZ&&p&&y&&Hy(p,document.baseURI)&&Hy(y,document.baseURI),D=n.canvasFactory||new G2e({ownerDocument:I}),z=n.filterFactory||new X2e({docId:t,ownerDocument:I}),B=null;AAe(d);const ee={canvasFactory:D,filterFactory:z};if(H||(ee.cMapReaderFactory=new v({baseUrl:p,isCompressed:g}),ee.standardFontDataFactory=new x({baseUrl:y})),!u){const ce={verbosity:d,port:Ad.workerPort};u=ce.port?JM.fromPort(ce):new JM(ce),e._worker=u}const Y={docId:t,apiVersion:"4.3.136",data:i,password:a,disableAutoFetch:j,rangeChunkSize:c,length:J,docBaseUrl:h,enableXfa:L,evaluatorOptions:{maxImageSize:b,disableFontFace:P,ignoreErrors:w,isEvalSupported:_,isOffscreenCanvasSupported:C,canvasMaxAreaInBytes:A,fontExtraProperties:M,useSystemFonts:q,cMapUrl:H?p:null,standardFontDataUrl:H?y:null}},oe={disableFontFace:P,fontExtraProperties:M,ownerDocument:I,pdfBug:G,styleElement:B,loadingParams:{disableAutoFetch:j,enableXfa:L}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const ce=u.messageHandler.sendWithPromise("GetDocRequest",Y,i?[i.buffer]:null);let me;return l?me=new _2e(l,{disableRange:F,disableStream:V}):i||(me=(de=>qi?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Hy(de.url)?new Pj(de):new O2e(de):Hy(de.url)?new Pj(de):new R2e(de))({url:r,length:J,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:F,disableStream:V})),ce.then(de=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const be=new i1(t,de,u.port),Oe=new rTe(be,e,me,oe,ee);e._transport=Oe,be.send("Ready",null)})}).catch(e._capability.reject),e}function Q2e(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(qi&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Z2e(n){if(qi&&typeof xD<"u"&&n instanceof xD)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return vP(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Oj(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var CN;const aJ=class lJ{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${na(lJ,CN)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};CN=new WeakMap,W(aJ,CN,0);let J2e=aJ,cJ=class{constructor(n,e,t=!1,r=null){this.length=n,this.initialData=e,this.progressiveDone=t,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(n){this._rangeListeners.push(n)}addProgressListener(n){this._progressListeners.push(n)}addProgressiveReadListener(n){this._progressiveReadListeners.push(n)}addProgressiveDoneListener(n){this._progressiveDoneListeners.push(n)}onDataRange(n,e){for(const t of this._rangeListeners)t(n,e)}onDataProgress(n,e){this._readyCapability.promise.then(()=>{for(const t of this._progressListeners)t(n,e)})}onDataProgressiveRead(n){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(n)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const n of this._progressiveDoneListeners)n()})}transportReady(){this._readyCapability.resolve()}requestDataRange(n,e){Tn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class eTe{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return un(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ph,Gu,Yh,Ug,sx,S2;class tTe{constructor(e,t,r,i=!1){W(this,Yh),W(this,sx),W(this,Ph,null),W(this,Gu,!1),this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new dj:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new uJ,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new pb({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return un(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=Hu.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null}){var d,h;(d=this._stats)==null||d.time("Overall");const p=this._transport.getRenderingIntent(r,i,u),{renderingIntent:g,cacheKey:v}=p;Z(this,Gu,!1),Q(this,sx,S2).call(this),a||(a=this._transport.getOptionalContentConfig(g));let y=this._intentStates.get(v);y||(y=Object.create(null),this._intentStates.set(v,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const x=!!(g&Vo.PRINT);y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(h=this._stats)==null||h.time("Page Request"),this._pumpOperatorList(p));const w=C=>{var A;y.renderTasks.delete(b),(this._maybeCleanupAfterRender||x)&&Z(this,Gu,!0),Q(this,Yh,Ug).call(this,!x),C?(b.capability.reject(C),this._abortOperatorList({intentState:y,reason:C instanceof Error?C:new Error(C)})):b.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(A=globalThis.Stats)!=null&&A.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},b=new sTe({callback:w,params:{canvasContext:e,viewport:t,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:c});(y.renderTasks||(y.renderTasks=new Set)).add(b);const _=b.task;return Promise.all([y.displayReadyCapability.promise,a]).then(([C,A])=>{var P;if(this.destroyed){w();return}if((P=this._stats)==null||P.time("Rendering"),!(A.renderingIntent&g))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");b.initializeGraphics({transparency:C,optionalContentConfig:A}),b.operatorListChanged()}).catch(w),_}getOperatorList({intent:e="display",annotationMode:t=Hu.ENABLE,printAnnotationStorage:r=null}={}){var i;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(e,t,r,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(i=this._stats)==null||i.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Sw.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:c}){if(c){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),Z(this,Gu,!1),Q(this,sx,S2).call(this),Promise.all(e)}cleanup(e=!1){Z(this,Gu,!0);const t=Q(this,Yh,Ug).call(this,!1);return e&&t&&this._stats&&(this._stats=new dj),t}_startRenderPage(e,t){var r,i;const s=this._intentStates.get(t);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(i=s.displayReadyCapability)==null||i.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&Q(this,Yh,Ug).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r}){const{map:i,transfer:s}=r,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i},s).getReader(),a=this._intentStates.get(t);a.streamReader=o;const l=()=>{o.read().then(({value:c,done:u})=>{if(u){a.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(c,a),l())},c=>{if(a.streamReader=null,!this._transport.destroyed){if(a.operatorList){a.operatorList.lastChunk=!0;for(const u of a.renderTasks)u.operatorListChanged();Q(this,Yh,Ug).call(this,!0)}if(a.displayReadyCapability)a.displayReadyCapability.reject(c);else if(a.opListReadCapability)a.opListReadCapability.reject(c);else throw c}})};l()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof rB){let i=j2e;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Sp(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Ph=new WeakMap,Gu=new WeakMap,Yh=new WeakSet,Ug=function(n=!1){if(Q(this,sx,S2).call(this),!S(this,Gu)||this.destroyed)return!1;if(n)return Z(this,Ph,setTimeout(()=>{Z(this,Ph,null),Q(this,Yh,Ug).call(this,!1)},V2e)),!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Z(this,Gu,!1),!0},sx=new WeakSet,S2=function(){S(this,Ph)&&(clearTimeout(S(this,Ph)),Z(this,Ph,null))};var Jm,AN;class nTe{constructor(){W(this,Jm,new Set),W(this,AN,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};S(this,AN).then(()=>{for(const i of S(this,Jm))i.call(this,r)})}addEventListener(e,t){S(this,Jm).add(t)}removeEventListener(e,t){S(this,Jm).delete(t)}terminate(){S(this,Jm).clear()}}Jm=new WeakMap,AN=new WeakMap;const dc={isWorkerDisabled:!1,fakeWorkerId:0};qi&&(dc.isWorkerDisabled=!0,Ad.workerSrc||(Ad.workerSrc="./pdf.worker.mjs")),dc.isSameOrigin=function(n,e){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const r=new URL(e,t);return t.origin===r.origin},dc.createCDNWrapper=function(n){const e=`await import("${n}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var Kh,ox,ZM;const TN=class Jl{constructor({name:e=null,port:t=null,verbosity:r=TAe()}={}){var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=S(Jl,Kh))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(S(Jl,Kh)||Z(Jl,Kh,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return qi?Promise.all([Sl.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new i1("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!dc.isWorkerDisabled&&!S(Jl,ox,ZM)){let{workerSrc:e}=Jl;try{dc.isSameOrigin(window.location.href,e)||(e=dc.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new i1("main","worker",t),i=()=>{t.removeEventListener("error",s),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=()=>{this._webWorker||i()};t.addEventListener("error",s),r.on("test",a=>{if(t.removeEventListener("error",s),this.destroyed){i();return}a?(this._messageHandler=r,this._port=t,this._webWorker=t,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),t.terminate())}),r.on("ready",a=>{if(t.removeEventListener("error",s),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{mP("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){dc.isWorkerDisabled||(en("Setting up fake worker."),dc.isWorkerDisabled=!0),Jl._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new nTe;this._port=t;const r=`fake${dc.fakeWorkerId++}`,i=new i1(r+"_worker",r,t);e.setup(i,t);const s=new i1(r,r+"_worker",t);this._messageHandler=s,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=S(Jl,Kh))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var t;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const r=(t=S(this,Kh))==null?void 0:t.get(e.port);if(r){if(r._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return r}return new Jl(e)}static get workerSrc(){if(Ad.workerSrc)return Ad.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return un(this,"_setupFakeWorkerGlobal",(async()=>S(this,ox,ZM)?S(this,ox,ZM):(await import(this.workerSrc)).WorkerMessageHandler)())}};Kh=new WeakMap,ox=new WeakSet,ZM=function(){var n;try{return((n=globalThis.pdfjsWorker)==null?void 0:n.WorkerMessageHandler)||null}catch{return null}},W(TN,ox),W(TN,Kh,void 0);let JM=TN;var qu,ec,l1,c1,tc,eg,u1;class rTe{constructor(e,t,r,i,s){W(this,eg),W(this,qu,new Map),W(this,ec,new Map),W(this,l1,new Map),W(this,c1,new Map),W(this,tc,null),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new uJ,this.fontLoader=new ZAe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return un(this,"annotationStorage",new aB)}getRenderingIntent(e,t=Hu.ENABLE,r=null,i=!1){let s=Vo.DISPLAY,o=vN;switch(e){case"any":s=Vo.ANY;break;case"display":break;case"print":s=Vo.PRINT;break;default:en(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case Hu.DISABLE:s+=Vo.ANNOTATIONS_DISABLE;break;case Hu.ENABLE:break;case Hu.ENABLE_FORMS:s+=Vo.ANNOTATIONS_FORMS;break;case Hu.ENABLE_STORAGE:s+=Vo.ANNOTATIONS_STORAGE,o=(s&Vo.PRINT&&r instanceof qZ?r:this.annotationStorage).serializable;break;default:en(`getRenderingIntent - invalid annotationMode: ${t}`)}return i&&(s+=Vo.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){var e;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(e=S(this,tc))==null||e.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of S(this,ec).values())t.push(i._destroy());S(this,ec).clear(),S(this,l1).clear(),S(this,c1).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const r=this.messageHandler.sendWithPromise("Terminate",null);return t.push(r),Promise.all(t).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),S(this,qu).clear(),this.filterFactory.destroy(),_2.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Sp("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{Fr(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}Fr(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",r=>{const i=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var o;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),s.onProgress=a=>{var l;(l=t.onProgress)==null||l.call(t,{loaded:a.loaded,total:a.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(r,i)=>{Fr(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}Fr(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new eTe(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new _D(r.message,r.code);break;case"InvalidPDFException":i=new mZ(r.message);break;case"MissingPDFException":i=new _p(r.message);break;case"UnexpectedResponseException":i=new gP(r.message,r.status);break;case"UnknownErrorException":i=new SD(r.message,r.details);break;default:Tn("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",r=>{if(Z(this,tc,Promise.withResolvers()),t.onPassword){const i=s=>{s instanceof Error?S(this,tc).reject(s):S(this,tc).resolve({password:s})};try{t.onPassword(i,r.code)}catch(s){S(this,tc).reject(s)}}else S(this,tc).reject(new _D(r.message,r.code));return S(this,tc).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{this.destroyed||S(this,ec).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in s){const p=s.error;en(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const u=c&&(o=globalThis.FontInspector)!=null&&o.enabled?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new JAe(s,{disableFontFace:a,inspectFont:u});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(r,d)});break;case"CopyLocalImage":const{imageRef:h}=s;Fr(h,"The imageRef must be defined.");for(const p of S(this,ec).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===h)return g.dataLen?(this.commonObjs.resolve(r,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var a;if(this.destroyed)return;const l=S(this,ec).get(i);if(!l.objs.has(r)){if(l._intentStates.size===0){(a=o==null?void 0:o.bitmap)==null||a.close();return}switch(s){case"Image":l.objs.resolve(r,o),(o==null?void 0:o.dataLen)>SAe&&(l._maybeCleanupAfterRender=!0);break;case"Pattern":l.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var e;this.annotationStorage.size<=0&&en("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((e=this._fullReader)==null?void 0:e.filename)??null},r).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=S(this,l1).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&S(this,c1).set(s.refStr,e);const o=new tTe(t,s,this,this._params.pdfBug);return S(this,ec).set(t,o),o});return S(this,l1).set(t,i),i}getPageIndex(e){return Oj(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return Q(this,eg,u1).call(this,"GetFieldObjects")}hasJSActions(){return Q(this,eg,u1).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Q(this,eg,u1).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return Q(this,eg,u1).call(this,"GetOptionalContentConfig").then(t=>new b2e(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=S(this,qu).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new x2e(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return S(this,qu).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of S(this,ec).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),S(this,qu).clear(),this.filterFactory.destroy(!0),_2.cleanup()}}cachedPageNumber(e){if(!Oj(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return S(this,c1).get(t)??null}}qu=new WeakMap,ec=new WeakMap,l1=new WeakMap,c1=new WeakMap,tc=new WeakMap,eg=new WeakSet,u1=function(n,e=null){const t=S(this,qu).get(n);if(t)return t;const r=this.messageHandler.sendWithPromise(n,e);return S(this,qu).set(n,r),r};const eC=Symbol("INITIAL_DATA");var rl,tC,PN;class uJ{constructor(){W(this,tC),W(this,rl,Object.create(null))}get(e,t=null){if(t){const i=Q(this,tC,PN).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=S(this,rl)[e];if(!r||r.data===eC)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=S(this,rl)[e];return!!t&&t.data!==eC}resolve(e,t=null){const r=Q(this,tC,PN).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in S(this,rl)){const{data:r}=S(this,rl)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}Z(this,rl,Object.create(null))}*[Symbol.iterator](){for(const e in S(this,rl)){const{data:t}=S(this,rl)[e];t!==eC&&(yield[e,t])}}}rl=new WeakMap,tC=new WeakSet,PN=function(n){var e;return(e=S(this,rl))[n]||(e[n]={...Promise.withResolvers(),data:eC})};var Rh;class iTe{constructor(e){W(this,Rh,null),Z(this,Rh,e),this.onContinue=null}get promise(){return S(this,Rh).capability.promise}cancel(e=0){S(this,Rh).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=S(this,Rh).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=S(this,Rh);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Rh=new WeakMap;var Wg;const dJ=class d1{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:h=null}){this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new iTe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var r,i;if(this.cancelled)return;if(this._canvas){if(S(d1,Wg).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");S(d1,Wg).add(this._canvas)}this._pdfBug&&(r=globalThis.StepperManager)!=null&&r.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:o,transform:a,background:l}=this.params;this.gfx=new qM(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:o,transparency:e,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,(i=this.graphicsReadyCallback)==null||i.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),S(d1,Wg).delete(this._canvas),this.callback(e||new rB(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),S(d1,Wg).delete(this._canvas),this.callback())))}};Wg=new WeakMap,W(dJ,Wg,new WeakSet);let sTe=dJ;const oTe="4.3.136",aTe="0cec64437";function Dj(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function my(n){return Math.max(0,Math.min(255,255*n))}class Nj{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=my(e),[e,e,e]}static G_HTML([e]){const t=Dj(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(my)}static RGB_HTML(e){return`#${e.map(Dj).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[my(1-Math.min(1,e+i)),my(1-Math.min(1,r+i)),my(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class hJ{static setupStorage(e,t,r,i,s){const o=i.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var t,r;const i=e.annotationStorage,s=e.linkService,o=e.xfaHtml,a=e.intent||"display",l=document.createElement(o.name);o.attributes&&this.setAttributes({html:l,element:o,intent:a,linkService:s});const c=a!=="richText",u=e.div;if(u.append(l),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=p}c&&u.setAttribute("class","xfaLayer xfaFont");const d=[];if(o.children.length===0){if(o.value){const p=document.createTextNode(o.value);l.append(p),c&&Sw.shouldBuildText(o.name)&&d.push(p)}return{textDivs:d}}const h=[[o,-1,l]];for(;h.length>0;){const[p,g,v]=h.at(-1);if(g+1===p.children.length){h.pop();continue}const y=p.children[++h.at(-1)[1]];if(y===null)continue;const{name:x}=y;if(x==="#text"){const b=document.createTextNode(y.value);d.push(b),v.append(b);continue}const w=(t=y==null?void 0:y.attributes)!=null&&t.xmlns?document.createElementNS(y.attributes.xmlns,x):document.createElement(x);if(v.append(w),y.attributes&&this.setAttributes({html:w,element:y,storage:i,intent:a,linkService:s}),((r=y.children)==null?void 0:r.length)>0)h.push([y,-1,w]);else if(y.value){const b=document.createTextNode(y.value);c&&Sw.shouldBuildText(x)&&d.push(b),w.append(b)}}for(const p of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const vb=1e3,lTe=9,ap=new WeakSet;function Bc(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class cTe{static create(e){switch(e.data.annotationType){case Or.LINK:return new gJ(e);case Or.TEXT:return new dTe(e);case Or.WIDGET:switch(e.data.fieldType){case"Tx":return new hTe(e);case"Btn":return e.data.radioButton?new vJ(e):e.data.checkBox?new pTe(e):new mTe(e);case"Ch":return new gTe(e);case"Sig":return new fTe(e)}return new Ep(e);case Or.POPUP:return new IN(e);case Or.FREETEXT:return new wJ(e);case Or.LINE:return new yTe(e);case Or.SQUARE:return new xTe(e);case Or.CIRCLE:return new wTe(e);case Or.POLYLINE:return new bJ(e);case Or.CARET:return new _Te(e);case Or.INK:return new _J(e);case Or.POLYGON:return new bTe(e);case Or.HIGHLIGHT:return new STe(e);case Or.UNDERLINE:return new ETe(e);case Or.SQUIGGLY:return new MTe(e);case Or.STRIKEOUT:return new CTe(e);case Or.STAMP:return new SJ(e);case Or.FILEATTACHMENT:return new ATe(e);default:return new Ur(e)}}}var Lh,h1,f1,nC,RN;const uTe=class fJ{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){W(this,nC),W(this,Lh,null),W(this,h1,!1),W(this,f1,null),this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get hasPopupData(){return fJ._hasPopupData(this.data)}updateEdited(e){var t;if(!this.container)return;S(this,Lh)||Z(this,Lh,{rect:this.data.rect.slice(0)});const{rect:r}=e;r&&Q(this,nC,RN).call(this,r),(t=S(this,f1))==null||t.popup.updateEdited(e)}resetEdited(){var e;S(this,Lh)&&(Q(this,nC,RN).call(this,S(this,Lh).rect),(e=S(this,f1))==null||e.popup.resetEdited(),Z(this,Lh,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Ep||(s.tabIndex=vb);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,t.popupRef&&s.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof IN){const{rotation:v}=t;return!t.hasOwnCanvas&&v!==0&&this.setRotation(v,s),s}const{width:a,height:l}=Bc(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const v=t.borderStyle.horizontalCornerRadius,y=t.borderStyle.verticalCornerRadius;if(v>0||y>0){const w=`calc(${v}px * var(--scale-factor)) / calc(${y}px * var(--scale-factor))`;o.borderRadius=w}else if(this instanceof vJ){const w=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=w}switch(t.borderStyle.style){case sy.SOLID:o.borderStyle="solid";break;case sy.DASHED:o.borderStyle="dashed";break;case sy.BEVELED:en("Unimplemented border style: beveled");break;case sy.INSET:en("Unimplemented border style: inset");break;case sy.UNDERLINE:o.borderBottomStyle="solid";break}const x=t.borderColor||null;x?(Z(this,h1,!0),o.borderColor=vt.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):o.borderWidth=0}const c=vt.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:u,pageHeight:d,pageX:h,pageY:p}=i.rawDims;o.left=`${100*(c[0]-h)/u}%`,o.top=`${100*(c[1]-p)/d}%`;const{rotation:g}=t;return t.hasOwnCanvas||g===0?(o.width=`${100*a/u}%`,o.height=`${100*l/d}%`):this.setRotation(g,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:o}=Bc(this.data.rect);let a,l;e%180===0?(a=100*s/r,l=100*o/i):(a=100*o/r,l=100*s/i),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],o=s[0],a=s.slice(1);i.target.style[r]=Nj[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:Nj[`${o}_rgb`](a)})};return un(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect;if(e.length===1){const[,{x:v,y},{x,y:w}]=e[0];if(i===v&&s===y&&t===x&&r===w)return}const{style:o}=this.container;let a;if(S(this,h1)){const{borderColor:v,borderWidth:y}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${y}">`],this.container.classList.add("hasBorder")}const l=i-t,c=s-r,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const h=u.createElement("defs");d.append(h);const p=u.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),h.append(p);for(const[,{x:v,y},{x,y:w}]of e){const b=u.createElement("rect"),_=(x-t)/l,C=(s-y)/c,A=(v-x)/l,P=(y-w)/c;b.setAttribute("x",_),b.setAttribute("y",C),b.setAttribute("width",A),b.setAttribute("height",P),p.append(b),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${_}" y="${C}" width="${A}" height="${P}"/>`)}S(this,h1)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const r=Z(this,f1,new IN({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){Tn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===t)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!ap.has(c)){en(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==t&&ap.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Lh=new WeakMap,h1=new WeakMap,f1=new WeakMap,nC=new WeakSet,RN=function(n){const{container:{style:e},data:{rect:t,rotation:r},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:s,pageX:o,pageY:a}}}}=this;t==null||t.splice(0,4,...n);const{width:l,height:c}=Bc(n);e.left=`${100*(n[0]-o)/i}%`,e.top=`${100*(s-n[3]+a)/s}%`,r===0?(e.width=`${100*l/i}%`,e.height=`${100*c/s}%`):this.setRotation(r)};let Ur=uTe;var Xu,ff,LN,pJ,kN,mJ;class gJ extends Ur{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!(t!=null&&t.ignoreBorder),createQuadrilaterals:!0}),W(this,Xu),W(this,LN),W(this,kN),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let i=!1;return e.url?(t.addLinkAttributes(r,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(r,e.action),i=!0):e.attachment?(Q(this,LN,pJ).call(this,r,e.attachment,e.attachmentDest),i=!0):e.setOCGState?(Q(this,kN,mJ).call(this,r,e.setOCGState),i=!0):e.dest?(this._bindLink(r,e.dest),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),i=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(r),this.container}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&Q(this,Xu,ff).call(this)}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),Q(this,Xu,ff).call(this)}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(t.actions)){const s=r.get(i);s&&(e[s]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1})}e.onclick||(e.onclick=()=>!1),Q(this,Xu,ff).call(this)}_bindResetFormAction(e,t){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),Q(this,Xu,ff).call(this),!this._fieldObjects){en('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var i;r==null||r();const{fields:s,refs:o,include:a}=t,l=[];if(s.length!==0||o.length!==0){const d=new Set(o);for(const h of s){const p=this._fieldObjects[h]||[];for(const{id:g}of p)d.add(g)}for(const h of Object.values(this._fieldObjects))for(const p of h)d.has(p.id)===a&&l.push(p)}else for(const d of Object.values(this._fieldObjects))l.push(...d);const c=this.annotationStorage,u=[];for(const d of l){const{id:h}=d;switch(u.push(h),d.type){case"text":{const g=d.defaultValue||"";c.setValue(h,{value:g});break}case"checkbox":case"radiobutton":{const g=d.defaultValue===d.exportValues;c.setValue(h,{value:g});break}case"combobox":case"listbox":{const g=d.defaultValue||"";c.setValue(h,{value:g});break}default:continue}const p=document.querySelector(`[data-element-id="${h}"]`);if(p){if(!ap.has(p)){en(`_bindResetFormAction - element not allowed: ${h}`);continue}}else continue;p.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((i=this.linkService.eventBus)==null||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}Xu=new WeakSet,ff=function(){this.container.setAttribute("data-internal-link","")},LN=new WeakSet,pJ=function(n,e,t=null){n.href=this.linkService.getAnchorUrl(""),e.description&&(n.title=e.description),n.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(e.content,e.filename,t),!1},Q(this,Xu,ff).call(this)},kN=new WeakSet,mJ=function(n,e){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(e),!1),Q(this,Xu,ff).call(this)};class dTe extends Ur{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ep extends Ur{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return zs.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,t,r,i){var s,o,a;for(const[l,c]of r)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,c,i),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":vt.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||lTe,s=e.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(c/(Lk*i))||1,d=c/u;o=Math.min(i,l(d/Lk))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(c/Lk))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=vt.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class hTe extends Ep{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),s.setValue(o.id,{[i]:r})}render(){var e,t;const r=this.annotationStorage,i=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const o=r.getValue(i,{value:this.data.fieldValue});let a=o.value||"";const l=r.getValue(i,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((e=this.data.textContent)==null?void 0:e.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=c??a,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",c??a),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),ap.add(s),s.setAttribute("data-element-id",i),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=vb,this._setRequired(s,this.data.required),l&&(s.maxLength=l),s.addEventListener("input",h=>{r.setValue(i,{value:h.target.value}),this.setPropertyOnSiblings(s,"value",h.target.value,"value"),u.formattedValue=null}),s.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue??"";s.value=u.userValue=p,u.formattedValue=null});let d=h=>{const{formattedValue:p}=u;p!=null&&(h.target.value=p),h.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",p=>{var g;if(u.focused)return;const{target:v}=p;u.userValue&&(v.value=u.userValue),u.lastCommittedValue=v.value,u.commitKey=1,(g=this.data.actions)!=null&&g.Focus||(u.focused=!0)}),s.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const g={value(v){u.userValue=v.detail.value??"",r.setValue(i,{value:u.userValue.toString()}),v.target.value=u.userValue},formattedValue(v){const{formattedValue:y}=v.detail;u.formattedValue=y,y!=null&&v.target!==document.activeElement&&(v.target.value=y),r.setValue(i,{formattedValue:y})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{var y;const{charLimit:x}=v.detail,{target:w}=v;if(x===0){w.removeAttribute("maxLength");return}w.setAttribute("maxLength",x);let b=u.userValue;!b||b.length<=x||(b=b.slice(0,x),w.value=u.userValue=b,r.setValue(i,{value:b}),(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:b,willCommit:!0,commitKey:1,selStart:w.selectionStart,selEnd:w.selectionEnd}}))}};this._dispatchEventFromSandbox(g,p)}),s.addEventListener("keydown",p=>{var g;u.commitKey=1;let v=-1;if(p.key==="Escape"?v=0:p.key==="Enter"&&!this.data.multiLine?v=2:p.key==="Tab"&&(u.commitKey=3),v===-1)return;const{value:y}=p.target;u.lastCommittedValue!==y&&(u.lastCommittedValue=y,u.userValue=y,(g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:y,willCommit:!0,commitKey:v,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const h=d;d=null,s.addEventListener("blur",p=>{var g,v;if(!u.focused||!p.relatedTarget)return;(g=this.data.actions)!=null&&g.Blur||(u.focused=!1);const{value:y}=p.target;u.userValue=y,u.lastCommittedValue!==y&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:y,willCommit:!0,commitKey:u.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),h(p)}),(t=this.data.actions)!=null&&t.Keystroke&&s.addEventListener("beforeinput",p=>{var g;u.lastCommittedValue=null;const{data:v,target:y}=p,{value:x,selectionStart:w,selectionEnd:b}=y;let _=w,C=b;switch(p.inputType){case"deleteWordBackward":{const A=x.substring(0,w).match(/\w*[^\w]*$/);A&&(_-=A[0].length);break}case"deleteWordForward":{const A=x.substring(w).match(/^[^\w]*\w*/);A&&(C+=A[0].length);break}case"deleteContentBackward":w===b&&(_-=1);break;case"deleteContentForward":w===b&&(C+=1);break}p.preventDefault(),(g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:x,change:v||"",willCommit:!1,selStart:_,selEnd:C}})}),this._setEventListeners(s,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&s.addEventListener("blur",d),this.data.comb){const h=(this.data.rect[2]-this.data.rect[0])/l;s.classList.add("comb"),s.style.letterSpacing=`calc(${h}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class fTe extends Ep{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class pTe extends Ep{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return ap.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=vb,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r)){const u=l&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class vJ extends Ep{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(ap.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=vb,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const u=o===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const h=u&&d.id===r;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class mTe extends gJ{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class gTe extends Ep{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");ap.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=vb;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const h of i.options)h.selected=h.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,r.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),s=!1),i.append(d)}let o=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),o=()=>{u.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=u=>{const d=u?"value":"textContent",{options:h,multiple:p}=i;return p?Array.prototype.filter.call(h,g=>g.selected).map(g=>g[d]):h.selectedIndex===-1?null:h[h.selectedIndex][d]};let l=a(!1);const c=u=>{const d=u.target.options;return Array.prototype.map.call(d,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const d={value(h){o==null||o();const p=h.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const v of i.options)v.selected=g.has(v.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(h){i.multiple=!0},remove(h){const p=i.options,g=h.detail.remove;p[g].selected=!1,i.remove(g),p.length>0&&Array.prototype.findIndex.call(p,v=>v.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:c(h)}),l=a(!1)},clear(h){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(h){const{index:p,displayValue:g,exportValue:v}=h.detail.insert,y=i.children[p],x=document.createElement("option");x.textContent=g,x.value=v,y?y.before(x):i.append(x),e.setValue(t,{value:a(!0),items:c(h)}),l=a(!1)},items(h){const{items:p}=h.detail;for(;i.length!==0;)i.remove(0);for(const g of p){const{displayValue:v,exportValue:y}=g,x=document.createElement("option");x.textContent=v,x.value=y,i.append(x)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(h)}),l=a(!1)},indices(h){const p=new Set(h.detail.indices);for(const g of h.target.options)g.selected=p.has(g.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(d,u)}),i.addEventListener("input",u=>{var d;const h=a(!0),p=a(!1);e.setValue(t,{value:h}),u.preventDefault(),(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:p,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class IN extends Ur{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:Ur._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new vTe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${vZ}${r}`).join(",")),this.container}}var ax,ON,DN,lx,tg,ur,Bu,ng,E2,M2,cx,Au,il,Yu,C2,Ku,rC,kh,rg,ux,iC,sC,jk,NN,Fj,FN,yJ,zN,xJ,BN,zj,dx,A2,hx,T2,P2,$N;class vTe{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:c,parentRect:u,open:d}){W(this,ux),W(this,sC),W(this,NN),W(this,FN),W(this,zN),W(this,BN),W(this,dx),W(this,hx),W(this,P2),W(this,ax,Q(this,zN,xJ).bind(this)),W(this,ON,Q(this,P2,$N).bind(this)),W(this,DN,Q(this,hx,T2).bind(this)),W(this,lx,Q(this,dx,A2).bind(this)),W(this,tg,null),W(this,ur,null),W(this,Bu,null),W(this,ng,null),W(this,E2,null),W(this,M2,null),W(this,cx,null),W(this,Au,!1),W(this,il,null),W(this,Yu,null),W(this,C2,null),W(this,Ku,null),W(this,rC,null),W(this,kh,null),W(this,rg,!1);var h;Z(this,ur,e),Z(this,rC,i),Z(this,Bu,o),Z(this,Ku,a),Z(this,M2,l),Z(this,tg,t),Z(this,C2,c),Z(this,cx,u),Z(this,E2,r),Z(this,ng,_Z.toDateObject(s)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",S(this,lx)),p.addEventListener("mouseenter",S(this,DN)),p.addEventListener("mouseleave",S(this,ON)),p.classList.add("popupTriggerArea");for(const p of r)(h=p.container)==null||h.addEventListener("keydown",S(this,ax));S(this,ur).hidden=!0,d&&Q(this,dx,A2).call(this)}render(){if(S(this,il))return;const e=Z(this,il,document.createElement("div"));if(e.className="popup",S(this,tg)){const s=e.style.outlineColor=vt.makeHexColor(...S(this,tg));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=vt.makeHexColor(...S(this,tg).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=S(this,rC),e.append(t),S(this,ng)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:S(this,ng).toLocaleDateString(),time:S(this,ng).toLocaleTimeString()})),t.append(s)}const i=S(this,ux,iC);if(i)hJ.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(S(this,Bu));e.append(s)}S(this,ur).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;S(this,kh)||Z(this,kh,{contentsObj:S(this,Bu),richText:S(this,Ku)}),e&&Z(this,Yu,null),t&&(Z(this,Ku,Q(this,FN,yJ).call(this,t)),Z(this,Bu,null)),(r=S(this,il))==null||r.remove(),Z(this,il,null)}resetEdited(){var e;S(this,kh)&&({contentsObj:na(this,Bu)._,richText:na(this,Ku)._}=S(this,kh),Z(this,kh,null),(e=S(this,il))==null||e.remove(),Z(this,il,null),Z(this,Yu,null))}forceHide(){Z(this,rg,this.isVisible),S(this,rg)&&(S(this,ur).hidden=!0)}maybeShow(){S(this,rg)&&(S(this,il)||Q(this,hx,T2).call(this),Z(this,rg,!1),S(this,ur).hidden=!1)}get isVisible(){return S(this,ur).hidden===!1}}ax=new WeakMap,ON=new WeakMap,DN=new WeakMap,lx=new WeakMap,tg=new WeakMap,ur=new WeakMap,Bu=new WeakMap,ng=new WeakMap,E2=new WeakMap,M2=new WeakMap,cx=new WeakMap,Au=new WeakMap,il=new WeakMap,Yu=new WeakMap,C2=new WeakMap,Ku=new WeakMap,rC=new WeakMap,kh=new WeakMap,rg=new WeakMap,ux=new WeakSet,iC=function(){const n=S(this,Ku),e=S(this,Bu);return n!=null&&n.str&&(!(e!=null&&e.str)||e.str===n.str)&&S(this,Ku).html||null},sC=new WeakSet,jk=function(){var n,e,t;return((t=(e=(n=S(this,ux,iC))==null?void 0:n.attributes)==null?void 0:e.style)==null?void 0:t.fontSize)||0},NN=new WeakSet,Fj=function(){var n,e,t;return((t=(e=(n=S(this,ux,iC))==null?void 0:n.attributes)==null?void 0:e.style)==null?void 0:t.color)||null},FN=new WeakSet,yJ=function(n){const e=[],t={str:n,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:S(this,NN,Fj),fontSize:S(this,sC,jk)?`calc(${S(this,sC,jk)}px * var(--scale-factor))`:""}};for(const i of n.split(`
`))e.push({name:"span",value:i,attributes:r});return t},zN=new WeakSet,xJ=function(n){n.altKey||n.shiftKey||n.ctrlKey||n.metaKey||(n.key==="Enter"||n.key==="Escape"&&S(this,Au))&&Q(this,dx,A2).call(this)},BN=new WeakSet,zj=function(){if(S(this,Yu)!==null)return;const{page:{view:n},viewport:{rawDims:{pageWidth:e,pageHeight:t,pageX:r,pageY:i}}}=S(this,M2);let s=!!S(this,cx),o=s?S(this,cx):S(this,C2);for(const h of S(this,E2))if(!o||vt.intersect(h.data.rect,o)!==null){o=h.data.rect,s=!0;break}const a=vt.normalizeRect([o[0],n[3]-o[1]+n[1],o[2],n[3]-o[3]+n[1]]),l=s?o[2]-o[0]+5:0,c=a[0]+l,u=a[1];Z(this,Yu,[100*(c-r)/e,100*(u-i)/t]);const{style:d}=S(this,ur);d.left=`${S(this,Yu)[0]}%`,d.top=`${S(this,Yu)[1]}%`},dx=new WeakSet,A2=function(){Z(this,Au,!S(this,Au)),S(this,Au)?(Q(this,hx,T2).call(this),S(this,ur).addEventListener("click",S(this,lx)),S(this,ur).addEventListener("keydown",S(this,ax))):(Q(this,P2,$N).call(this),S(this,ur).removeEventListener("click",S(this,lx)),S(this,ur).removeEventListener("keydown",S(this,ax)))},hx=new WeakSet,T2=function(){S(this,il)||this.render(),this.isVisible?S(this,Au)&&S(this,ur).classList.add("focused"):(Q(this,BN,zj).call(this),S(this,ur).hidden=!1,S(this,ur).style.zIndex=parseInt(S(this,ur).style.zIndex)+1e3)},P2=new WeakSet,$N=function(){S(this,ur).classList.remove("focused"),!(S(this,Au)||!this.isVisible)&&(S(this,ur).hidden=!0,S(this,ur).style.zIndex=parseInt(S(this,ur).style.zIndex)-1e3)};class wJ extends Ur{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ln.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var oC;class yTe extends Ur{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),W(this,oC,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:r}=Bc(e.rect),i=this.svgFactory.create(t,r,!0),s=Z(this,oC,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return S(this,oC)}addHighlightArea(){this.container.classList.add("highlightArea")}}oC=new WeakMap;var aC;class xTe extends Ur{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),W(this,aC,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:r}=Bc(e.rect),i=this.svgFactory.create(t,r,!0),s=e.borderStyle.width,o=Z(this,aC,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",t-s),o.setAttribute("height",r-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return S(this,aC)}addHighlightArea(){this.container.classList.add("highlightArea")}}aC=new WeakMap;var lC;class wTe extends Ur{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),W(this,lC,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:r}=Bc(e.rect),i=this.svgFactory.create(t,r,!0),s=e.borderStyle.width,o=Z(this,lC,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",t/2),o.setAttribute("cy",r/2),o.setAttribute("rx",t/2-s/2),o.setAttribute("ry",r/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return S(this,lC)}addHighlightArea(){this.container.classList.add("highlightArea")}}lC=new WeakMap;var cC;class bJ extends Ur{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),W(this,cC,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const e=this.data,{width:t,height:r}=Bc(e.rect),i=this.svgFactory.create(t,r,!0);let s=[];for(const a of e.vertices){const l=a.x-e.rect[0],c=e.rect[3]-a.y;s.push(l+","+c)}s=s.join(" ");const o=Z(this,cC,this.svgFactory.createElement(this.svgElementName));return o.setAttribute("points",s),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return S(this,cC)}addHighlightArea(){this.container.classList.add("highlightArea")}}cC=new WeakMap;class bTe extends bJ{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class _Te extends Ur{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var uC;class _J extends Ur{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),W(this,uC,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=ln.INK}render(){this.container.classList.add(this.containerClassName);const e=this.data,{width:t,height:r}=Bc(e.rect),i=this.svgFactory.create(t,r,!0);for(const s of e.inkLists){let o=[];for(const l of s){const c=l.x-e.rect[0],u=e.rect[3]-l.y;o.push(`${c},${u}`)}o=o.join(" ");const a=this.svgFactory.createElement(this.svgElementName);S(this,uC).push(a),a.setAttribute("points",o),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),!e.popupRef&&this.hasPopupData&&this._createPopup(),i.append(a)}return this.container.append(i),this.container}getElementsToTriggerPopup(){return S(this,uC)}addHighlightArea(){this.container.classList.add("highlightArea")}}uC=new WeakMap;class STe extends Ur{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class ETe extends Ur{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class MTe extends Ur{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class CTe extends Ur{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class SJ extends Ur{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var dC,hC,UN;class ATe extends Ur{constructor(e){var t;super(e,{isRenderable:!0}),W(this,hC),W(this,dC,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(t=this.linkService.eventBus)==null||t.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let r;t.hasAppearance||t.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),r.addEventListener("dblclick",Q(this,hC,UN).bind(this)),Z(this,dC,r);const{isMac:i}=zs.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(i?s.metaKey:s.ctrlKey)&&Q(this,hC,UN).call(this)}),!t.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return S(this,dC)}addHighlightArea(){this.container.classList.add("highlightArea")}}dC=new WeakMap,hC=new WeakSet,UN=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var PS,fm,gy,Vk,Bj,RS,Gk,$j;let TTe=($j=class{constructor({div:n,accessibilityManager:e,annotationCanvasMap:t,annotationEditorUIManager:r,page:i,viewport:s}){W(this,Vk),W(this,RS),W(this,PS,null),W(this,fm,null),W(this,gy,new Map),this.div=n,Z(this,PS,e),Z(this,fm,t),this.page=i,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=r}async render(n){var e;const{annotations:t}=n,r=this.div;op(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:n.linkService,downloadManager:n.downloadManager,imageResourcesPath:n.imageResourcesPath||"",renderForms:n.renderForms!==!1,svgFactory:new nB,annotationStorage:n.annotationStorage||new aB,enableScripting:n.enableScripting===!0,hasJSActions:n.hasJSActions,fieldObjects:n.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const a=o.annotationType===Or.POPUP;if(a){const u=i.get(o.id);if(!u)continue;s.elements=u}else{const{width:u,height:d}=Bc(o.rect);if(u<=0||d<=0)continue}s.data=o;const l=cTe.create(s);if(!l.isRenderable)continue;if(!a&&o.popupRef){const u=i.get(o.popupRef);u?u.push(l):i.set(o.popupRef,[l])}const c=l.render();o.hidden&&(c.style.visibility="hidden"),Q(this,Vk,Bj).call(this,c,o.id),l.annotationEditorType>0&&(S(this,gy).set(l.data.id,l),(e=this._annotationEditorUIManager)==null||e.renderAnnotationElement(l))}Q(this,RS,Gk).call(this)}update({viewport:n}){const e=this.div;this.viewport=n,op(e,{rotation:n.rotation}),Q(this,RS,Gk).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(S(this,gy).values())}getEditableAnnotation(n){return S(this,gy).get(n)}},PS=new WeakMap,fm=new WeakMap,gy=new WeakMap,Vk=new WeakSet,Bj=function(n,e){var t;const r=n.firstChild||n;r.id=`${vZ}${e}`,this.div.append(n),(t=S(this,PS))==null||t.moveElementInDOM(this.div,n,r,!1)},RS=new WeakSet,Gk=function(){if(!S(this,fm))return;const n=this.div;for(const[e,t]of S(this,fm)){const r=n.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;t.className="annotationContent";const{firstChild:i}=r;i?i.nodeName==="CANVAS"?i.replaceWith(t):i.classList.contains("annotationContent")?i.after(t):i.before(t):r.append(t)}S(this,fm).clear()},$j);const fC=/\r\n?|\n/g;var pC,mC,gC,vC,yC,hl,Go,xC,qo,fx,WN,EJ,HN,MJ,jN,CJ,px,R2,mx,L2,p1,wC,VN,AJ,k2,GN,qN,TJ;const Ja=class fi extends On{constructor(e){super({...e,name:"freeTextEditor"}),W(this,WN),W(this,HN),W(this,jN),W(this,px),W(this,p1),W(this,VN),W(this,qN),W(this,pC,this.editorDivBlur.bind(this)),W(this,mC,this.editorDivFocus.bind(this)),W(this,gC,this.editorDivInput.bind(this)),W(this,vC,this.editorDivKeydown.bind(this)),W(this,yC,this.editorDivPaste.bind(this)),W(this,hl,void 0),W(this,Go,""),W(this,xC,`${this.id}-editor`),W(this,qo,void 0),W(this,fx,null),Z(this,hl,e.color||fi._defaultColor||On._defaultLineColor),Z(this,qo,e.fontSize||fi._defaultFontSize)}static get _keyboardManager(){const e=fi.prototype,t=s=>s.isEmpty(),r=_w.TRANSLATE_SMALL,i=_w.TRANSLATE_BIG;return un(this,"_keyboardManager",new mb([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}static initialize(e,t){On.initialize(e,t,{strings:["pdfjs-free-text-default-content"]});const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Dt.FREETEXT_SIZE:fi._defaultFontSize=t;break;case Dt.FREETEXT_COLOR:fi._defaultColor=t;break}}updateParams(e,t){switch(e){case Dt.FREETEXT_SIZE:Q(this,WN,EJ).call(this,t);break;case Dt.FREETEXT_COLOR:Q(this,HN,MJ).call(this,t);break}}static get defaultPropertiesToUpdate(){return[[Dt.FREETEXT_SIZE,fi._defaultFontSize],[Dt.FREETEXT_COLOR,fi._defaultColor||On._defaultLineColor]]}get propertiesToUpdate(){return[[Dt.FREETEXT_SIZE,S(this,qo)],[Dt.FREETEXT_COLOR,S(this,hl)]]}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-fi._internalPadding*e,-(fi._internalPadding+S(this,qo))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(ln.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",S(this,vC)),this.editorDiv.addEventListener("focus",S(this,mC)),this.editorDiv.addEventListener("blur",S(this,pC)),this.editorDiv.addEventListener("input",S(this,gC)),this.editorDiv.addEventListener("paste",S(this,yC)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",S(this,xC)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",S(this,vC)),this.editorDiv.removeEventListener("focus",S(this,mC)),this.editorDiv.removeEventListener("blur",S(this,pC)),this.editorDiv.removeEventListener("input",S(this,gC)),this.editorDiv.removeEventListener("paste",S(this,yC)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=S(this,Go),t=Z(this,Go,Q(this,jN,CJ).call(this).trimEnd());if(e===t)return;const r=i=>{if(Z(this,Go,i),!i){this.remove();return}Q(this,p1,wC).call(this),this._uiManager.rebuild(this),Q(this,px,R2).call(this)};this.addCommands({cmd:()=>{r(t)},undo:()=>{r(e)},mustExec:!1}),Q(this,px,R2).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){fi._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",S(this,xC)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),On._l10nPromise.get("pdfjs-free-text-default-content").then(i=>{var s;return(s=this.editorDiv)==null?void 0:s.setAttribute("default-content",i)}),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${S(this,qo)}px * var(--scale-factor))`,r.color=S(this,hl),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),l2(this,this.div,["dblclick","keydown"]),this.width){const[i,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=S(this,fx);let[a,l]=this.getInitialTranslation();[a,l]=this.pageTranslationToScreen(a,l);const[c,u]=this.pageDimensions,[d,h]=this.pageTranslation;let p,g;switch(this.rotation){case 0:p=e+(o[0]-d)/c,g=t+this.height-(o[1]-h)/u;break;case 90:p=e+(o[0]-d)/c,g=t-(o[1]-h)/u,[a,l]=[l,-a];break;case 180:p=e-this.width+(o[0]-d)/c,g=t-(o[1]-h)/u,[a,l]=[-a,-l];break;case 270:p=e+(o[0]-d-this.height*u)/c,g=t+(o[1]-h-this.width*c)/u,[a,l]=[-l,a];break}this.setAt(p*i,g*s,a,l)}else this.setAt(e*i,t*s,this.width*i,this.height*s);Q(this,p1,wC).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var t,r,i;const s=e.clipboardData||window.clipboardData,{types:o}=s;if(o.length===1&&o[0]==="text/plain")return;e.preventDefault();const a=Q(t=fi,k2,GN).call(t,s.getData("text")||"").replaceAll(fC,`
`);if(!a)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const c=l.getRangeAt(0);if(!a.includes(`
`)){c.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:u,startOffset:d}=c,h=[],p=[];if(u.nodeType===Node.TEXT_NODE){const y=u.parentElement;if(p.push(u.nodeValue.slice(d).replaceAll(fC,"")),y!==this.editorDiv){let x=h;for(const w of this.editorDiv.childNodes){if(w===y){x=p;continue}x.push(Q(r=fi,mx,L2).call(r,w))}}h.push(u.nodeValue.slice(0,d).replaceAll(fC,""))}else if(u===this.editorDiv){let y=h,x=0;for(const w of this.editorDiv.childNodes)x++===d&&(y=p),y.push(Q(i=fi,mx,L2).call(i,w))}Z(this,Go,`${h.join(`
`)}${a}${p.join(`
`)}`),Q(this,p1,wC).call(this);const g=new Range;let v=h.reduce((y,x)=>y+x.length,0);for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const x=y.nodeValue.length;if(v<=x){g.setStart(y,v),g.setEnd(y,v);break}v-=x}l.removeAllRanges(),l.addRange(g)}get contentDiv(){return this.editorDiv}static deserialize(e,t,r){var i;let s=null;if(e instanceof wJ){const{data:{defaultAppearanceData:{fontSize:a,fontColor:l},rect:c,rotation:u,id:d},textContent:h,textPosition:p,parent:{page:{pageNumber:g}}}=e;if(!h||h.length===0)return null;s=e={annotationType:ln.FREETEXT,color:Array.from(l),fontSize:a,value:h.join(`
`),position:p,pageIndex:g-1,rect:c.slice(0),rotation:u,id:d,deleted:!1}}const o=super.deserialize(e,t,r);return Z(o,qo,e.fontSize),Z(o,hl,vt.makeHexColor(...e.color)),Z(o,Go,Q(i=fi,k2,GN).call(i,e.value)),o.annotationElementId=e.id||null,Z(o,fx,s),o}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const t=fi._internalPadding*this.parentScale,r=this.getRect(t,t),i=On._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:S(this,hl)),s={annotationType:ln.FREETEXT,color:i,fontSize:S(this,qo),value:Q(this,VN,AJ).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?s:this.annotationElementId&&!Q(this,qN,TJ).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:r}=t;r.fontSize=`calc(${S(this,qo)}px * var(--scale-factor))`,r.color=S(this,hl),t.replaceChildren();for(const s of S(this,Go).split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),t.append(o)}const i=fi._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(i,i),popupContent:S(this,Go)}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};pC=new WeakMap,mC=new WeakMap,gC=new WeakMap,vC=new WeakMap,yC=new WeakMap,hl=new WeakMap,Go=new WeakMap,xC=new WeakMap,qo=new WeakMap,fx=new WeakMap,WN=new WeakSet,EJ=function(n){const e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-S(this,qo))*this.parentScale),Z(this,qo,r),Q(this,px,R2).call(this)},t=S(this,qo);this.addCommands({cmd:e.bind(this,n),undo:e.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},HN=new WeakSet,MJ=function(n){const e=r=>{Z(this,hl,this.editorDiv.style.color=r)},t=S(this,hl);this.addCommands({cmd:e.bind(this,n),undo:e.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},jN=new WeakSet,CJ=function(){var n;const e=[];this.editorDiv.normalize();for(const t of this.editorDiv.childNodes)e.push(Q(n=Ja,mx,L2).call(n,t));return e.join(`
`)},px=new WeakSet,R2=function(){const[n,e]=this.parentDimensions;let t;if(this.isAttachedToDOM)t=this.div.getBoundingClientRect();else{const{currentLayer:r,div:i}=this,s=i.style.display,o=i.classList.contains("hidden");i.classList.remove("hidden"),i.style.display="hidden",r.div.append(this.div),t=i.getBoundingClientRect(),i.remove(),i.style.display=s,i.classList.toggle("hidden",o)}this.rotation%180===this.parentRotation%180?(this.width=t.width/n,this.height=t.height/e):(this.width=t.height/n,this.height=t.width/e),this.fixAndSetPosition()},mx=new WeakSet,L2=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(fC,"")},p1=new WeakSet,wC=function(){if(this.editorDiv.replaceChildren(),!!S(this,Go))for(const n of S(this,Go).split(`
`)){const e=document.createElement("div");e.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(e)}},VN=new WeakSet,AJ=function(){return S(this,Go).replaceAll(" "," ")},k2=new WeakSet,GN=function(n){return n.replaceAll(" "," ")},qN=new WeakSet,TJ=function(n){const{value:e,fontSize:t,color:r,pageIndex:i}=S(this,fx);return this._hasBeenMoved||n.value!==e||n.fontSize!==t||n.color.some((s,o)=>s!==r[o])||n.pageIndex!==i},W(Ja,mx),W(Ja,k2),Ut(Ja,"_freeTextDefaultContent",""),Ut(Ja,"_internalPadding",0),Ut(Ja,"_defaultColor",null),Ut(Ja,"_defaultFontSize",10),Ut(Ja,"_type","freetext"),Ut(Ja,"_editorType",ln.FREETEXT);let PTe=Ja;var I2,Ih,el,XN,PJ,m1,LS,YN,RJ,KN,LJ,bC,QN;class ZN{constructor(e,t=0,r=0,i=!0){W(this,XN),W(this,m1),W(this,YN),W(this,KN),W(this,bC),W(this,I2,void 0),W(this,Ih,[]),W(this,el,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const c=10**-4;for(const{x:y,y:x,width:w,height:b}of e){const _=Math.floor((y-t)/c)*c,C=Math.ceil((y+w+t)/c)*c,A=Math.floor((x-t)/c)*c,P=Math.ceil((x+b+t)/c)*c,M=[_,A,P,!0],L=[C,A,P,!1];S(this,Ih).push(M,L),s=Math.min(s,_),o=Math.max(o,C),a=Math.min(a,A),l=Math.max(l,P)}const u=o-s+2*r,d=l-a+2*r,h=s-r,p=a-r,g=S(this,Ih).at(i?-1:-2),v=[g[0],g[2]];for(const y of S(this,Ih)){const[x,w,b]=y;y[0]=(x-h)/u,y[1]=(w-p)/d,y[2]=(b-p)/d}Z(this,I2,{x:h,y:p,width:u,height:d,lastPoint:v})}getOutlines(){S(this,Ih).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of S(this,Ih))t[3]?(e.push(...Q(this,bC,QN).call(this,t)),Q(this,YN,RJ).call(this,t)):(Q(this,KN,LJ).call(this,t),e.push(...Q(this,bC,QN).call(this,t)));return Q(this,XN,PJ).call(this,e)}}I2=new WeakMap,Ih=new WeakMap,el=new WeakMap,XN=new WeakSet,PJ=function(n){const e=[],t=new Set;for(const s of n){const[o,a,l]=s;e.push([o,a,s],[o,l,s])}e.sort((s,o)=>s[1]-o[1]||s[0]-o[0]);for(let s=0,o=e.length;s<o;s+=2){const a=e[s][2],l=e[s+1][2];a.push(l),l.push(a),t.add(a),t.add(l)}const r=[];let i;for(;t.size>0;){const s=t.values().next().value;let[o,a,l,c,u]=s;t.delete(s);let d=o,h=a;for(i=[o,l],r.push(i);;){let p;if(t.has(c))p=c;else if(t.has(u))p=u;else break;t.delete(p),[o,a,l,c,u]=p,d!==o&&(i.push(d,h,o,h===a?a:l),d=o),h=h===a?l:a}i.push(d,h)}return new RTe(r,S(this,I2))},m1=new WeakSet,LS=function(n){const e=S(this,el);let t=0,r=e.length-1;for(;t<=r;){const i=t+r>>1,s=e[i][0];if(s===n)return i;s<n?t=i+1:r=i-1}return r+1},YN=new WeakSet,RJ=function([,n,e]){const t=Q(this,m1,LS).call(this,n);S(this,el).splice(t,0,[n,e])},KN=new WeakSet,LJ=function([,n,e]){const t=Q(this,m1,LS).call(this,n);for(let r=t;r<S(this,el).length;r++){const[i,s]=S(this,el)[r];if(i!==n)break;if(i===n&&s===e){S(this,el).splice(r,1);return}}for(let r=t-1;r>=0;r--){const[i,s]=S(this,el)[r];if(i!==n)break;if(i===n&&s===e){S(this,el).splice(r,1);return}}},bC=new WeakSet,QN=function(n){const[e,t,r]=n,i=[[e,t,r]],s=Q(this,m1,LS).call(this,r);for(let o=0;o<s;o++){const[a,l]=S(this,el)[o];for(let c=0,u=i.length;c<u;c++){const[,d,h]=i[c];if(!(l<=d||h<=a)){if(d>=a){if(h>l)i[c][1]=l;else{if(u===1)return[];i.splice(c,1),c--,u--}continue}i[c][2]=a,h>l&&i.push([e,l,h])}}}return i};class kJ{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof rF}}var _C,g1;class RTe extends kJ{constructor(e,t){super(),W(this,_C,void 0),W(this,g1,void 0),Z(this,g1,e),Z(this,_C,t)}toSVGPath(){const e=[];for(const t of S(this,g1)){let[r,i]=t;e.push(`M${r} ${i}`);for(let s=2;s<t.length;s+=2){const o=t[s],a=t[s+1];o===r?(e.push(`V${a}`),i=a):a===i&&(e.push(`H${o}`),r=o)}e.push("Z")}return e.join(" ")}serialize([e,t,r,i],s){const o=[],a=r-e,l=i-t;for(const c of S(this,g1)){const u=new Array(c.length);for(let d=0;d<c.length;d+=2)u[d]=e+c[d]*a,u[d+1]=i-c[d+1]*l;o.push(u)}return o}get box(){return S(this,_C)}}_C=new WeakMap,g1=new WeakMap;var ac,Tu,v1,y1,nc,an,hv,fv,SC,EC,x1,w1,Oh,MC,qk,JN,CC,eF;const ig=class tF{constructor({x:e,y:t},r,i,s,o,a=0){W(this,CC),W(this,ac,void 0),W(this,Tu,[]),W(this,v1,void 0),W(this,y1,void 0),W(this,nc,[]),W(this,an,new Float64Array(18)),W(this,hv,void 0),W(this,fv,void 0),W(this,SC,void 0),W(this,EC,void 0),W(this,x1,void 0),W(this,w1,void 0),W(this,Oh,[]),Z(this,ac,r),Z(this,w1,s*i),Z(this,y1,o),S(this,an).set([NaN,NaN,NaN,NaN,e,t],6),Z(this,v1,a),Z(this,EC,S(tF,MC)*i),Z(this,SC,S(tF,JN)*i),Z(this,x1,i),S(this,Oh).push(e,t)}get free(){return!0}isEmpty(){return isNaN(S(this,an)[8])}add({x:e,y:t}){var r;Z(this,hv,e),Z(this,fv,t);const[i,s,o,a]=S(this,ac);let[l,c,u,d]=S(this,an).subarray(8,12);const h=e-u,p=t-d,g=Math.hypot(h,p);if(g<S(this,SC))return!1;const v=g-S(this,EC),y=v/g,x=y*h,w=y*p;let b=l,_=c;l=u,c=d,u+=x,d+=w,(r=S(this,Oh))==null||r.push(e,t);const C=-w/v,A=x/v,P=C*S(this,w1),M=A*S(this,w1);return S(this,an).set(S(this,an).subarray(2,8),0),S(this,an).set([u+P,d+M],4),S(this,an).set(S(this,an).subarray(14,18),12),S(this,an).set([u-P,d-M],16),isNaN(S(this,an)[6])?(S(this,nc).length===0&&(S(this,an).set([l+P,c+M],2),S(this,nc).push(NaN,NaN,NaN,NaN,(l+P-i)/o,(c+M-s)/a),S(this,an).set([l-P,c-M],14),S(this,Tu).push(NaN,NaN,NaN,NaN,(l-P-i)/o,(c-M-s)/a)),S(this,an).set([b,_,l,c,u,d],6),!this.isEmpty()):(S(this,an).set([b,_,l,c,u,d],6),Math.abs(Math.atan2(_-c,b-l)-Math.atan2(w,x))<Math.PI/2?([l,c,u,d]=S(this,an).subarray(2,6),S(this,nc).push(NaN,NaN,NaN,NaN,((l+u)/2-i)/o,((c+d)/2-s)/a),[l,c,b,_]=S(this,an).subarray(14,18),S(this,Tu).push(NaN,NaN,NaN,NaN,((b+l)/2-i)/o,((_+c)/2-s)/a),!0):([b,_,l,c,u,d]=S(this,an).subarray(0,6),S(this,nc).push(((b+5*l)/6-i)/o,((_+5*c)/6-s)/a,((5*l+u)/6-i)/o,((5*c+d)/6-s)/a,((l+u)/2-i)/o,((c+d)/2-s)/a),[u,d,l,c,b,_]=S(this,an).subarray(12,18),S(this,Tu).push(((b+5*l)/6-i)/o,((_+5*c)/6-s)/a,((5*l+u)/6-i)/o,((5*c+d)/6-s)/a,((l+u)/2-i)/o,((c+d)/2-s)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=S(this,nc),t=S(this,Tu),r=S(this,an).subarray(4,6),i=S(this,an).subarray(16,18),[s,o,a,l]=S(this,ac),[c,u,d,h]=Q(this,CC,eF).call(this);if(isNaN(S(this,an)[6])&&!this.isEmpty())return`M${(S(this,an)[2]-s)/a} ${(S(this,an)[3]-o)/l} L${(S(this,an)[4]-s)/a} ${(S(this,an)[5]-o)/l} L${c} ${u} L${d} ${h} L${(S(this,an)[16]-s)/a} ${(S(this,an)[17]-o)/l} L${(S(this,an)[14]-s)/a} ${(S(this,an)[15]-o)/l} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let g=6;g<e.length;g+=6)isNaN(e[g])?p.push(`L${e[g+4]} ${e[g+5]}`):p.push(`C${e[g]} ${e[g+1]} ${e[g+2]} ${e[g+3]} ${e[g+4]} ${e[g+5]}`);p.push(`L${(r[0]-s)/a} ${(r[1]-o)/l} L${c} ${u} L${d} ${h} L${(i[0]-s)/a} ${(i[1]-o)/l}`);for(let g=t.length-6;g>=6;g-=6)isNaN(t[g])?p.push(`L${t[g+4]} ${t[g+5]}`):p.push(`C${t[g]} ${t[g+1]} ${t[g+2]} ${t[g+3]} ${t[g+4]} ${t[g+5]}`);return p.push(`L${t[4]} ${t[5]} Z`),p.join(" ")}getOutlines(){var e;const t=S(this,nc),r=S(this,Tu),i=S(this,an),s=i.subarray(4,6),o=i.subarray(16,18),[a,l,c,u]=S(this,ac),d=new Float64Array((((e=S(this,Oh))==null?void 0:e.length)??0)+2);for(let w=0,b=d.length-2;w<b;w+=2)d[w]=(S(this,Oh)[w]-a)/c,d[w+1]=(S(this,Oh)[w+1]-l)/u;d[d.length-2]=(S(this,hv)-a)/c,d[d.length-1]=(S(this,fv)-l)/u;const[h,p,g,v]=Q(this,CC,eF).call(this);if(isNaN(i[6])&&!this.isEmpty()){const w=new Float64Array(36);return w.set([NaN,NaN,NaN,NaN,(i[2]-a)/c,(i[3]-l)/u,NaN,NaN,NaN,NaN,(i[4]-a)/c,(i[5]-l)/u,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,g,v,NaN,NaN,NaN,NaN,(i[16]-a)/c,(i[17]-l)/u,NaN,NaN,NaN,NaN,(i[14]-a)/c,(i[15]-l)/u],0),new rF(w,d,S(this,ac),S(this,x1),S(this,v1),S(this,y1))}const y=new Float64Array(S(this,nc).length+24+S(this,Tu).length);let x=t.length;for(let w=0;w<x;w+=2){if(isNaN(t[w])){y[w]=y[w+1]=NaN;continue}y[w]=t[w],y[w+1]=t[w+1]}y.set([NaN,NaN,NaN,NaN,(s[0]-a)/c,(s[1]-l)/u,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,g,v,NaN,NaN,NaN,NaN,(o[0]-a)/c,(o[1]-l)/u],x),x+=24;for(let w=r.length-6;w>=6;w-=6)for(let b=0;b<6;b+=2){if(isNaN(r[w+b])){y[x]=y[x+1]=NaN,x+=2;continue}y[x]=r[w+b],y[x+1]=r[w+b+1],x+=2}return y.set([NaN,NaN,NaN,NaN,r[4],r[5]],x),new rF(y,d,S(this,ac),S(this,x1),S(this,v1),S(this,y1))}};ac=new WeakMap,Tu=new WeakMap,v1=new WeakMap,y1=new WeakMap,nc=new WeakMap,an=new WeakMap,hv=new WeakMap,fv=new WeakMap,SC=new WeakMap,EC=new WeakMap,x1=new WeakMap,w1=new WeakMap,Oh=new WeakMap,MC=new WeakMap,qk=new WeakMap,JN=new WeakMap,CC=new WeakSet,eF=function(){const n=S(this,an).subarray(4,6),e=S(this,an).subarray(16,18),[t,r,i,s]=S(this,ac);return[(S(this,hv)+(n[0]-e[0])/2-t)/i,(S(this,fv)+(n[1]-e[1])/2-r)/s,(S(this,hv)+(e[0]-n[0])/2-t)/i,(S(this,fv)+(e[1]-n[1])/2-r)/s]},W(ig,MC,8),W(ig,qk,2),W(ig,JN,S(ig,MC)+S(ig,qk));let IJ=ig;var b1,Hg,Qu,AC,Uo,TC,_r,sg,_1,og,S1,nF,OJ;class rF extends kJ{constructor(e,t,r,i,s,o){super(),W(this,sg),W(this,og),W(this,nF),W(this,b1,void 0),W(this,Hg,null),W(this,Qu,void 0),W(this,AC,void 0),W(this,Uo,void 0),W(this,TC,void 0),W(this,_r,void 0),Z(this,_r,e),Z(this,Uo,t),Z(this,b1,r),Z(this,TC,i),Z(this,Qu,s),Z(this,AC,o),Q(this,nF,OJ).call(this,o);const{x:a,y:l,width:c,height:u}=S(this,Hg);for(let d=0,h=e.length;d<h;d+=2)e[d]=(e[d]-a)/c,e[d+1]=(e[d+1]-l)/u;for(let d=0,h=t.length;d<h;d+=2)t[d]=(t[d]-a)/c,t[d+1]=(t[d+1]-l)/u}toSVGPath(){const e=[`M${S(this,_r)[4]} ${S(this,_r)[5]}`];for(let t=6,r=S(this,_r).length;t<r;t+=6){if(isNaN(S(this,_r)[t])){e.push(`L${S(this,_r)[t+4]} ${S(this,_r)[t+5]}`);continue}e.push(`C${S(this,_r)[t]} ${S(this,_r)[t+1]} ${S(this,_r)[t+2]} ${S(this,_r)[t+3]} ${S(this,_r)[t+4]} ${S(this,_r)[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,r,i],s){const o=r-e,a=i-t;let l,c;switch(s){case 0:l=Q(this,sg,_1).call(this,S(this,_r),e,i,o,-a),c=Q(this,sg,_1).call(this,S(this,Uo),e,i,o,-a);break;case 90:l=Q(this,og,S1).call(this,S(this,_r),e,t,o,a),c=Q(this,og,S1).call(this,S(this,Uo),e,t,o,a);break;case 180:l=Q(this,sg,_1).call(this,S(this,_r),r,t,-o,a),c=Q(this,sg,_1).call(this,S(this,Uo),r,t,-o,a);break;case 270:l=Q(this,og,S1).call(this,S(this,_r),r,i,-o,-a),c=Q(this,og,S1).call(this,S(this,Uo),r,i,-o,-a);break}return{outline:Array.from(l),points:[Array.from(c)]}}get box(){return S(this,Hg)}getNewOutline(e,t){const{x:r,y:i,width:s,height:o}=S(this,Hg),[a,l,c,u]=S(this,b1),d=s*c,h=o*u,p=r*c+a,g=i*u+l,v=new IJ({x:S(this,Uo)[0]*d+p,y:S(this,Uo)[1]*h+g},S(this,b1),S(this,TC),e,S(this,AC),t??S(this,Qu));for(let y=2;y<S(this,Uo).length;y+=2)v.add({x:S(this,Uo)[y]*d+p,y:S(this,Uo)[y+1]*h+g});return v.getOutlines()}}b1=new WeakMap,Hg=new WeakMap,Qu=new WeakMap,AC=new WeakMap,Uo=new WeakMap,TC=new WeakMap,_r=new WeakMap,sg=new WeakSet,_1=function(n,e,t,r,i){const s=new Float64Array(n.length);for(let o=0,a=n.length;o<a;o+=2)s[o]=e+n[o]*r,s[o+1]=t+n[o+1]*i;return s},og=new WeakSet,S1=function(n,e,t,r,i){const s=new Float64Array(n.length);for(let o=0,a=n.length;o<a;o+=2)s[o]=e+n[o+1]*r,s[o+1]=t+n[o]*i;return s},nF=new WeakSet,OJ=function(n){const e=S(this,_r);let t=e[4],r=e[5],i=t,s=r,o=t,a=r,l=t,c=r;const u=n?Math.max:Math.min;for(let v=6,y=e.length;v<y;v+=6){if(isNaN(e[v]))i=Math.min(i,e[v+4]),s=Math.min(s,e[v+5]),o=Math.max(o,e[v+4]),a=Math.max(a,e[v+5]),c<e[v+5]?(l=e[v+4],c=e[v+5]):c===e[v+5]&&(l=u(l,e[v+4]));else{const x=vt.bezierBoundingBox(t,r,...e.slice(v,v+6));i=Math.min(i,x[0]),s=Math.min(s,x[1]),o=Math.max(o,x[2]),a=Math.max(a,x[3]),c<x[3]?(l=x[2],c=x[3]):c===x[3]&&(l=u(l,x[2]))}t=e[v+4],r=e[v+5]}const d=i-S(this,Qu),h=s-S(this,Qu),p=o-i+2*S(this,Qu),g=a-s+2*S(this,Qu);Z(this,Hg,{x:d,y:h,width:p,height:g,lastPoint:[l,c]})};var O2,D2,sl,ag,gx,Jr,N2,E1,PC,F2,Qh,vx,z2,iF,B2,sF,oF,DJ,Pu,Dh,aF,NJ,lc,$u;const FJ=class Nh{constructor({editor:e=null,uiManager:t=null}){W(this,z2),W(this,B2),W(this,oF),W(this,Pu),W(this,aF),W(this,lc),W(this,O2,Q(this,oF,DJ).bind(this)),W(this,D2,Q(this,aF,NJ).bind(this)),W(this,sl,null),W(this,ag,null),W(this,gx,void 0),W(this,Jr,null),W(this,N2,!1),W(this,E1,!1),W(this,PC,null),W(this,F2,void 0),W(this,Qh,null),W(this,vx,void 0);var r;e?(Z(this,E1,!1),Z(this,vx,Dt.HIGHLIGHT_COLOR),Z(this,PC,e)):(Z(this,E1,!0),Z(this,vx,Dt.HIGHLIGHT_DEFAULT_COLOR)),Z(this,Qh,(e==null?void 0:e._uiManager)||t),Z(this,F2,S(this,Qh)._eventBus),Z(this,gx,(e==null?void 0:e.color)||((r=S(this,Qh))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return un(this,"_keyboardManager",new mb([[["Escape","mac+Escape"],Nh.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Nh.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Nh.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Nh.prototype._moveToPrevious],[["Home","mac+Home"],Nh.prototype._moveToBeginning],[["End","mac+End"],Nh.prototype._moveToEnd]]))}renderButton(){const e=Z(this,sl,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0),e.addEventListener("click",Q(this,Pu,Dh).bind(this)),e.addEventListener("keydown",S(this,O2));const t=Z(this,ag,document.createElement("span"));return t.className="swatch",t.setAttribute("aria-hidden",!0),t.style.backgroundColor=S(this,gx),e.append(t),e}renderMainDropdown(){const e=Z(this,Jr,Q(this,z2,iF).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===S(this,sl)){Q(this,Pu,Dh).call(this,e);return}const t=e.target.getAttribute("data-color");t&&Q(this,B2,sF).call(this,t,e)}_moveToNext(e){var t,r;if(!S(this,lc,$u)){Q(this,Pu,Dh).call(this,e);return}if(e.target===S(this,sl)){(t=S(this,Jr).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=S(this,Jr))==null?void 0:t.firstChild)||e.target===S(this,sl)){S(this,lc,$u)&&this._hideDropdownFromKeyboard();return}S(this,lc,$u)||Q(this,Pu,Dh).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!S(this,lc,$u)){Q(this,Pu,Dh).call(this,e);return}(t=S(this,Jr).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!S(this,lc,$u)){Q(this,Pu,Dh).call(this,e);return}(t=S(this,Jr).lastChild)==null||t.focus()}hideDropdown(){var e;(e=S(this,Jr))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",S(this,D2))}_hideDropdownFromKeyboard(){var e;if(!S(this,E1)){if(!S(this,lc,$u)){(e=S(this,PC))==null||e.unselect();return}this.hideDropdown(),S(this,sl).focus({preventScroll:!0,focusVisible:S(this,N2)})}}updateColor(e){if(S(this,ag)&&(S(this,ag).style.backgroundColor=e),!S(this,Jr))return;const t=S(this,Qh).highlightColors.values();for(const r of S(this,Jr).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=S(this,sl))==null||e.remove(),Z(this,sl,null),Z(this,ag,null),(t=S(this,Jr))==null||t.remove(),Z(this,Jr,null)}};O2=new WeakMap,D2=new WeakMap,sl=new WeakMap,ag=new WeakMap,gx=new WeakMap,Jr=new WeakMap,N2=new WeakMap,E1=new WeakMap,PC=new WeakMap,F2=new WeakMap,Qh=new WeakMap,vx=new WeakMap,z2=new WeakSet,iF=function(){const n=document.createElement("div");n.addEventListener("contextmenu",Ds),n.className="dropdown",n.role="listbox",n.setAttribute("aria-multiselectable",!1),n.setAttribute("aria-orientation","vertical"),n.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[e,t]of S(this,Qh).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",t),r.title=e,r.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${e}`);const i=document.createElement("span");r.append(i),i.className="swatch",i.style.backgroundColor=t,r.setAttribute("aria-selected",t===S(this,gx)),r.addEventListener("click",Q(this,B2,sF).bind(this,t)),n.append(r)}return n.addEventListener("keydown",S(this,O2)),n},B2=new WeakSet,sF=function(n,e){e.stopPropagation(),S(this,F2).dispatch("switchannotationeditorparams",{source:this,type:S(this,vx),value:n})},oF=new WeakSet,DJ=function(n){FJ._keyboardManager.exec(this,n)},Pu=new WeakSet,Dh=function(n){if(S(this,lc,$u)){this.hideDropdown();return}if(Z(this,N2,n.detail===0),window.addEventListener("pointerdown",S(this,D2)),S(this,Jr)){S(this,Jr).classList.remove("hidden");return}const e=Z(this,Jr,Q(this,z2,iF).call(this));S(this,sl).append(e)},aF=new WeakSet,NJ=function(n){var e;(e=S(this,Jr))!=null&&e.contains(n.target)||this.hideDropdown()},lc=new WeakSet,$u=function(){return S(this,Jr)&&!S(this,Jr).classList.contains("hidden")};let zJ=FJ;var yx,$2,pf,jg,xx,wa,U2,W2,pv,ol,bs,Xo,lF,wx,Vg,ei,M1,mc,RC,LC,cF,H2,uF,dF,BJ,hF,$J,fF,Uj,kC,pF,lg,C1,mf,mv,mF,UJ,A1,IC,Gg,bx,gF,WJ,vF,HJ,yF,jJ,xF,VJ;const Di=class Ni extends On{constructor(e){super({...e,name:"highlightEditor"}),W(this,LC),W(this,H2),W(this,dF),W(this,hF),W(this,fF),W(this,kC),W(this,lg),W(this,mF),W(this,A1),W(this,Gg),W(this,gF),W(this,vF),W(this,yx,null),W(this,$2,0),W(this,pf,void 0),W(this,jg,null),W(this,xx,null),W(this,wa,null),W(this,U2,null),W(this,W2,0),W(this,pv,null),W(this,ol,null),W(this,bs,null),W(this,Xo,!1),W(this,lF,Q(this,mF,UJ).bind(this)),W(this,wx,null),W(this,Vg,void 0),W(this,ei,null),W(this,M1,""),W(this,mc,void 0),W(this,RC,""),this.color=e.color||Ni._defaultColor,Z(this,mc,e.thickness||Ni._defaultThickness),Z(this,Vg,e.opacity||Ni._defaultOpacity),Z(this,pf,e.boxes||null),Z(this,RC,e.methodOfCreation||""),Z(this,M1,e.text||""),this._isDraggable=!1,e.highlightId>-1?(Z(this,Xo,!0),Q(this,H2,uF).call(this,e),Q(this,lg,C1).call(this)):(Z(this,yx,e.anchorNode),Z(this,$2,e.anchorOffset),Z(this,U2,e.focusNode),Z(this,W2,e.focusOffset),Q(this,LC,cF).call(this),Q(this,lg,C1).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Ni.prototype;return un(this,"_keyboardManager",new mb([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:S(this,Xo)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:S(this,mc),methodOfCreation:S(this,RC)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,t){var r;On.initialize(e,t),Ni._defaultColor||(Ni._defaultColor=((r=t.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,t){switch(e){case Dt.HIGHLIGHT_DEFAULT_COLOR:Ni._defaultColor=t;break;case Dt.HIGHLIGHT_THICKNESS:Ni._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return S(this,wx)}updateParams(e,t){switch(e){case Dt.HIGHLIGHT_COLOR:Q(this,dF,BJ).call(this,t);break;case Dt.HIGHLIGHT_THICKNESS:Q(this,hF,$J).call(this,t);break}}static get defaultPropertiesToUpdate(){return[[Dt.HIGHLIGHT_DEFAULT_COLOR,Ni._defaultColor],[Dt.HIGHLIGHT_THICKNESS,Ni._defaultThickness]]}get propertiesToUpdate(){return[[Dt.HIGHLIGHT_COLOR,this.color||Ni._defaultColor],[Dt.HIGHLIGHT_THICKNESS,S(this,mc)||Ni._defaultThickness],[Dt.HIGHLIGHT_FREE,S(this,Xo)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(Z(this,xx,new zJ({editor:this})),e.addColorPicker(S(this,xx))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Q(this,Gg,bx).call(this))}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,Q(this,Gg,bx).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){Q(this,kC,pF).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Q(this,lg,C1).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var t;let r=!1;this.parent&&!e?Q(this,kC,pF).call(this):e&&(Q(this,lg,C1).call(this,e),r=!this.parent&&((t=this.div)==null?void 0:t.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),r&&this.select()}rotate(e){var t,r,i;const{drawLayer:s}=this.parent;let o;S(this,Xo)?(e=(e-this.rotation+360)%360,o=Q(t=Ni,mf,mv).call(t,S(this,ol).box,e)):o=Q(r=Ni,mf,mv).call(r,this,e),s.rotate(S(this,bs),e),s.rotate(S(this,ei),e),s.updateBox(S(this,bs),o),s.updateBox(S(this,ei),Q(i=Ni,mf,mv).call(i,S(this,wa).box,e))}render(){if(this.div)return this.div;const e=super.render();S(this,M1)&&(e.setAttribute("aria-label",S(this,M1)),e.setAttribute("role","mark")),S(this,Xo)?e.classList.add("free"):this.div.addEventListener("keydown",S(this,lF));const t=Z(this,pv,document.createElement("div"));e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=S(this,jg);const[r,i]=this.parentDimensions;return this.setDims(this.width*r,this.height*i),l2(this,S(this,pv),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.parent.drawLayer.addClass(S(this,ei),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(S(this,ei),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:Q(this,A1,IC).call(this,!0);break;case 1:case 3:Q(this,A1,IC).call(this,!1);break}}select(){var e,t;super.select(),S(this,ei)&&((e=this.parent)==null||e.drawLayer.removeClass(S(this,ei),"hovered"),(t=this.parent)==null||t.drawLayer.addClass(S(this,ei),"selected"))}unselect(){var e;super.unselect(),S(this,ei)&&((e=this.parent)==null||e.drawLayer.removeClass(S(this,ei),"selected"),S(this,Xo)||Q(this,A1,IC).call(this,!1))}get _mustFixPosition(){return!S(this,Xo)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(S(this,bs),e),this.parent.drawLayer.show(S(this,ei),e))}static startHighlighting(e,t,{target:r,x:i,y:s}){const{x:o,y:a,width:l,height:c}=r.getBoundingClientRect(),u=g=>{Q(this,yF,jJ).call(this,e,g)},d={capture:!0,passive:!1},h=g=>{g.preventDefault(),g.stopPropagation()},p=g=>{r.removeEventListener("pointermove",u),window.removeEventListener("blur",p),window.removeEventListener("pointerup",p),window.removeEventListener("pointerdown",h,d),window.removeEventListener("contextmenu",Ds),Q(this,xF,VJ).call(this,e,g)};window.addEventListener("blur",p),window.addEventListener("pointerup",p),window.addEventListener("pointerdown",h,d),window.addEventListener("contextmenu",Ds),r.addEventListener("pointermove",u),this._freeHighlight=new IJ({x:i,y:s},[o,a,l,c],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(e,t,r){var i;const s=super.deserialize(e,t,r),{rect:[o,a,l,c],color:u,quadPoints:d}=e;s.color=vt.makeHexColor(...u),Z(s,Vg,e.opacity);const[h,p]=s.pageDimensions;s.width=(l-o)/h,s.height=(c-a)/p;const g=Z(s,pf,[]);for(let v=0;v<d.length;v+=8)g.push({x:(d[4]-l)/h,y:(c-(1-d[v+5]))/p,width:(d[v+2]-d[v])/h,height:(d[v+5]-d[v+1])/p});return Q(i=s,LC,cF).call(i),s}serialize(e=!1){if(this.isEmpty()||e)return null;const t=this.getRect(0,0),r=On._colorManager.convert(this.color);return{annotationType:ln.HIGHLIGHT,color:r,opacity:S(this,Vg),thickness:S(this,mc),quadPoints:Q(this,gF,WJ).call(this),outlines:Q(this,vF,HJ).call(this,t),pageIndex:this.pageIndex,rect:t,rotation:Q(this,Gg,bx).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};yx=new WeakMap,$2=new WeakMap,pf=new WeakMap,jg=new WeakMap,xx=new WeakMap,wa=new WeakMap,U2=new WeakMap,W2=new WeakMap,pv=new WeakMap,ol=new WeakMap,bs=new WeakMap,Xo=new WeakMap,lF=new WeakMap,wx=new WeakMap,Vg=new WeakMap,ei=new WeakMap,M1=new WeakMap,mc=new WeakMap,RC=new WeakMap,LC=new WeakSet,cF=function(){const n=new ZN(S(this,pf),.001);Z(this,ol,n.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=S(this,ol).box;const e=new ZN(S(this,pf),.0025,.001,this._uiManager.direction==="ltr");Z(this,wa,e.getOutlines());const{lastPoint:t}=S(this,wa).box;Z(this,wx,[(t[0]-this.x)/this.width,(t[1]-this.y)/this.height])},H2=new WeakSet,uF=function({highlightOutlines:n,highlightId:e,clipPathId:t}){var r,i;if(Z(this,ol,n),Z(this,wa,n.getNewOutline(S(this,mc)/2+1.5,.0025)),e>=0)Z(this,bs,e),Z(this,jg,t),this.parent.drawLayer.finalizeLine(e,n),Z(this,ei,this.parent.drawLayer.highlightOutline(S(this,wa)));else if(this.parent){const u=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(S(this,bs),n),this.parent.drawLayer.updateBox(S(this,bs),Q(r=Di,mf,mv).call(r,S(this,ol).box,(u-this.rotation+360)%360)),this.parent.drawLayer.updateLine(S(this,ei),S(this,wa)),this.parent.drawLayer.updateBox(S(this,ei),Q(i=Di,mf,mv).call(i,S(this,wa).box,u))}const{x:s,y:o,width:a,height:l}=n.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=a,this.height=l;break;case 90:{const[u,d]=this.parentDimensions;this.x=o,this.y=1-s,this.width=a*d/u,this.height=l*u/d;break}case 180:this.x=1-s,this.y=1-o,this.width=a,this.height=l;break;case 270:{const[u,d]=this.parentDimensions;this.x=1-o,this.y=s,this.width=a*d/u,this.height=l*u/d;break}}const{lastPoint:c}=S(this,wa).box;Z(this,wx,[(c[0]-s)/a,(c[1]-o)/l])},dF=new WeakSet,BJ=function(n){const e=r=>{var i,s;this.color=r,(i=this.parent)==null||i.drawLayer.changeColor(S(this,bs),r),(s=S(this,xx))==null||s.updateColor(r)},t=this.color;this.addCommands({cmd:e.bind(this,n),undo:e.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)},hF=new WeakSet,$J=function(n){const e=S(this,mc),t=r=>{Z(this,mc,r),Q(this,fF,Uj).call(this,r)};this.addCommands({cmd:t.bind(this,n),undo:t.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},fF=new WeakSet,Uj=function(n){if(!S(this,Xo))return;Q(this,H2,uF).call(this,{highlightOutlines:S(this,ol).getNewOutline(n/2)}),this.fixAndSetPosition();const[e,t]=this.parentDimensions;this.setDims(this.width*e,this.height*t)},kC=new WeakSet,pF=function(){S(this,bs)===null||!this.parent||(this.parent.drawLayer.remove(S(this,bs)),Z(this,bs,null),this.parent.drawLayer.remove(S(this,ei)),Z(this,ei,null))},lg=new WeakSet,C1=function(n=this.parent){S(this,bs)===null&&({id:na(this,bs)._,clipPathId:na(this,jg)._}=n.drawLayer.highlight(S(this,ol),this.color,S(this,Vg)),Z(this,ei,n.drawLayer.highlightOutline(S(this,wa))),S(this,pv)&&(S(this,pv).style.clipPath=S(this,jg)))},mf=new WeakSet,mv=function({x:n,y:e,width:t,height:r},i){switch(i){case 90:return{x:1-e-r,y:n,width:r,height:t};case 180:return{x:1-n-t,y:1-e-r,width:t,height:r};case 270:return{x:e,y:1-n-t,width:r,height:t}}return{x:n,y:e,width:t,height:r}},mF=new WeakSet,UJ=function(n){Di._keyboardManager.exec(this,n)},A1=new WeakSet,IC=function(n){if(!S(this,yx))return;const e=window.getSelection();n?e.setPosition(S(this,yx),S(this,$2)):e.setPosition(S(this,U2),S(this,W2))},Gg=new WeakSet,bx=function(){return S(this,Xo)?this.rotation:0},gF=new WeakSet,WJ=function(){if(S(this,Xo))return null;const[n,e]=this.pageDimensions,t=S(this,pf),r=new Array(t.length*8);let i=0;for(const{x:s,y:o,width:a,height:l}of t){const c=s*n,u=(1-o-l)*e;r[i]=r[i+4]=c,r[i+1]=r[i+3]=u,r[i+2]=r[i+6]=c+a*n,r[i+5]=r[i+7]=u+l*e,i+=8}return r},vF=new WeakSet,HJ=function(n){return S(this,ol).serialize(n,Q(this,Gg,bx).call(this))},yF=new WeakSet,jJ=function(n,e){this._freeHighlight.add(e)&&n.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},xF=new WeakSet,VJ=function(n,e){this._freeHighlight.isEmpty()?n.drawLayer.removeFreeHighlight(this._freeHighlightId):n.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},W(Di,mf),W(Di,yF),W(Di,xF),Ut(Di,"_defaultColor",null),Ut(Di,"_defaultOpacity",1),Ut(Di,"_defaultThickness",12),Ut(Di,"_l10nPromise"),Ut(Di,"_type","highlight"),Ut(Di,"_editorType",ln.HIGHLIGHT),Ut(Di,"_freeHighlightId",-1),Ut(Di,"_freeHighlight",null),Ut(Di,"_freeHighlightClipId","");let Wj=Di;var qg,Xg,OC,DC,NC,gv,gc,Ru,Sa,cg,Yg,vv,Kg,Qg,Fh,wF,GJ,bF,qJ,_F,XJ,SF,YJ,FC,Xk,EF,KJ,j2,MF,CF,Hj,AF,jj,TF,Vj,PF,Gj,RF,qj,Zu,Zh,zC,LF,_x,V2,Sx,G2,gf,yv,BC,kF,T1,kS,IF,QJ,IS,Yk,OF,ZJ,DF,JJ,q2,NF,P1,OS,xv,Ex;const xs=class ya extends On{constructor(e){super({...e,name:"inkEditor"}),W(this,wF),W(this,bF),W(this,_F),W(this,SF),W(this,FC),W(this,EF),W(this,j2),W(this,CF),W(this,AF),W(this,TF),W(this,PF),W(this,RF),W(this,Zu),W(this,zC),W(this,_x),W(this,Sx),W(this,gf),W(this,BC),W(this,T1),W(this,DF),W(this,q2),W(this,P1),W(this,xv),W(this,qg,0),W(this,Xg,0),W(this,OC,this.canvasPointermove.bind(this)),W(this,DC,this.canvasPointerleave.bind(this)),W(this,NC,this.canvasPointerup.bind(this)),W(this,gv,this.canvasPointerdown.bind(this)),W(this,gc,null),W(this,Ru,new Path2D),W(this,Sa,!1),W(this,cg,!1),W(this,Yg,!1),W(this,vv,null),W(this,Kg,0),W(this,Qg,0),W(this,Fh,null),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){On.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case Dt.INK_THICKNESS:ya._defaultThickness=t;break;case Dt.INK_COLOR:ya._defaultColor=t;break;case Dt.INK_OPACITY:ya._defaultOpacity=t/100;break}}updateParams(e,t){switch(e){case Dt.INK_THICKNESS:Q(this,wF,GJ).call(this,t);break;case Dt.INK_COLOR:Q(this,bF,qJ).call(this,t);break;case Dt.INK_OPACITY:Q(this,_F,XJ).call(this,t);break}}static get defaultPropertiesToUpdate(){return[[Dt.INK_THICKNESS,ya._defaultThickness],[Dt.INK_COLOR,ya._defaultColor||On._defaultLineColor],[Dt.INK_OPACITY,Math.round(ya._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Dt.INK_THICKNESS,this.thickness||ya._defaultThickness],[Dt.INK_COLOR,this.color||ya._defaultColor||On._defaultLineColor],[Dt.INK_OPACITY,Math.round(100*(this.opacity??ya._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Q(this,_x,V2).call(this),Q(this,Sx,G2).call(this)),this.isAttachedToDOM||(this.parent.add(this),Q(this,gf,yv).call(this)),Q(this,xv,Ex).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,S(this,gc)&&(clearTimeout(S(this,gc)),Z(this,gc,null)),S(this,vv).disconnect(),Z(this,vv,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions,r=this.width*e,i=this.height*t;this.setDimensions(r,i)}enableEditMode(){S(this,Sa)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",S(this,gv)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",S(this,gv)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){S(this,Sa)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Z(this,Sa,!0),this.div.classList.add("disabled"),Q(this,xv,Ex).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||S(this,Sa)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),Q(this,EF,KJ).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),Q(this,j2,MF).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),Q(this,zC,LF).call(this,e)}canvasPointerleave(e){Q(this,zC,LF).call(this,e)}get isResizable(){return!this.isEmpty()&&S(this,Sa)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,i,s,o]=Q(this,SF,YJ).call(this);if(this.setAt(r,i,0,0),this.setDims(s,o),Q(this,_x,V2).call(this),this.width){const[a,l]=this.parentDimensions;this.setAspectRatio(this.width*a,this.height*l),this.setAt(e*a,t*l,this.width*a,this.height*l),Z(this,Yg,!0),Q(this,gf,yv).call(this),this.setDims(this.width*a,this.height*l),Q(this,Zu,Zh).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Q(this,Sx,G2).call(this),this.div}setDimensions(e,t){const r=Math.round(e),i=Math.round(t);if(S(this,Kg)===r&&S(this,Qg)===i)return;Z(this,Kg,r),Z(this,Qg,i),this.canvas.style.visibility="hidden";const[s,o]=this.parentDimensions;this.width=e/s,this.height=t/o,this.fixAndSetPosition(),S(this,Sa)&&Q(this,BC,kF).call(this,e,t),Q(this,gf,yv).call(this),Q(this,Zu,Zh).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(e,t,r){var i,s,o;if(e instanceof _J)return null;const a=super.deserialize(e,t,r);a.thickness=e.thickness,a.color=vt.makeHexColor(...e.color),a.opacity=e.opacity;const[l,c]=a.pageDimensions,u=a.width*l,d=a.height*c,h=a.parentScale,p=e.thickness/2;Z(a,Sa,!0),Z(a,Kg,Math.round(u)),Z(a,Qg,Math.round(d));const{paths:g,rect:v,rotation:y}=e;for(let{bezier:w}of g){w=Q(i=ya,OF,ZJ).call(i,w,v,y);const b=[];a.paths.push(b);let _=h*(w[0]-p),C=h*(w[1]-p);for(let P=2,M=w.length;P<M;P+=6){const L=h*(w[P]-p),I=h*(w[P+1]-p),F=h*(w[P+2]-p),V=h*(w[P+3]-p),j=h*(w[P+4]-p),G=h*(w[P+5]-p);b.push([[_,C],[L,I],[F,V],[j,G]]),_=j,C=G}const A=Q(this,IF,QJ).call(this,b);a.bezierPath2D.push(A)}const x=Q(s=a,q2,NF).call(s);return Z(a,Xg,Math.max(On.MIN_SIZE,x[2]-x[0])),Z(a,qg,Math.max(On.MIN_SIZE,x[3]-x[1])),Q(o=a,BC,kF).call(o,u,d),a}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=On._colorManager.convert(this.ctx.strokeStyle);return{annotationType:ln.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:Q(this,DF,JJ).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};qg=new WeakMap,Xg=new WeakMap,OC=new WeakMap,DC=new WeakMap,NC=new WeakMap,gv=new WeakMap,gc=new WeakMap,Ru=new WeakMap,Sa=new WeakMap,cg=new WeakMap,Yg=new WeakMap,vv=new WeakMap,Kg=new WeakMap,Qg=new WeakMap,Fh=new WeakMap,wF=new WeakSet,GJ=function(n){const e=r=>{this.thickness=r,Q(this,xv,Ex).call(this)},t=this.thickness;this.addCommands({cmd:e.bind(this,n),undo:e.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},bF=new WeakSet,qJ=function(n){const e=r=>{this.color=r,Q(this,Zu,Zh).call(this)},t=this.color;this.addCommands({cmd:e.bind(this,n),undo:e.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},_F=new WeakSet,XJ=function(n){const e=r=>{this.opacity=r,Q(this,Zu,Zh).call(this)};n/=100;const t=this.opacity;this.addCommands({cmd:e.bind(this,n),undo:e.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Dt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},SF=new WeakSet,YJ=function(){const{parentRotation:n,parentDimensions:[e,t]}=this;switch(n){case 90:return[0,t,t,e];case 180:return[e,t,e,t];case 270:return[e,0,t,e];default:return[0,0,e,t]}},FC=new WeakSet,Xk=function(){const{ctx:n,color:e,opacity:t,thickness:r,parentScale:i,scaleFactor:s}=this;n.lineWidth=r*i/s,n.lineCap="round",n.lineJoin="round",n.miterLimit=10,n.strokeStyle=`${e}${GAe(t)}`},EF=new WeakSet,KJ=function(n,e){this.canvas.addEventListener("contextmenu",Ds),this.canvas.addEventListener("pointerleave",S(this,DC)),this.canvas.addEventListener("pointermove",S(this,OC)),this.canvas.addEventListener("pointerup",S(this,NC)),this.canvas.removeEventListener("pointerdown",S(this,gv)),this.isEditing=!0,S(this,Yg)||(Z(this,Yg,!0),Q(this,gf,yv).call(this),this.thickness||(this.thickness=xs._defaultThickness),this.color||(this.color=xs._defaultColor||On._defaultLineColor),this.opacity??(this.opacity=xs._defaultOpacity)),this.currentPath.push([n,e]),Z(this,cg,!1),Q(this,FC,Xk).call(this),Z(this,Fh,()=>{Q(this,TF,Vj).call(this),S(this,Fh)&&window.requestAnimationFrame(S(this,Fh))}),window.requestAnimationFrame(S(this,Fh))},j2=new WeakSet,MF=function(n,e){const[t,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&n===t&&e===r)return;const i=this.currentPath;let s=S(this,Ru);if(i.push([n,e]),Z(this,cg,!0),i.length<=2){s.moveTo(...i[0]),s.lineTo(n,e);return}i.length===3&&(Z(this,Ru,s=new Path2D),s.moveTo(...i[0])),Q(this,PF,Gj).call(this,s,...i.at(-3),...i.at(-2),n,e)},CF=new WeakSet,Hj=function(){if(this.currentPath.length===0)return;const n=this.currentPath.at(-1);S(this,Ru).lineTo(...n)},AF=new WeakSet,jj=function(n,e){Z(this,Fh,null),n=Math.min(Math.max(n,0),this.canvas.width),e=Math.min(Math.max(e,0),this.canvas.height),Q(this,j2,MF).call(this,n,e),Q(this,CF,Hj).call(this);let t;if(this.currentPath.length!==1)t=Q(this,RF,qj).call(this);else{const a=[n,e];t=[[a,a.slice(),a.slice(),a]]}const r=S(this,Ru),i=this.currentPath;this.currentPath=[],Z(this,Ru,new Path2D);const s=()=>{this.allRawPaths.push(i),this.paths.push(t),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},o=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Q(this,_x,V2).call(this),Q(this,Sx,G2).call(this)),Q(this,xv,Ex).call(this))};this.addCommands({cmd:s,undo:o,mustExec:!0})},TF=new WeakSet,Vj=function(){if(!S(this,cg))return;Z(this,cg,!1);const n=Math.ceil(this.thickness*this.parentScale),e=this.currentPath.slice(-3),t=e.map(s=>s[0]),r=e.map(s=>s[1]);Math.min(...t)-n,Math.max(...t)+n,Math.min(...r)-n,Math.max(...r)+n;const{ctx:i}=this;i.save(),i.clearRect(0,0,this.canvas.width,this.canvas.height);for(const s of this.bezierPath2D)i.stroke(s);i.stroke(S(this,Ru)),i.restore()},PF=new WeakSet,Gj=function(n,e,t,r,i,s,o){const a=(e+r)/2,l=(t+i)/2,c=(r+s)/2,u=(i+o)/2;n.bezierCurveTo(a+2*(r-a)/3,l+2*(i-l)/3,c+2*(r-c)/3,u+2*(i-u)/3,c,u)},RF=new WeakSet,qj=function(){const n=this.currentPath;if(n.length<=2)return[[n[0],n[0],n.at(-1),n.at(-1)]];const e=[];let t,[r,i]=n[0];for(t=1;t<n.length-2;t++){const[d,h]=n[t],[p,g]=n[t+1],v=(d+p)/2,y=(h+g)/2,x=[r+2*(d-r)/3,i+2*(h-i)/3],w=[v+2*(d-v)/3,y+2*(h-y)/3];e.push([[r,i],x,w,[v,y]]),[r,i]=[v,y]}const[s,o]=n[t],[a,l]=n[t+1],c=[r+2*(s-r)/3,i+2*(o-i)/3],u=[a+2*(s-a)/3,l+2*(o-l)/3];return e.push([[r,i],c,u,[a,l]]),e},Zu=new WeakSet,Zh=function(){if(this.isEmpty()){Q(this,T1,kS).call(this);return}Q(this,FC,Xk).call(this);const{canvas:n,ctx:e}=this;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,n.width,n.height),Q(this,T1,kS).call(this);for(const t of this.bezierPath2D)e.stroke(t)},zC=new WeakSet,LF=function(n){this.canvas.removeEventListener("pointerleave",S(this,DC)),this.canvas.removeEventListener("pointermove",S(this,OC)),this.canvas.removeEventListener("pointerup",S(this,NC)),this.canvas.addEventListener("pointerdown",S(this,gv)),S(this,gc)&&clearTimeout(S(this,gc)),Z(this,gc,setTimeout(()=>{Z(this,gc,null),this.canvas.removeEventListener("contextmenu",Ds)},10)),Q(this,AF,jj).call(this,n.offsetX,n.offsetY),this.addToAnnotationStorage(),this.setInBackground()},_x=new WeakSet,V2=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Sx=new WeakSet,G2=function(){Z(this,vv,new ResizeObserver(n=>{const e=n[0].contentRect;e.width&&e.height&&this.setDimensions(e.width,e.height)})),S(this,vv).observe(this.div)},gf=new WeakSet,yv=function(){if(!S(this,Yg))return;const[n,e]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*n),this.canvas.height=Math.ceil(this.height*e),Q(this,T1,kS).call(this)},BC=new WeakSet,kF=function(n,e){const t=Q(this,P1,OS).call(this),r=(n-t)/S(this,Xg),i=(e-t)/S(this,qg);this.scaleFactor=Math.min(r,i)},T1=new WeakSet,kS=function(){const n=Q(this,P1,OS).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+n,this.translationY*this.scaleFactor+n)},IF=new WeakSet,QJ=function(n){const e=new Path2D;for(let t=0,r=n.length;t<r;t++){const[i,s,o,a]=n[t];t===0&&e.moveTo(...i),e.bezierCurveTo(s[0],s[1],o[0],o[1],a[0],a[1])}return e},IS=new WeakSet,Yk=function(n,e,t){const[r,i,s,o]=e;switch(t){case 0:for(let a=0,l=n.length;a<l;a+=2)n[a]+=r,n[a+1]=o-n[a+1];break;case 90:for(let a=0,l=n.length;a<l;a+=2){const c=n[a];n[a]=n[a+1]+r,n[a+1]=c+i}break;case 180:for(let a=0,l=n.length;a<l;a+=2)n[a]=s-n[a],n[a+1]+=i;break;case 270:for(let a=0,l=n.length;a<l;a+=2){const c=n[a];n[a]=s-n[a+1],n[a+1]=o-c}break;default:throw new Error("Invalid rotation")}return n},OF=new WeakSet,ZJ=function(n,e,t){const[r,i,s,o]=e;switch(t){case 0:for(let a=0,l=n.length;a<l;a+=2)n[a]-=r,n[a+1]=o-n[a+1];break;case 90:for(let a=0,l=n.length;a<l;a+=2){const c=n[a];n[a]=n[a+1]-i,n[a+1]=c-r}break;case 180:for(let a=0,l=n.length;a<l;a+=2)n[a]=s-n[a],n[a+1]-=i;break;case 270:for(let a=0,l=n.length;a<l;a+=2){const c=n[a];n[a]=o-n[a+1],n[a+1]=s-c}break;default:throw new Error("Invalid rotation")}return n},DF=new WeakSet,JJ=function(n,e,t,r){var i,s;const o=[],a=this.thickness/2,l=n*e+a,c=n*t+a;for(const u of this.paths){const d=[],h=[];for(let p=0,g=u.length;p<g;p++){const[v,y,x,w]=u[p];if(v[0]===w[0]&&v[1]===w[1]&&g===1){const F=n*v[0]+l,V=n*v[1]+c;d.push(F,V),h.push(F,V);break}const b=n*v[0]+l,_=n*v[1]+c,C=n*y[0]+l,A=n*y[1]+c,P=n*x[0]+l,M=n*x[1]+c,L=n*w[0]+l,I=n*w[1]+c;p===0&&(d.push(b,_),h.push(b,_)),d.push(C,A,P,M,L,I),h.push(C,A),p===g-1&&h.push(L,I)}o.push({bezier:Q(i=xs,IS,Yk).call(i,d,r,this.rotation),points:Q(s=xs,IS,Yk).call(s,h,r,this.rotation)})}return o},q2=new WeakSet,NF=function(){let n=1/0,e=-1/0,t=1/0,r=-1/0;for(const i of this.paths)for(const[s,o,a,l]of i){const c=vt.bezierBoundingBox(...s,...o,...a,...l);n=Math.min(n,c[0]),t=Math.min(t,c[1]),e=Math.max(e,c[2]),r=Math.max(r,c[3])}return[n,t,e,r]},P1=new WeakSet,OS=function(){return S(this,Sa)?Math.ceil(this.thickness*this.parentScale):0},xv=new WeakSet,Ex=function(n=!1){if(this.isEmpty())return;if(!S(this,Sa)){Q(this,Zu,Zh).call(this);return}const e=Q(this,q2,NF).call(this),t=Q(this,P1,OS).call(this);Z(this,Xg,Math.max(On.MIN_SIZE,e[2]-e[0])),Z(this,qg,Math.max(On.MIN_SIZE,e[3]-e[1]));const r=Math.ceil(t+S(this,Xg)*this.scaleFactor),i=Math.ceil(t+S(this,qg)*this.scaleFactor),[s,o]=this.parentDimensions;this.width=r/s,this.height=i/o,this.setAspectRatio(r,i);const a=this.translationX,l=this.translationY;this.translationX=-e[0],this.translationY=-e[1],Q(this,gf,yv).call(this),Q(this,Zu,Zh).call(this),Z(this,Kg,r),Z(this,Qg,i),this.setDims(r,i);const c=n?t/this.scaleFactor/2:0;this.translate(a-this.translationX-c,l-this.translationY-c)},W(xs,IF),W(xs,IS),W(xs,OF),Ut(xs,"_defaultColor",null),Ut(xs,"_defaultOpacity",1),Ut(xs,"_defaultThickness",1),Ut(xs,"_type","ink"),Ut(xs,"_editorType",ln.INK);let LTe=xs;var zi,$i,Jh,cd,vf,R1,vc,wv,yc,yl,$C,ug,vy,dg,yy,L1,UC,X2,FF,zF,Xj,BF,Yj,WC,Kk,k1,HC,$F,Kj;const jC=class extends On{constructor(e){super({...e,name:"stampEditor"}),W(this,ug),W(this,dg),W(this,L1),W(this,X2),W(this,zF),W(this,BF),W(this,WC),W(this,k1),W(this,$F),W(this,zi,null),W(this,$i,null),W(this,Jh,null),W(this,cd,null),W(this,vf,null),W(this,R1,""),W(this,vc,null),W(this,wv,null),W(this,yc,null),W(this,yl,!1),W(this,$C,!1),Z(this,cd,e.bitmapUrl),Z(this,vf,e.bitmapFile)}static initialize(e,t){On.initialize(e,t)}static get supportedTypes(){return un(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(e=>`image/${e}`))}static get supportedTypesStr(){return un(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(ln.STAMP,{bitmapFile:e.getAsFile()})}remove(){var e,t;S(this,$i)&&(Z(this,zi,null),this._uiManager.imageManager.deleteId(S(this,$i)),(e=S(this,vc))==null||e.remove(),Z(this,vc,null),(t=S(this,wv))==null||t.disconnect(),Z(this,wv,null),S(this,yc)&&(clearTimeout(S(this,yc)),Z(this,yc,null))),super.remove()}rebuild(){if(!this.parent){S(this,$i)&&Q(this,L1,UC).call(this);return}super.rebuild(),this.div!==null&&(S(this,$i)&&S(this,vc)===null&&Q(this,L1,UC).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(S(this,Jh)||S(this,zi)||S(this,cd)||S(this,vf)||S(this,$i))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),S(this,zi)?Q(this,X2,FF).call(this):Q(this,L1,UC).call(this),this.width){const[r,i]=this.parentDimensions;this.setAt(e*r,t*i,this.width*r,this.height*i)}return this.div}getImageForAltText(){return S(this,vc)}static deserialize(e,t,r){if(e instanceof SJ)return null;const i=super.deserialize(e,t,r),{rect:s,bitmapUrl:o,bitmapId:a,isSvg:l,accessibilityData:c}=e;a&&r.imageManager.isValidId(a)?Z(i,$i,a):Z(i,cd,o),Z(i,yl,l);const[u,d]=i.pageDimensions;return i.width=(s[2]-s[0])/u,i.height=(s[3]-s[1])/d,c&&(i.altTextData=c),i}serialize(e=!1,t=null){if(this.isEmpty())return null;const r={annotationType:ln.STAMP,bitmapId:S(this,$i),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:S(this,yl),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=Q(this,k1,HC).call(this,!0),r.accessibilityData=this.altTextData,r;const{decorative:i,altText:s}=this.altTextData;if(!i&&s&&(r.accessibilityData={type:"Figure",alt:s}),t===null)return r;t.stamps||(t.stamps=new Map);const o=S(this,yl)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!t.stamps.has(S(this,$i)))t.stamps.set(S(this,$i),{area:o,serialized:r}),r.bitmap=Q(this,k1,HC).call(this,!1);else if(S(this,yl)){const a=t.stamps.get(S(this,$i));o>a.area&&(a.area=o,a.serialized.bitmap.close(),a.serialized.bitmap=Q(this,k1,HC).call(this,!1))}return r}};zi=new WeakMap,$i=new WeakMap,Jh=new WeakMap,cd=new WeakMap,vf=new WeakMap,R1=new WeakMap,vc=new WeakMap,wv=new WeakMap,yc=new WeakMap,yl=new WeakMap,$C=new WeakMap,ug=new WeakSet,vy=function(n,e=!1){if(!n){this.remove();return}Z(this,zi,n.bitmap),e||(Z(this,$i,n.id),Z(this,yl,n.isSvg)),n.file&&Z(this,R1,n.file.name),Q(this,X2,FF).call(this)},dg=new WeakSet,yy=function(){Z(this,Jh,null),this._uiManager.enableWaiting(!1),S(this,vc)&&this.div.focus()},L1=new WeakSet,UC=function(){if(S(this,$i)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(S(this,$i)).then(e=>Q(this,ug,vy).call(this,e,!0)).finally(()=>Q(this,dg,yy).call(this));return}if(S(this,cd)){const e=S(this,cd);Z(this,cd,null),this._uiManager.enableWaiting(!0),Z(this,Jh,this._uiManager.imageManager.getFromUrl(e).then(t=>Q(this,ug,vy).call(this,t)).finally(()=>Q(this,dg,yy).call(this)));return}if(S(this,vf)){const e=S(this,vf);Z(this,vf,null),this._uiManager.enableWaiting(!0),Z(this,Jh,this._uiManager.imageManager.getFromFile(e).then(t=>Q(this,ug,vy).call(this,t)).finally(()=>Q(this,dg,yy).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=jC.supportedTypesStr,Z(this,Jh,new Promise(e=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(n.files[0]);Q(this,ug,vy).call(this,t)}e()}),n.addEventListener("cancel",()=>{this.remove(),e()})}).finally(()=>Q(this,dg,yy).call(this))),n.click()},X2=new WeakSet,FF=function(){const{div:n}=this;let{width:e,height:t}=S(this,zi);const[r,i]=this.pageDimensions,s=.75;if(this.width)e=this.width*r,t=this.height*i;else if(e>s*r||t>s*i){const c=Math.min(s*r/e,s*i/t);e*=c,t*=c}const[o,a]=this.parentDimensions;this.setDims(e*o/r,t*a/i),this._uiManager.enableWaiting(!1);const l=Z(this,vc,document.createElement("canvas"));n.append(l),n.hidden=!1,Q(this,WC,Kk).call(this,e,t),Q(this,$F,Kj).call(this),S(this,$C)||(this.parent.addUndoableEditor(this),Z(this,$C,!0)),this._reportTelemetry({action:"inserted_image"}),S(this,R1)&&l.setAttribute("aria-label",S(this,R1))},zF=new WeakSet,Xj=function(n,e){var t;const[r,i]=this.parentDimensions;this.width=n/r,this.height=e/i,this.setDims(n,e),(t=this._initialOptions)!=null&&t.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,S(this,yc)!==null&&clearTimeout(S(this,yc)),Z(this,yc,setTimeout(()=>{Z(this,yc,null),Q(this,WC,Kk).call(this,n,e)},200))},BF=new WeakSet,Yj=function(n,e){const{width:t,height:r}=S(this,zi);let i=t,s=r,o=S(this,zi);for(;i>2*n||s>2*e;){const a=i,l=s;i>2*n&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const c=new OffscreenCanvas(i,s);c.getContext("2d").drawImage(o,0,0,a,l,0,0,i,s),o=c.transferToImageBitmap()}return o},WC=new WeakSet,Kk=function(n,e){n=Math.ceil(n),e=Math.ceil(e);const t=S(this,vc);if(!t||t.width===n&&t.height===e)return;t.width=n,t.height=e;const r=S(this,yl)?S(this,zi):Q(this,BF,Yj).call(this,n,e);if(this._uiManager.hasMLManager&&!this.hasAltText()){const s=new OffscreenCanvas(n,e).getContext("2d");s.drawImage(r,0,0,r.width,r.height,0,0,n,e),this._uiManager.mlGuess({service:"image-to-text",request:{data:s.getImageData(0,0,n,e).data,width:n,height:e,channels:4}}).then(o=>{const a=(o==null?void 0:o.output)||"";this.parent&&a&&!this.hasAltText()&&(this.altTextData={altText:a,decorative:!1})})}const i=t.getContext("2d");i.filter=this._uiManager.hcmFilter,i.drawImage(r,0,0,r.width,r.height,0,0,n,e)},k1=new WeakSet,HC=function(n){if(n){if(S(this,yl)){const t=this._uiManager.imageManager.getSvgUrl(S(this,$i));if(t)return t}const e=document.createElement("canvas");return{width:e.width,height:e.height}=S(this,zi),e.getContext("2d").drawImage(S(this,zi),0,0),e.toDataURL()}if(S(this,yl)){const[e,t]=this.pageDimensions,r=Math.round(this.width*e*Gv.PDF_TO_CSS_UNITS),i=Math.round(this.height*t*Gv.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(r,i);return s.getContext("2d").drawImage(S(this,zi),0,0,S(this,zi).width,S(this,zi).height,0,0,r,i),s.transferToImageBitmap()}return structuredClone(S(this,zi))},$F=new WeakSet,Kj=function(){Z(this,wv,new ResizeObserver(n=>{const e=n[0].contentRect;e.width&&e.height&&Q(this,zF,Xj).call(this,e.width,e.height)})),S(this,wv).observe(this.div)},Ut(jC,"_type","stamp"),Ut(jC,"_editorType",ln.STAMP);let kTe=jC;var hg,I1,rc,fg,Lu,ku,Iu,Ho,zh,Mx,O1,Ss,Pt,yf,UF,eee,Y2,WF,VC,HF,GC,jF,D1,qC;const XC=class Bh{constructor({uiManager:e,pageIndex:t,div:r,accessibilityManager:i,annotationLayer:s,drawLayer:o,textLayer:a,viewport:l,l10n:c}){W(this,UF),W(this,Y2),W(this,VC),W(this,GC),W(this,D1),W(this,hg,void 0),W(this,I1,!1),W(this,rc,null),W(this,fg,null),W(this,Lu,null),W(this,ku,null),W(this,Iu,null),W(this,Ho,new Map),W(this,zh,!1),W(this,Mx,!1),W(this,O1,!1),W(this,Ss,null),W(this,Pt,void 0);const u=[...S(Bh,yf).values()];if(!Bh._initialized){Bh._initialized=!0;for(const d of u)d.initialize(c,e)}e.registerEditorTypes(u),Z(this,Pt,e),this.pageIndex=t,this.div=r,Z(this,hg,i),Z(this,rc,s),this.viewport=l,Z(this,Ss,a),this.drawLayer=o,S(this,Pt).addLayer(this)}get isEmpty(){return S(this,Ho).size===0}get isInvisible(){return this.isEmpty&&S(this,Pt).getMode()===ln.NONE}updateToolbar(e){S(this,Pt).updateToolbar(e)}updateMode(e=S(this,Pt).getMode()){switch(Q(this,D1,qC).call(this),e){case ln.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ln.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case ln.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of S(Bh,yf).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=S(this,Ss))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(S(this,Pt).getMode()===ln.INK){if(!e){for(const t of S(this,Ho).values())if(t.isEmpty()){t.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(e){S(this,Pt).setEditingState(e)}addCommands(e){S(this,Pt).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=S(this,rc))==null||t.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of S(this,Ho).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(S(this,Pt).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!S(this,rc))return;const t=S(this,rc).getEditableAnnotations();for(const r of t){if(r.hide(),S(this,Pt).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var e;Z(this,O1,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,r=new Map;for(const s of S(this,Ho).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){t.set(s.annotationElementId,s);continue}else r.set(s.annotationElementId,s);(e=this.getEditableAnnotation(s.annotationElementId))==null||e.show(),s.remove()}if(S(this,rc)){const s=S(this,rc).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(S(this,Pt).isDeletedAnnotationElement(a))continue;let l=r.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=t.get(a),l&&(S(this,Pt).addChangedExistingAnnotation(l),l.renderAnnotationElement(o),l.show(!1)),o.show()}}Q(this,D1,qC).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of S(Bh,yf).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),Z(this,O1,!1)}getEditableAnnotation(e){var t;return((t=S(this,rc))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){S(this,Pt).getActive()!==e&&S(this,Pt).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=S(this,Ss))!=null&&e.div&&!S(this,ku)&&(Z(this,ku,Q(this,UF,eee).bind(this)),S(this,Ss).div.addEventListener("pointerdown",S(this,ku)),S(this,Ss).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=S(this,Ss))!=null&&e.div&&S(this,ku)&&(S(this,Ss).div.removeEventListener("pointerdown",S(this,ku)),Z(this,ku,null),S(this,Ss).div.classList.remove("highlighting"))}enableClick(){S(this,Lu)||(Z(this,Lu,this.pointerdown.bind(this)),Z(this,fg,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",S(this,Lu)),this.div.addEventListener("pointerup",S(this,fg)))}disableClick(){S(this,Lu)&&(this.div.removeEventListener("pointerdown",S(this,Lu)),this.div.removeEventListener("pointerup",S(this,fg)),Z(this,Lu,null),Z(this,fg,null))}attach(e){S(this,Ho).set(e.id,e);const{annotationElementId:t}=e;t&&S(this,Pt).isDeletedAnnotationElement(t)&&S(this,Pt).removeDeletedAnnotationElement(e)}detach(e){var t;S(this,Ho).delete(e.id),(t=S(this,hg))==null||t.removePointerInTextLayer(e.contentDiv),!S(this,O1)&&e.annotationElementId&&S(this,Pt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),S(this,Pt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,S(this,Mx)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(S(this,Pt).addDeletedAnnotationElement(e.annotationElementId),On.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),S(this,Pt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),S(this,Pt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var t;if(!e.isAttachedToDOM)return;const{activeElement:r}=document;e.div.contains(r)&&!S(this,Iu)&&(e._focusEventsAllowed=!1,Z(this,Iu,setTimeout(()=>{Z(this,Iu,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0}),r.focus())},0))),e._structTreeParentId=(t=S(this,hg))==null?void 0:t.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return S(this,Pt).getId()}canCreateNewEmptyEditor(){var e;return(e=S(this,Y2,WF))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){S(this,Pt).updateToolbar(e),S(this,Pt).updateMode(e);const{offsetX:r,offsetY:i}=Q(this,GC,jF).call(this),s=this.getNextId(),o=Q(this,VC,HF).call(this,{parent:this,id:s,x:r,y:i,uiManager:S(this,Pt),isCentered:!0,...t});o&&this.add(o)}deserialize(e){var t;return((t=S(Bh,yf).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,S(this,Pt)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=Q(this,VC,HF).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:S(this,Pt),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(Q(this,GC,jF).call(this),!0)}setSelected(e){S(this,Pt).setSelected(e)}toggleSelected(e){S(this,Pt).toggleSelected(e)}isSelected(e){return S(this,Pt).isSelected(e)}unselect(e){S(this,Pt).unselect(e)}pointerup(e){const{isMac:t}=zs.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&S(this,zh)){if(Z(this,zh,!1),!S(this,I1)){Z(this,I1,!0);return}if(S(this,Pt).getMode()===ln.STAMP){S(this,Pt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(S(this,Pt).getMode()===ln.HIGHLIGHT&&this.enableTextSelection(),S(this,zh)){Z(this,zh,!1);return}const{isMac:t}=zs.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;Z(this,zh,!0);const r=S(this,Pt).getActive();Z(this,I1,!r||r.isEmpty())}findNewParent(e,t,r){const i=S(this,Pt).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,t;((e=S(this,Pt).getActive())==null?void 0:e.parent)===this&&(S(this,Pt).commitOrRemove(),S(this,Pt).setActiveEditor(null)),S(this,Iu)&&(clearTimeout(S(this,Iu)),Z(this,Iu,null));for(const r of S(this,Ho).values())(t=S(this,hg))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,S(this,Ho).clear(),S(this,Pt).removeLayer(this)}render({viewport:e}){this.viewport=e,op(this.div,e);for(const t of S(this,Pt).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){S(this,Pt).commitOrRemove(),Q(this,D1,qC).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,op(this.div,{rotation:r}),t!==r)for(const i of S(this,Ho).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return S(this,Pt).viewParameters.realScale}};hg=new WeakMap,I1=new WeakMap,rc=new WeakMap,fg=new WeakMap,Lu=new WeakMap,ku=new WeakMap,Iu=new WeakMap,Ho=new WeakMap,zh=new WeakMap,Mx=new WeakMap,O1=new WeakMap,Ss=new WeakMap,Pt=new WeakMap,yf=new WeakMap,UF=new WeakSet,eee=function(n){if(S(this,Pt).unselectAll(),n.target===S(this,Ss).div){const{isMac:e}=zs.platform;if(n.button!==0||n.ctrlKey&&e)return;S(this,Pt).showAllEditors("highlight",!0,!0),S(this,Ss).div.classList.add("free"),Wj.startHighlighting(this,S(this,Pt).direction==="ltr",n),S(this,Ss).div.addEventListener("pointerup",()=>{S(this,Ss).div.classList.remove("free")},{once:!0}),n.preventDefault()}},Y2=new WeakSet,WF=function(){return S(XC,yf).get(S(this,Pt).getMode())},VC=new WeakSet,HF=function(n){const e=S(this,Y2,WF);return e?new e.prototype.constructor(n):null},GC=new WeakSet,jF=function(){const{x:n,y:e,width:t,height:r}=this.div.getBoundingClientRect(),i=Math.max(0,n),s=Math.max(0,e),o=Math.min(window.innerWidth,n+t),a=Math.min(window.innerHeight,e+r),l=(i+o)/2-n,c=(s+a)/2-e,[u,d]=this.viewport.rotation%180===0?[l,c]:[c,l];return{offsetX:u,offsetY:d}},D1=new WeakSet,qC=function(){Z(this,Mx,!0);for(const n of S(this,Ho).values())n.isEmpty()&&n.remove();Z(this,Mx,!1)},Ut(XC,"_initialized",!1),W(XC,yf,new Map([PTe,LTe,kTe,Wj].map(n=>[n._editorType,n])));let ITe=XC;var cc,YC,Qr,$h,KC,VF,QC,GF,qF,tee;const pg=class xa{constructor({pageIndex:e}){W(this,QC),W(this,qF),W(this,cc,null),W(this,YC,0),W(this,Qr,new Map),W(this,$h,new Map),this.pageIndex=e}setParent(e){if(!S(this,cc)){Z(this,cc,e);return}if(S(this,cc)!==e){if(S(this,Qr).size>0)for(const t of S(this,Qr).values())t.remove(),e.append(t);Z(this,cc,e)}}static get _svgFactory(){return un(this,"_svgFactory",new nB)}highlight(e,t,r,i=!1){const s=na(this,YC)._++,o=Q(this,QC,GF).call(this,e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const a=xa._svgFactory.createElement("defs");o.append(a);const l=xa._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),i&&S(this,$h).set(s,l);const u=Q(this,qF,tee).call(this,a,c),d=xa._svgFactory.createElement("use");return o.append(d),o.setAttribute("fill",t),o.setAttribute("fill-opacity",r),d.setAttribute("href",`#${c}`),S(this,Qr).set(s,o),{id:s,clipPathId:`url(#${u})`}}highlightOutline(e){const t=na(this,YC)._++,r=Q(this,QC,GF).call(this,e.box);r.classList.add("highlightOutline");const i=xa._svgFactory.createElement("defs");r.append(i);const s=xa._svgFactory.createElement("path");i.append(s);const o=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){r.classList.add("free");const u=xa._svgFactory.createElement("mask");i.append(u),a=`mask_p${this.pageIndex}_${t}`,u.setAttribute("id",a),u.setAttribute("maskUnits","objectBoundingBox");const d=xa._svgFactory.createElement("rect");u.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const h=xa._svgFactory.createElement("use");u.append(h),h.setAttribute("href",`#${o}`),h.setAttribute("stroke","none"),h.setAttribute("fill","black"),h.setAttribute("fill-rule","nonzero"),h.classList.add("mask")}const l=xa._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const c=l.cloneNode();return r.append(c),l.classList.add("mainOutline"),c.classList.add("secondaryOutline"),S(this,Qr).set(t,r),t}finalizeLine(e,t){const r=S(this,$h).get(e);S(this,$h).delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){S(this,Qr).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),S(this,$h).delete(e)}updatePath(e,t){S(this,$h).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var r;Q(r=xa,KC,VF).call(r,S(this,Qr).get(e),t)}show(e,t){S(this,Qr).get(e).classList.toggle("hidden",!t)}rotate(e,t){S(this,Qr).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){S(this,Qr).get(e).setAttribute("fill",t)}changeOpacity(e,t){S(this,Qr).get(e).setAttribute("fill-opacity",t)}addClass(e,t){S(this,Qr).get(e).classList.add(t)}removeClass(e,t){S(this,Qr).get(e).classList.remove(t)}remove(e){S(this,cc)!==null&&(S(this,Qr).get(e).remove(),S(this,Qr).delete(e))}destroy(){Z(this,cc,null);for(const e of S(this,Qr).values())e.remove();S(this,Qr).clear()}};cc=new WeakMap,YC=new WeakMap,Qr=new WeakMap,$h=new WeakMap,KC=new WeakSet,VF=function(n,{x:e=0,y:t=0,width:r=1,height:i=1}={}){const{style:s}=n;s.top=`${100*t}%`,s.left=`${100*e}%`,s.width=`${100*r}%`,s.height=`${100*i}%`},QC=new WeakSet,GF=function(n){var e;const t=pg._svgFactory.create(1,1,!0);return S(this,cc).append(t),t.setAttribute("aria-hidden",!0),Q(e=pg,KC,VF).call(e,t,n),t},qF=new WeakSet,tee=function(n,e){const t=pg._svgFactory.createElement("clipPath");n.append(t);const r=`clip_${e}`;t.setAttribute("id",r),t.setAttribute("clipPathUnits","objectBoundingBox");const i=pg._svgFactory.createElement("use");return t.append(i),i.setAttribute("href",`#${e}`),i.classList.add("clip"),r},W(pg,KC);let OTe=pg;var DTe=It.AbortException,NTe=It.AnnotationEditorLayer,FTe=It.AnnotationEditorParamsType,zTe=It.AnnotationEditorType,BTe=It.AnnotationEditorUIManager,nee=It.AnnotationLayer,ree=It.AnnotationMode,$Te=It.CMapCompressionType,UTe=It.ColorPicker,WTe=It.DOMSVGFactory,HTe=It.DrawLayer,jTe=It.FeatureTest,uB=It.GlobalWorkerOptions,VTe=It.ImageKind,GTe=It.InvalidPDFException,qTe=It.MissingPDFException,XTe=It.OPS,YTe=It.Outliner,KTe=It.PDFDataRangeTransport,QTe=It.PDFDateString,ZTe=It.PDFWorker,JTe=It.PasswordResponses,ePe=It.PermissionFlag,tPe=It.PixelsPerInch,nPe=It.RenderingCancelledException,iee=It.TextLayer,rPe=It.UnexpectedResponseException,iPe=It.Util,sPe=It.VerbosityLevel,oPe=It.XfaLayer,aPe=It.build,lPe=It.createValidAbsoluteUrl,cPe=It.fetchData,see=It.getDocument,uPe=It.getFilenameFromUrl,dPe=It.getPdfFilenameFromUrl,hPe=It.getXfaPageViewport,fPe=It.isDataScheme,pPe=It.isPdfFile,mPe=It.noContextMenu,gPe=It.normalizeUnicode,vPe=It.renderTextLayer,yPe=It.setLayerDimensions,xPe=It.shadow,wPe=It.updateTextLayer,oee=It.version;const bPe=Object.freeze(Object.defineProperty({__proto__:null,AbortException:DTe,AnnotationEditorLayer:NTe,AnnotationEditorParamsType:FTe,AnnotationEditorType:zTe,AnnotationEditorUIManager:BTe,AnnotationLayer:nee,AnnotationMode:ree,CMapCompressionType:$Te,ColorPicker:UTe,DOMSVGFactory:WTe,DrawLayer:HTe,FeatureTest:jTe,GlobalWorkerOptions:uB,ImageKind:VTe,InvalidPDFException:GTe,MissingPDFException:qTe,OPS:XTe,Outliner:YTe,PDFDataRangeTransport:KTe,PDFDateString:QTe,PDFWorker:ZTe,PasswordResponses:JTe,PermissionFlag:ePe,PixelsPerInch:tPe,RenderingCancelledException:nPe,TextLayer:iee,UnexpectedResponseException:rPe,Util:iPe,VerbosityLevel:sPe,XfaLayer:oPe,build:aPe,createValidAbsoluteUrl:lPe,fetchData:cPe,getDocument:see,getFilenameFromUrl:uPe,getPdfFilenameFromUrl:dPe,getXfaPageViewport:hPe,isDataScheme:fPe,isPdfFile:pPe,noContextMenu:mPe,normalizeUnicode:gPe,renderTextLayer:vPe,setLayerDimensions:yPe,shadow:xPe,updateTextLayer:wPe,version:oee},Symbol.toStringTag,{value:"Module"}));var Yr=function(n,e,t){for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))},_Pe=["onCopy","onCut","onPaste"],SPe=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],EPe=["onFocus","onBlur"],MPe=["onInput","onInvalid","onReset","onSubmit"],CPe=["onLoad","onError"],APe=["onKeyDown","onKeyPress","onKeyUp"],TPe=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],PPe=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],RPe=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],LPe=["onSelect"],kPe=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],IPe=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],OPe=["onScroll"],DPe=["onWheel"],NPe=["onAnimationStart","onAnimationEnd","onAnimationIteration"],FPe=["onTransitionEnd"],zPe=["onToggle"],BPe=["onChange"],$Pe=Yr(Yr(Yr(Yr(Yr(Yr(Yr(Yr(Yr(Yr(Yr(Yr(Yr(Yr(Yr(Yr(Yr(Yr([],_Pe,!0),SPe,!0),EPe,!0),MPe,!0),CPe,!0),APe,!0),TPe,!0),PPe,!0),RPe,!0),LPe,!0),kPe,!0),IPe,!0),OPe,!0),DPe,!0),NPe,!0),FPe,!0),BPe,!0),zPe);function aee(n,e){var t={};return $Pe.forEach(function(r){var i=n[r];i&&(e?t[r]=function(s){return i(s,e(r))}:t[r]=i)}),t}function yb(n){var e=!1,t=new Promise(function(r,i){n.then(function(s){return!e&&r(s)}).catch(function(s){return!e&&i(s)})});return{promise:t,cancel:function(){e=!0}}}function lee(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=lee(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function EP(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=lee(n))&&(r&&(r+=" "),r+=e);return r}var UPe=Nt.env.NODE_ENV==="production",Qk="Invariant failed";function In(n,e){if(!n){if(UPe)throw new Error(Qk);var t=typeof e=="function"?e():e,r=t?"".concat(Qk,": ").concat(t):Qk;throw new Error(r)}}var WPe=Nt.env.NODE_ENV!=="production",cee=function(){};if(WPe){var HPe=function(n,e){var t=arguments.length;e=new Array(t>1?t-1:0);for(var r=1;r<t;r++)e[r-1]=arguments[r];var i=0,s="Warning: "+n.replace(/%s/g,function(){return e[i++]});typeof console<"u"&&console.error(s);try{throw new Error(s)}catch{}};cee=function(n,e,t){var r=arguments.length;t=new Array(r>2?r-2:0);for(var i=2;i<r;i++)t[i-2]=arguments[i];if(e===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");n||HPe.apply(null,[e].concat(t))}}var jPe=cee;const ji=qK(jPe);var Qj=Object.prototype.hasOwnProperty;function Zj(n,e,t){for(t of n.keys())if(bv(t,e))return t}function bv(n,e){var t,r,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&bv(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(i=r,i&&typeof i=="object"&&(i=Zj(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(i=r[0],i&&typeof i=="object"&&(i=Zj(e,i),!i)||!bv(r[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(Qj.call(n,t)&&++r&&!Qj.call(e,t)||!(t in e)||!bv(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}const uee=k.createContext(null);function _v({children:n,type:e}){return he.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const VPe="noopener noreferrer nofollow";class GPe{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return In(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(e){In(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{In(this.pdfDocument,"PDF document not loaded."),In(e,"Destination is not specified."),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{In(Array.isArray(t),`"${t}" is not a valid destination array.`);const r=t[0];new Promise(i=>{In(this.pdfDocument,"PDF document not loaded."),r instanceof Object?this.pdfDocument.getPageIndex(r).then(s=>{i(s)}).catch(()=>{In(!1,`"${r}" is not a valid page reference.`)}):typeof r=="number"?i(r):In(!1,`"${r}" is not a valid destination reference.`)}).then(i=>{const s=i+1;In(this.pdfViewer,"PDF viewer is not initialized."),In(s>=1&&s<=this.pagesCount,`"${s}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:s})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;In(this.pdfViewer,"PDF viewer is not initialized."),In(e>=1&&e<=this.pagesCount,`"${e}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||VPe,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Jj={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},MP=typeof document<"u",dee=MP&&window.location.protocol==="file:";function qPe(n){return typeof n<"u"}function dh(n){return qPe(n)&&n!==null}function XPe(n){return typeof n=="string"}function YPe(n){return n instanceof ArrayBuffer}function KPe(n){return In(MP,"isBlob can only be used in a browser environment"),n instanceof Blob}function XF(n){return XPe(n)&&/^data:/.test(n)}function eV(n){In(XF(n),"Invalid data URI.");const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function QPe(){return MP&&window.devicePixelRatio||1}const hee="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function tV(){ji(!dee,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${hee}`)}function ZPe(){ji(!dee,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${hee}`)}function lp(n){n&&n.cancel&&n.cancel()}function YF(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function JPe(n){return n.name==="RenderingCancelledException"}function eRe(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:s}=i.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}function tRe(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function qv(){return k.useReducer(tRe,{value:void 0,error:void 0})}var nRe=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,[])).next())})},nV=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const{PDFDataRangeTransport:rRe}=bPe,iRe=(n,e)=>{switch(e){case Jj.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case Jj.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function rV(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const sRe=k.forwardRef(function(n,e){var{children:t,className:r,error:i="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:o,file:a,inputRef:l,imageResourcesPath:c,loading:u="Loading PDF…",noData:d="No PDF file specified.",onItemClick:h,onLoadError:p,onLoadProgress:g,onLoadSuccess:v,onPassword:y=iRe,onSourceError:x,onSourceSuccess:w,options:b,renderMode:_,rotate:C}=n,A=nV(n,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[P,M]=qv(),{value:L,error:I}=P,[F,V]=qv(),{value:j,error:G}=F,J=k.useRef(new GPe),q=k.useRef([]),H=k.useRef(void 0),D=k.useRef(void 0);a&&a!==H.current&&rV(a)&&(ji(!bv(a,H.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),H.current=a),b&&b!==D.current&&(ji(!bv(b,D.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),D.current=b);const z=k.useRef({scrollPageIntoView:Pe=>{const{dest:ge,pageNumber:je,pageIndex:We=je-1}=Pe;if(h){h({dest:ge,pageIndex:We,pageNumber:je});return}const qe=q.current[We];if(qe){qe.scrollIntoView();return}ji(!1,`An internal link leading to page ${je} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});k.useImperativeHandle(e,()=>({linkService:J,pages:q,viewer:z}),[]);function B(){w&&w()}function ee(){I&&(ji(!1,I.toString()),x&&x(I))}function Y(){M({type:"RESET"})}k.useEffect(Y,[a,M]);const oe=k.useCallback(()=>nRe(this,void 0,void 0,function*(){if(!a)return null;if(typeof a=="string")return XF(a)?{data:eV(a)}:(tV(),{url:a});if(a instanceof rRe)return{range:a};if(YPe(a))return{data:a};if(MP&&KPe(a))return{data:yield eRe(a)};if(In(typeof a=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),In(rV(a),"Invalid parameter object: need either .data, .range or .url"),"url"in a&&typeof a.url=="string"){if(XF(a.url)){const{url:Pe}=a,ge=nV(a,["url"]),je=eV(Pe);return Object.assign({data:je},ge)}tV()}return a}),[a]);k.useEffect(()=>{const Pe=yb(oe());return Pe.promise.then(ge=>{M({type:"RESOLVE",value:ge})}).catch(ge=>{M({type:"REJECT",error:ge})}),()=>{lp(Pe)}},[oe,M]),k.useEffect(()=>{if(!(typeof L>"u")){if(L===!1){ee();return}B()}},[L]);function ce(){j&&(v&&v(j),q.current=new Array(j.numPages),J.current.setDocument(j))}function me(){G&&(ji(!1,G.toString()),p&&p(G))}function de(){V({type:"RESET"})}k.useEffect(de,[V,L]);function be(){if(!L)return;const Pe=Object.assign(Object.assign({},L),b),ge=see(Pe);g&&(ge.onProgress=g),y&&(ge.onPassword=y);const je=ge;return je.promise.then(We=>{V({type:"RESOLVE",value:We})}).catch(We=>{je.destroyed||V({type:"REJECT",error:We})}),()=>{je.destroy()}}k.useEffect(be,[b,V,L]),k.useEffect(()=>{if(!(typeof j>"u")){if(j===!1){me();return}ce()}},[j]);function Oe(){J.current.setViewer(z.current),J.current.setExternalLinkRel(s),J.current.setExternalLinkTarget(o)}k.useEffect(Oe,[s,o]);function Te(Pe,ge){q.current[Pe]=ge}function we(Pe){delete q.current[Pe]}const De=k.useMemo(()=>({imageResourcesPath:c,linkService:J.current,onItemClick:h,pdf:j,registerPage:Te,renderMode:_,rotate:C,unregisterPage:we}),[c,h,j,_,C]),pe=k.useMemo(()=>aee(A,()=>j),[A,j]);function fe(){return he.jsx(uee.Provider,{value:De,children:t})}function Ae(){return a?j==null?he.jsx(_v,{type:"loading",children:typeof u=="function"?u():u}):j===!1?he.jsx(_v,{type:"error",children:typeof i=="function"?i():i}):fe():he.jsx(_v,{type:"no-data",children:typeof d=="function"?d():d})}return he.jsx("div",Object.assign({className:EP("react-pdf__Document",r),ref:l,style:{"--scale-factor":"1"}},pe,{children:Ae()}))});function fee(){return k.useContext(uee)}function pee(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(i){t.forEach(function(s){typeof s=="function"?s(i):s&&(s.current=i)})}}const mee=k.createContext(null),gee={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},oRe=/^H(\d+)$/;function aRe(n){return n in gee}function CP(n){return"children"in n}function vee(n){return CP(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function lRe(n){const e={};if(CP(n)){const{role:t}=n,r=t.match(oRe);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(aRe(t)){const i=gee[t];i&&(e.role=i)}}return e}function yee(n){const e={};if(CP(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),vee(n)){const[t]=n.children;if(t){const r=yee(t);return Object.assign(Object.assign({},e),r)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function cRe(n){return n?Object.assign(Object.assign({},lRe(n)),yee(n)):null}function xee({className:n,node:e}){const t=k.useMemo(()=>cRe(e),[e]),r=k.useMemo(()=>!CP(e)||vee(e)?null:e.children.map((i,s)=>he.jsx(xee,{node:i},s)),[e]);return he.jsx("span",Object.assign({className:n},t,{children:r}))}function AP(){return k.useContext(mee)}function uRe(){const n=AP();In(n,"Unable to find Page context.");const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,i]=qv(),{value:s,error:o}=r,{customTextRenderer:a,page:l}=n;function c(){s&&t&&t(s)}function u(){o&&(ji(!1,o.toString()),e&&e(o))}function d(){i({type:"RESET"})}k.useEffect(d,[i,l]);function h(){if(a||!l)return;const p=yb(l.getStructTree()),g=p;return p.promise.then(v=>{i({type:"RESOLVE",value:v})}).catch(v=>{i({type:"REJECT",error:v})}),()=>lp(g)}return k.useEffect(h,[a,l,i]),k.useEffect(()=>{if(s!==void 0){if(s===!1){u();return}c()}},[s]),s?he.jsx(xee,{className:"react-pdf__Page__structTree structTree",node:s}):null}const iV=ree;function dRe(n){const e=AP();In(e,"Unable to find Page context.");const t=Object.assign(Object.assign({},e),n),{_className:r,canvasBackground:i,devicePixelRatio:s=QPe(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:c,renderTextLayer:u,rotate:d,scale:h}=t,{canvasRef:p}=n;In(l,"Attempted to render page canvas, but no page was specified.");const g=k.useRef(null);function v(){l&&a&&a(YF(l,h))}function y(C){JPe(C)||(ji(!1,C.toString()),o&&o(C))}const x=k.useMemo(()=>l.getViewport({scale:h*s,rotation:d}),[s,l,d,h]),w=k.useMemo(()=>l.getViewport({scale:h,rotation:d}),[l,d,h]);function b(){if(!l)return;l.cleanup();const{current:C}=g;if(!C)return;C.width=x.width,C.height=x.height,C.style.width=`${Math.floor(w.width)}px`,C.style.height=`${Math.floor(w.height)}px`,C.style.visibility="hidden";const A={annotationMode:c?iV.ENABLE_FORMS:iV.ENABLE,canvasContext:C.getContext("2d",{alpha:!1}),viewport:x};i&&(A.background=i);const P=l.render(A),M=P;return P.promise.then(()=>{C.style.visibility="",v()}).catch(y),()=>lp(M)}k.useEffect(b,[i,g,s,l,c,x,w]);const _=k.useCallback(()=>{const{current:C}=g;C&&(C.width=0,C.height=0)},[g]);return k.useEffect(()=>_,[_]),he.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:pee(p,g),style:{display:"block",userSelect:"none"},children:u?he.jsx(uRe,{}):null})}function hRe(n){return"str"in n}function fRe(){const n=AP();In(n,"Unable to find Page context.");const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:l,rotate:c,scale:u}=n;In(o,"Attempted to load page text content, but no page was specified.");const[d,h]=qv(),{value:p,error:g}=d,v=k.useRef(null),y=k.useRef(void 0);ji(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function x(){p&&r&&r(p)}function w(){g&&(ji(!1,g.toString()),t&&t(g))}function b(){h({type:"RESET"})}k.useEffect(b,[o,h]);function _(){if(!o)return;const F=yb(o.getTextContent()),V=F;return F.promise.then(j=>{h({type:"RESOLVE",value:j})}).catch(j=>{h({type:"REJECT",error:j})}),()=>lp(V)}k.useEffect(_,[o,h]),k.useEffect(()=>{if(p!==void 0){if(p===!1){w();return}x()}},[p]);const C=k.useCallback(()=>{s&&s()},[s]),A=k.useCallback(F=>{ji(!1,F.toString()),i&&i(F)},[i]);function P(){const F=y.current;F&&F.classList.add("active")}function M(){const F=y.current;F&&F.classList.remove("active")}const L=k.useMemo(()=>o.getViewport({scale:u,rotation:c}),[o,c,u]);function I(){if(!o||!p)return;const{current:F}=v;if(!F)return;F.innerHTML="";const V=o.streamTextContent({includeMarkedContent:!0}),j={container:F,textContentSource:V,viewport:L},G=new iee(j),J=G;return G.render().then(()=>{const q=document.createElement("div");q.className="endOfContent",F.append(q),y.current=q;const H=F.querySelectorAll('[role="presentation"]');if(e){let D=0;p.items.forEach((z,B)=>{if(!hRe(z))return;const ee=H[D];if(!ee)return;const Y=e(Object.assign({pageIndex:a,pageNumber:l,itemIndex:B},z));ee.innerHTML=Y,D+=z.str&&z.hasEOL?2:1})}C()}).catch(A),()=>lp(J)}return k.useLayoutEffect(I,[e,A,C,o,a,l,p,L]),he.jsx("div",{className:EP("react-pdf__Page__textContent","textLayer"),onMouseUp:M,onMouseDown:P,ref:v})}function pRe(){const n=fee(),e=AP();In(e,"Unable to find Page context.");const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:r,linkService:i,onGetAnnotationsError:s,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:c,pdf:u,renderForms:d,rotate:h,scale:p=1}=t;In(u,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),In(c,"Attempted to load page annotations, but no page was specified."),In(i,"Attempted to load page annotations, but no linkService was specified.");const[g,v]=qv(),{value:y,error:x}=g,w=k.useRef(null);ji(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function b(){y&&o&&o(y)}function _(){x&&(ji(!1,x.toString()),s&&s(x))}function C(){v({type:"RESET"})}k.useEffect(C,[v,c]);function A(){if(!c)return;const F=yb(c.getAnnotations()),V=F;return F.promise.then(j=>{v({type:"RESOLVE",value:j})}).catch(j=>{v({type:"REJECT",error:j})}),()=>{lp(V)}}k.useEffect(A,[v,c,d]),k.useEffect(()=>{if(y!==void 0){if(y===!1){_();return}b()}},[y]);function P(){l&&l()}function M(F){ji(!1,`${F}`),a&&a(F)}const L=k.useMemo(()=>c.getViewport({scale:p,rotation:h}),[c,h,p]);function I(){if(!u||!c||!i||!y)return;const{current:F}=w;if(!F)return;const V=L.clone({dontFlip:!0}),j={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:F,l10n:null,page:c,viewport:V},G={annotations:y,annotationStorage:u.annotationStorage,div:F,imageResourcesPath:r,linkService:i,page:c,renderForms:d,viewport:V};F.innerHTML="";try{new nee(j).render(G),P()}catch(J){M(J)}return()=>{}}return k.useEffect(I,[y,r,i,c,d,L]),he.jsx("div",{className:EP("react-pdf__Page__annotations","annotationLayer"),ref:w})}var mRe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const sV=1;function gRe(n){const e=fee(),t=Object.assign(Object.assign({},e),n),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:s,canvasRef:o,children:a,className:l,customRenderer:c,customTextRenderer:u,devicePixelRatio:d,error:h="Failed to load the page.",height:p,inputRef:g,loading:v="Loading page…",noData:y="No page specified.",onGetAnnotationsError:x,onGetAnnotationsSuccess:w,onGetStructTreeError:b,onGetStructTreeSuccess:_,onGetTextError:C,onGetTextSuccess:A,onLoadError:P,onLoadSuccess:M,onRenderAnnotationLayerError:L,onRenderAnnotationLayerSuccess:I,onRenderError:F,onRenderSuccess:V,onRenderTextLayerError:j,onRenderTextLayerSuccess:G,pageIndex:J,pageNumber:q,pdf:H,registerPage:D,renderAnnotationLayer:z=!0,renderForms:B=!1,renderMode:ee="canvas",renderTextLayer:Y=!0,rotate:oe,scale:ce=sV,unregisterPage:me,width:de}=t,be=mRe(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Oe,Te]=qv(),{value:we,error:De}=Oe,pe=k.useRef(null);In(H,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const fe=dh(q)?q-1:J??null,Ae=q??(dh(J)?J+1:null),Pe=oe??(we?we.rotate:null),ge=k.useMemo(()=>{if(!we)return null;let T=1;const N=ce??sV;if(de||p){const U=we.getViewport({scale:1,rotation:Pe});de?T=de/U.width:p&&(T=p/U.height)}return N*T},[p,we,Pe,ce,de]);function je(){return()=>{dh(fe)&&i&&me&&me(fe)}}k.useEffect(je,[i,H,fe,me]);function We(){if(M){if(!we||!ge)return;M(YF(we,ge))}if(i&&D){if(!dh(fe)||!pe.current)return;D(fe,pe.current)}}function qe(){De&&(ji(!1,De.toString()),P&&P(De))}function Ze(){Te({type:"RESET"})}k.useEffect(Ze,[Te,H,fe]);function Xe(){if(!H||!Ae)return;const T=yb(H.getPage(Ae)),N=T;return T.promise.then(U=>{Te({type:"RESOLVE",value:U})}).catch(U=>{Te({type:"REJECT",error:U})}),()=>lp(N)}k.useEffect(Xe,[Te,H,fe,Ae,D]),k.useEffect(()=>{if(we!==void 0){if(we===!1){qe();return}We()}},[we,ge]);const te=k.useMemo(()=>we&&dh(fe)&&Ae&&dh(Pe)&&dh(ge)?{_className:r,canvasBackground:s,customTextRenderer:u,devicePixelRatio:d,onGetAnnotationsError:x,onGetAnnotationsSuccess:w,onGetStructTreeError:b,onGetStructTreeSuccess:_,onGetTextError:C,onGetTextSuccess:A,onRenderAnnotationLayerError:L,onRenderAnnotationLayerSuccess:I,onRenderError:F,onRenderSuccess:V,onRenderTextLayerError:j,onRenderTextLayerSuccess:G,page:we,pageIndex:fe,pageNumber:Ae,renderForms:B,renderTextLayer:Y,rotate:Pe,scale:ge}:null,[r,s,u,d,x,w,b,_,C,A,L,I,F,V,j,G,we,fe,Ae,B,Y,Pe,ge]),X=k.useMemo(()=>aee(be,()=>we&&(ge?YF(we,ge):void 0)),[be,we,ge]),ve=`${fe}@${ge}/${Pe}`;function Ce(){switch(ee){case"custom":return In(c,'renderMode was set to "custom", but no customRenderer was passed.'),he.jsx(c,{},`${ve}_custom`);case"none":return null;case"canvas":default:return he.jsx(dRe,{canvasRef:o},`${ve}_canvas`)}}function $e(){return Y?he.jsx(fRe,{},`${ve}_text`):null}function Ve(){return z?he.jsx(pRe,{},`${ve}_annotations`):null}function Je(){return he.jsxs(mee.Provider,{value:te,children:[Ce(),$e(),Ve(),a]})}function Ge(){return Ae?H===null||we===void 0||we===null?he.jsx(_v,{type:"loading",children:typeof v=="function"?v():v}):H===!1||we===!1?he.jsx(_v,{type:"error",children:typeof h=="function"?h():h}):Je():he.jsx(_v,{type:"no-data",children:typeof y=="function"?y():y})}return he.jsx("div",Object.assign({className:EP(r,l),"data-page-number":Ae,ref:pee(g,pe),style:{"--scale-factor":`${ge}`,backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},X,{children:Ge()}))}ZPe();uB.workerSrc="pdf.worker.mjs";const wee="SET_ZOOM_LEVEL",Zk=n=>({type:wee,value:n}),bee="SET_PDF_PAGINATED",vRe=n=>({type:bee,value:n}),_ee="SET_NUM_PAGES",oV=n=>({type:_ee,value:n}),See="SET_CURRENT_PAGE",Eee="SET_CURRENT_MAIN_STATE",aV=n=>({type:See,value:n}),Ju={defaultZoomLevel:1,zoomLevel:1,zoomJump:.1,paginated:!0,numPages:0,currentPage:1},yRe=(n=Ju,e)=>{switch(e.type){case wee:{const{value:t}=e;return{...n,zoomLevel:t}}case bee:{const{value:t}=e;return{...n,paginated:t}}case _ee:{const{value:t}=e;return{...n,numPages:t}}case See:{const{value:t}=e;return{...n,currentPage:t}}case Eee:{const{value:t}=e;return{...n,mainState:t}}default:return n}},f0=k.createContext({state:Ju,dispatch:()=>null}),xRe=({children:n,mainState:e})=>{var t,r,i,s,o,a,l;const[c,u]=k.useReducer(yRe,{...Ju,defaultZoomLevel:((r=(t=e.config)==null?void 0:t.pdfZoom)==null?void 0:r.defaultZoom)??Ju.defaultZoomLevel,zoomLevel:((s=(i=e.config)==null?void 0:i.pdfZoom)==null?void 0:s.defaultZoom)??Ju.zoomLevel,zoomJump:((a=(o=e.config)==null?void 0:o.pdfZoom)==null?void 0:a.zoomJump)??Ju.zoomJump,paginated:(l=e.config)!=null&&l.pdfVerticalScrollByDefault?!1:Ju.paginated,mainState:e});return k.useEffect(()=>{u({type:Eee,value:e})},[e]),he.jsx(f0.Provider,{value:{state:c,dispatch:u},children:n})},Mee=({pageNum:n})=>{const{state:{mainState:e,paginated:t,zoomLevel:r,numPages:i,currentPage:s}}=k.useContext(f0),{t:o}=bp(),a=(e==null?void 0:e.rendererRect)||null,l=n??s;return he.jsxs(wRe,{id:"pdf-page-wrapper",$lastPage:l>=i,children:[!t&&he.jsx(bRe,{id:"pdf-page-info",children:o("pdfPluginPageNumber",{currentPage:l,allPagesCount:i})}),he.jsx(gRe,{pageNumber:l||s,scale:r,height:((a==null?void 0:a.height)??100)-100,width:((a==null?void 0:a.width)??100)-100,loading:o("pdfPluginLoading")})]})},wRe=tn.div`
  margin: ${n=>n.$lastPage?"20px 0":void 0};
`,bRe=tn.div`
  padding: 0 0 10px 10px;
  color: ${n=>n.theme.textTertiary};
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`,_Re=()=>{const{state:{numPages:n}}=k.useContext(f0),e=[];for(let t=0;t<n;t++)e.push(he.jsx(Mee,{pageNum:t+1},t+1));return he.jsx(he.Fragment,{children:e})},SRe=()=>{const{state:{mainState:n,paginated:e},dispatch:t}=k.useContext(f0),{t:r}=bp(),i=(n==null?void 0:n.currentDocument)||null;return k.useEffect(()=>{t(oV(Ju.numPages))},[i]),!i||i.fileData===void 0?null:he.jsx(ERe,{file:i.fileData,onLoadSuccess:({numPages:s})=>t(oV(s)),loading:he.jsx("span",{children:r("pdfPluginLoading")}),children:e?he.jsx(Mee,{}):he.jsx(_Re,{})})},ERe=tn(sRe)`
  display: flex;
  flex-direction: column;
  margin: 0 auto;
`,MRe=n=>he.jsx(Cee,{...n,reverse:!0}),CRe=n=>he.jsx(Cee,{...n}),Cee=n=>{const{color:e,size:t,reverse:r}=n;return he.jsx("svg",{width:t||"100%",height:t||"100%",style:{transform:`${r?"rotate(180deg)":""}`},viewBox:"0 0 12 12",version:"1.1",children:he.jsx("g",{id:"Icons",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:he.jsx("g",{id:"Rounded",transform:"translate(-548.000000, -1000.000000)",children:he.jsx("g",{id:"AV",transform:"translate(100.000000, 852.000000)",children:he.jsx("g",{id:"-Round-/-AV-/-skip_next",transform:"translate(442.000000, 142.000000)",children:he.jsxs("g",{children:[he.jsx("rect",{id:"Rectangle-Copy-52",x:"0",y:"0",width:"24",height:"24"}),he.jsx("path",{d:"M7.58,16.89 L13.35,12.82 C13.91,12.42 13.91,11.58 13.35,11.19 L7.58,7.11 C6.91,6.65 6,7.12 6,7.93 L6,16.07 C6,16.88 6.91,17.35 7.58,16.89 Z M16,7 L16,17 C16,17.55 16.45,18 17,18 C17.55,18 18,17.55 18,17 L18,7 C18,6.45 17.55,6 17,6 C16.45,6 16,6.45 16,7 Z",id:"icon_color",fill:e||"#aaa"})]})})})})})})},ARe=n=>{const{color:e,size:t,reverse:r}=n;return he.jsxs("svg",{width:t||"100%",height:t||"100%",style:{transform:`${r?"rotate(180deg)":""}`},id:"Layer_1",viewBox:"0 0 24 24",children:[he.jsx("path",{d:"M20.57,9.43A8,8,0,0,0,5.26,10,5,5,0,1,0,5,20h5V18H5a3,3,0,0,1,0-6,3.1,3.1,0,0,1,.79.12l1.12.31.14-1.15a6,6,0,0,1,11.74-.82l.15.54.54.16A3.46,3.46,0,0,1,22,14.5,3.5,3.5,0,0,1,18.5,18H16v2h2.5A5.48,5.48,0,0,0,20.57,9.43Z",fill:e||"#aaa"}),he.jsx("polygon",{points:"12 11 12 15.59 10.71 14.29 9.29 15.71 13 19.41 16.71 15.71 15.29 14.29 14 15.59 14 11 12 11",fill:e||"#aaa"})]})},TRe=n=>he.jsx(Aee,{...n}),PRe=n=>he.jsx(Aee,{...n,reverse:!0}),Aee=n=>{const{color:e,size:t,reverse:r}=n;return he.jsx("svg",{width:t||"100%",height:t||"100%",viewBox:"0 0 32 32",version:"1.1",children:he.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:he.jsx("g",{id:"search-plus-icon",fill:e||"#aaa",children:he.jsx("path",{id:"search-plus",d:r?"M 13 13 L 16 13 L 19 13 L 19 16 L 16 16 L 13 16 L 10 16 L 10 13 Z M 19.4271 21.4271 C 18.0372 22.4175 16.3367 23 14.5 23 C 9.8056 23 6 19.1944 6 14.5 C 6 9.8056 9.8056 6 14.5 6 C 19.1944 6 23 9.8056 23 14.5 C 23 16.3367 22.4175 18.0372 21.4271 19.4271 L 27.0119 25.0119 C 27.5621 25.5621 27.5575 26.4425 27.0117 26.9883 L 26.9883 27.0117 C 26.4439 27.5561 25.5576 27.5576 25.0119 27.0119 L 19.4271 21.4271 L 19.4271 21.4271 L 19.4271 21.4271 Z M 14.5 21 C 18.0899 21 21 18.0899 21 14.5 C 21 10.9101 18.0899 8 14.5 8 C 10.9101 8 8 10.9101 8 14.5 C 8 18.0899 10.9101 21 14.5 21 L 14.5 21 Z":"M 13 13 L 13 10 L 16 10 L 16 13 L 19 13 L 19 16 L 16 16 L 16 19 L 13 19 L 13 16 L 10 16 L 10 13 Z M 19.4271 21.4271 C 18.0372 22.4175 16.3367 23 14.5 23 C 9.8056 23 6 19.1944 6 14.5 C 6 9.8056 9.8056 6 14.5 6 C 19.1944 6 23 9.8056 23 14.5 C 23 16.3367 22.4175 18.0372 21.4271 19.4271 L 27.0119 25.0119 C 27.5621 25.5621 27.5575 26.4425 27.0117 26.9883 L 26.9883 27.0117 C 26.4439 27.5561 25.5576 27.5576 25.0119 27.0119 L 19.4271 21.4271 L 19.4271 21.4271 L 19.4271 21.4271 Z M 14.5 21 C 18.0899 21 21 18.0899 21 14.5 C 21 10.9101 18.0899 8 14.5 8 C 10.9101 8 8 10.9101 8 14.5 C 8 18.0899 10.9101 21 14.5 21 L 14.5 21 Z"})})})})},RRe=n=>{const{color:e,size:t}=n;return he.jsx("svg",{width:t||"100%",height:t||"100%",viewBox:"0 0 24 24",children:he.jsx("path",{fill:e||"#aaa",d:"M9.29,13.29,4,18.59V17a1,1,0,0,0-2,0v4a1,1,0,0,0,.08.38,1,1,0,0,0,.54.54A1,1,0,0,0,3,22H7a1,1,0,0,0,0-2H5.41l5.3-5.29a1,1,0,0,0-1.42-1.42ZM5.41,4H7A1,1,0,0,0,7,2H3a1,1,0,0,0-.38.08,1,1,0,0,0-.54.54A1,1,0,0,0,2,3V7A1,1,0,0,0,4,7V5.41l5.29,5.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42ZM21,16a1,1,0,0,0-1,1v1.59l-5.29-5.3a1,1,0,0,0-1.42,1.42L18.59,20H17a1,1,0,0,0,0,2h4a1,1,0,0,0,.38-.08,1,1,0,0,0,.54-.54A1,1,0,0,0,22,21V17A1,1,0,0,0,21,16Zm.92-13.38a1,1,0,0,0-.54-.54A1,1,0,0,0,21,2H17a1,1,0,0,0,0,2h1.59l-5.3,5.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L20,5.41V7a1,1,0,0,0,2,0V3A1,1,0,0,0,21.92,2.62Z"})})},LRe=n=>{const{color:e,size:t,reverse:r}=n;return he.jsx("svg",{width:t||"100%",height:t||"100%",style:{transform:`${r?"rotate(90deg)":""}`},version:"1.1",id:"Scroll_1",viewBox:"0 0 297 297",xmlSpace:"preserve",children:he.jsx("path",{fill:e||"#aaa",d:`M206.004,200.723h-31.231V96.277h31.231c0.005,0,0.014,0,0.019,0c5.289,0,9.575-4.287,9.575-9.574
  c0-2.342-0.841-4.488-2.236-6.151L156.168,3.851C154.36,1.428,151.515,0,148.492,0c-3.023,0-5.868,1.428-7.675,3.851L83.302,80.98
  c-2.166,2.902-2.507,6.779-0.883,10.017c1.624,3.236,4.936,5.28,8.559,5.28h31.231v104.445H90.978c-3.623,0-6.934,2.044-8.559,5.28
  c-1.624,3.237-1.283,7.114,0.883,10.017l57.513,77.129c1.808,2.424,4.652,3.852,7.675,3.852c3.023,0,5.868-1.428,7.676-3.852
  l57.514-77.129c2.164-2.902,2.507-6.779,0.883-10.017C212.938,202.767,209.627,200.723,206.004,200.723z`})})},kRe=()=>{const{state:{currentPage:n,numPages:e},dispatch:t}=k.useContext(f0),{t:r}=bp();return he.jsxs(IRe,{id:"pdf-pagination",children:[he.jsx(Tee,{id:"pdf-pagination-prev",onClick:()=>t(aV(n-1)),disabled:n===1,children:he.jsx(MRe,{color:"#000",size:"50%"})}),he.jsx(DRe,{id:"pdf-pagination-info",children:r("pdfPluginPageNumber",{currentPage:n,allPagesCount:e})}),he.jsx(ORe,{id:"pdf-pagination-next",onClick:()=>t(aV(n+1)),disabled:n>=e,children:he.jsx(CRe,{color:"#000",size:"50%"})})]})},IRe=tn.div`
  display: flex;
  align-items: center;
`,Tee=tn(cP)`
  width: 30px;
  height: 30px;
  margin: 0 5px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`,ORe=tn(Tee)`
  margin: 0 20px 0 5px;
`,DRe=tn.div`
  color: ${n=>n.theme.textPrimary};
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`,NRe=()=>{const{t:n}=bp(),{state:{mainState:e,paginated:t,zoomLevel:r,numPages:i,zoomJump:s,defaultZoomLevel:o},dispatch:a}=k.useContext(f0),l=(e==null?void 0:e.currentDocument)||null;return he.jsxs(FRe,{id:"pdf-controls",children:[t&&i>1&&he.jsx(kRe,{}),(l==null?void 0:l.fileData)&&he.jsx(zRe,{id:"pdf-download",href:l==null?void 0:l.fileData,download:(l==null?void 0:l.fileName)||(l==null?void 0:l.uri),title:n("downloadButtonLabel"),children:he.jsx(ARe,{color:"#000",size:"75%"})}),he.jsx(DS,{id:"pdf-zoom-out",onMouseDown:()=>a(Zk(r-s)),children:he.jsx(PRe,{color:"#000",size:"80%"})}),he.jsx(DS,{id:"pdf-zoom-in",onMouseDown:()=>a(Zk(r+s)),children:he.jsx(TRe,{color:"#000",size:"80%"})}),he.jsx(DS,{id:"pdf-zoom-reset",onMouseDown:()=>a(Zk(o)),disabled:r===o,children:he.jsx(RRe,{color:"#000",size:"70%"})}),i>1&&he.jsx(DS,{id:"pdf-toggle-pagination",onMouseDown:()=>a(vRe(!t)),children:he.jsx(LRe,{color:"#000",size:"70%",reverse:t})})]})},FRe=tn.div`
  display: flex;
  position: sticky;
  top: 0;
  left: 0;
  z-index: 1;
  justify-content: flex-end;
  padding: 8px;
  background-color: ${n=>n.theme.tertiary};
  box-shadow: 0px 2px 3px #00000033;

  @media (max-width: 768px) {
    padding: 6px;
  }
`,DS=tn(cP)`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`,zRe=tn(aZ)`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`;uB.workerSrc=new URL(`https://unpkg.com/pdfjs-dist@${oee}/build/pdf.worker.min.mjs`).toString();const dB=({mainState:n})=>he.jsx(xRe,{mainState:n,children:he.jsxs(BRe,{id:"pdf-renderer","data-testid":"pdf-renderer",children:[he.jsx(NRe,{}),he.jsx(SRe,{})]})});dB.fileTypes=["pdf","application/pdf"];dB.weight=0;const BRe=tn.div`
  display: flex;
  flex-direction: column;
  flex: 1;

  /* width */
  &::-webkit-scrollbar {
    ${n=>n.theme.disableThemeScrollbar?"":"width: 10px"};
  }
  /* Track */
  &::-webkit-scrollbar-track {
    /* background: ${n=>n.theme.secondary}; */
  }
  /* Handle */
  &::-webkit-scrollbar-thumb {
    background: ${n=>n.theme.tertiary};
  }
  /* Handle on hover */
  &::-webkit-scrollbar-thumb:hover {
    background: ${n=>n.theme.primary};
  }
`,$Re=tn(zc)`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  height: 100%;
  background-color: white;
  background-image: linear-gradient(45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(-45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #e0e0e0 75%),
    linear-gradient(-45deg, transparent 75%, #e0e0e0 75%);
  background-size: 20px 20px;
  background-position:
    0 0,
    0 10px,
    10px -10px,
    -10px 0px;
`,hB=n=>he.jsx($Re,{...n});hB.fileTypes=["png","image/png"];hB.weight=0;let Sc,ao,K2=[];const URe=()=>{var n=As(2,0);if(n===18761)ao=!0;else if(n===19789)ao=!1;else throw TypeError("Invalid byte order value.");return ao},WRe=()=>{if(As(2,2)!==42)throw RangeError("You forgot your towel!");return!0},HRe=n=>{var e={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop"},t;return n in e?t=e[n]:t="Tag"+n,t},jRe=n=>{var e={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE"},t;return n in e&&(t=e[n]),t},VRe=n=>{var e;return["BYTE","ASCII","SBYTE","UNDEFINED"].indexOf(n)!==-1?e=1:["SHORT","SSHORT"].indexOf(n)!==-1?e=2:["LONG","SLONG","FLOAT"].indexOf(n)!==-1?e=4:["RATIONAL","SRATIONAL","DOUBLE"].indexOf(n)!==-1&&(e=8),e},GRe=(n,e,t)=>{t=t||0;var r=Math.floor(t/8),i=e+r,s=t+n,o=32-n;if(s<=0)throw RangeError("No bits requested");if(s<=8)var a=24+t,l=Sc.getUint8(i,ao);else if(s<=16)var a=16+t,l=Sc.getUint16(i,ao);else if(s<=32)var a=t,l=Sc.getUint32(i,ao);else throw RangeError("Too many bits requested");var c={bits:l<<a>>>o,byteOffset:i+Math.floor(s/8),bitOffset:s%8};return c},As=(n,e)=>{if(n<=0)throw RangeError("No bytes requested");if(n<=1)return Sc.getUint8(e,ao);if(n<=2)return Sc.getUint16(e,ao);if(n<=3)return Sc.getUint32(e,ao)>>>8;if(n<=4)return Sc.getUint32(e,ao);throw RangeError("Too many bytes requested")},qRe=(n,e,t,r)=>{var i=[],s=VRe(e),o=s*t;if(o<=4){if(ao===!1)var a=r>>>(4-s)*8;else var a=r;i.push(a)}else for(var l=0;l<t;l++){var c=s*l;if(s>=8)if(["RATIONAL","SRATIONAL"].indexOf(e)!==-1)i.push(As(4,r+c)),i.push(As(4,r+c+4));else throw TypeError("Can't handle this field type or size");else i.push(As(s,r+c))}return e==="ASCII"&&i.forEach(function(u,d,h){h[d]=String.fromCharCode(u)}),i},hh=(n,e)=>{var t=Math.pow(2,8-e);return Math.floor(n*t+(t-1))},lV=(n,e,t,r)=>(typeof r>"u"&&(r=1),"rgba("+n+", "+e+", "+t+", "+r+")"),Pee=n=>{for(var e=As(2,n),t=[],r=n+2,i=0;i<e;r+=12,i++){var s=As(2,r),o=As(2,r+2),a=As(4,r+4),l=As(4,r+8),c=HRe(s),u=jRe(o),d=qRe(c,u,a,l);t[c]={type:u,values:d}}K2.push(t);var h=As(4,r);return h===0?K2:Pee(h)},XRe=(n,e)=>{let t=e||document.createElement("canvas");if(n&&(Sc=new DataView(n),ao=URe(),!!WRe())){var r=As(4,4);K2=Pee(r);var i=K2[0],s=i.ImageWidth.values[0],o=i.ImageLength.values[0];t.width=s,t.height=o;var a=[],l=i.Compression?i.Compression.values[0]:1,c=i.SamplesPerPixel.values[0],u=[],d=0,h=!1;if(i.BitsPerSample.values.forEach(function(ve,Ce,$e){u[Ce]={bitsPerSample:ve,hasBytesPerSample:!1,bytesPerSample:void 0},ve%8===0&&(u[Ce].hasBytesPerSample=!0,u[Ce].bytesPerSample=ve/8),d+=ve},void 0),d%8===0){h=!0;var p=d/8}var g=i.StripOffsets.values,v=g.length;if(i.StripByteCounts)var y=i.StripByteCounts.values;else if(v===1)var y=[Math.ceil(s*o*d/8)];else throw Error("Cannot recover from missing StripByteCounts");for(var x=0;x<v;x++){var w=g[x];a[x]=[];for(var b=y[x],_=0,C=0,A=1,P=!0,M=[],L=0,I=0,F=0;_<b;_+=A)switch(l){case 1:for(var V=0,M=[];V<c;V++)if(u[V].hasBytesPerSample){var j=u[V].bytesPerSample*V;M.push(As(u[V].bytesPerSample,w+_+j))}else{var G=GRe(u[V].bitsPerSample,w+_,C);throw M.push(G.bits),_=G.byteOffset-w,C=G.bitOffset,RangeError("Cannot handle sub-byte bits per sample")}if(a[x].push(M),h)A=p;else throw A=0,RangeError("Cannot handle sub-byte bits per pixel");break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:break;case 7:break;case 32773:if(P){P=!1;var J=1,q=1,H=Sc.getInt8(w+_,ao);H>=0&&H<=127?J=H+1:H>=-127&&H<=-1?q=-H+1:P=!0}else{for(var D=As(1,w+_),V=0;V<q;V++){if(u[I].hasBytesPerSample)F=F<<8*L|D,L++,L===u[I].bytesPerSample&&(M.push(F),F=L=0,I++);else throw RangeError("Cannot handle sub-byte bits per sample");I===c&&(a[x].push(M),M=[],I=0)}J--,J===0&&(P=!0)}A=1;break}}if(t.getContext){var z=t.getContext("2d");if(z.fillStyle=lV(255,255,255,0),i.RowsPerStrip)var B=i.RowsPerStrip.values[0];else var B=o;var ee=a.length,Y=o%B,oe=Y===0?B:Y,ce=B,me=0,de=i.PhotometricInterpretation.values[0],be=[],Oe=0;if(i.ExtraSamples&&(be=i.ExtraSamples.values,Oe=be.length),i.ColorMap)var Te=i.ColorMap.values,we=Math.pow(2,u[0].bitsPerSample);for(var x=0;x<ee;x++){x+1===ee&&(ce=oe);for(var De=a[x].length,pe=me*x,fe=0,Ae=0;Ae<De;fe++)for(var Pe=0;Pe<s;Pe++,Ae++){var ge=a[x][Ae],je=0,We=0,qe=0,Ze=1;if(Oe>0){for(var Xe=0;Xe<Oe;Xe++)if(be[Xe]===1||be[Xe]===2){Ze=ge[3+Xe]/256;break}}switch(de){case 0:if(u[0].hasBytesPerSample)var te=Math.pow(16,u[0].bytesPerSample*2);ge.forEach(function(Ce,$e,Ve){Ve[$e]=te-Ce});case 1:je=We=qe=hh(ge[0],u[0].bitsPerSample);break;case 2:je=hh(ge[0],u[0].bitsPerSample),We=hh(ge[1],u[1].bitsPerSample),qe=hh(ge[2],u[2].bitsPerSample);break;case 3:if(Te===void 0)throw Error("Palette image missing color map");var X=ge[0];je=hh(Te[X],16),We=hh(Te[we+X],16),qe=hh(Te[2*we+X],16);break;case 4:throw RangeError("Not Yet Implemented: Transparency mask");case 5:throw RangeError("Not Yet Implemented: CMYK");case 6:throw RangeError("Not Yet Implemented: YCbCr");case 8:throw RangeError("Not Yet Implemented: CIELab");default:throw RangeError("Unknown Photometric Interpretation:",de)}z.fillStyle=lV(je,We,qe,Ze),z.fillRect(Pe,pe+fe,1,1)}me=ce}}return t}},TP=n=>{const{mainState:{currentDocument:e}}=n,{t}=bp(),[r,i]=k.useState(!1),[s,o]=k.useState(!1);return k.useEffect(()=>{if(!e||r)return;const a=document.getElementById("tiff-img");try{a&&XRe(e.fileData,a),i(!0)}catch{o(!0)}},[e,r]),s?he.jsx(zc,{...n,children:he.jsx("div",{children:t("brokenFile")})}):he.jsx(zc,{...n,children:he.jsx(YRe,{id:"tiff-img"})})};TP.fileTypes=["tif","tiff","image/tif","image/tiff"];TP.weight=0;TP.fileLoader=DCe;const YRe=tn.canvas`
  max-width: 95%;
  max-height: 95%;
`,PP=({mainState:{currentDocument:n}})=>he.jsx(KRe,{id:"txt-renderer",children:n==null?void 0:n.fileData});PP.fileTypes=["txt","text/plain"];PP.weight=0;PP.fileLoader=hZ;const KRe=tn.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 30px;
`;var Ree={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(n,e){(function(t,r){n.exports=r()})(zy,function t(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,o={},a=0,l={parse:function(M,L){var I=(L=L||{}).dynamicTyping||!1;if(P(I)&&(L.dynamicTypingFunction=I,I={}),L.dynamicTyping=I,L.transform=!!P(L.transform)&&L.transform,L.worker&&l.WORKERS_SUPPORTED){var F=function(){if(!l.WORKERS_SUPPORTED)return!1;var j=(J=r.URL||r.webkitURL||null,q=t.toString(),l.BLOB_URL||(l.BLOB_URL=J.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",q,")();"],{type:"text/javascript"})))),G=new r.Worker(j),J,q;return G.onmessage=w,G.id=a++,o[G.id]=G}();return F.userStep=L.step,F.userChunk=L.chunk,F.userComplete=L.complete,F.userError=L.error,L.step=P(L.step),L.chunk=P(L.chunk),L.complete=P(L.complete),L.error=P(L.error),delete L.worker,void F.postMessage({input:M,config:L,workerId:F.id})}var V=null;return l.NODE_STREAM_INPUT,typeof M=="string"?(M=function(j){return j.charCodeAt(0)===65279?j.slice(1):j}(M),V=L.download?new d(L):new p(L)):M.readable===!0&&P(M.read)&&P(M.on)?V=new g(L):(r.File&&M instanceof File||M instanceof Object)&&(V=new h(L)),V.stream(M)},unparse:function(M,L){var I=!1,F=!0,V=",",j=`\r
`,G='"',J=G+G,q=!1,H=null,D=!1;(function(){if(typeof L=="object"){if(typeof L.delimiter!="string"||l.BAD_DELIMITERS.filter(function(Y){return L.delimiter.indexOf(Y)!==-1}).length||(V=L.delimiter),(typeof L.quotes=="boolean"||typeof L.quotes=="function"||Array.isArray(L.quotes))&&(I=L.quotes),typeof L.skipEmptyLines!="boolean"&&typeof L.skipEmptyLines!="string"||(q=L.skipEmptyLines),typeof L.newline=="string"&&(j=L.newline),typeof L.quoteChar=="string"&&(G=L.quoteChar),typeof L.header=="boolean"&&(F=L.header),Array.isArray(L.columns)){if(L.columns.length===0)throw new Error("Option columns is empty");H=L.columns}L.escapeChar!==void 0&&(J=L.escapeChar+G),(typeof L.escapeFormulae=="boolean"||L.escapeFormulae instanceof RegExp)&&(D=L.escapeFormulae instanceof RegExp?L.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var z=new RegExp(y(G),"g");if(typeof M=="string"&&(M=JSON.parse(M)),Array.isArray(M)){if(!M.length||Array.isArray(M[0]))return B(null,M,q);if(typeof M[0]=="object")return B(H||Object.keys(M[0]),M,q)}else if(typeof M=="object")return typeof M.data=="string"&&(M.data=JSON.parse(M.data)),Array.isArray(M.data)&&(M.fields||(M.fields=M.meta&&M.meta.fields||H),M.fields||(M.fields=Array.isArray(M.data[0])?M.fields:typeof M.data[0]=="object"?Object.keys(M.data[0]):[]),Array.isArray(M.data[0])||typeof M.data[0]=="object"||(M.data=[M.data])),B(M.fields||[],M.data||[],q);throw new Error("Unable to serialize unrecognized input");function B(Y,oe,ce){var me="";typeof Y=="string"&&(Y=JSON.parse(Y)),typeof oe=="string"&&(oe=JSON.parse(oe));var de=Array.isArray(Y)&&0<Y.length,be=!Array.isArray(oe[0]);if(de&&F){for(var Oe=0;Oe<Y.length;Oe++)0<Oe&&(me+=V),me+=ee(Y[Oe],Oe);0<oe.length&&(me+=j)}for(var Te=0;Te<oe.length;Te++){var we=de?Y.length:oe[Te].length,De=!1,pe=de?Object.keys(oe[Te]).length===0:oe[Te].length===0;if(ce&&!de&&(De=ce==="greedy"?oe[Te].join("").trim()==="":oe[Te].length===1&&oe[Te][0].length===0),ce==="greedy"&&de){for(var fe=[],Ae=0;Ae<we;Ae++){var Pe=be?Y[Ae]:Ae;fe.push(oe[Te][Pe])}De=fe.join("").trim()===""}if(!De){for(var ge=0;ge<we;ge++){0<ge&&!pe&&(me+=V);var je=de&&be?Y[ge]:ge;me+=ee(oe[Te][je],ge)}Te<oe.length-1&&(!ce||0<we&&!pe)&&(me+=j)}}return me}function ee(Y,oe){if(Y==null)return"";if(Y.constructor===Date)return JSON.stringify(Y).slice(1,25);var ce=!1;D&&typeof Y=="string"&&D.test(Y)&&(Y="'"+Y,ce=!0);var me=Y.toString().replace(z,J);return(ce=ce||I===!0||typeof I=="function"&&I(Y,oe)||Array.isArray(I)&&I[oe]||function(de,be){for(var Oe=0;Oe<be.length;Oe++)if(-1<de.indexOf(be[Oe]))return!0;return!1}(me,l.BAD_DELIMITERS)||-1<me.indexOf(V)||me.charAt(0)===" "||me.charAt(me.length-1)===" ")?G+me+G:me}}};if(l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!i&&!!r.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=x,l.ParserHandle=v,l.NetworkStreamer=d,l.FileStreamer=h,l.StringStreamer=p,l.ReadableStreamStreamer=g,r.jQuery){var c=r.jQuery;c.fn.parse=function(M){var L=M.config||{},I=[];return this.each(function(j){if(!(c(this).prop("tagName").toUpperCase()==="INPUT"&&c(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var G=0;G<this.files.length;G++)I.push({file:this.files[G],inputElem:this,instanceConfig:c.extend({},L)})}),F(),this;function F(){if(I.length!==0){var j,G,J,q,H=I[0];if(P(M.before)){var D=M.before(H.file,H.inputElem);if(typeof D=="object"){if(D.action==="abort")return j="AbortError",G=H.file,J=H.inputElem,q=D.reason,void(P(M.error)&&M.error({name:j},G,J,q));if(D.action==="skip")return void V();typeof D.config=="object"&&(H.instanceConfig=c.extend(H.instanceConfig,D.config))}else if(D==="skip")return void V()}var z=H.instanceConfig.complete;H.instanceConfig.complete=function(B){P(z)&&z(B,H.file,H.inputElem),V()},l.parse(H.file,H.instanceConfig)}else P(M.complete)&&M.complete()}function V(){I.splice(0,1),F()}}}function u(M){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(L){var I=C(L);I.chunkSize=parseInt(I.chunkSize),L.step||L.chunk||(I.chunkSize=null),this._handle=new v(I),(this._handle.streamer=this)._config=I}).call(this,M),this.parseChunk=function(L,I){if(this.isFirstChunk&&P(this._config.beforeFirstChunk)){var F=this._config.beforeFirstChunk(L);F!==void 0&&(L=F)}this.isFirstChunk=!1,this._halted=!1;var V=this._partialLine+L;this._partialLine="";var j=this._handle.parse(V,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var G=j.meta.cursor;this._finished||(this._partialLine=V.substring(G-this._baseIndex),this._baseIndex=G),j&&j.data&&(this._rowCount+=j.data.length);var J=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)r.postMessage({results:j,workerId:l.WORKER_ID,finished:J});else if(P(this._config.chunk)&&!I){if(this._config.chunk(j,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);j=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(j.data),this._completeResults.errors=this._completeResults.errors.concat(j.errors),this._completeResults.meta=j.meta),this._completed||!J||!P(this._config.complete)||j&&j.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),J||j&&j.meta.paused||this._nextChunk(),j}this._halted=!0},this._sendError=function(L){P(this._config.error)?this._config.error(L):s&&this._config.error&&r.postMessage({workerId:l.WORKER_ID,error:L,finished:!1})}}function d(M){var L;(M=M||{}).chunkSize||(M.chunkSize=l.RemoteChunkSize),u.call(this,M),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(L=new XMLHttpRequest,this._config.withCredentials&&(L.withCredentials=this._config.withCredentials),i||(L.onload=A(this._chunkLoaded,this),L.onerror=A(this._chunkError,this)),L.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var I=this._config.downloadRequestHeaders;for(var F in I)L.setRequestHeader(F,I[F])}if(this._config.chunkSize){var V=this._start+this._config.chunkSize-1;L.setRequestHeader("Range","bytes="+this._start+"-"+V)}try{L.send(this._config.downloadRequestBody)}catch(j){this._chunkError(j.message)}i&&L.status===0&&this._chunkError()}},this._chunkLoaded=function(){L.readyState===4&&(L.status<200||400<=L.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:L.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(I){var F=I.getResponseHeader("Content-Range");return F===null?-1:parseInt(F.substring(F.lastIndexOf("/")+1))}(L),this.parseChunk(L.responseText)))},this._chunkError=function(I){var F=L.statusText||I;this._sendError(new Error(F))}}function h(M){var L,I;(M=M||{}).chunkSize||(M.chunkSize=l.LocalChunkSize),u.call(this,M);var F=typeof FileReader<"u";this.stream=function(V){this._input=V,I=V.slice||V.webkitSlice||V.mozSlice,F?((L=new FileReader).onload=A(this._chunkLoaded,this),L.onerror=A(this._chunkError,this)):L=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var V=this._input;if(this._config.chunkSize){var j=Math.min(this._start+this._config.chunkSize,this._input.size);V=I.call(V,this._start,j)}var G=L.readAsText(V,this._config.encoding);F||this._chunkLoaded({target:{result:G}})},this._chunkLoaded=function(V){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(V.target.result)},this._chunkError=function(){this._sendError(L.error)}}function p(M){var L;u.call(this,M=M||{}),this.stream=function(I){return L=I,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var I,F=this._config.chunkSize;return F?(I=L.substring(0,F),L=L.substring(F)):(I=L,L=""),this._finished=!L,this.parseChunk(I)}}}function g(M){u.call(this,M=M||{});var L=[],I=!0,F=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(V){this._input=V,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){F&&L.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),L.length?this.parseChunk(L.shift()):I=!0},this._streamData=A(function(V){try{L.push(typeof V=="string"?V:V.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(L.shift()))}catch(j){this._streamError(j)}},this),this._streamError=A(function(V){this._streamCleanUp(),this._sendError(V)},this),this._streamEnd=A(function(){this._streamCleanUp(),F=!0,this._streamData("")},this),this._streamCleanUp=A(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(M){var L,I,F,V=Math.pow(2,53),j=-V,G=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,J=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,q=this,H=0,D=0,z=!1,B=!1,ee=[],Y={data:[],errors:[],meta:{}};if(P(M.step)){var oe=M.step;M.step=function(Te){if(Y=Te,de())me();else{if(me(),Y.data.length===0)return;H+=Te.data.length,M.preview&&H>M.preview?I.abort():(Y.data=Y.data[0],oe(Y,q))}}}function ce(Te){return M.skipEmptyLines==="greedy"?Te.join("").trim()==="":Te.length===1&&Te[0].length===0}function me(){return Y&&F&&(Oe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),F=!1),M.skipEmptyLines&&(Y.data=Y.data.filter(function(Te){return!ce(Te)})),de()&&function(){if(!Y)return;function Te(De,pe){P(M.transformHeader)&&(De=M.transformHeader(De,pe)),ee.push(De)}if(Array.isArray(Y.data[0])){for(var we=0;de()&&we<Y.data.length;we++)Y.data[we].forEach(Te);Y.data.splice(0,1)}else Y.data.forEach(Te)}(),function(){if(!Y||!M.header&&!M.dynamicTyping&&!M.transform)return Y;function Te(De,pe){var fe,Ae=M.header?{}:[];for(fe=0;fe<De.length;fe++){var Pe=fe,ge=De[fe];M.header&&(Pe=fe>=ee.length?"__parsed_extra":ee[fe]),M.transform&&(ge=M.transform(ge,Pe)),ge=be(Pe,ge),Pe==="__parsed_extra"?(Ae[Pe]=Ae[Pe]||[],Ae[Pe].push(ge)):Ae[Pe]=ge}return M.header&&(fe>ee.length?Oe("FieldMismatch","TooManyFields","Too many fields: expected "+ee.length+" fields but parsed "+fe,D+pe):fe<ee.length&&Oe("FieldMismatch","TooFewFields","Too few fields: expected "+ee.length+" fields but parsed "+fe,D+pe)),Ae}var we=1;return!Y.data.length||Array.isArray(Y.data[0])?(Y.data=Y.data.map(Te),we=Y.data.length):Y.data=Te(Y.data,0),M.header&&Y.meta&&(Y.meta.fields=ee),D+=we,Y}()}function de(){return M.header&&ee.length===0}function be(Te,we){return De=Te,M.dynamicTypingFunction&&M.dynamicTyping[De]===void 0&&(M.dynamicTyping[De]=M.dynamicTypingFunction(De)),(M.dynamicTyping[De]||M.dynamicTyping)===!0?we==="true"||we==="TRUE"||we!=="false"&&we!=="FALSE"&&(function(pe){if(G.test(pe)){var fe=parseFloat(pe);if(j<fe&&fe<V)return!0}return!1}(we)?parseFloat(we):J.test(we)?new Date(we):we===""?null:we):we;var De}function Oe(Te,we,De,pe){var fe={type:Te,code:we,message:De};pe!==void 0&&(fe.row=pe),Y.errors.push(fe)}this.parse=function(Te,we,De){var pe=M.quoteChar||'"';if(M.newline||(M.newline=function(Pe,ge){Pe=Pe.substring(0,1048576);var je=new RegExp(y(ge)+"([^]*?)"+y(ge),"gm"),We=(Pe=Pe.replace(je,"")).split("\r"),qe=Pe.split(`
`),Ze=1<qe.length&&qe[0].length<We[0].length;if(We.length===1||Ze)return`
`;for(var Xe=0,te=0;te<We.length;te++)We[te][0]===`
`&&Xe++;return Xe>=We.length/2?`\r
`:"\r"}(Te,pe)),F=!1,M.delimiter)P(M.delimiter)&&(M.delimiter=M.delimiter(Te),Y.meta.delimiter=M.delimiter);else{var fe=function(Pe,ge,je,We,qe){var Ze,Xe,te,X;qe=qe||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var ve=0;ve<qe.length;ve++){var Ce=qe[ve],$e=0,Ve=0,Je=0;te=void 0;for(var Ge=new x({comments:We,delimiter:Ce,newline:ge,preview:10}).parse(Pe),T=0;T<Ge.data.length;T++)if(je&&ce(Ge.data[T]))Je++;else{var N=Ge.data[T].length;Ve+=N,te!==void 0?0<N&&($e+=Math.abs(N-te),te=N):te=N}0<Ge.data.length&&(Ve/=Ge.data.length-Je),(Xe===void 0||$e<=Xe)&&(X===void 0||X<Ve)&&1.99<Ve&&(Xe=$e,Ze=Ce,X=Ve)}return{successful:!!(M.delimiter=Ze),bestDelimiter:Ze}}(Te,M.newline,M.skipEmptyLines,M.comments,M.delimitersToGuess);fe.successful?M.delimiter=fe.bestDelimiter:(F=!0,M.delimiter=l.DefaultDelimiter),Y.meta.delimiter=M.delimiter}var Ae=C(M);return M.preview&&M.header&&Ae.preview++,L=Te,I=new x(Ae),Y=I.parse(L,we,De),me(),z?{meta:{paused:!0}}:Y||{meta:{paused:!1}}},this.paused=function(){return z},this.pause=function(){z=!0,I.abort(),L=P(M.chunk)?"":L.substring(I.getCharIndex())},this.resume=function(){q.streamer._halted?(z=!1,q.streamer.parseChunk(L,!0)):setTimeout(q.resume,3)},this.aborted=function(){return B},this.abort=function(){B=!0,I.abort(),Y.meta.aborted=!0,P(M.complete)&&M.complete(Y),L=""}}function y(M){return M.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(M){var L,I=(M=M||{}).delimiter,F=M.newline,V=M.comments,j=M.step,G=M.preview,J=M.fastMode,q=L=M.quoteChar===void 0||M.quoteChar===null?'"':M.quoteChar;if(M.escapeChar!==void 0&&(q=M.escapeChar),(typeof I!="string"||-1<l.BAD_DELIMITERS.indexOf(I))&&(I=","),V===I)throw new Error("Comment character same as delimiter");V===!0?V="#":(typeof V!="string"||-1<l.BAD_DELIMITERS.indexOf(V))&&(V=!1),F!==`
`&&F!=="\r"&&F!==`\r
`&&(F=`
`);var H=0,D=!1;this.parse=function(z,B,ee){if(typeof z!="string")throw new Error("Input must be a string");var Y=z.length,oe=I.length,ce=F.length,me=V.length,de=P(j),be=[],Oe=[],Te=[],we=H=0;if(!z)return U();if(M.header&&!B){var De=z.split(F)[0].split(I),pe=[],fe={},Ae=!1;for(var Pe in De){var ge=De[Pe];P(M.transformHeader)&&(ge=M.transformHeader(ge,Pe));var je=ge,We=fe[ge]||0;for(0<We&&(Ae=!0,je=ge+"_"+We),fe[ge]=We+1;pe.includes(je);)je=je+"_"+We;pe.push(je)}if(Ae){var qe=z.split(F);qe[0]=pe.join(I),z=qe.join(F)}}if(J||J!==!1&&z.indexOf(L)===-1){for(var Ze=z.split(F),Xe=0;Xe<Ze.length;Xe++){if(Te=Ze[Xe],H+=Te.length,Xe!==Ze.length-1)H+=F.length;else if(ee)return U();if(!V||Te.substring(0,me)!==V){if(de){if(be=[],Je(Te.split(I)),ne(),D)return U()}else Je(Te.split(I));if(G&&G<=Xe)return be=be.slice(0,G),U(!0)}}return U()}for(var te=z.indexOf(I,H),X=z.indexOf(F,H),ve=new RegExp(y(q)+y(L),"g"),Ce=z.indexOf(L,H);;)if(z[H]!==L)if(V&&Te.length===0&&z.substring(H,H+me)===V){if(X===-1)return U();H=X+ce,X=z.indexOf(F,H),te=z.indexOf(I,H)}else if(te!==-1&&(te<X||X===-1))Te.push(z.substring(H,te)),H=te+oe,te=z.indexOf(I,H);else{if(X===-1)break;if(Te.push(z.substring(H,X)),N(X+ce),de&&(ne(),D))return U();if(G&&be.length>=G)return U(!0)}else for(Ce=H,H++;;){if((Ce=z.indexOf(L,Ce+1))===-1)return ee||Oe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:be.length,index:H}),T();if(Ce===Y-1)return T(z.substring(H,Ce).replace(ve,L));if(L!==q||z[Ce+1]!==q){if(L===q||Ce===0||z[Ce-1]!==q){te!==-1&&te<Ce+1&&(te=z.indexOf(I,Ce+1)),X!==-1&&X<Ce+1&&(X=z.indexOf(F,Ce+1));var $e=Ge(X===-1?te:Math.min(te,X));if(z.substr(Ce+1+$e,oe)===I){Te.push(z.substring(H,Ce).replace(ve,L)),z[H=Ce+1+$e+oe]!==L&&(Ce=z.indexOf(L,H)),te=z.indexOf(I,H),X=z.indexOf(F,H);break}var Ve=Ge(X);if(z.substring(Ce+1+Ve,Ce+1+Ve+ce)===F){if(Te.push(z.substring(H,Ce).replace(ve,L)),N(Ce+1+Ve+ce),te=z.indexOf(I,H),Ce=z.indexOf(L,H),de&&(ne(),D))return U();if(G&&be.length>=G)return U(!0);break}Oe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:be.length,index:H}),Ce++}}else Ce++}return T();function Je(se){be.push(se),we=H}function Ge(se){var K=0;if(se!==-1){var le=z.substring(Ce+1,se);le&&le.trim()===""&&(K=le.length)}return K}function T(se){return ee||(se===void 0&&(se=z.substring(H)),Te.push(se),H=Y,Je(Te),de&&ne()),U()}function N(se){H=se,Je(Te),Te=[],X=z.indexOf(F,H)}function U(se){return{data:be,errors:Oe,meta:{delimiter:I,linebreak:F,aborted:D,truncated:!!se,cursor:we+(B||0)}}}function ne(){j(U()),be=[],Oe=[]}},this.abort=function(){D=!0},this.getCharIndex=function(){return H}}function w(M){var L=M.data,I=o[L.workerId],F=!1;if(L.error)I.userError(L.error,L.file);else if(L.results&&L.results.data){var V={abort:function(){F=!0,b(L.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(P(I.userStep)){for(var j=0;j<L.results.data.length&&(I.userStep({data:L.results.data[j],errors:L.results.errors,meta:L.results.meta},V),!F);j++);delete L.results}else P(I.userChunk)&&(I.userChunk(L.results,V,L.file),delete L.results)}L.finished&&!F&&b(L.workerId,L.results)}function b(M,L){var I=o[M];P(I.userComplete)&&I.userComplete(L),I.terminate(),delete o[M]}function _(){throw new Error("Not implemented.")}function C(M){if(typeof M!="object"||M===null)return M;var L=Array.isArray(M)?[]:{};for(var I in M)L[I]=C(M[I]);return L}function A(M,L){return function(){M.apply(L,arguments)}}function P(M){return typeof M=="function"}return s&&(r.onmessage=function(M){var L=M.data;if(l.WORKER_ID===void 0&&L&&(l.WORKER_ID=L.workerId),typeof L.input=="string")r.postMessage({workerId:l.WORKER_ID,results:l.parse(L.input,L.config),finished:!0});else if(r.File&&L.input instanceof File||L.input instanceof Object){var I=l.parse(L.input,L.config);I&&r.postMessage({workerId:l.WORKER_ID,results:I,finished:!0})}}),(d.prototype=Object.create(u.prototype)).constructor=d,(h.prototype=Object.create(u.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,l})})(Ree);var QRe=Ree.exports;const ZRe=qK(QRe),RP=({mainState:{currentDocument:n,config:e}})=>{const[t,r]=k.useState([]);return k.useEffect(()=>{var i;if(n!=null&&n.fileData){const s=ZRe.parse(n.fileData,{delimiter:(e==null?void 0:e.csvDelimiter)??","});!((i=s.errors)!=null&&i.length)&&s.data&&r(s.data)}},[n,e==null?void 0:e.csvDelimiter]),t.length?he.jsx(JRe,{children:he.jsxs(eLe,{children:[he.jsx("thead",{children:he.jsx("tr",{children:t[0].map(i=>he.jsx("th",{children:i},i))})}),he.jsx("tbody",{children:t.slice(1,t.length).map(i=>he.jsx("tr",{children:i.map(s=>he.jsx("td",{children:s},s))},i.join("")))})]})}):null};RP.fileTypes=["csv","text/csv"];RP.weight=0;RP.fileLoader=hZ;const JRe=tn.div`
  width: 100%;
`,eLe=tn.table`
  width: 100%;
  text-align: left;

  th,
  td {
    padding: 5px 10px;

    &:empty {
      display: none;
    }
  }
`,fB=n=>he.jsx(zc,{...n});fB.fileTypes=["gif","image/gif"];fB.weight=0;const pB=({mainState:{currentDocument:n}})=>n?he.jsx(tLe,{id:"video-renderer",children:he.jsx(nLe,{controls:!0,src:n.uri})}):null;pB.fileTypes=["video/mp4","video/quicktime","video/x-msvideo"];pB.weight=0;const tLe=tn.div`
  width: 100%;
`,nLe=tn.video`
  width: 100%;
  height: 100%;
  border: 0;
`,mB=n=>he.jsx(zc,{...n});mB.fileTypes=["webp","image/webp"];mB.weight=0;const Lee=[Q5,uP,Z5,dP,dB,hB,TP,PP,RP,fB,pB,mB],rLe=k.forwardRef((n,e)=>{const{documents:t,theme:r}=n;if(!t)throw new Error("Please provide an array of documents to DocViewer!");return he.jsx(sCe,{ref:e,pluginRenderers:Lee,...n,children:he.jsx(HSe,{theme:r?{...cj,...r}:cj,children:he.jsxs(sLe,{id:"react-doc-viewer","data-testid":"react-doc-viewer",className:n.className,style:n.style,children:[he.jsx(ICe,{}),he.jsx(UCe,{})]})})})}),iLe=k.memo(rLe),sLe=tn.div`
  display: flex;
  flex-direction: column;
  background: #ffffff;
  width: 100%;
  height: 100%;
`,oLe=()=>{const{labPath:n}=Nz(),e=Kw(),[t,r]=k.useState(),i=`/labs/${n}`,s=`${i}/models`,{currentData:o,isFetching:a,isSuccess:l}=L5({path:i,refetchOnMountOrArgChange:!0});console.log(t==null?void 0:t.path.replace("disk:",""));const{currentData:c,isUninitialized:u,isFetching:d}=GK({path:t==null?void 0:t.path.replace("disk:","")},{skip:!t});console.log(c);const h=a||u||d,p=c?[{uri:c.href}]:[];return k.useEffect(()=>{if(l){const g=o.find(v=>v.type==="file");r(g)}},[l]),he.jsxs(Qf,{vertical:!0,gap:20,children:[he.jsx(Ed,{type:"primary",onClick:()=>{e(s)},children:"Перейти к списку моделей"}),he.jsx(Ed,{type:"primary",onClick:()=>{e("/labs")},children:"Вернуться к списку"}),h?he.jsx(a0,{size:"large"}):he.jsx(iLe,{documents:p,pluginRenderers:Lee,config:{header:{disableHeader:!0}},style:{height:1e3}})]})};/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const LP="146",Uh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Wh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},kee=0,KF=1,Iee=2,aLe=3,Oee=0,kP=1,Cx=2,xf=3,cp=0,uo=1,Ec=2,Lc=0,Ff=1,QF=2,ZF=3,JF=4,Dee=5,ef=100,Nee=101,Fee=102,e4=103,t4=104,zee=200,Bee=201,$ee=202,Uee=203,gB=204,vB=205,Wee=206,Hee=207,jee=208,Vee=209,Gee=210,qee=0,Xee=1,Yee=2,Q2=3,Kee=4,Qee=5,Zee=6,Jee=7,xb=0,ete=1,tte=2,Na=0,nte=1,rte=2,ite=3,yB=4,ste=5,IP=300,Td=301,Pd=302,Ew=303,Mw=304,p0=306,Cw=1e3,Vi=1001,Aw=1002,Mr=1003,Z2=1004,lLe=1004,J2=1005,cLe=1005,fr=1006,xB=1007,uLe=1007,Mp=1008,dLe=1008,$c=1009,ote=1010,ate=1011,wB=1012,lte=1013,ud=1014,Mc=1015,Xv=1016,cte=1017,ute=1018,zf=1020,dte=1021,hte=1022,Ts=1023,fte=1024,pte=1025,wd=1026,up=1027,mte=1028,gte=1029,vte=1030,yte=1031,xte=1033,ZC=33776,JC=33777,eA=33778,tA=33779,n4=35840,r4=35841,i4=35842,s4=35843,wte=36196,o4=37492,a4=37496,l4=37808,c4=37809,u4=37810,d4=37811,h4=37812,f4=37813,p4=37814,m4=37815,g4=37816,v4=37817,y4=37818,x4=37819,w4=37820,b4=37821,_4=36492,bte=2200,_te=2201,Ste=2202,Tw=2300,Pw=2301,nA=2302,wf=2400,bf=2401,Rw=2402,OP=2500,bB=2501,hLe=0,fLe=1,pLe=2,Rd=3e3,Kn=3001,Ete=3200,Mte=3201,Wd=0,Cte=1,mLe="",fl="srgb",dd="srgb-linear",gLe=0,rA=7680,vLe=7681,yLe=7682,xLe=7683,wLe=34055,bLe=34056,_Le=5386,SLe=512,ELe=513,MLe=514,CLe=515,ALe=516,TLe=517,PLe=518,Ate=519,Lw=35044,RLe=35048,LLe=35040,kLe=35045,ILe=35049,OLe=35041,DLe=35046,NLe=35050,FLe=35042,zLe="100",S4="300 es",eT=1035;class Tl{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Li=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let cV=1234567;const Bf=Math.PI/180,kw=180/Math.PI;function ho(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Li[n&255]+Li[n>>8&255]+Li[n>>16&255]+Li[n>>24&255]+"-"+Li[e&255]+Li[e>>8&255]+"-"+Li[e>>16&15|64]+Li[e>>24&255]+"-"+Li[t&63|128]+Li[t>>8&255]+"-"+Li[t>>16&255]+Li[t>>24&255]+Li[r&255]+Li[r>>8&255]+Li[r>>16&255]+Li[r>>24&255]).toLowerCase()}function pr(n,e,t){return Math.max(e,Math.min(t,n))}function _B(n,e){return(n%e+e)%e}function BLe(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function $Le(n,e,t){return n!==e?(t-n)/(e-n):0}function Ax(n,e,t){return(1-t)*n+t*e}function ULe(n,e,t,r){return Ax(n,e,1-Math.exp(-t*r))}function WLe(n,e=1){return e-Math.abs(_B(n,e*2)-e)}function HLe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function jLe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function VLe(n,e){return n+Math.floor(Math.random()*(e-n+1))}function GLe(n,e){return n+Math.random()*(e-n)}function qLe(n){return n*(.5-Math.random())}function XLe(n){n!==void 0&&(cV=n);let e=cV+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function YLe(n){return n*Bf}function KLe(n){return n*kw}function E4(n){return(n&n-1)===0&&n!==0}function Tte(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function tT(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function QLe(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),u=o((e+r)/2),d=s((e-r)/2),h=o((e-r)/2),p=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":n.set(a*u,l*d,l*h,a*c);break;case"YZY":n.set(l*h,a*u,l*d,a*c);break;case"ZXZ":n.set(l*d,l*h,a*u,a*c);break;case"XZX":n.set(a*u,l*g,l*p,a*c);break;case"YXY":n.set(l*p,a*u,l*g,a*c);break;case"ZYZ":n.set(l*g,l*p,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Cc(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function kn(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var ZLe=Object.freeze({__proto__:null,DEG2RAD:Bf,RAD2DEG:kw,generateUUID:ho,clamp:pr,euclideanModulo:_B,mapLinear:BLe,inverseLerp:$Le,lerp:Ax,damp:ULe,pingpong:WLe,smoothstep:HLe,smootherstep:jLe,randInt:VLe,randFloat:GLe,randFloatSpread:qLe,seededRandom:XLe,degToRad:YLe,radToDeg:KLe,isPowerOfTwo:E4,ceilPowerOfTwo:Tte,floorPowerOfTwo:tT,setQuaternionFromProperEuler:QLe,normalize:kn,denormalize:Cc});class He{constructor(e=0,t=0){He.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Rs{constructor(){Rs.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],d=r[7],h=r[2],p=r[5],g=r[8],v=i[0],y=i[3],x=i[6],w=i[1],b=i[4],_=i[7],C=i[2],A=i[5],P=i[8];return s[0]=o*v+a*w+l*C,s[3]=o*y+a*b+l*A,s[6]=o*x+a*_+l*P,s[1]=c*v+u*w+d*C,s[4]=c*y+u*b+d*A,s[7]=c*x+u*_+d*P,s[2]=h*v+p*w+g*C,s[5]=h*y+p*b+g*A,s[8]=h*x+p*_+g*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,h=a*l-u*s,p=c*s-o*l,g=t*d+r*h+i*p;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=d*v,e[1]=(i*c-u*r)*v,e[2]=(a*r-i*o)*v,e[3]=h*v,e[4]=(u*t-i*l)*v,e[5]=(i*s-a*t)*v,e[6]=p*v,e[7]=(r*l-c*t)*v,e[8]=(o*t-r*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],c=i[4],u=i[7];return i[0]=t*s+r*l,i[3]=t*o+r*c,i[6]=t*a+r*u,i[1]=-r*s+t*l,i[4]=-r*o+t*c,i[7]=-r*a+t*u,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function Pte(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const JLe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Zg(n,e){return new JLe[n](e)}function Iw(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function $f(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function iA(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const Jk={[fl]:{[dd]:$f},[dd]:{[fl]:iA}},Wo={legacyMode:!0,get workingColorSpace(){return dd},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(Jk[e]&&Jk[e][t]!==void 0){const r=Jk[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},Rte={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ir={r:0,g:0,b:0},pa={h:0,s:0,l:0},NS={h:0,s:0,l:0};function e3(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function FS(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class at{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=fl){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Wo.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=dd){return this.r=e,this.g=t,this.b=r,Wo.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=dd){if(e=_B(e,1),t=pr(t,0,1),r=pr(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=e3(o,s,e+1/3),this.g=e3(o,s,e),this.b=e3(o,s,e-1/3)}return Wo.toWorkingColorSpace(this,i),this}setStyle(e,t=fl){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Wo.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Wo.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,u=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,c,u,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Wo.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Wo.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=fl){const r=Rte[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=$f(e.r),this.g=$f(e.g),this.b=$f(e.b),this}copyLinearToSRGB(e){return this.r=iA(e.r),this.g=iA(e.g),this.b=iA(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=fl){return Wo.fromWorkingColorSpace(FS(this,Ir),e),pr(Ir.r*255,0,255)<<16^pr(Ir.g*255,0,255)<<8^pr(Ir.b*255,0,255)<<0}getHexString(e=fl){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=dd){Wo.fromWorkingColorSpace(FS(this,Ir),t);const r=Ir.r,i=Ir.g,s=Ir.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=dd){return Wo.fromWorkingColorSpace(FS(this,Ir),t),e.r=Ir.r,e.g=Ir.g,e.b=Ir.b,e}getStyle(e=fl){return Wo.fromWorkingColorSpace(FS(this,Ir),e),e!==fl?`color(${e} ${Ir.r} ${Ir.g} ${Ir.b})`:`rgb(${Ir.r*255|0},${Ir.g*255|0},${Ir.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(pa),pa.h+=e,pa.s+=t,pa.l+=r,this.setHSL(pa.h,pa.s,pa.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(pa),e.getHSL(NS);const r=Ax(pa.h,NS.h,t),i=Ax(pa.s,NS.s,t),s=Ax(pa.l,NS.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}at.NAMES=Rte;let pm;class SB{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{pm===void 0&&(pm=Iw("canvas")),pm.width=e.width,pm.height=e.height;const r=pm.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=pm}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Iw("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=$f(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor($f(t[r]/255)*255):t[r]=$f(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class _f{constructor(e=null){this.isSource=!0,this.uuid=ho(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(t3(i[o].image)):s.push(t3(i[o]))}else s=t3(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function t3(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?SB.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let eke=0;class Pr extends Tl{constructor(e=Pr.DEFAULT_IMAGE,t=Pr.DEFAULT_MAPPING,r=Vi,i=Vi,s=fr,o=Mp,a=Ts,l=$c,c=1,u=Rd){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:eke++}),this.uuid=ho(),this.name="",this.source=new _f(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new He(0,0),this.repeat=new He(1,1),this.center=new He(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Rs,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==IP)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Cw:e.x=e.x-Math.floor(e.x);break;case Vi:e.x=e.x<0?0:1;break;case Aw:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Cw:e.y=e.y-Math.floor(e.y);break;case Vi:e.y=e.y<0?0:1;break;case Aw:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Pr.DEFAULT_IMAGE=null;Pr.DEFAULT_MAPPING=IP;class _n{constructor(e=0,t=0,r=0,i=1){_n.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],d=l[8],h=l[1],p=l[5],g=l[9],v=l[2],y=l[6],x=l[10];if(Math.abs(u-h)<.01&&Math.abs(d-v)<.01&&Math.abs(g-y)<.01){if(Math.abs(u+h)<.1&&Math.abs(d+v)<.1&&Math.abs(g+y)<.1&&Math.abs(c+p+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(c+1)/2,_=(p+1)/2,C=(x+1)/2,A=(u+h)/4,P=(d+v)/4,M=(g+y)/4;return b>_&&b>C?b<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(b),i=A/r,s=P/r):_>C?_<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(_),r=A/i,s=M/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=P/s,i=M/s),this.set(r,i,s,t),this}let w=Math.sqrt((y-g)*(y-g)+(d-v)*(d-v)+(h-u)*(h-u));return Math.abs(w)<.001&&(w=1),this.x=(y-g)/w,this.y=(d-v)/w,this.z=(h-u)/w,this.w=Math.acos((c+p+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class aa extends Tl{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new _n(0,0,e,t),this.scissorTest=!1,this.viewport=new _n(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new Pr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:fr,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new _f(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class wb extends Pr{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Mr,this.minFilter=Mr,this.wrapR=Vi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class tke extends aa{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new wb(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class DP extends Pr{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Mr,this.minFilter=Mr,this.wrapR=Vi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class nke extends aa{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new DP(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class rke extends aa{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Xi{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const h=s[o+0],p=s[o+1],g=s[o+2],v=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d;return}if(a===1){e[t+0]=h,e[t+1]=p,e[t+2]=g,e[t+3]=v;return}if(d!==v||l!==h||c!==p||u!==g){let y=1-a;const x=l*h+c*p+u*g+d*v,w=x>=0?1:-1,b=1-x*x;if(b>Number.EPSILON){const C=Math.sqrt(b),A=Math.atan2(C,x*w);y=Math.sin(y*A)/C,a=Math.sin(a*A)/C}const _=a*w;if(l=l*y+h*_,c=c*y+p*_,u=u*y+g*_,d=d*y+v*_,y===1-a){const C=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=C,c*=C,u*=C,d*=C}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=s[o],h=s[o+1],p=s[o+2],g=s[o+3];return e[t]=a*g+u*d+l*p-c*h,e[t+1]=l*g+u*h+c*d-a*p,e[t+2]=c*g+u*p+a*h-l*d,e[t+3]=u*g-a*d-l*h-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),d=a(s/2),h=l(r/2),p=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=h*u*d+c*p*g,this._y=c*p*d-h*u*g,this._z=c*u*g+h*p*d,this._w=c*u*d-h*p*g;break;case"YXZ":this._x=h*u*d+c*p*g,this._y=c*p*d-h*u*g,this._z=c*u*g-h*p*d,this._w=c*u*d+h*p*g;break;case"ZXY":this._x=h*u*d-c*p*g,this._y=c*p*d+h*u*g,this._z=c*u*g+h*p*d,this._w=c*u*d-h*p*g;break;case"ZYX":this._x=h*u*d-c*p*g,this._y=c*p*d+h*u*g,this._z=c*u*g-h*p*d,this._w=c*u*d+h*p*g;break;case"YZX":this._x=h*u*d+c*p*g,this._y=c*p*d+h*u*g,this._z=c*u*g-h*p*d,this._w=c*u*d-h*p*g;break;case"XZY":this._x=h*u*d-c*p*g,this._y=c*p*d-h*u*g,this._z=c*u*g+h*p*d,this._w=c*u*d+h*p*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],d=t[10],h=r+a+d;if(h>0){const p=.5/Math.sqrt(h+1);this._w=.25/p,this._x=(u-l)*p,this._y=(s-c)*p,this._z=(o-i)*p}else if(r>a&&r>d){const p=2*Math.sqrt(1+r-a-d);this._w=(u-l)/p,this._x=.25*p,this._y=(i+o)/p,this._z=(s+c)/p}else if(a>d){const p=2*Math.sqrt(1+a-r-d);this._w=(s-c)/p,this._x=(i+o)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+d-r-a);this._w=(o-i)/p,this._x=(s+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(pr(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const p=1-t;return this._w=p*o+t*this._w,this._x=p*r+t*this._x,this._y=p*i+t*this._y,this._z=p*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,h=Math.sin(t*u)/c;return this._w=o*d+this._w*h,this._x=r*d+this._x*h,this._y=i*d+this._y*h,this._z=s*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class re{constructor(e=0,t=0,r=0){re.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(uV.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(uV.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*r,u=l*r+a*t-s*i,d=l*i+s*r-o*t,h=-s*t-o*r-a*i;return this.x=c*l+h*-s+u*-a-d*-o,this.y=u*l+h*-o+d*-s-c*-a,this.z=d*l+h*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return n3.copy(this).projectOnVector(e),this.sub(n3)}reflect(e){return this.sub(n3.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(pr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const n3=new re,uV=new Xi;class Cp{constructor(e=new re(1/0,1/0,1/0),t=new re(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],d=e[l+1],h=e[l+2];u<t&&(t=u),d<r&&(r=d),h<i&&(i=h),u>s&&(s=u),d>o&&(o=d),h>a&&(a=h)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),d=e.getY(l),h=e.getZ(l);u<t&&(t=u),d<r&&(r=d),h<i&&(i=h),u>s&&(s=u),d>o&&(o=d),h>a&&(a=h)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=fh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)fh.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(fh)}else r.boundingBox===null&&r.computeBoundingBox(),r3.copy(r.boundingBox),r3.applyMatrix4(e.matrixWorld),this.union(r3);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,fh),fh.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(xy),zS.subVectors(this.max,xy),mm.subVectors(e.a,xy),gm.subVectors(e.b,xy),vm.subVectors(e.c,xy),uu.subVectors(gm,mm),du.subVectors(vm,gm),ph.subVectors(mm,vm);let t=[0,-uu.z,uu.y,0,-du.z,du.y,0,-ph.z,ph.y,uu.z,0,-uu.x,du.z,0,-du.x,ph.z,0,-ph.x,-uu.y,uu.x,0,-du.y,du.x,0,-ph.y,ph.x,0];return!i3(t,mm,gm,vm,zS)||(t=[1,0,0,0,1,0,0,0,1],!i3(t,mm,gm,vm,zS))?!1:(BS.crossVectors(uu,du),t=[BS.x,BS.y,BS.z],i3(t,mm,gm,vm,zS))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return fh.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(fh).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:($l[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),$l[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),$l[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),$l[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),$l[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),$l[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),$l[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),$l[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints($l),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const $l=[new re,new re,new re,new re,new re,new re,new re,new re],fh=new re,r3=new Cp,mm=new re,gm=new re,vm=new re,uu=new re,du=new re,ph=new re,xy=new re,zS=new re,BS=new re,mh=new re;function i3(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){mh.fromArray(n,s);const a=i.x*Math.abs(mh.x)+i.y*Math.abs(mh.y)+i.z*Math.abs(mh.z),l=e.dot(mh),c=t.dot(mh),u=r.dot(mh);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const ike=new Cp,wy=new re,s3=new re;class Ap{constructor(e=new re,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):ike.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;wy.subVectors(e,this.center);const t=wy.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(wy,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(s3.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(wy.copy(e.center).add(s3)),this.expandByPoint(wy.copy(e.center).sub(s3))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ul=new re,o3=new re,$S=new re,hu=new re,a3=new re,US=new re,l3=new re;class m0{constructor(e=new re,t=new re(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ul)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ul.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ul.copy(this.direction).multiplyScalar(t).add(this.origin),Ul.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){o3.copy(e).add(t).multiplyScalar(.5),$S.copy(t).sub(e).normalize(),hu.copy(this.origin).sub(o3);const s=e.distanceTo(t)*.5,o=-this.direction.dot($S),a=hu.dot(this.direction),l=-hu.dot($S),c=hu.lengthSq(),u=Math.abs(1-o*o);let d,h,p,g;if(u>0)if(d=o*l-a,h=o*a-l,g=s*u,d>=0)if(h>=-g)if(h<=g){const v=1/u;d*=v,h*=v,p=d*(d+o*h+2*a)+h*(o*d+h+2*l)+c}else h=s,d=Math.max(0,-(o*h+a)),p=-d*d+h*(h+2*l)+c;else h=-s,d=Math.max(0,-(o*h+a)),p=-d*d+h*(h+2*l)+c;else h<=-g?(d=Math.max(0,-(-o*s+a)),h=d>0?-s:Math.min(Math.max(-s,-l),s),p=-d*d+h*(h+2*l)+c):h<=g?(d=0,h=Math.min(Math.max(-s,-l),s),p=h*(h+2*l)+c):(d=Math.max(0,-(o*s+a)),h=d>0?s:Math.min(Math.max(-s,-l),s),p=-d*d+h*(h+2*l)+c);else h=o>0?-s:s,d=Math.max(0,-(o*h+a)),p=-d*d+h*(h+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(d).add(this.origin),i&&i.copy($S).multiplyScalar(h).add(o3),p}intersectSphere(e,t){Ul.subVectors(e.center,this.origin);const r=Ul.dot(this.direction),i=Ul.dot(Ul)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,h=this.origin;return c>=0?(r=(e.min.x-h.x)*c,i=(e.max.x-h.x)*c):(r=(e.max.x-h.x)*c,i=(e.min.x-h.x)*c),u>=0?(s=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(s=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-h.z)*d,l=(e.max.z-h.z)*d):(a=(e.max.z-h.z)*d,l=(e.min.z-h.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Ul)!==null}intersectTriangle(e,t,r,i,s){a3.subVectors(t,e),US.subVectors(r,e),l3.crossVectors(a3,US);let o=this.direction.dot(l3),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;hu.subVectors(this.origin,e);const l=a*this.direction.dot(US.crossVectors(hu,US));if(l<0)return null;const c=a*this.direction.dot(a3.cross(hu));if(c<0||l+c>o)return null;const u=-a*hu.dot(l3);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Wt{constructor(){Wt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,c,u,d,h,p,g,v,y){const x=this.elements;return x[0]=e,x[4]=t,x[8]=r,x[12]=i,x[1]=s,x[5]=o,x[9]=a,x[13]=l,x[2]=c,x[6]=u,x[10]=d,x[14]=h,x[3]=p,x[7]=g,x[11]=v,x[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Wt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/ym.setFromMatrixColumn(e,0).length(),s=1/ym.setFromMatrixColumn(e,1).length(),o=1/ym.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const h=o*u,p=o*d,g=a*u,v=a*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=p+g*c,t[5]=h-v*c,t[9]=-a*l,t[2]=v-h*c,t[6]=g+p*c,t[10]=o*l}else if(e.order==="YXZ"){const h=l*u,p=l*d,g=c*u,v=c*d;t[0]=h+v*a,t[4]=g*a-p,t[8]=o*c,t[1]=o*d,t[5]=o*u,t[9]=-a,t[2]=p*a-g,t[6]=v+h*a,t[10]=o*l}else if(e.order==="ZXY"){const h=l*u,p=l*d,g=c*u,v=c*d;t[0]=h-v*a,t[4]=-o*d,t[8]=g+p*a,t[1]=p+g*a,t[5]=o*u,t[9]=v-h*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const h=o*u,p=o*d,g=a*u,v=a*d;t[0]=l*u,t[4]=g*c-p,t[8]=h*c+v,t[1]=l*d,t[5]=v*c+h,t[9]=p*c-g,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const h=o*l,p=o*c,g=a*l,v=a*c;t[0]=l*u,t[4]=v-h*d,t[8]=g*d+p,t[1]=d,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=p*d+g,t[10]=h-v*d}else if(e.order==="XZY"){const h=o*l,p=o*c,g=a*l,v=a*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=h*d+v,t[5]=o*u,t[9]=p*d-g,t[2]=g*d-p,t[6]=a*u,t[10]=v*d+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(ske,e,oke)}lookAt(e,t,r){const i=this.elements;return Zs.subVectors(e,t),Zs.lengthSq()===0&&(Zs.z=1),Zs.normalize(),fu.crossVectors(r,Zs),fu.lengthSq()===0&&(Math.abs(r.z)===1?Zs.x+=1e-4:Zs.z+=1e-4,Zs.normalize(),fu.crossVectors(r,Zs)),fu.normalize(),WS.crossVectors(Zs,fu),i[0]=fu.x,i[4]=WS.x,i[8]=Zs.x,i[1]=fu.y,i[5]=WS.y,i[9]=Zs.y,i[2]=fu.z,i[6]=WS.z,i[10]=Zs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],d=r[5],h=r[9],p=r[13],g=r[2],v=r[6],y=r[10],x=r[14],w=r[3],b=r[7],_=r[11],C=r[15],A=i[0],P=i[4],M=i[8],L=i[12],I=i[1],F=i[5],V=i[9],j=i[13],G=i[2],J=i[6],q=i[10],H=i[14],D=i[3],z=i[7],B=i[11],ee=i[15];return s[0]=o*A+a*I+l*G+c*D,s[4]=o*P+a*F+l*J+c*z,s[8]=o*M+a*V+l*q+c*B,s[12]=o*L+a*j+l*H+c*ee,s[1]=u*A+d*I+h*G+p*D,s[5]=u*P+d*F+h*J+p*z,s[9]=u*M+d*V+h*q+p*B,s[13]=u*L+d*j+h*H+p*ee,s[2]=g*A+v*I+y*G+x*D,s[6]=g*P+v*F+y*J+x*z,s[10]=g*M+v*V+y*q+x*B,s[14]=g*L+v*j+y*H+x*ee,s[3]=w*A+b*I+_*G+C*D,s[7]=w*P+b*F+_*J+C*z,s[11]=w*M+b*V+_*q+C*B,s[15]=w*L+b*j+_*H+C*ee,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],h=e[10],p=e[14],g=e[3],v=e[7],y=e[11],x=e[15];return g*(+s*l*d-i*c*d-s*a*h+r*c*h+i*a*p-r*l*p)+v*(+t*l*p-t*c*h+s*o*h-i*o*p+i*c*u-s*l*u)+y*(+t*c*d-t*a*p-s*o*d+r*o*p+s*a*u-r*c*u)+x*(-i*a*u-t*l*d+t*a*h+i*o*d-r*o*h+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],p=e[11],g=e[12],v=e[13],y=e[14],x=e[15],w=d*y*c-v*h*c+v*l*p-a*y*p-d*l*x+a*h*x,b=g*h*c-u*y*c-g*l*p+o*y*p+u*l*x-o*h*x,_=u*v*c-g*d*c+g*a*p-o*v*p-u*a*x+o*d*x,C=g*d*l-u*v*l-g*a*h+o*v*h+u*a*y-o*d*y,A=t*w+r*b+i*_+s*C;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/A;return e[0]=w*P,e[1]=(v*h*s-d*y*s-v*i*p+r*y*p+d*i*x-r*h*x)*P,e[2]=(a*y*s-v*l*s+v*i*c-r*y*c-a*i*x+r*l*x)*P,e[3]=(d*l*s-a*h*s-d*i*c+r*h*c+a*i*p-r*l*p)*P,e[4]=b*P,e[5]=(u*y*s-g*h*s+g*i*p-t*y*p-u*i*x+t*h*x)*P,e[6]=(g*l*s-o*y*s-g*i*c+t*y*c+o*i*x-t*l*x)*P,e[7]=(o*h*s-u*l*s+u*i*c-t*h*c-o*i*p+t*l*p)*P,e[8]=_*P,e[9]=(g*d*s-u*v*s-g*r*p+t*v*p+u*r*x-t*d*x)*P,e[10]=(o*v*s-g*a*s+g*r*c-t*v*c-o*r*x+t*a*x)*P,e[11]=(u*a*s-o*d*s-u*r*c+t*d*c+o*r*p-t*a*p)*P,e[12]=C*P,e[13]=(u*v*i-g*d*i+g*r*h-t*v*h-u*r*y+t*d*y)*P,e[14]=(g*a*i-o*v*i-g*r*l+t*v*l+o*r*y-t*a*y)*P,e[15]=(o*d*i-u*a*i+u*r*l-t*d*l-o*r*h+t*a*h)*P,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,d=a+a,h=s*c,p=s*u,g=s*d,v=o*u,y=o*d,x=a*d,w=l*c,b=l*u,_=l*d,C=r.x,A=r.y,P=r.z;return i[0]=(1-(v+x))*C,i[1]=(p+_)*C,i[2]=(g-b)*C,i[3]=0,i[4]=(p-_)*A,i[5]=(1-(h+x))*A,i[6]=(y+w)*A,i[7]=0,i[8]=(g+b)*P,i[9]=(y-w)*P,i[10]=(1-(h+v))*P,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=ym.set(i[0],i[1],i[2]).length();const o=ym.set(i[4],i[5],i[6]).length(),a=ym.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],ma.copy(this);const c=1/s,u=1/o,d=1/a;return ma.elements[0]*=c,ma.elements[1]*=c,ma.elements[2]*=c,ma.elements[4]*=u,ma.elements[5]*=u,ma.elements[6]*=u,ma.elements[8]*=d,ma.elements[9]*=d,ma.elements[10]*=d,t.setFromRotationMatrix(ma),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(r-i),u=(t+e)/(t-e),d=(r+i)/(r-i),h=-(o+s)/(o-s),p=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),c=1/(r-i),u=1/(o-s),d=(t+e)*l,h=(r+i)*c,p=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const ym=new re,ma=new Wt,ske=new re(0,0,0),oke=new re(1,1,1),fu=new re,WS=new re,Zs=new re,dV=new Wt,hV=new Xi;class g0{constructor(e=0,t=0,r=0,i=g0.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],h=i[6],p=i[10];switch(t){case"XYZ":this._y=Math.asin(pr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-pr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(pr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-pr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(pr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-pr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return dV.makeRotationFromQuaternion(e),this.setFromRotationMatrix(dV,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return hV.setFromEuler(this),this.setFromQuaternion(hV,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}g0.DefaultOrder="XYZ";g0.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Uf{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let ake=0;const fV=new re,xm=new Xi,Wl=new Wt,HS=new re,by=new re,lke=new re,cke=new Xi,pV=new re(1,0,0),mV=new re(0,1,0),gV=new re(0,0,1),uke={type:"added"},vV={type:"removed"};class mn extends Tl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ake++}),this.uuid=ho(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=mn.DefaultUp.clone();const e=new re,t=new g0,r=new Xi,i=new re(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Wt},normalMatrix:{value:new Rs}}),this.matrix=new Wt,this.matrixWorld=new Wt,this.matrixAutoUpdate=mn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=mn.DefaultMatrixWorldAutoUpdate,this.layers=new Uf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return xm.setFromAxisAngle(e,t),this.quaternion.multiply(xm),this}rotateOnWorldAxis(e,t){return xm.setFromAxisAngle(e,t),this.quaternion.premultiply(xm),this}rotateX(e){return this.rotateOnAxis(pV,e)}rotateY(e){return this.rotateOnAxis(mV,e)}rotateZ(e){return this.rotateOnAxis(gV,e)}translateOnAxis(e,t){return fV.copy(e).applyQuaternion(this.quaternion),this.position.add(fV.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(pV,e)}translateY(e){return this.translateOnAxis(mV,e)}translateZ(e){return this.translateOnAxis(gV,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Wl.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?HS.copy(e):HS.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),by.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Wl.lookAt(by,HS,this.up):Wl.lookAt(HS,by,this.up),this.quaternion.setFromRotationMatrix(Wl),i&&(Wl.extractRotation(i.matrixWorld),xm.setFromRotationMatrix(Wl),this.quaternion.premultiply(xm.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(uke)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(vV)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(vV)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Wl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Wl.multiply(e.parent.matrixWorld)),e.applyMatrix4(Wl),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(by,e,lke),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(by,cke,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),h=o(e.skeletons),p=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),h.length>0&&(r.skeletons=h),p.length>0&&(r.animations=p),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}mn.DefaultUp=new re(0,1,0);mn.DefaultMatrixAutoUpdate=!0;mn.DefaultMatrixWorldAutoUpdate=!0;const ga=new re,Hl=new re,c3=new re,jl=new re,wm=new re,bm=new re,yV=new re,u3=new re,d3=new re,h3=new re;class Zo{constructor(e=new re,t=new re,r=new re){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),ga.subVectors(e,t),i.cross(ga);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){ga.subVectors(i,t),Hl.subVectors(r,t),c3.subVectors(e,t);const o=ga.dot(ga),a=ga.dot(Hl),l=ga.dot(c3),c=Hl.dot(Hl),u=Hl.dot(c3),d=o*c-a*a;if(d===0)return s.set(-2,-1,-1);const h=1/d,p=(c*l-a*u)*h,g=(o*u-a*l)*h;return s.set(1-p-g,g,p)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,jl),jl.x>=0&&jl.y>=0&&jl.x+jl.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,jl),l.set(0,0),l.addScaledVector(s,jl.x),l.addScaledVector(o,jl.y),l.addScaledVector(a,jl.z),l}static isFrontFacing(e,t,r,i){return ga.subVectors(r,t),Hl.subVectors(e,t),ga.cross(Hl).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ga.subVectors(this.c,this.b),Hl.subVectors(this.a,this.b),ga.cross(Hl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Zo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Zo.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return Zo.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Zo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Zo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;wm.subVectors(i,r),bm.subVectors(s,r),u3.subVectors(e,r);const l=wm.dot(u3),c=bm.dot(u3);if(l<=0&&c<=0)return t.copy(r);d3.subVectors(e,i);const u=wm.dot(d3),d=bm.dot(d3);if(u>=0&&d<=u)return t.copy(i);const h=l*d-u*c;if(h<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(wm,o);h3.subVectors(e,s);const p=wm.dot(h3),g=bm.dot(h3);if(g>=0&&p<=g)return t.copy(s);const v=p*c-l*g;if(v<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(r).addScaledVector(bm,a);const y=u*g-p*d;if(y<=0&&d-u>=0&&p-g>=0)return yV.subVectors(s,i),a=(d-u)/(d-u+(p-g)),t.copy(i).addScaledVector(yV,a);const x=1/(y+v+h);return o=v*x,a=h*x,t.copy(r).addScaledVector(wm,o).addScaledVector(bm,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let dke=0;class Wr extends Tl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:dke++}),this.uuid=ho(),this.name="",this.type="Material",this.blending=Ff,this.side=cp,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=gB,this.blendDst=vB,this.blendEquation=ef,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Q2,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Ate,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=rA,this.stencilZFail=rA,this.stencilZPass=rA,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Ff&&(r.blending=this.blending),this.side!==cp&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Hd extends Wr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new at(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=xb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const wr=new re,jS=new He;class Dn{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=Lw,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)jS.fromBufferAttribute(this,t),jS.applyMatrix3(e),this.setXY(t,jS.x,jS.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)wr.fromBufferAttribute(this,t),wr.applyMatrix3(e),this.setXYZ(t,wr.x,wr.y,wr.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)wr.fromBufferAttribute(this,t),wr.applyMatrix4(e),this.setXYZ(t,wr.x,wr.y,wr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)wr.fromBufferAttribute(this,t),wr.applyNormalMatrix(e),this.setXYZ(t,wr.x,wr.y,wr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)wr.fromBufferAttribute(this,t),wr.transformDirection(e),this.setXYZ(t,wr.x,wr.y,wr.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Cc(t,this.array)),t}setX(e,t){return this.normalized&&(t=kn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Cc(t,this.array)),t}setY(e,t){return this.normalized&&(t=kn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Cc(t,this.array)),t}setZ(e,t){return this.normalized&&(t=kn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Cc(t,this.array)),t}setW(e,t){return this.normalized&&(t=kn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=kn(t,this.array),r=kn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=kn(t,this.array),r=kn(r,this.array),i=kn(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=kn(t,this.array),r=kn(r,this.array),i=kn(i,this.array),s=kn(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Lw&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class hke extends Dn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class fke extends Dn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class pke extends Dn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class mke extends Dn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class EB extends Dn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class gke extends Dn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class MB extends Dn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class vke extends Dn{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}}class ct extends Dn{constructor(e,t,r){super(new Float32Array(e),t,r)}}class yke extends Dn{constructor(e,t,r){super(new Float64Array(e),t,r)}}let xke=0;const Fo=new Wt,f3=new mn,_m=new re,Js=new Cp,_y=new Cp,Kr=new re;class Ht extends Tl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:xke++}),this.uuid=ho(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Pte(e)?MB:EB)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Rs().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Fo.makeRotationFromQuaternion(e),this.applyMatrix4(Fo),this}rotateX(e){return Fo.makeRotationX(e),this.applyMatrix4(Fo),this}rotateY(e){return Fo.makeRotationY(e),this.applyMatrix4(Fo),this}rotateZ(e){return Fo.makeRotationZ(e),this.applyMatrix4(Fo),this}translate(e,t,r){return Fo.makeTranslation(e,t,r),this.applyMatrix4(Fo),this}scale(e,t,r){return Fo.makeScale(e,t,r),this.applyMatrix4(Fo),this}lookAt(e){return f3.lookAt(e),f3.updateMatrix(),this.applyMatrix4(f3.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_m).negate(),this.translate(_m.x,_m.y,_m.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new ct(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Cp);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new re(-1/0,-1/0,-1/0),new re(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Js.setFromBufferAttribute(s),this.morphTargetsRelative?(Kr.addVectors(this.boundingBox.min,Js.min),this.boundingBox.expandByPoint(Kr),Kr.addVectors(this.boundingBox.max,Js.max),this.boundingBox.expandByPoint(Kr)):(this.boundingBox.expandByPoint(Js.min),this.boundingBox.expandByPoint(Js.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ap);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new re,1/0);return}if(e){const r=this.boundingSphere.center;if(Js.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];_y.setFromBufferAttribute(a),this.morphTargetsRelative?(Kr.addVectors(Js.min,_y.min),Js.expandByPoint(Kr),Kr.addVectors(Js.max,_y.max),Js.expandByPoint(Kr)):(Js.expandByPoint(_y.min),Js.expandByPoint(_y.max))}Js.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Kr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Kr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Kr.fromBufferAttribute(a,c),l&&(_m.fromBufferAttribute(e,c),Kr.add(_m)),i=Math.max(i,r.distanceToSquared(Kr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Dn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let I=0;I<a;I++)c[I]=new re,u[I]=new re;const d=new re,h=new re,p=new re,g=new He,v=new He,y=new He,x=new re,w=new re;function b(I,F,V){d.fromArray(i,I*3),h.fromArray(i,F*3),p.fromArray(i,V*3),g.fromArray(o,I*2),v.fromArray(o,F*2),y.fromArray(o,V*2),h.sub(d),p.sub(d),v.sub(g),y.sub(g);const j=1/(v.x*y.y-y.x*v.y);isFinite(j)&&(x.copy(h).multiplyScalar(y.y).addScaledVector(p,-v.y).multiplyScalar(j),w.copy(p).multiplyScalar(v.x).addScaledVector(h,-y.x).multiplyScalar(j),c[I].add(x),c[F].add(x),c[V].add(x),u[I].add(w),u[F].add(w),u[V].add(w))}let _=this.groups;_.length===0&&(_=[{start:0,count:r.length}]);for(let I=0,F=_.length;I<F;++I){const V=_[I],j=V.start,G=V.count;for(let J=j,q=j+G;J<q;J+=3)b(r[J+0],r[J+1],r[J+2])}const C=new re,A=new re,P=new re,M=new re;function L(I){P.fromArray(s,I*3),M.copy(P);const F=c[I];C.copy(F),C.sub(P.multiplyScalar(P.dot(F))).normalize(),A.crossVectors(M,F);const j=A.dot(u[I])<0?-1:1;l[I*4]=C.x,l[I*4+1]=C.y,l[I*4+2]=C.z,l[I*4+3]=j}for(let I=0,F=_.length;I<F;++I){const V=_[I],j=V.start,G=V.count;for(let J=j,q=j+G;J<q;J+=3)L(r[J+0]),L(r[J+1]),L(r[J+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Dn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let h=0,p=r.count;h<p;h++)r.setXYZ(h,0,0,0);const i=new re,s=new re,o=new re,a=new re,l=new re,c=new re,u=new re,d=new re;if(e)for(let h=0,p=e.count;h<p;h+=3){const g=e.getX(h+0),v=e.getX(h+1),y=e.getX(h+2);i.fromBufferAttribute(t,g),s.fromBufferAttribute(t,v),o.fromBufferAttribute(t,y),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,v),c.fromBufferAttribute(r,y),a.add(u),l.add(u),c.add(u),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let h=0,p=t.count;h<p;h+=3)i.fromBufferAttribute(t,h+0),s.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),r.setXYZ(h+0,u.x,u.y,u.z),r.setXYZ(h+1,u.x,u.y,u.z),r.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Kr.fromBufferAttribute(e,t),Kr.normalize(),e.setXYZ(t,Kr.x,Kr.y,Kr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,h=new c.constructor(l.length*u);let p=0,g=0;for(let v=0,y=l.length;v<y;v++){a.isInterleavedBufferAttribute?p=l[v]*a.data.stride+a.offset:p=l[v]*u;for(let x=0;x<u;x++)h[g++]=c[p++]}return new Dn(h,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ht,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const h=c[u],p=e(h,r);l.push(p)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,h=c.length;d<h;d++){const p=c[d];u.push(p.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let h=0,p=d.length;h<p;h++)u.push(d[h].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const xV=new Wt,Sm=new m0,p3=new Ap,pu=new re,mu=new re,gu=new re,m3=new re,g3=new re,v3=new re,VS=new re,GS=new re,qS=new re,XS=new He,YS=new He,KS=new He,y3=new re,QS=new re;class Br extends mn{constructor(e=new Ht,t=new Hd){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),p3.copy(r.boundingSphere),p3.applyMatrix4(s),e.ray.intersectsSphere(p3)===!1)||(xV.copy(s).invert(),Sm.copy(e.ray).applyMatrix4(xV),r.boundingBox!==null&&Sm.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,c=r.morphAttributes.position,u=r.morphTargetsRelative,d=r.attributes.uv,h=r.attributes.uv2,p=r.groups,g=r.drawRange;if(a!==null)if(Array.isArray(i))for(let v=0,y=p.length;v<y;v++){const x=p[v],w=i[x.materialIndex],b=Math.max(x.start,g.start),_=Math.min(a.count,Math.min(x.start+x.count,g.start+g.count));for(let C=b,A=_;C<A;C+=3){const P=a.getX(C),M=a.getX(C+1),L=a.getX(C+2);o=ZS(this,w,e,Sm,l,c,u,d,h,P,M,L),o&&(o.faceIndex=Math.floor(C/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const v=Math.max(0,g.start),y=Math.min(a.count,g.start+g.count);for(let x=v,w=y;x<w;x+=3){const b=a.getX(x),_=a.getX(x+1),C=a.getX(x+2);o=ZS(this,i,e,Sm,l,c,u,d,h,b,_,C),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let v=0,y=p.length;v<y;v++){const x=p[v],w=i[x.materialIndex],b=Math.max(x.start,g.start),_=Math.min(l.count,Math.min(x.start+x.count,g.start+g.count));for(let C=b,A=_;C<A;C+=3){const P=C,M=C+1,L=C+2;o=ZS(this,w,e,Sm,l,c,u,d,h,P,M,L),o&&(o.faceIndex=Math.floor(C/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const v=Math.max(0,g.start),y=Math.min(l.count,g.start+g.count);for(let x=v,w=y;x<w;x+=3){const b=x,_=x+1,C=x+2;o=ZS(this,i,e,Sm,l,c,u,d,h,b,_,C),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}}}function wke(n,e,t,r,i,s,o,a){let l;if(e.side===uo?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side!==Ec,a),l===null)return null;QS.copy(a),QS.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(QS);return c<t.near||c>t.far?null:{distance:c,point:QS.clone(),object:n}}function ZS(n,e,t,r,i,s,o,a,l,c,u,d){pu.fromBufferAttribute(i,c),mu.fromBufferAttribute(i,u),gu.fromBufferAttribute(i,d);const h=n.morphTargetInfluences;if(s&&h){VS.set(0,0,0),GS.set(0,0,0),qS.set(0,0,0);for(let g=0,v=s.length;g<v;g++){const y=h[g],x=s[g];y!==0&&(m3.fromBufferAttribute(x,c),g3.fromBufferAttribute(x,u),v3.fromBufferAttribute(x,d),o?(VS.addScaledVector(m3,y),GS.addScaledVector(g3,y),qS.addScaledVector(v3,y)):(VS.addScaledVector(m3.sub(pu),y),GS.addScaledVector(g3.sub(mu),y),qS.addScaledVector(v3.sub(gu),y)))}pu.add(VS),mu.add(GS),gu.add(qS)}n.isSkinnedMesh&&(n.boneTransform(c,pu),n.boneTransform(u,mu),n.boneTransform(d,gu));const p=wke(n,e,t,r,pu,mu,gu,y3);if(p){a&&(XS.fromBufferAttribute(a,c),YS.fromBufferAttribute(a,u),KS.fromBufferAttribute(a,d),p.uv=Zo.getUV(y3,pu,mu,gu,XS,YS,KS,new He)),l&&(XS.fromBufferAttribute(l,c),YS.fromBufferAttribute(l,u),KS.fromBufferAttribute(l,d),p.uv2=Zo.getUV(y3,pu,mu,gu,XS,YS,KS,new He));const g={a:c,b:u,c:d,normal:new re,materialIndex:0};Zo.getNormal(pu,mu,gu,g.normal),p.face=g}return p}class jd extends Ht{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let h=0,p=0;g("z","y","x",-1,-1,r,t,e,o,s,0),g("z","y","x",1,-1,r,t,-e,o,s,1),g("x","z","y",1,1,e,r,t,i,o,2),g("x","z","y",1,-1,e,r,-t,i,o,3),g("x","y","z",1,-1,e,t,r,i,s,4),g("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new ct(c,3)),this.setAttribute("normal",new ct(u,3)),this.setAttribute("uv",new ct(d,2));function g(v,y,x,w,b,_,C,A,P,M,L){const I=_/P,F=C/M,V=_/2,j=C/2,G=A/2,J=P+1,q=M+1;let H=0,D=0;const z=new re;for(let B=0;B<q;B++){const ee=B*F-j;for(let Y=0;Y<J;Y++){const oe=Y*I-V;z[v]=oe*w,z[y]=ee*b,z[x]=G,c.push(z.x,z.y,z.z),z[v]=0,z[y]=0,z[x]=A>0?1:-1,u.push(z.x,z.y,z.z),d.push(Y/P),d.push(1-B/M),H+=1}}for(let B=0;B<M;B++)for(let ee=0;ee<P;ee++){const Y=h+ee+J*B,oe=h+ee+J*(B+1),ce=h+(ee+1)+J*(B+1),me=h+(ee+1)+J*B;l.push(Y,oe,me),l.push(oe,ce,me),D+=6}a.addGroup(p,D,L),p+=D,h+=H}}static fromJSON(e){return new jd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Yv(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function ns(n){const e={};for(let t=0;t<n.length;t++){const r=Yv(n[t]);for(const i in r)e[i]=r[i]}return e}function bke(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}const Lte={clone:Yv,merge:ns};var _ke=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Ske=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class El extends Wr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=_ke,this.fragmentShader=Ske,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Yv(e.uniforms),this.uniformsGroups=bke(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class bb extends mn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Wt,this.projectionMatrix=new Wt,this.projectionMatrixInverse=new Wt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class sr extends bb{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=kw*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Bf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return kw*2*Math.atan(Math.tan(Bf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Bf*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Em=90,Mm=1;class kte extends mn{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new sr(Em,Mm,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new re(1,0,0)),this.add(i);const s=new sr(Em,Mm,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new re(-1,0,0)),this.add(s);const o=new sr(Em,Mm,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new re(0,1,0)),this.add(o);const a=new sr(Em,Mm,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new re(0,-1,0)),this.add(a);const l=new sr(Em,Mm,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new re(0,0,1)),this.add(l);const c=new sr(Em,Mm,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new re(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),d=e.toneMapping,h=e.xr.enabled;e.toneMapping=Na,e.xr.enabled=!1;const p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=p,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=d,e.xr.enabled=h,r.texture.needsPMREMUpdate=!0}}class _b extends Pr{constructor(e,t,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Td,super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Ite extends aa{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new _b(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:fr}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new jd(5,5,5),s=new El({name:"CubemapFromEquirect",uniforms:Yv(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:uo,blending:Lc});s.uniforms.tEquirect.value=t;const o=new Br(i,s),a=t.minFilter;return t.minFilter===Mp&&(t.minFilter=fr),new kte(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const x3=new re,Eke=new re,Mke=new Rs;class hc{constructor(e=new re(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=x3.subVectors(r,t).cross(Eke.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(x3),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||Mke.getNormalMatrix(e),i=this.coplanarPoint(x3).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Cm=new Ap,JS=new re;class NP{constructor(e=new hc,t=new hc,r=new hc,i=new hc,s=new hc,o=new hc){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],u=r[6],d=r[7],h=r[8],p=r[9],g=r[10],v=r[11],y=r[12],x=r[13],w=r[14],b=r[15];return t[0].setComponents(a-i,d-l,v-h,b-y).normalize(),t[1].setComponents(a+i,d+l,v+h,b+y).normalize(),t[2].setComponents(a+s,d+c,v+p,b+x).normalize(),t[3].setComponents(a-s,d-c,v-p,b-x).normalize(),t[4].setComponents(a-o,d-u,v-g,b-w).normalize(),t[5].setComponents(a+o,d+u,v+g,b+w).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Cm.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Cm)}intersectsSprite(e){return Cm.center.set(0,0,0),Cm.radius=.7071067811865476,Cm.applyMatrix4(e.matrixWorld),this.intersectsSphere(Cm)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(JS.x=i.normal.x>0?e.max.x:e.min.x,JS.y=i.normal.y>0?e.max.y:e.min.y,JS.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(JS)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Ote(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function Cke(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const d=c.array,h=c.usage,p=n.createBuffer();n.bindBuffer(u,p),n.bufferData(u,d,h),c.onUploadCallback();let g;if(d instanceof Float32Array)g=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(d instanceof Int16Array)g=5122;else if(d instanceof Uint32Array)g=5125;else if(d instanceof Int32Array)g=5124;else if(d instanceof Int8Array)g=5120;else if(d instanceof Uint8Array)g=5121;else if(d instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:p,type:g,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,d){const h=u.array,p=u.updateRange;n.bindBuffer(d,c),p.count===-1?n.bufferSubData(d,0,h):(t?n.bufferSubData(d,p.offset*h.BYTES_PER_ELEMENT,h,p.offset,p.count):n.bufferSubData(d,p.offset*h.BYTES_PER_ELEMENT,h.subarray(p.offset,p.offset+p.count)),p.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const h=r.get(c);(!h||h.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);d===void 0?r.set(c,i(c,u)):d.version<c.version&&(s(d.buffer,c,u),d.version=c.version)}return{get:o,remove:a,update:l}}class v0 extends Ht{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,d=e/a,h=t/l,p=[],g=[],v=[],y=[];for(let x=0;x<u;x++){const w=x*h-o;for(let b=0;b<c;b++){const _=b*d-s;g.push(_,-w,0),v.push(0,0,1),y.push(b/a),y.push(1-x/l)}}for(let x=0;x<l;x++)for(let w=0;w<a;w++){const b=w+c*x,_=w+c*(x+1),C=w+1+c*(x+1),A=w+1+c*x;p.push(b,_,A),p.push(_,C,A)}this.setIndex(p),this.setAttribute("position",new ct(g,3)),this.setAttribute("normal",new ct(v,3)),this.setAttribute("uv",new ct(y,2))}static fromJSON(e){return new v0(e.width,e.height,e.widthSegments,e.heightSegments)}}var Ake=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Tke=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Pke=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Rke=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Lke=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,kke=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Ike="vec3 transformed = vec3( position );",Oke=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Dke=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,Nke=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Fke=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,zke=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Bke=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,$ke=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Uke=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Wke=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Hke=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,jke=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Vke=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Gke=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,qke=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Xke=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Yke=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Kke=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,Qke=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Zke=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Jke="gl_FragColor = linearToOutputTexel( gl_FragColor );",e3e=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,t3e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,n3e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,r3e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,i3e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,s3e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,o3e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,a3e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,l3e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,c3e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,u3e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,d3e=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,h3e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,f3e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,p3e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert
#define Material_LightProbeLOD( material )	(0)`,m3e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,g3e=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,v3e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,y3e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,x3e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,w3e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,b3e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,_3e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,S3e=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,E3e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,M3e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,C3e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,A3e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,T3e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,P3e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,R3e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,L3e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,k3e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,I3e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,O3e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,D3e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,N3e=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,F3e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,z3e=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,B3e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,$3e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,U3e=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,W3e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,H3e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,j3e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,V3e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,G3e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,q3e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,X3e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Y3e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,K3e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Q3e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,Z3e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,J3e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,eIe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,tIe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,nIe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,rIe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,iIe=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,sIe=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,oIe=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,aIe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,lIe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,cIe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,uIe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,dIe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,hIe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,fIe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,pIe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,mIe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,gIe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,vIe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,yIe=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,xIe=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,wIe=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,bIe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,_Ie=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,SIe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,EIe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const MIe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,CIe=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,AIe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,TIe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,PIe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,RIe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,LIe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,kIe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,IIe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,OIe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,DIe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,NIe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,FIe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,zIe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,BIe=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,$Ie=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,UIe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,WIe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,HIe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,jIe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,VIe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,GIe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,qIe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,XIe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,YIe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,KIe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,QIe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ZIe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,JIe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,eOe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,tOe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nOe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,rOe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,iOe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Yt={alphamap_fragment:Ake,alphamap_pars_fragment:Tke,alphatest_fragment:Pke,alphatest_pars_fragment:Rke,aomap_fragment:Lke,aomap_pars_fragment:kke,begin_vertex:Ike,beginnormal_vertex:Oke,bsdfs:Dke,iridescence_fragment:Nke,bumpmap_pars_fragment:Fke,clipping_planes_fragment:zke,clipping_planes_pars_fragment:Bke,clipping_planes_pars_vertex:$ke,clipping_planes_vertex:Uke,color_fragment:Wke,color_pars_fragment:Hke,color_pars_vertex:jke,color_vertex:Vke,common:Gke,cube_uv_reflection_fragment:qke,defaultnormal_vertex:Xke,displacementmap_pars_vertex:Yke,displacementmap_vertex:Kke,emissivemap_fragment:Qke,emissivemap_pars_fragment:Zke,encodings_fragment:Jke,encodings_pars_fragment:e3e,envmap_fragment:t3e,envmap_common_pars_fragment:n3e,envmap_pars_fragment:r3e,envmap_pars_vertex:i3e,envmap_physical_pars_fragment:g3e,envmap_vertex:s3e,fog_vertex:o3e,fog_pars_vertex:a3e,fog_fragment:l3e,fog_pars_fragment:c3e,gradientmap_pars_fragment:u3e,lightmap_fragment:d3e,lightmap_pars_fragment:h3e,lights_lambert_fragment:f3e,lights_lambert_pars_fragment:p3e,lights_pars_begin:m3e,lights_toon_fragment:v3e,lights_toon_pars_fragment:y3e,lights_phong_fragment:x3e,lights_phong_pars_fragment:w3e,lights_physical_fragment:b3e,lights_physical_pars_fragment:_3e,lights_fragment_begin:S3e,lights_fragment_maps:E3e,lights_fragment_end:M3e,logdepthbuf_fragment:C3e,logdepthbuf_pars_fragment:A3e,logdepthbuf_pars_vertex:T3e,logdepthbuf_vertex:P3e,map_fragment:R3e,map_pars_fragment:L3e,map_particle_fragment:k3e,map_particle_pars_fragment:I3e,metalnessmap_fragment:O3e,metalnessmap_pars_fragment:D3e,morphcolor_vertex:N3e,morphnormal_vertex:F3e,morphtarget_pars_vertex:z3e,morphtarget_vertex:B3e,normal_fragment_begin:$3e,normal_fragment_maps:U3e,normal_pars_fragment:W3e,normal_pars_vertex:H3e,normal_vertex:j3e,normalmap_pars_fragment:V3e,clearcoat_normal_fragment_begin:G3e,clearcoat_normal_fragment_maps:q3e,clearcoat_pars_fragment:X3e,iridescence_pars_fragment:Y3e,output_fragment:K3e,packing:Q3e,premultiplied_alpha_fragment:Z3e,project_vertex:J3e,dithering_fragment:eIe,dithering_pars_fragment:tIe,roughnessmap_fragment:nIe,roughnessmap_pars_fragment:rIe,shadowmap_pars_fragment:iIe,shadowmap_pars_vertex:sIe,shadowmap_vertex:oIe,shadowmask_pars_fragment:aIe,skinbase_vertex:lIe,skinning_pars_vertex:cIe,skinning_vertex:uIe,skinnormal_vertex:dIe,specularmap_fragment:hIe,specularmap_pars_fragment:fIe,tonemapping_fragment:pIe,tonemapping_pars_fragment:mIe,transmission_fragment:gIe,transmission_pars_fragment:vIe,uv_pars_fragment:yIe,uv_pars_vertex:xIe,uv_vertex:wIe,uv2_pars_fragment:bIe,uv2_pars_vertex:_Ie,uv2_vertex:SIe,worldpos_vertex:EIe,background_vert:MIe,background_frag:CIe,backgroundCube_vert:AIe,backgroundCube_frag:TIe,cube_vert:PIe,cube_frag:RIe,depth_vert:LIe,depth_frag:kIe,distanceRGBA_vert:IIe,distanceRGBA_frag:OIe,equirect_vert:DIe,equirect_frag:NIe,linedashed_vert:FIe,linedashed_frag:zIe,meshbasic_vert:BIe,meshbasic_frag:$Ie,meshlambert_vert:UIe,meshlambert_frag:WIe,meshmatcap_vert:HIe,meshmatcap_frag:jIe,meshnormal_vert:VIe,meshnormal_frag:GIe,meshphong_vert:qIe,meshphong_frag:XIe,meshphysical_vert:YIe,meshphysical_frag:KIe,meshtoon_vert:QIe,meshtoon_frag:ZIe,points_vert:JIe,points_frag:eOe,shadow_vert:tOe,shadow_frag:nOe,sprite_vert:rOe,sprite_frag:iOe},tt={common:{diffuse:{value:new at(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Rs},uv2Transform:{value:new Rs},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new He(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new at(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new at(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Rs}},sprite:{diffuse:{value:new at(16777215)},opacity:{value:1},center:{value:new He(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Rs}}},Pa={basic:{uniforms:ns([tt.common,tt.specularmap,tt.envmap,tt.aomap,tt.lightmap,tt.fog]),vertexShader:Yt.meshbasic_vert,fragmentShader:Yt.meshbasic_frag},lambert:{uniforms:ns([tt.common,tt.specularmap,tt.envmap,tt.aomap,tt.lightmap,tt.emissivemap,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.fog,tt.lights,{emissive:{value:new at(0)}}]),vertexShader:Yt.meshlambert_vert,fragmentShader:Yt.meshlambert_frag},phong:{uniforms:ns([tt.common,tt.specularmap,tt.envmap,tt.aomap,tt.lightmap,tt.emissivemap,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.fog,tt.lights,{emissive:{value:new at(0)},specular:{value:new at(1118481)},shininess:{value:30}}]),vertexShader:Yt.meshphong_vert,fragmentShader:Yt.meshphong_frag},standard:{uniforms:ns([tt.common,tt.envmap,tt.aomap,tt.lightmap,tt.emissivemap,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.roughnessmap,tt.metalnessmap,tt.fog,tt.lights,{emissive:{value:new at(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Yt.meshphysical_vert,fragmentShader:Yt.meshphysical_frag},toon:{uniforms:ns([tt.common,tt.aomap,tt.lightmap,tt.emissivemap,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.gradientmap,tt.fog,tt.lights,{emissive:{value:new at(0)}}]),vertexShader:Yt.meshtoon_vert,fragmentShader:Yt.meshtoon_frag},matcap:{uniforms:ns([tt.common,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.fog,{matcap:{value:null}}]),vertexShader:Yt.meshmatcap_vert,fragmentShader:Yt.meshmatcap_frag},points:{uniforms:ns([tt.points,tt.fog]),vertexShader:Yt.points_vert,fragmentShader:Yt.points_frag},dashed:{uniforms:ns([tt.common,tt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Yt.linedashed_vert,fragmentShader:Yt.linedashed_frag},depth:{uniforms:ns([tt.common,tt.displacementmap]),vertexShader:Yt.depth_vert,fragmentShader:Yt.depth_frag},normal:{uniforms:ns([tt.common,tt.bumpmap,tt.normalmap,tt.displacementmap,{opacity:{value:1}}]),vertexShader:Yt.meshnormal_vert,fragmentShader:Yt.meshnormal_frag},sprite:{uniforms:ns([tt.sprite,tt.fog]),vertexShader:Yt.sprite_vert,fragmentShader:Yt.sprite_frag},background:{uniforms:{uvTransform:{value:new Rs},t2D:{value:null}},vertexShader:Yt.background_vert,fragmentShader:Yt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0}},vertexShader:Yt.backgroundCube_vert,fragmentShader:Yt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Yt.cube_vert,fragmentShader:Yt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Yt.equirect_vert,fragmentShader:Yt.equirect_frag},distanceRGBA:{uniforms:ns([tt.common,tt.displacementmap,{referencePosition:{value:new re},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Yt.distanceRGBA_vert,fragmentShader:Yt.distanceRGBA_frag},shadow:{uniforms:ns([tt.lights,tt.fog,{color:{value:new at(0)},opacity:{value:1}}]),vertexShader:Yt.shadow_vert,fragmentShader:Yt.shadow_frag}};Pa.physical={uniforms:ns([Pa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new He(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new at(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new He},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new at(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new at(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Yt.meshphysical_vert,fragmentShader:Yt.meshphysical_frag};function sOe(n,e,t,r,i,s,o){const a=new at(0);let l=s===!0?0:1,c,u,d=null,h=0,p=null;function g(y,x){let w=!1,b=x.isScene===!0?x.background:null;b&&b.isTexture&&(b=(x.backgroundBlurriness>0?t:e).get(b));const _=n.xr,C=_.getSession&&_.getSession();C&&C.environmentBlendMode==="additive"&&(b=null),b===null?v(a,l):b&&b.isColor&&(v(b,1),w=!0),(n.autoClear||w)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),b&&(b.isCubeTexture||b.mapping===p0)?(u===void 0&&(u=new Br(new jd(1,1,1),new El({name:"BackgroundCubeMaterial",uniforms:Yv(Pa.backgroundCube.uniforms),vertexShader:Pa.backgroundCube.vertexShader,fragmentShader:Pa.backgroundCube.fragmentShader,side:uo,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(A,P,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=b,u.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,(d!==b||h!==b.version||p!==n.toneMapping)&&(u.material.needsUpdate=!0,d=b,h=b.version,p=n.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null)):b&&b.isTexture&&(c===void 0&&(c=new Br(new v0(2,2),new El({name:"BackgroundMaterial",uniforms:Yv(Pa.background.uniforms),vertexShader:Pa.background.vertexShader,fragmentShader:Pa.background.fragmentShader,side:cp,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=b,b.matrixAutoUpdate===!0&&b.updateMatrix(),c.material.uniforms.uvTransform.value.copy(b.matrix),(d!==b||h!==b.version||p!==n.toneMapping)&&(c.material.needsUpdate=!0,d=b,h=b.version,p=n.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null))}function v(y,x){r.buffers.color.setClear(y.r,y.g,y.b,x,o)}return{getClearColor:function(){return a},setClearColor:function(y,x=1){a.set(y),l=x,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,v(a,l)},render:g}}function oOe(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let c=l,u=!1;function d(G,J,q,H,D){let z=!1;if(o){const B=v(H,q,J);c!==B&&(c=B,p(c.object)),z=x(G,H,q,D),z&&w(G,H,q,D)}else{const B=J.wireframe===!0;(c.geometry!==H.id||c.program!==q.id||c.wireframe!==B)&&(c.geometry=H.id,c.program=q.id,c.wireframe=B,z=!0)}D!==null&&t.update(D,34963),(z||u)&&(u=!1,M(G,J,q,H),D!==null&&n.bindBuffer(34963,t.get(D).buffer))}function h(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function p(G){return r.isWebGL2?n.bindVertexArray(G):s.bindVertexArrayOES(G)}function g(G){return r.isWebGL2?n.deleteVertexArray(G):s.deleteVertexArrayOES(G)}function v(G,J,q){const H=q.wireframe===!0;let D=a[G.id];D===void 0&&(D={},a[G.id]=D);let z=D[J.id];z===void 0&&(z={},D[J.id]=z);let B=z[H];return B===void 0&&(B=y(h()),z[H]=B),B}function y(G){const J=[],q=[],H=[];for(let D=0;D<i;D++)J[D]=0,q[D]=0,H[D]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:J,enabledAttributes:q,attributeDivisors:H,object:G,attributes:{},index:null}}function x(G,J,q,H){const D=c.attributes,z=J.attributes;let B=0;const ee=q.getAttributes();for(const Y in ee)if(ee[Y].location>=0){const ce=D[Y];let me=z[Y];if(me===void 0&&(Y==="instanceMatrix"&&G.instanceMatrix&&(me=G.instanceMatrix),Y==="instanceColor"&&G.instanceColor&&(me=G.instanceColor)),ce===void 0||ce.attribute!==me||me&&ce.data!==me.data)return!0;B++}return c.attributesNum!==B||c.index!==H}function w(G,J,q,H){const D={},z=J.attributes;let B=0;const ee=q.getAttributes();for(const Y in ee)if(ee[Y].location>=0){let ce=z[Y];ce===void 0&&(Y==="instanceMatrix"&&G.instanceMatrix&&(ce=G.instanceMatrix),Y==="instanceColor"&&G.instanceColor&&(ce=G.instanceColor));const me={};me.attribute=ce,ce&&ce.data&&(me.data=ce.data),D[Y]=me,B++}c.attributes=D,c.attributesNum=B,c.index=H}function b(){const G=c.newAttributes;for(let J=0,q=G.length;J<q;J++)G[J]=0}function _(G){C(G,0)}function C(G,J){const q=c.newAttributes,H=c.enabledAttributes,D=c.attributeDivisors;q[G]=1,H[G]===0&&(n.enableVertexAttribArray(G),H[G]=1),D[G]!==J&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](G,J),D[G]=J)}function A(){const G=c.newAttributes,J=c.enabledAttributes;for(let q=0,H=J.length;q<H;q++)J[q]!==G[q]&&(n.disableVertexAttribArray(q),J[q]=0)}function P(G,J,q,H,D,z){r.isWebGL2===!0&&(q===5124||q===5125)?n.vertexAttribIPointer(G,J,q,D,z):n.vertexAttribPointer(G,J,q,H,D,z)}function M(G,J,q,H){if(r.isWebGL2===!1&&(G.isInstancedMesh||H.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const D=H.attributes,z=q.getAttributes(),B=J.defaultAttributeValues;for(const ee in z){const Y=z[ee];if(Y.location>=0){let oe=D[ee];if(oe===void 0&&(ee==="instanceMatrix"&&G.instanceMatrix&&(oe=G.instanceMatrix),ee==="instanceColor"&&G.instanceColor&&(oe=G.instanceColor)),oe!==void 0){const ce=oe.normalized,me=oe.itemSize,de=t.get(oe);if(de===void 0)continue;const be=de.buffer,Oe=de.type,Te=de.bytesPerElement;if(oe.isInterleavedBufferAttribute){const we=oe.data,De=we.stride,pe=oe.offset;if(we.isInstancedInterleavedBuffer){for(let fe=0;fe<Y.locationSize;fe++)C(Y.location+fe,we.meshPerAttribute);G.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let fe=0;fe<Y.locationSize;fe++)_(Y.location+fe);n.bindBuffer(34962,be);for(let fe=0;fe<Y.locationSize;fe++)P(Y.location+fe,me/Y.locationSize,Oe,ce,De*Te,(pe+me/Y.locationSize*fe)*Te)}else{if(oe.isInstancedBufferAttribute){for(let we=0;we<Y.locationSize;we++)C(Y.location+we,oe.meshPerAttribute);G.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=oe.meshPerAttribute*oe.count)}else for(let we=0;we<Y.locationSize;we++)_(Y.location+we);n.bindBuffer(34962,be);for(let we=0;we<Y.locationSize;we++)P(Y.location+we,me/Y.locationSize,Oe,ce,me*Te,me/Y.locationSize*we*Te)}}else if(B!==void 0){const ce=B[ee];if(ce!==void 0)switch(ce.length){case 2:n.vertexAttrib2fv(Y.location,ce);break;case 3:n.vertexAttrib3fv(Y.location,ce);break;case 4:n.vertexAttrib4fv(Y.location,ce);break;default:n.vertexAttrib1fv(Y.location,ce)}}}}A()}function L(){V();for(const G in a){const J=a[G];for(const q in J){const H=J[q];for(const D in H)g(H[D].object),delete H[D];delete J[q]}delete a[G]}}function I(G){if(a[G.id]===void 0)return;const J=a[G.id];for(const q in J){const H=J[q];for(const D in H)g(H[D].object),delete H[D];delete J[q]}delete a[G.id]}function F(G){for(const J in a){const q=a[J];if(q[G.id]===void 0)continue;const H=q[G.id];for(const D in H)g(H[D].object),delete H[D];delete q[G.id]}}function V(){j(),u=!0,c!==l&&(c=l,p(c.object))}function j(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:V,resetDefaultState:j,dispose:L,releaseStatesOfGeometry:I,releaseStatesOfProgram:F,initAttributes:b,enableAttribute:_,disableUnusedAttributes:A}}function aOe(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,d){if(d===0)return;let h,p;if(i)h=n,p="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[p](s,c,u,d),t.update(u,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function lOe(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(P){if(P==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";P="mediump"}return P==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,d=n.getParameter(34930),h=n.getParameter(35660),p=n.getParameter(3379),g=n.getParameter(34076),v=n.getParameter(34921),y=n.getParameter(36347),x=n.getParameter(36348),w=n.getParameter(36349),b=h>0,_=o||e.has("OES_texture_float"),C=b&&_,A=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:p,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:y,maxVaryings:x,maxFragmentUniforms:w,vertexTextures:b,floatFragmentTextures:_,floatVertexTextures:C,maxSamples:A}}function cOe(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new hc,a=new Rs,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h,p){const g=d.length!==0||h||r!==0||i;return i=h,t=u(d,p,0),r=d.length,g},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(d,h,p){const g=d.clippingPlanes,v=d.clipIntersection,y=d.clipShadows,x=n.get(d);if(!i||g===null||g.length===0||s&&!y)s?u(null):c();else{const w=s?0:r,b=w*4;let _=x.clippingState||null;l.value=_,_=u(g,h,b,p);for(let C=0;C!==b;++C)_[C]=t[C];x.clippingState=_,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=w}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,h,p,g){const v=d!==null?d.length:0;let y=null;if(v!==0){if(y=l.value,g!==!0||y===null){const x=p+v*4,w=h.matrixWorldInverse;a.getNormalMatrix(w),(y===null||y.length<x)&&(y=new Float32Array(x));for(let b=0,_=p;b!==v;++b,_+=4)o.copy(d[b]).applyMatrix4(w,a),o.normal.toArray(y,_),y[_+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,y}}function uOe(n){let e=new WeakMap;function t(o,a){return a===Ew?o.mapping=Td:a===Mw&&(o.mapping=Pd),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Ew||a===Mw)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new Ite(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Ac extends bb{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Jg=4,wV=[.125,.215,.35,.446,.526,.582],tf=20,w3=new Ac,bV=new at;let b3=null;const Hh=(1+Math.sqrt(5))/2,Am=1/Hh,_V=[new re(1,1,1),new re(-1,1,1),new re(1,1,-1),new re(-1,1,-1),new re(0,Hh,Am),new re(0,Hh,-Am),new re(Am,0,Hh),new re(-Am,0,Hh),new re(Hh,Am,0),new re(-Hh,Am,0)];class M4{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){b3=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=MV(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=EV(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(b3),e.scissorTest=!1,eE(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Td||e.mapping===Pd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),b3=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:fr,minFilter:fr,generateMipmaps:!1,type:Xv,format:Ts,encoding:Rd,depthBuffer:!1},i=SV(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=SV(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=dOe(s)),this._blurMaterial=hOe(s,e,t)}return i}_compileMaterial(e){const t=new Br(this._lodPlanes[0],e);this._renderer.compile(t,w3)}_sceneToCubeUV(e,t,r,i){const a=new sr(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,h=u.toneMapping;u.getClearColor(bV),u.toneMapping=Na,u.autoClear=!1;const p=new Hd({name:"PMREM.Background",side:uo,depthWrite:!1,depthTest:!1}),g=new Br(new jd,p);let v=!1;const y=e.background;y?y.isColor&&(p.color.copy(y),e.background=null,v=!0):(p.color.copy(bV),v=!0);for(let x=0;x<6;x++){const w=x%3;w===0?(a.up.set(0,l[x],0),a.lookAt(c[x],0,0)):w===1?(a.up.set(0,0,l[x]),a.lookAt(0,c[x],0)):(a.up.set(0,l[x],0),a.lookAt(0,0,c[x]));const b=this._cubeSize;eE(i,w*b,x>2?b:0,b,b),u.setRenderTarget(i),v&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=h,u.autoClear=d,e.background=y}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Td||e.mapping===Pd;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=MV()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=EV());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Br(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;eE(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,w3)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=_V[(i-1)%_V.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new Br(this._lodPlanes[i],c),h=c.uniforms,p=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*tf-1),v=s/g,y=isFinite(s)?1+Math.floor(u*v):tf;y>tf&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${tf}`);const x=[];let w=0;for(let P=0;P<tf;++P){const M=P/v,L=Math.exp(-M*M/2);x.push(L),P===0?w+=L:P<y&&(w+=2*L)}for(let P=0;P<x.length;P++)x[P]=x[P]/w;h.envMap.value=e.texture,h.samples.value=y,h.weights.value=x,h.latitudinal.value=o==="latitudinal",a&&(h.poleAxis.value=a);const{_lodMax:b}=this;h.dTheta.value=g,h.mipInt.value=b-r;const _=this._sizeLods[i],C=3*_*(i>b-Jg?i-b+Jg:0),A=4*(this._cubeSize-_);eE(t,C,A,3*_,2*_),l.setRenderTarget(t),l.render(d,w3)}}function dOe(n){const e=[],t=[],r=[];let i=n;const s=n-Jg+1+wV.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-Jg?l=wV[o-n+Jg-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,d=1+c,h=[u,u,d,u,d,d,u,u,d,d,u,d],p=6,g=6,v=3,y=2,x=1,w=new Float32Array(v*g*p),b=new Float32Array(y*g*p),_=new Float32Array(x*g*p);for(let A=0;A<p;A++){const P=A%3*2/3-1,M=A>2?0:-1,L=[P,M,0,P+2/3,M,0,P+2/3,M+1,0,P,M,0,P+2/3,M+1,0,P,M+1,0];w.set(L,v*g*A),b.set(h,y*g*A);const I=[A,A,A,A,A,A];_.set(I,x*g*A)}const C=new Ht;C.setAttribute("position",new Dn(w,v)),C.setAttribute("uv",new Dn(b,y)),C.setAttribute("faceIndex",new Dn(_,x)),e.push(C),i>Jg&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function SV(n,e,t){const r=new aa(n,e,t);return r.texture.mapping=p0,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function eE(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function hOe(n,e,t){const r=new Float32Array(tf),i=new re(0,1,0);return new El({name:"SphericalGaussianBlur",defines:{n:tf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:CB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Lc,depthTest:!1,depthWrite:!1})}function EV(){return new El({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:CB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Lc,depthTest:!1,depthWrite:!1})}function MV(){return new El({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:CB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Lc,depthTest:!1,depthWrite:!1})}function CB(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function fOe(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===Ew||l===Mw,u=l===Td||l===Pd;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new M4(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&i(d)){t===null&&(t=new M4(n));const h=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,h),a.addEventListener("dispose",s),h.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function pOe(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function mOe(n,e,t,r){const i={},s=new WeakMap;function o(d){const h=d.target;h.index!==null&&e.remove(h.index);for(const g in h.attributes)e.remove(h.attributes[g]);h.removeEventListener("dispose",o),delete i[h.id];const p=s.get(h);p&&(e.remove(p),s.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function a(d,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,t.memory.geometries++),h}function l(d){const h=d.attributes;for(const g in h)e.update(h[g],34962);const p=d.morphAttributes;for(const g in p){const v=p[g];for(let y=0,x=v.length;y<x;y++)e.update(v[y],34962)}}function c(d){const h=[],p=d.index,g=d.attributes.position;let v=0;if(p!==null){const w=p.array;v=p.version;for(let b=0,_=w.length;b<_;b+=3){const C=w[b+0],A=w[b+1],P=w[b+2];h.push(C,A,A,P,P,C)}}else{const w=g.array;v=g.version;for(let b=0,_=w.length/3-1;b<_;b+=3){const C=b+0,A=b+1,P=b+2;h.push(C,A,A,P,P,C)}}const y=new(Pte(h)?MB:EB)(h,1);y.version=v;const x=s.get(d);x&&e.remove(x),s.set(d,y)}function u(d){const h=s.get(d);if(h){const p=d.index;p!==null&&h.version<p.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function gOe(n,e,t,r){const i=r.isWebGL2;let s;function o(h){s=h}let a,l;function c(h){a=h.type,l=h.bytesPerElement}function u(h,p){n.drawElements(s,p,a,h*l),t.update(p,s,1)}function d(h,p,g){if(g===0)return;let v,y;if(i)v=n,y="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](s,p,a,h*l,g),t.update(p,s,g)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=d}function vOe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function yOe(n,e){return n[0]-e[0]}function xOe(n,e){return Math.abs(e[1])-Math.abs(n[1])}function wOe(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new _n,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,d,h){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=g!==void 0?g.length:0;let y=s.get(u);if(y===void 0||y.count!==v){let J=function(){j.dispose(),s.delete(u),u.removeEventListener("dispose",J)};y!==void 0&&y.texture.dispose();const b=u.morphAttributes.position!==void 0,_=u.morphAttributes.normal!==void 0,C=u.morphAttributes.color!==void 0,A=u.morphAttributes.position||[],P=u.morphAttributes.normal||[],M=u.morphAttributes.color||[];let L=0;b===!0&&(L=1),_===!0&&(L=2),C===!0&&(L=3);let I=u.attributes.position.count*L,F=1;I>e.maxTextureSize&&(F=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const V=new Float32Array(I*F*4*v),j=new wb(V,I,F,v);j.type=Mc,j.needsUpdate=!0;const G=L*4;for(let q=0;q<v;q++){const H=A[q],D=P[q],z=M[q],B=I*F*4*q;for(let ee=0;ee<H.count;ee++){const Y=ee*G;b===!0&&(o.fromBufferAttribute(H,ee),V[B+Y+0]=o.x,V[B+Y+1]=o.y,V[B+Y+2]=o.z,V[B+Y+3]=0),_===!0&&(o.fromBufferAttribute(D,ee),V[B+Y+4]=o.x,V[B+Y+5]=o.y,V[B+Y+6]=o.z,V[B+Y+7]=0),C===!0&&(o.fromBufferAttribute(z,ee),V[B+Y+8]=o.x,V[B+Y+9]=o.y,V[B+Y+10]=o.z,V[B+Y+11]=z.itemSize===4?o.w:1)}}y={count:v,texture:j,size:new He(I,F)},s.set(u,y),u.addEventListener("dispose",J)}let x=0;for(let b=0;b<p.length;b++)x+=p[b];const w=u.morphTargetsRelative?1:1-x;h.getUniforms().setValue(n,"morphTargetBaseInfluence",w),h.getUniforms().setValue(n,"morphTargetInfluences",p),h.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),h.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}else{const g=p===void 0?0:p.length;let v=r[u.id];if(v===void 0||v.length!==g){v=[];for(let _=0;_<g;_++)v[_]=[_,0];r[u.id]=v}for(let _=0;_<g;_++){const C=v[_];C[0]=_,C[1]=p[_]}v.sort(xOe);for(let _=0;_<8;_++)_<g&&v[_][1]?(a[_][0]=v[_][0],a[_][1]=v[_][1]):(a[_][0]=Number.MAX_SAFE_INTEGER,a[_][1]=0);a.sort(yOe);const y=u.morphAttributes.position,x=u.morphAttributes.normal;let w=0;for(let _=0;_<8;_++){const C=a[_],A=C[0],P=C[1];A!==Number.MAX_SAFE_INTEGER&&P?(y&&u.getAttribute("morphTarget"+_)!==y[A]&&u.setAttribute("morphTarget"+_,y[A]),x&&u.getAttribute("morphNormal"+_)!==x[A]&&u.setAttribute("morphNormal"+_,x[A]),i[_]=P,w+=P):(y&&u.hasAttribute("morphTarget"+_)===!0&&u.deleteAttribute("morphTarget"+_),x&&u.hasAttribute("morphNormal"+_)===!0&&u.deleteAttribute("morphNormal"+_),i[_]=0)}const b=u.morphTargetsRelative?1:1-w;h.getUniforms().setValue(n,"morphTargetBaseInfluence",b),h.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function bOe(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);return i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),d}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const Dte=new Pr,Nte=new wb,Fte=new DP,zte=new _b,CV=[],AV=[],TV=new Float32Array(16),PV=new Float32Array(9),RV=new Float32Array(4);function y0(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=CV[i];if(s===void 0&&(s=new Float32Array(i),CV[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Hr(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function jr(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function FP(n,e){let t=AV[e];t===void 0&&(t=new Int32Array(e),AV[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function _Oe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function SOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Hr(t,e))return;n.uniform2fv(this.addr,e),jr(t,e)}}function EOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Hr(t,e))return;n.uniform3fv(this.addr,e),jr(t,e)}}function MOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Hr(t,e))return;n.uniform4fv(this.addr,e),jr(t,e)}}function COe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Hr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),jr(t,e)}else{if(Hr(t,r))return;RV.set(r),n.uniformMatrix2fv(this.addr,!1,RV),jr(t,r)}}function AOe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Hr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),jr(t,e)}else{if(Hr(t,r))return;PV.set(r),n.uniformMatrix3fv(this.addr,!1,PV),jr(t,r)}}function TOe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Hr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),jr(t,e)}else{if(Hr(t,r))return;TV.set(r),n.uniformMatrix4fv(this.addr,!1,TV),jr(t,r)}}function POe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function ROe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Hr(t,e))return;n.uniform2iv(this.addr,e),jr(t,e)}}function LOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Hr(t,e))return;n.uniform3iv(this.addr,e),jr(t,e)}}function kOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Hr(t,e))return;n.uniform4iv(this.addr,e),jr(t,e)}}function IOe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function OOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Hr(t,e))return;n.uniform2uiv(this.addr,e),jr(t,e)}}function DOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Hr(t,e))return;n.uniform3uiv(this.addr,e),jr(t,e)}}function NOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Hr(t,e))return;n.uniform4uiv(this.addr,e),jr(t,e)}}function FOe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||Dte,i)}function zOe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||Fte,i)}function BOe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||zte,i)}function $Oe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||Nte,i)}function UOe(n){switch(n){case 5126:return _Oe;case 35664:return SOe;case 35665:return EOe;case 35666:return MOe;case 35674:return COe;case 35675:return AOe;case 35676:return TOe;case 5124:case 35670:return POe;case 35667:case 35671:return ROe;case 35668:case 35672:return LOe;case 35669:case 35673:return kOe;case 5125:return IOe;case 36294:return OOe;case 36295:return DOe;case 36296:return NOe;case 35678:case 36198:case 36298:case 36306:case 35682:return FOe;case 35679:case 36299:case 36307:return zOe;case 35680:case 36300:case 36308:case 36293:return BOe;case 36289:case 36303:case 36311:case 36292:return $Oe}}function WOe(n,e){n.uniform1fv(this.addr,e)}function HOe(n,e){const t=y0(e,this.size,2);n.uniform2fv(this.addr,t)}function jOe(n,e){const t=y0(e,this.size,3);n.uniform3fv(this.addr,t)}function VOe(n,e){const t=y0(e,this.size,4);n.uniform4fv(this.addr,t)}function GOe(n,e){const t=y0(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function qOe(n,e){const t=y0(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function XOe(n,e){const t=y0(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function YOe(n,e){n.uniform1iv(this.addr,e)}function KOe(n,e){n.uniform2iv(this.addr,e)}function QOe(n,e){n.uniform3iv(this.addr,e)}function ZOe(n,e){n.uniform4iv(this.addr,e)}function JOe(n,e){n.uniform1uiv(this.addr,e)}function eDe(n,e){n.uniform2uiv(this.addr,e)}function tDe(n,e){n.uniform3uiv(this.addr,e)}function nDe(n,e){n.uniform4uiv(this.addr,e)}function rDe(n,e,t){const r=this.cache,i=e.length,s=FP(t,i);Hr(r,s)||(n.uniform1iv(this.addr,s),jr(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||Dte,s[o])}function iDe(n,e,t){const r=this.cache,i=e.length,s=FP(t,i);Hr(r,s)||(n.uniform1iv(this.addr,s),jr(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||Fte,s[o])}function sDe(n,e,t){const r=this.cache,i=e.length,s=FP(t,i);Hr(r,s)||(n.uniform1iv(this.addr,s),jr(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||zte,s[o])}function oDe(n,e,t){const r=this.cache,i=e.length,s=FP(t,i);Hr(r,s)||(n.uniform1iv(this.addr,s),jr(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||Nte,s[o])}function aDe(n){switch(n){case 5126:return WOe;case 35664:return HOe;case 35665:return jOe;case 35666:return VOe;case 35674:return GOe;case 35675:return qOe;case 35676:return XOe;case 5124:case 35670:return YOe;case 35667:case 35671:return KOe;case 35668:case 35672:return QOe;case 35669:case 35673:return ZOe;case 5125:return JOe;case 36294:return eDe;case 36295:return tDe;case 36296:return nDe;case 35678:case 36198:case 36298:case 36306:case 35682:return rDe;case 35679:case 36299:case 36307:return iDe;case 35680:case 36300:case 36308:case 36293:return sDe;case 36289:case 36303:case 36311:case 36292:return oDe}}class lDe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=UOe(t.type)}}class cDe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=aDe(t.type)}}class uDe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const _3=/(\w+)(\])?(\[|\.)?/g;function LV(n,e){n.seq.push(e),n.map[e.id]=e}function dDe(n,e,t){const r=n.name,i=r.length;for(_3.lastIndex=0;;){const s=_3.exec(r),o=_3.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){LV(t,c===void 0?new lDe(a,n,e):new cDe(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new uDe(a),LV(t,d)),t=d}}}class sA{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);dDe(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function kV(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let hDe=0;function fDe(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function pDe(n){switch(n){case Rd:return["Linear","( value )"];case Kn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function IV(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+fDe(n.getShaderSource(e),o)}else return i}function mDe(n,e){const t=pDe(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function gDe(n,e){let t;switch(e){case nte:t="Linear";break;case rte:t="Reinhard";break;case ite:t="OptimizedCineon";break;case yB:t="ACESFilmic";break;case ste:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function vDe(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(N1).join(`
`)}function yDe(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function xDe(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function N1(n){return n!==""}function OV(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function DV(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const wDe=/^[ \t]*#include +<([\w\d./]+)>/gm;function C4(n){return n.replace(wDe,bDe)}function bDe(n,e){const t=Yt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return C4(t)}const _De=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function NV(n){return n.replace(_De,SDe)}function SDe(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function FV(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function EDe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===kP?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Cx?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===xf&&(e="SHADOWMAP_TYPE_VSM"),e}function MDe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Td:case Pd:e="ENVMAP_TYPE_CUBE";break;case p0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function CDe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Pd:e="ENVMAP_MODE_REFRACTION";break}return e}function ADe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case xb:e="ENVMAP_BLENDING_MULTIPLY";break;case ete:e="ENVMAP_BLENDING_MIX";break;case tte:e="ENVMAP_BLENDING_ADD";break}return e}function TDe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function PDe(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=EDe(t),c=MDe(t),u=CDe(t),d=ADe(t),h=TDe(t),p=t.isWebGL2?"":vDe(t),g=yDe(s),v=i.createProgram();let y,x,w=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=[g].filter(N1).join(`
`),y.length>0&&(y+=`
`),x=[p,g].filter(N1).join(`
`),x.length>0&&(x+=`
`)):(y=[FV(t),"#define SHADER_NAME "+t.shaderName,g,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(N1).join(`
`),x=[p,FV(t),"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Na?"#define TONE_MAPPING":"",t.toneMapping!==Na?Yt.tonemapping_pars_fragment:"",t.toneMapping!==Na?gDe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Yt.encodings_pars_fragment,mDe("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(N1).join(`
`)),o=C4(o),o=OV(o,t),o=DV(o,t),a=C4(a),a=OV(a,t),a=DV(a,t),o=NV(o),a=NV(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,x=["#define varying in",t.glslVersion===S4?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===S4?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const b=w+y+o,_=w+x+a,C=kV(i,35633,b),A=kV(i,35632,_);if(i.attachShader(v,C),i.attachShader(v,A),t.index0AttributeName!==void 0?i.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),n.debug.checkShaderErrors){const L=i.getProgramInfoLog(v).trim(),I=i.getShaderInfoLog(C).trim(),F=i.getShaderInfoLog(A).trim();let V=!0,j=!0;if(i.getProgramParameter(v,35714)===!1){V=!1;const G=IV(i,C,"vertex"),J=IV(i,A,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+L+`
`+G+`
`+J)}else L!==""?console.warn("THREE.WebGLProgram: Program Info Log:",L):(I===""||F==="")&&(j=!1);j&&(this.diagnostics={runnable:V,programLog:L,vertexShader:{log:I,prefix:y},fragmentShader:{log:F,prefix:x}})}i.deleteShader(C),i.deleteShader(A);let P;this.getUniforms=function(){return P===void 0&&(P=new sA(i,v)),P};let M;return this.getAttributes=function(){return M===void 0&&(M=xDe(i,v)),M},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=hDe++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=C,this.fragmentShader=A,this}let RDe=0;class LDe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new kDe(e),t.set(e,r)),r}}class kDe{constructor(e){this.id=RDe++,this.code=e,this.usedTimes=0}}function IDe(n,e,t,r,i,s,o){const a=new Uf,l=new LDe,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,h=i.vertexTextures;let p=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(M,L,I,F,V){const j=F.fog,G=V.geometry,J=M.isMeshStandardMaterial?F.environment:null,q=(M.isMeshStandardMaterial?t:e).get(M.envMap||J),H=q&&q.mapping===p0?q.image.height:null,D=g[M.type];M.precision!==null&&(p=i.getMaxPrecision(M.precision),p!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",p,"instead."));const z=G.morphAttributes.position||G.morphAttributes.normal||G.morphAttributes.color,B=z!==void 0?z.length:0;let ee=0;G.morphAttributes.position!==void 0&&(ee=1),G.morphAttributes.normal!==void 0&&(ee=2),G.morphAttributes.color!==void 0&&(ee=3);let Y,oe,ce,me;if(D){const De=Pa[D];Y=De.vertexShader,oe=De.fragmentShader}else Y=M.vertexShader,oe=M.fragmentShader,l.update(M),ce=l.getVertexShaderID(M),me=l.getFragmentShaderID(M);const de=n.getRenderTarget(),be=M.alphaTest>0,Oe=M.clearcoat>0,Te=M.iridescence>0;return{isWebGL2:u,shaderID:D,shaderName:M.type,vertexShader:Y,fragmentShader:oe,defines:M.defines,customVertexShaderID:ce,customFragmentShaderID:me,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:p,instancing:V.isInstancedMesh===!0,instancingColor:V.isInstancedMesh===!0&&V.instanceColor!==null,supportsVertexTextures:h,outputEncoding:de===null?n.outputEncoding:de.isXRRenderTarget===!0?de.texture.encoding:Rd,map:!!M.map,matcap:!!M.matcap,envMap:!!q,envMapMode:q&&q.mapping,envMapCubeUVHeight:H,lightMap:!!M.lightMap,aoMap:!!M.aoMap,emissiveMap:!!M.emissiveMap,bumpMap:!!M.bumpMap,normalMap:!!M.normalMap,objectSpaceNormalMap:M.normalMapType===Cte,tangentSpaceNormalMap:M.normalMapType===Wd,decodeVideoTexture:!!M.map&&M.map.isVideoTexture===!0&&M.map.encoding===Kn,clearcoat:Oe,clearcoatMap:Oe&&!!M.clearcoatMap,clearcoatRoughnessMap:Oe&&!!M.clearcoatRoughnessMap,clearcoatNormalMap:Oe&&!!M.clearcoatNormalMap,iridescence:Te,iridescenceMap:Te&&!!M.iridescenceMap,iridescenceThicknessMap:Te&&!!M.iridescenceThicknessMap,displacementMap:!!M.displacementMap,roughnessMap:!!M.roughnessMap,metalnessMap:!!M.metalnessMap,specularMap:!!M.specularMap,specularIntensityMap:!!M.specularIntensityMap,specularColorMap:!!M.specularColorMap,opaque:M.transparent===!1&&M.blending===Ff,alphaMap:!!M.alphaMap,alphaTest:be,gradientMap:!!M.gradientMap,sheen:M.sheen>0,sheenColorMap:!!M.sheenColorMap,sheenRoughnessMap:!!M.sheenRoughnessMap,transmission:M.transmission>0,transmissionMap:!!M.transmissionMap,thicknessMap:!!M.thicknessMap,combine:M.combine,vertexTangents:!!M.normalMap&&!!G.attributes.tangent,vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!G.attributes.color&&G.attributes.color.itemSize===4,vertexUvs:!!M.map||!!M.bumpMap||!!M.normalMap||!!M.specularMap||!!M.alphaMap||!!M.emissiveMap||!!M.roughnessMap||!!M.metalnessMap||!!M.clearcoatMap||!!M.clearcoatRoughnessMap||!!M.clearcoatNormalMap||!!M.iridescenceMap||!!M.iridescenceThicknessMap||!!M.displacementMap||!!M.transmissionMap||!!M.thicknessMap||!!M.specularIntensityMap||!!M.specularColorMap||!!M.sheenColorMap||!!M.sheenRoughnessMap,uvsVertexOnly:!(M.map||M.bumpMap||M.normalMap||M.specularMap||M.alphaMap||M.emissiveMap||M.roughnessMap||M.metalnessMap||M.clearcoatNormalMap||M.iridescenceMap||M.iridescenceThicknessMap||M.transmission>0||M.transmissionMap||M.thicknessMap||M.specularIntensityMap||M.specularColorMap||M.sheen>0||M.sheenColorMap||M.sheenRoughnessMap)&&!!M.displacementMap,fog:!!j,useFog:M.fog===!0,fogExp2:j&&j.isFogExp2,flatShading:!!M.flatShading,sizeAttenuation:M.sizeAttenuation,logarithmicDepthBuffer:d,skinning:V.isSkinnedMesh===!0,morphTargets:G.morphAttributes.position!==void 0,morphNormals:G.morphAttributes.normal!==void 0,morphColors:G.morphAttributes.color!==void 0,morphTargetsCount:B,morphTextureStride:ee,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:M.dithering,shadowMapEnabled:n.shadowMap.enabled&&I.length>0,shadowMapType:n.shadowMap.type,toneMapping:M.toneMapped?n.toneMapping:Na,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===Ec,flipSided:M.side===uo,useDepthPacking:!!M.depthPacking,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionDerivatives:M.extensions&&M.extensions.derivatives,extensionFragDepth:M.extensions&&M.extensions.fragDepth,extensionDrawBuffers:M.extensions&&M.extensions.drawBuffers,extensionShaderTextureLOD:M.extensions&&M.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:M.customProgramCacheKey()}}function y(M){const L=[];if(M.shaderID?L.push(M.shaderID):(L.push(M.customVertexShaderID),L.push(M.customFragmentShaderID)),M.defines!==void 0)for(const I in M.defines)L.push(I),L.push(M.defines[I]);return M.isRawShaderMaterial===!1&&(x(L,M),w(L,M),L.push(n.outputEncoding)),L.push(M.customProgramCacheKey),L.join()}function x(M,L){M.push(L.precision),M.push(L.outputEncoding),M.push(L.envMapMode),M.push(L.envMapCubeUVHeight),M.push(L.combine),M.push(L.vertexUvs),M.push(L.fogExp2),M.push(L.sizeAttenuation),M.push(L.morphTargetsCount),M.push(L.morphAttributeCount),M.push(L.numDirLights),M.push(L.numPointLights),M.push(L.numSpotLights),M.push(L.numSpotLightMaps),M.push(L.numHemiLights),M.push(L.numRectAreaLights),M.push(L.numDirLightShadows),M.push(L.numPointLightShadows),M.push(L.numSpotLightShadows),M.push(L.numSpotLightShadowsWithMaps),M.push(L.shadowMapType),M.push(L.toneMapping),M.push(L.numClippingPlanes),M.push(L.numClipIntersection),M.push(L.depthPacking)}function w(M,L){a.disableAll(),L.isWebGL2&&a.enable(0),L.supportsVertexTextures&&a.enable(1),L.instancing&&a.enable(2),L.instancingColor&&a.enable(3),L.map&&a.enable(4),L.matcap&&a.enable(5),L.envMap&&a.enable(6),L.lightMap&&a.enable(7),L.aoMap&&a.enable(8),L.emissiveMap&&a.enable(9),L.bumpMap&&a.enable(10),L.normalMap&&a.enable(11),L.objectSpaceNormalMap&&a.enable(12),L.tangentSpaceNormalMap&&a.enable(13),L.clearcoat&&a.enable(14),L.clearcoatMap&&a.enable(15),L.clearcoatRoughnessMap&&a.enable(16),L.clearcoatNormalMap&&a.enable(17),L.iridescence&&a.enable(18),L.iridescenceMap&&a.enable(19),L.iridescenceThicknessMap&&a.enable(20),L.displacementMap&&a.enable(21),L.specularMap&&a.enable(22),L.roughnessMap&&a.enable(23),L.metalnessMap&&a.enable(24),L.gradientMap&&a.enable(25),L.alphaMap&&a.enable(26),L.alphaTest&&a.enable(27),L.vertexColors&&a.enable(28),L.vertexAlphas&&a.enable(29),L.vertexUvs&&a.enable(30),L.vertexTangents&&a.enable(31),L.uvsVertexOnly&&a.enable(32),M.push(a.mask),a.disableAll(),L.fog&&a.enable(0),L.useFog&&a.enable(1),L.flatShading&&a.enable(2),L.logarithmicDepthBuffer&&a.enable(3),L.skinning&&a.enable(4),L.morphTargets&&a.enable(5),L.morphNormals&&a.enable(6),L.morphColors&&a.enable(7),L.premultipliedAlpha&&a.enable(8),L.shadowMapEnabled&&a.enable(9),L.physicallyCorrectLights&&a.enable(10),L.doubleSided&&a.enable(11),L.flipSided&&a.enable(12),L.useDepthPacking&&a.enable(13),L.dithering&&a.enable(14),L.specularIntensityMap&&a.enable(15),L.specularColorMap&&a.enable(16),L.transmission&&a.enable(17),L.transmissionMap&&a.enable(18),L.thicknessMap&&a.enable(19),L.sheen&&a.enable(20),L.sheenColorMap&&a.enable(21),L.sheenRoughnessMap&&a.enable(22),L.decodeVideoTexture&&a.enable(23),L.opaque&&a.enable(24),M.push(a.mask)}function b(M){const L=g[M.type];let I;if(L){const F=Pa[L];I=Lte.clone(F.uniforms)}else I=M.uniforms;return I}function _(M,L){let I;for(let F=0,V=c.length;F<V;F++){const j=c[F];if(j.cacheKey===L){I=j,++I.usedTimes;break}}return I===void 0&&(I=new PDe(n,L,M,s),c.push(I)),I}function C(M){if(--M.usedTimes===0){const L=c.indexOf(M);c[L]=c[c.length-1],c.pop(),M.destroy()}}function A(M){l.remove(M)}function P(){l.dispose()}return{getParameters:v,getProgramCacheKey:y,getUniforms:b,acquireProgram:_,releaseProgram:C,releaseShaderCache:A,programs:c,dispose:P}}function ODe(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function DDe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function zV(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function BV(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(d,h,p,g,v,y){let x=n[e];return x===void 0?(x={id:d.id,object:d,geometry:h,material:p,groupOrder:g,renderOrder:d.renderOrder,z:v,group:y},n[e]=x):(x.id=d.id,x.object=d,x.geometry=h,x.material=p,x.groupOrder=g,x.renderOrder=d.renderOrder,x.z=v,x.group=y),e++,x}function a(d,h,p,g,v,y){const x=o(d,h,p,g,v,y);p.transmission>0?r.push(x):p.transparent===!0?i.push(x):t.push(x)}function l(d,h,p,g,v,y){const x=o(d,h,p,g,v,y);p.transmission>0?r.unshift(x):p.transparent===!0?i.unshift(x):t.unshift(x)}function c(d,h){t.length>1&&t.sort(d||DDe),r.length>1&&r.sort(h||zV),i.length>1&&i.sort(h||zV)}function u(){for(let d=e,h=n.length;d<h;d++){const p=n[d];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function NDe(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new BV,n.set(r,[o])):i>=s.length?(o=new BV,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function FDe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new re,color:new at};break;case"SpotLight":t={position:new re,direction:new re,color:new at,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new re,color:new at,distance:0,decay:0};break;case"HemisphereLight":t={direction:new re,skyColor:new at,groundColor:new at};break;case"RectAreaLight":t={color:new at,position:new re,halfWidth:new re,halfHeight:new re};break}return n[e.id]=t,t}}}function zDe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let BDe=0;function $De(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function UDe(n,e){const t=new FDe,r=zDe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new re);const s=new re,o=new Wt,a=new Wt;function l(u,d){let h=0,p=0,g=0;for(let F=0;F<9;F++)i.probe[F].set(0,0,0);let v=0,y=0,x=0,w=0,b=0,_=0,C=0,A=0,P=0,M=0;u.sort($De);const L=d!==!0?Math.PI:1;for(let F=0,V=u.length;F<V;F++){const j=u[F],G=j.color,J=j.intensity,q=j.distance,H=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)h+=G.r*J*L,p+=G.g*J*L,g+=G.b*J*L;else if(j.isLightProbe)for(let D=0;D<9;D++)i.probe[D].addScaledVector(j.sh.coefficients[D],J);else if(j.isDirectionalLight){const D=t.get(j);if(D.color.copy(j.color).multiplyScalar(j.intensity*L),j.castShadow){const z=j.shadow,B=r.get(j);B.shadowBias=z.bias,B.shadowNormalBias=z.normalBias,B.shadowRadius=z.radius,B.shadowMapSize=z.mapSize,i.directionalShadow[v]=B,i.directionalShadowMap[v]=H,i.directionalShadowMatrix[v]=j.shadow.matrix,_++}i.directional[v]=D,v++}else if(j.isSpotLight){const D=t.get(j);D.position.setFromMatrixPosition(j.matrixWorld),D.color.copy(G).multiplyScalar(J*L),D.distance=q,D.coneCos=Math.cos(j.angle),D.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),D.decay=j.decay,i.spot[x]=D;const z=j.shadow;if(j.map&&(i.spotLightMap[P]=j.map,P++,z.updateMatrices(j),j.castShadow&&M++),i.spotLightMatrix[x]=z.matrix,j.castShadow){const B=r.get(j);B.shadowBias=z.bias,B.shadowNormalBias=z.normalBias,B.shadowRadius=z.radius,B.shadowMapSize=z.mapSize,i.spotShadow[x]=B,i.spotShadowMap[x]=H,A++}x++}else if(j.isRectAreaLight){const D=t.get(j);D.color.copy(G).multiplyScalar(J),D.halfWidth.set(j.width*.5,0,0),D.halfHeight.set(0,j.height*.5,0),i.rectArea[w]=D,w++}else if(j.isPointLight){const D=t.get(j);if(D.color.copy(j.color).multiplyScalar(j.intensity*L),D.distance=j.distance,D.decay=j.decay,j.castShadow){const z=j.shadow,B=r.get(j);B.shadowBias=z.bias,B.shadowNormalBias=z.normalBias,B.shadowRadius=z.radius,B.shadowMapSize=z.mapSize,B.shadowCameraNear=z.camera.near,B.shadowCameraFar=z.camera.far,i.pointShadow[y]=B,i.pointShadowMap[y]=H,i.pointShadowMatrix[y]=j.shadow.matrix,C++}i.point[y]=D,y++}else if(j.isHemisphereLight){const D=t.get(j);D.skyColor.copy(j.color).multiplyScalar(J*L),D.groundColor.copy(j.groundColor).multiplyScalar(J*L),i.hemi[b]=D,b++}}w>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=tt.LTC_FLOAT_1,i.rectAreaLTC2=tt.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=tt.LTC_HALF_1,i.rectAreaLTC2=tt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=h,i.ambient[1]=p,i.ambient[2]=g;const I=i.hash;(I.directionalLength!==v||I.pointLength!==y||I.spotLength!==x||I.rectAreaLength!==w||I.hemiLength!==b||I.numDirectionalShadows!==_||I.numPointShadows!==C||I.numSpotShadows!==A||I.numSpotMaps!==P)&&(i.directional.length=v,i.spot.length=x,i.rectArea.length=w,i.point.length=y,i.hemi.length=b,i.directionalShadow.length=_,i.directionalShadowMap.length=_,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=A,i.spotShadowMap.length=A,i.directionalShadowMatrix.length=_,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=A+P-M,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=M,I.directionalLength=v,I.pointLength=y,I.spotLength=x,I.rectAreaLength=w,I.hemiLength=b,I.numDirectionalShadows=_,I.numPointShadows=C,I.numSpotShadows=A,I.numSpotMaps=P,i.version=BDe++)}function c(u,d){let h=0,p=0,g=0,v=0,y=0;const x=d.matrixWorldInverse;for(let w=0,b=u.length;w<b;w++){const _=u[w];if(_.isDirectionalLight){const C=i.directional[h];C.direction.setFromMatrixPosition(_.matrixWorld),s.setFromMatrixPosition(_.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(x),h++}else if(_.isSpotLight){const C=i.spot[g];C.position.setFromMatrixPosition(_.matrixWorld),C.position.applyMatrix4(x),C.direction.setFromMatrixPosition(_.matrixWorld),s.setFromMatrixPosition(_.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(x),g++}else if(_.isRectAreaLight){const C=i.rectArea[v];C.position.setFromMatrixPosition(_.matrixWorld),C.position.applyMatrix4(x),a.identity(),o.copy(_.matrixWorld),o.premultiply(x),a.extractRotation(o),C.halfWidth.set(_.width*.5,0,0),C.halfHeight.set(0,_.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),v++}else if(_.isPointLight){const C=i.point[p];C.position.setFromMatrixPosition(_.matrixWorld),C.position.applyMatrix4(x),p++}else if(_.isHemisphereLight){const C=i.hemi[y];C.direction.setFromMatrixPosition(_.matrixWorld),C.direction.transformDirection(x),y++}}}return{setup:l,setupView:c,state:i}}function $V(n,e){const t=new UDe(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(d){r.push(d)}function a(d){i.push(d)}function l(d){t.setup(r,d)}function c(d){t.setupView(r,d)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function WDe(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new $V(n,e),t.set(s,[l])):o>=a.length?(l=new $V(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class AB extends Wr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Ete,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class TB extends Wr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new re,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const HDe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,jDe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function VDe(n,e,t){let r=new NP;const i=new He,s=new He,o=new _n,a=new AB({depthPacking:Mte}),l=new TB,c={},u=t.maxTextureSize,d={0:uo,1:cp,2:Ec},h=new El({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new He},radius:{value:4}},vertexShader:HDe,fragmentShader:jDe}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const g=new Ht;g.setAttribute("position",new Dn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Br(g,h),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=kP,this.render=function(_,C,A){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||_.length===0)return;const P=n.getRenderTarget(),M=n.getActiveCubeFace(),L=n.getActiveMipmapLevel(),I=n.state;I.setBlending(Lc),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);for(let F=0,V=_.length;F<V;F++){const j=_[F],G=j.shadow;if(G===void 0){console.warn("THREE.WebGLShadowMap:",j,"has no shadow.");continue}if(G.autoUpdate===!1&&G.needsUpdate===!1)continue;i.copy(G.mapSize);const J=G.getFrameExtents();if(i.multiply(J),s.copy(G.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/J.x),i.x=s.x*J.x,G.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/J.y),i.y=s.y*J.y,G.mapSize.y=s.y)),G.map===null){const H=this.type!==xf?{minFilter:Mr,magFilter:Mr}:{};G.map=new aa(i.x,i.y,H),G.map.texture.name=j.name+".shadowMap",G.camera.updateProjectionMatrix()}n.setRenderTarget(G.map),n.clear();const q=G.getViewportCount();for(let H=0;H<q;H++){const D=G.getViewport(H);o.set(s.x*D.x,s.y*D.y,s.x*D.z,s.y*D.w),I.viewport(o),G.updateMatrices(j,H),r=G.getFrustum(),b(C,A,G.camera,j,this.type)}G.isPointLightShadow!==!0&&this.type===xf&&x(G,A),G.needsUpdate=!1}y.needsUpdate=!1,n.setRenderTarget(P,M,L)};function x(_,C){const A=e.update(v);h.defines.VSM_SAMPLES!==_.blurSamples&&(h.defines.VSM_SAMPLES=_.blurSamples,p.defines.VSM_SAMPLES=_.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),_.mapPass===null&&(_.mapPass=new aa(i.x,i.y)),h.uniforms.shadow_pass.value=_.map.texture,h.uniforms.resolution.value=_.mapSize,h.uniforms.radius.value=_.radius,n.setRenderTarget(_.mapPass),n.clear(),n.renderBufferDirect(C,null,A,h,v,null),p.uniforms.shadow_pass.value=_.mapPass.texture,p.uniforms.resolution.value=_.mapSize,p.uniforms.radius.value=_.radius,n.setRenderTarget(_.map),n.clear(),n.renderBufferDirect(C,null,A,p,v,null)}function w(_,C,A,P,M,L){let I=null;const F=A.isPointLight===!0?_.customDistanceMaterial:_.customDepthMaterial;if(F!==void 0?I=F:I=A.isPointLight===!0?l:a,n.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0){const V=I.uuid,j=C.uuid;let G=c[V];G===void 0&&(G={},c[V]=G);let J=G[j];J===void 0&&(J=I.clone(),G[j]=J),I=J}return I.visible=C.visible,I.wireframe=C.wireframe,L===xf?I.side=C.shadowSide!==null?C.shadowSide:C.side:I.side=C.shadowSide!==null?C.shadowSide:d[C.side],I.alphaMap=C.alphaMap,I.alphaTest=C.alphaTest,I.clipShadows=C.clipShadows,I.clippingPlanes=C.clippingPlanes,I.clipIntersection=C.clipIntersection,I.displacementMap=C.displacementMap,I.displacementScale=C.displacementScale,I.displacementBias=C.displacementBias,I.wireframeLinewidth=C.wireframeLinewidth,I.linewidth=C.linewidth,A.isPointLight===!0&&I.isMeshDistanceMaterial===!0&&(I.referencePosition.setFromMatrixPosition(A.matrixWorld),I.nearDistance=P,I.farDistance=M),I}function b(_,C,A,P,M){if(_.visible===!1)return;if(_.layers.test(C.layers)&&(_.isMesh||_.isLine||_.isPoints)&&(_.castShadow||_.receiveShadow&&M===xf)&&(!_.frustumCulled||r.intersectsObject(_))){_.modelViewMatrix.multiplyMatrices(A.matrixWorldInverse,_.matrixWorld);const F=e.update(_),V=_.material;if(Array.isArray(V)){const j=F.groups;for(let G=0,J=j.length;G<J;G++){const q=j[G],H=V[q.materialIndex];if(H&&H.visible){const D=w(_,H,P,A.near,A.far,M);n.renderBufferDirect(A,null,F,D,_,q)}}}else if(V.visible){const j=w(_,V,P,A.near,A.far,M);n.renderBufferDirect(A,null,F,j,_,null)}}const I=_.children;for(let F=0,V=I.length;F<V;F++)b(I[F],C,A,P,M)}}function GDe(n,e,t){const r=t.isWebGL2;function i(){let ue=!1;const Ee=new _n;let Fe=null;const et=new _n(0,0,0,0);return{setMask:function(rt){Fe!==rt&&!ue&&(n.colorMask(rt,rt,rt,rt),Fe=rt)},setLocked:function(rt){ue=rt},setClear:function(rt,mt,jt,Lt,hn){hn===!0&&(rt*=Lt,mt*=Lt,jt*=Lt),Ee.set(rt,mt,jt,Lt),et.equals(Ee)===!1&&(n.clearColor(rt,mt,jt,Lt),et.copy(Ee))},reset:function(){ue=!1,Fe=null,et.set(-1,0,0,0)}}}function s(){let ue=!1,Ee=null,Fe=null,et=null;return{setTest:function(rt){rt?be(2929):Oe(2929)},setMask:function(rt){Ee!==rt&&!ue&&(n.depthMask(rt),Ee=rt)},setFunc:function(rt){if(Fe!==rt){switch(rt){case qee:n.depthFunc(512);break;case Xee:n.depthFunc(519);break;case Yee:n.depthFunc(513);break;case Q2:n.depthFunc(515);break;case Kee:n.depthFunc(514);break;case Qee:n.depthFunc(518);break;case Zee:n.depthFunc(516);break;case Jee:n.depthFunc(517);break;default:n.depthFunc(515)}Fe=rt}},setLocked:function(rt){ue=rt},setClear:function(rt){et!==rt&&(n.clearDepth(rt),et=rt)},reset:function(){ue=!1,Ee=null,Fe=null,et=null}}}function o(){let ue=!1,Ee=null,Fe=null,et=null,rt=null,mt=null,jt=null,Lt=null,hn=null;return{setTest:function(pt){ue||(pt?be(2960):Oe(2960))},setMask:function(pt){Ee!==pt&&!ue&&(n.stencilMask(pt),Ee=pt)},setFunc:function(pt,gt,yn){(Fe!==pt||et!==gt||rt!==yn)&&(n.stencilFunc(pt,gt,yn),Fe=pt,et=gt,rt=yn)},setOp:function(pt,gt,yn){(mt!==pt||jt!==gt||Lt!==yn)&&(n.stencilOp(pt,gt,yn),mt=pt,jt=gt,Lt=yn)},setLocked:function(pt){ue=pt},setClear:function(pt){hn!==pt&&(n.clearStencil(pt),hn=pt)},reset:function(){ue=!1,Ee=null,Fe=null,et=null,rt=null,mt=null,jt=null,Lt=null,hn=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,d=new WeakMap;let h={},p={},g=new WeakMap,v=[],y=null,x=!1,w=null,b=null,_=null,C=null,A=null,P=null,M=null,L=!1,I=null,F=null,V=null,j=null,G=null;const J=n.getParameter(35661);let q=!1,H=0;const D=n.getParameter(7938);D.indexOf("WebGL")!==-1?(H=parseFloat(/^WebGL (\d)/.exec(D)[1]),q=H>=1):D.indexOf("OpenGL ES")!==-1&&(H=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),q=H>=2);let z=null,B={};const ee=n.getParameter(3088),Y=n.getParameter(2978),oe=new _n().fromArray(ee),ce=new _n().fromArray(Y);function me(ue,Ee,Fe){const et=new Uint8Array(4),rt=n.createTexture();n.bindTexture(ue,rt),n.texParameteri(ue,10241,9728),n.texParameteri(ue,10240,9728);for(let mt=0;mt<Fe;mt++)n.texImage2D(Ee+mt,0,6408,1,1,0,6408,5121,et);return rt}const de={};de[3553]=me(3553,3553,1),de[34067]=me(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),be(2929),l.setFunc(Q2),ge(!1),je(KF),be(2884),Ae(Lc);function be(ue){h[ue]!==!0&&(n.enable(ue),h[ue]=!0)}function Oe(ue){h[ue]!==!1&&(n.disable(ue),h[ue]=!1)}function Te(ue,Ee){return p[ue]!==Ee?(n.bindFramebuffer(ue,Ee),p[ue]=Ee,r&&(ue===36009&&(p[36160]=Ee),ue===36160&&(p[36009]=Ee)),!0):!1}function we(ue,Ee){let Fe=v,et=!1;if(ue)if(Fe=g.get(Ee),Fe===void 0&&(Fe=[],g.set(Ee,Fe)),ue.isWebGLMultipleRenderTargets){const rt=ue.texture;if(Fe.length!==rt.length||Fe[0]!==36064){for(let mt=0,jt=rt.length;mt<jt;mt++)Fe[mt]=36064+mt;Fe.length=rt.length,et=!0}}else Fe[0]!==36064&&(Fe[0]=36064,et=!0);else Fe[0]!==1029&&(Fe[0]=1029,et=!0);et&&(t.isWebGL2?n.drawBuffers(Fe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Fe))}function De(ue){return y!==ue?(n.useProgram(ue),y=ue,!0):!1}const pe={[ef]:32774,[Nee]:32778,[Fee]:32779};if(r)pe[e4]=32775,pe[t4]=32776;else{const ue=e.get("EXT_blend_minmax");ue!==null&&(pe[e4]=ue.MIN_EXT,pe[t4]=ue.MAX_EXT)}const fe={[zee]:0,[Bee]:1,[$ee]:768,[gB]:770,[Gee]:776,[jee]:774,[Wee]:772,[Uee]:769,[vB]:771,[Vee]:775,[Hee]:773};function Ae(ue,Ee,Fe,et,rt,mt,jt,Lt){if(ue===Lc){x===!0&&(Oe(3042),x=!1);return}if(x===!1&&(be(3042),x=!0),ue!==Dee){if(ue!==w||Lt!==L){if((b!==ef||A!==ef)&&(n.blendEquation(32774),b=ef,A=ef),Lt)switch(ue){case Ff:n.blendFuncSeparate(1,771,1,771);break;case QF:n.blendFunc(1,1);break;case ZF:n.blendFuncSeparate(0,769,0,1);break;case JF:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ue);break}else switch(ue){case Ff:n.blendFuncSeparate(770,771,1,771);break;case QF:n.blendFunc(770,1);break;case ZF:n.blendFuncSeparate(0,769,0,1);break;case JF:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ue);break}_=null,C=null,P=null,M=null,w=ue,L=Lt}return}rt=rt||Ee,mt=mt||Fe,jt=jt||et,(Ee!==b||rt!==A)&&(n.blendEquationSeparate(pe[Ee],pe[rt]),b=Ee,A=rt),(Fe!==_||et!==C||mt!==P||jt!==M)&&(n.blendFuncSeparate(fe[Fe],fe[et],fe[mt],fe[jt]),_=Fe,C=et,P=mt,M=jt),w=ue,L=null}function Pe(ue,Ee){ue.side===Ec?Oe(2884):be(2884);let Fe=ue.side===uo;Ee&&(Fe=!Fe),ge(Fe),ue.blending===Ff&&ue.transparent===!1?Ae(Lc):Ae(ue.blending,ue.blendEquation,ue.blendSrc,ue.blendDst,ue.blendEquationAlpha,ue.blendSrcAlpha,ue.blendDstAlpha,ue.premultipliedAlpha),l.setFunc(ue.depthFunc),l.setTest(ue.depthTest),l.setMask(ue.depthWrite),a.setMask(ue.colorWrite);const et=ue.stencilWrite;c.setTest(et),et&&(c.setMask(ue.stencilWriteMask),c.setFunc(ue.stencilFunc,ue.stencilRef,ue.stencilFuncMask),c.setOp(ue.stencilFail,ue.stencilZFail,ue.stencilZPass)),qe(ue.polygonOffset,ue.polygonOffsetFactor,ue.polygonOffsetUnits),ue.alphaToCoverage===!0?be(32926):Oe(32926)}function ge(ue){I!==ue&&(ue?n.frontFace(2304):n.frontFace(2305),I=ue)}function je(ue){ue!==kee?(be(2884),ue!==F&&(ue===KF?n.cullFace(1029):ue===Iee?n.cullFace(1028):n.cullFace(1032))):Oe(2884),F=ue}function We(ue){ue!==V&&(q&&n.lineWidth(ue),V=ue)}function qe(ue,Ee,Fe){ue?(be(32823),(j!==Ee||G!==Fe)&&(n.polygonOffset(Ee,Fe),j=Ee,G=Fe)):Oe(32823)}function Ze(ue){ue?be(3089):Oe(3089)}function Xe(ue){ue===void 0&&(ue=33984+J-1),z!==ue&&(n.activeTexture(ue),z=ue)}function te(ue,Ee,Fe){Fe===void 0&&(z===null?Fe=33984+J-1:Fe=z);let et=B[Fe];et===void 0&&(et={type:void 0,texture:void 0},B[Fe]=et),(et.type!==ue||et.texture!==Ee)&&(z!==Fe&&(n.activeTexture(Fe),z=Fe),n.bindTexture(ue,Ee||de[ue]),et.type=ue,et.texture=Ee)}function X(){const ue=B[z];ue!==void 0&&ue.type!==void 0&&(n.bindTexture(ue.type,null),ue.type=void 0,ue.texture=void 0)}function ve(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Ce(){try{n.compressedTexImage3D.apply(n,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function $e(){try{n.texSubImage2D.apply(n,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Ve(){try{n.texSubImage3D.apply(n,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Je(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Ge(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function T(){try{n.texStorage2D.apply(n,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function N(){try{n.texStorage3D.apply(n,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function U(){try{n.texImage2D.apply(n,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function ne(){try{n.texImage3D.apply(n,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function se(ue){oe.equals(ue)===!1&&(n.scissor(ue.x,ue.y,ue.z,ue.w),oe.copy(ue))}function K(ue){ce.equals(ue)===!1&&(n.viewport(ue.x,ue.y,ue.z,ue.w),ce.copy(ue))}function le(ue,Ee){let Fe=d.get(Ee);Fe===void 0&&(Fe=new WeakMap,d.set(Ee,Fe));let et=Fe.get(ue);et===void 0&&(et=n.getUniformBlockIndex(Ee,ue.name),Fe.set(ue,et))}function Le(ue,Ee){const et=d.get(Ee).get(ue);u.get(ue)!==et&&(n.uniformBlockBinding(Ee,et,ue.__bindingPointIndex),u.set(ue,et))}function Ke(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},z=null,B={},p={},g=new WeakMap,v=[],y=null,x=!1,w=null,b=null,_=null,C=null,A=null,P=null,M=null,L=!1,I=null,F=null,V=null,j=null,G=null,oe.set(0,0,n.canvas.width,n.canvas.height),ce.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:be,disable:Oe,bindFramebuffer:Te,drawBuffers:we,useProgram:De,setBlending:Ae,setMaterial:Pe,setFlipSided:ge,setCullFace:je,setLineWidth:We,setPolygonOffset:qe,setScissorTest:Ze,activeTexture:Xe,bindTexture:te,unbindTexture:X,compressedTexImage2D:ve,compressedTexImage3D:Ce,texImage2D:U,texImage3D:ne,updateUBOMapping:le,uniformBlockBinding:Le,texStorage2D:T,texStorage3D:N,texSubImage2D:$e,texSubImage3D:Ve,compressedTexSubImage2D:Je,compressedTexSubImage3D:Ge,scissor:se,viewport:K,reset:Ke}}function qDe(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p=/OculusBrowser/g.test(typeof navigator>"u"?"":navigator.userAgent),g=new WeakMap;let v;const y=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w(te,X){return x?new OffscreenCanvas(te,X):Iw("canvas")}function b(te,X,ve,Ce){let $e=1;if((te.width>Ce||te.height>Ce)&&($e=Ce/Math.max(te.width,te.height)),$e<1||X===!0)if(typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&te instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&te instanceof ImageBitmap){const Ve=X?tT:Math.floor,Je=Ve($e*te.width),Ge=Ve($e*te.height);v===void 0&&(v=w(Je,Ge));const T=ve?w(Je,Ge):v;return T.width=Je,T.height=Ge,T.getContext("2d").drawImage(te,0,0,Je,Ge),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+te.width+"x"+te.height+") to ("+Je+"x"+Ge+")."),T}else return"data"in te&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+te.width+"x"+te.height+")."),te;return te}function _(te){return E4(te.width)&&E4(te.height)}function C(te){return a?!1:te.wrapS!==Vi||te.wrapT!==Vi||te.minFilter!==Mr&&te.minFilter!==fr}function A(te,X){return te.generateMipmaps&&X&&te.minFilter!==Mr&&te.minFilter!==fr}function P(te){n.generateMipmap(te)}function M(te,X,ve,Ce,$e=!1){if(a===!1)return X;if(te!==null){if(n[te]!==void 0)return n[te];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+te+"'")}let Ve=X;return X===6403&&(ve===5126&&(Ve=33326),ve===5131&&(Ve=33325),ve===5121&&(Ve=33321)),X===33319&&(ve===5126&&(Ve=33328),ve===5131&&(Ve=33327),ve===5121&&(Ve=33323)),X===6408&&(ve===5126&&(Ve=34836),ve===5131&&(Ve=34842),ve===5121&&(Ve=Ce===Kn&&$e===!1?35907:32856),ve===32819&&(Ve=32854),ve===32820&&(Ve=32855)),(Ve===33325||Ve===33326||Ve===33327||Ve===33328||Ve===34842||Ve===34836)&&e.get("EXT_color_buffer_float"),Ve}function L(te,X,ve){return A(te,ve)===!0||te.isFramebufferTexture&&te.minFilter!==Mr&&te.minFilter!==fr?Math.log2(Math.max(X.width,X.height))+1:te.mipmaps!==void 0&&te.mipmaps.length>0?te.mipmaps.length:te.isCompressedTexture&&Array.isArray(te.image)?X.mipmaps.length:1}function I(te){return te===Mr||te===Z2||te===J2?9728:9729}function F(te){const X=te.target;X.removeEventListener("dispose",F),j(X),X.isVideoTexture&&g.delete(X)}function V(te){const X=te.target;X.removeEventListener("dispose",V),J(X)}function j(te){const X=r.get(te);if(X.__webglInit===void 0)return;const ve=te.source,Ce=y.get(ve);if(Ce){const $e=Ce[X.__cacheKey];$e.usedTimes--,$e.usedTimes===0&&G(te),Object.keys(Ce).length===0&&y.delete(ve)}r.remove(te)}function G(te){const X=r.get(te);n.deleteTexture(X.__webglTexture);const ve=te.source,Ce=y.get(ve);delete Ce[X.__cacheKey],o.memory.textures--}function J(te){const X=te.texture,ve=r.get(te),Ce=r.get(X);if(Ce.__webglTexture!==void 0&&(n.deleteTexture(Ce.__webglTexture),o.memory.textures--),te.depthTexture&&te.depthTexture.dispose(),te.isWebGLCubeRenderTarget)for(let $e=0;$e<6;$e++)n.deleteFramebuffer(ve.__webglFramebuffer[$e]),ve.__webglDepthbuffer&&n.deleteRenderbuffer(ve.__webglDepthbuffer[$e]);else{if(n.deleteFramebuffer(ve.__webglFramebuffer),ve.__webglDepthbuffer&&n.deleteRenderbuffer(ve.__webglDepthbuffer),ve.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ve.__webglMultisampledFramebuffer),ve.__webglColorRenderbuffer)for(let $e=0;$e<ve.__webglColorRenderbuffer.length;$e++)ve.__webglColorRenderbuffer[$e]&&n.deleteRenderbuffer(ve.__webglColorRenderbuffer[$e]);ve.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ve.__webglDepthRenderbuffer)}if(te.isWebGLMultipleRenderTargets)for(let $e=0,Ve=X.length;$e<Ve;$e++){const Je=r.get(X[$e]);Je.__webglTexture&&(n.deleteTexture(Je.__webglTexture),o.memory.textures--),r.remove(X[$e])}r.remove(X),r.remove(te)}let q=0;function H(){q=0}function D(){const te=q;return te>=l&&console.warn("THREE.WebGLTextures: Trying to use "+te+" texture units while this GPU supports only "+l),q+=1,te}function z(te){const X=[];return X.push(te.wrapS),X.push(te.wrapT),X.push(te.wrapR||0),X.push(te.magFilter),X.push(te.minFilter),X.push(te.anisotropy),X.push(te.internalFormat),X.push(te.format),X.push(te.type),X.push(te.generateMipmaps),X.push(te.premultiplyAlpha),X.push(te.flipY),X.push(te.unpackAlignment),X.push(te.encoding),X.join()}function B(te,X){const ve=r.get(te);if(te.isVideoTexture&&Ze(te),te.isRenderTargetTexture===!1&&te.version>0&&ve.__version!==te.version){const Ce=te.image;if(Ce===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ce.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Oe(ve,te,X);return}}t.bindTexture(3553,ve.__webglTexture,33984+X)}function ee(te,X){const ve=r.get(te);if(te.version>0&&ve.__version!==te.version){Oe(ve,te,X);return}t.bindTexture(35866,ve.__webglTexture,33984+X)}function Y(te,X){const ve=r.get(te);if(te.version>0&&ve.__version!==te.version){Oe(ve,te,X);return}t.bindTexture(32879,ve.__webglTexture,33984+X)}function oe(te,X){const ve=r.get(te);if(te.version>0&&ve.__version!==te.version){Te(ve,te,X);return}t.bindTexture(34067,ve.__webglTexture,33984+X)}const ce={[Cw]:10497,[Vi]:33071,[Aw]:33648},me={[Mr]:9728,[Z2]:9984,[J2]:9986,[fr]:9729,[xB]:9985,[Mp]:9987};function de(te,X,ve){if(ve?(n.texParameteri(te,10242,ce[X.wrapS]),n.texParameteri(te,10243,ce[X.wrapT]),(te===32879||te===35866)&&n.texParameteri(te,32882,ce[X.wrapR]),n.texParameteri(te,10240,me[X.magFilter]),n.texParameteri(te,10241,me[X.minFilter])):(n.texParameteri(te,10242,33071),n.texParameteri(te,10243,33071),(te===32879||te===35866)&&n.texParameteri(te,32882,33071),(X.wrapS!==Vi||X.wrapT!==Vi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(te,10240,I(X.magFilter)),n.texParameteri(te,10241,I(X.minFilter)),X.minFilter!==Mr&&X.minFilter!==fr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Ce=e.get("EXT_texture_filter_anisotropic");if(X.type===Mc&&e.has("OES_texture_float_linear")===!1||a===!1&&X.type===Xv&&e.has("OES_texture_half_float_linear")===!1)return;(X.anisotropy>1||r.get(X).__currentAnisotropy)&&(n.texParameterf(te,Ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(X.anisotropy,i.getMaxAnisotropy())),r.get(X).__currentAnisotropy=X.anisotropy)}}function be(te,X){let ve=!1;te.__webglInit===void 0&&(te.__webglInit=!0,X.addEventListener("dispose",F));const Ce=X.source;let $e=y.get(Ce);$e===void 0&&($e={},y.set(Ce,$e));const Ve=z(X);if(Ve!==te.__cacheKey){$e[Ve]===void 0&&($e[Ve]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ve=!0),$e[Ve].usedTimes++;const Je=$e[te.__cacheKey];Je!==void 0&&($e[te.__cacheKey].usedTimes--,Je.usedTimes===0&&G(X)),te.__cacheKey=Ve,te.__webglTexture=$e[Ve].texture}return ve}function Oe(te,X,ve){let Ce=3553;(X.isDataArrayTexture||X.isCompressedArrayTexture)&&(Ce=35866),X.isData3DTexture&&(Ce=32879);const $e=be(te,X),Ve=X.source;t.bindTexture(Ce,te.__webglTexture,33984+ve);const Je=r.get(Ve);if(Ve.version!==Je.__version||$e===!0){t.activeTexture(33984+ve),n.pixelStorei(37440,X.flipY),n.pixelStorei(37441,X.premultiplyAlpha),n.pixelStorei(3317,X.unpackAlignment),n.pixelStorei(37443,0);const Ge=C(X)&&_(X.image)===!1;let T=b(X.image,Ge,!1,u);T=Xe(X,T);const N=_(T)||a,U=s.convert(X.format,X.encoding);let ne=s.convert(X.type),se=M(X.internalFormat,U,ne,X.encoding,X.isVideoTexture);de(Ce,X,N);let K;const le=X.mipmaps,Le=a&&X.isVideoTexture!==!0,Ke=Je.__version===void 0||$e===!0,ue=L(X,T,N);if(X.isDepthTexture)se=6402,a?X.type===Mc?se=36012:X.type===ud?se=33190:X.type===zf?se=35056:se=33189:X.type===Mc&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),X.format===wd&&se===6402&&X.type!==wB&&X.type!==ud&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),X.type=ud,ne=s.convert(X.type)),X.format===up&&se===6402&&(se=34041,X.type!==zf&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),X.type=zf,ne=s.convert(X.type))),Ke&&(Le?t.texStorage2D(3553,1,se,T.width,T.height):t.texImage2D(3553,0,se,T.width,T.height,0,U,ne,null));else if(X.isDataTexture)if(le.length>0&&N){Le&&Ke&&t.texStorage2D(3553,ue,se,le[0].width,le[0].height);for(let Ee=0,Fe=le.length;Ee<Fe;Ee++)K=le[Ee],Le?t.texSubImage2D(3553,Ee,0,0,K.width,K.height,U,ne,K.data):t.texImage2D(3553,Ee,se,K.width,K.height,0,U,ne,K.data);X.generateMipmaps=!1}else Le?(Ke&&t.texStorage2D(3553,ue,se,T.width,T.height),t.texSubImage2D(3553,0,0,0,T.width,T.height,U,ne,T.data)):t.texImage2D(3553,0,se,T.width,T.height,0,U,ne,T.data);else if(X.isCompressedTexture)if(X.isCompressedArrayTexture){Le&&Ke&&t.texStorage3D(35866,ue,se,le[0].width,le[0].height,T.depth);for(let Ee=0,Fe=le.length;Ee<Fe;Ee++)K=le[Ee],X.format!==Ts?U!==null?Le?t.compressedTexSubImage3D(35866,Ee,0,0,0,K.width,K.height,T.depth,U,K.data,0,0):t.compressedTexImage3D(35866,Ee,se,K.width,K.height,T.depth,0,K.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Le?t.texSubImage3D(35866,Ee,0,0,0,K.width,K.height,T.depth,U,ne,K.data):t.texImage3D(35866,Ee,se,K.width,K.height,T.depth,0,U,ne,K.data)}else{Le&&Ke&&t.texStorage2D(3553,ue,se,le[0].width,le[0].height);for(let Ee=0,Fe=le.length;Ee<Fe;Ee++)K=le[Ee],X.format!==Ts?U!==null?Le?t.compressedTexSubImage2D(3553,Ee,0,0,K.width,K.height,U,K.data):t.compressedTexImage2D(3553,Ee,se,K.width,K.height,0,K.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Le?t.texSubImage2D(3553,Ee,0,0,K.width,K.height,U,ne,K.data):t.texImage2D(3553,Ee,se,K.width,K.height,0,U,ne,K.data)}else if(X.isDataArrayTexture)Le?(Ke&&t.texStorage3D(35866,ue,se,T.width,T.height,T.depth),t.texSubImage3D(35866,0,0,0,0,T.width,T.height,T.depth,U,ne,T.data)):t.texImage3D(35866,0,se,T.width,T.height,T.depth,0,U,ne,T.data);else if(X.isData3DTexture)Le?(Ke&&t.texStorage3D(32879,ue,se,T.width,T.height,T.depth),t.texSubImage3D(32879,0,0,0,0,T.width,T.height,T.depth,U,ne,T.data)):t.texImage3D(32879,0,se,T.width,T.height,T.depth,0,U,ne,T.data);else if(X.isFramebufferTexture){if(Ke)if(Le)t.texStorage2D(3553,ue,se,T.width,T.height);else{let Ee=T.width,Fe=T.height;for(let et=0;et<ue;et++)t.texImage2D(3553,et,se,Ee,Fe,0,U,ne,null),Ee>>=1,Fe>>=1}}else if(le.length>0&&N){Le&&Ke&&t.texStorage2D(3553,ue,se,le[0].width,le[0].height);for(let Ee=0,Fe=le.length;Ee<Fe;Ee++)K=le[Ee],Le?t.texSubImage2D(3553,Ee,0,0,U,ne,K):t.texImage2D(3553,Ee,se,U,ne,K);X.generateMipmaps=!1}else Le?(Ke&&t.texStorage2D(3553,ue,se,T.width,T.height),t.texSubImage2D(3553,0,0,0,U,ne,T)):t.texImage2D(3553,0,se,U,ne,T);A(X,N)&&P(Ce),Je.__version=Ve.version,X.onUpdate&&X.onUpdate(X)}te.__version=X.version}function Te(te,X,ve){if(X.image.length!==6)return;const Ce=be(te,X),$e=X.source;t.bindTexture(34067,te.__webglTexture,33984+ve);const Ve=r.get($e);if($e.version!==Ve.__version||Ce===!0){t.activeTexture(33984+ve),n.pixelStorei(37440,X.flipY),n.pixelStorei(37441,X.premultiplyAlpha),n.pixelStorei(3317,X.unpackAlignment),n.pixelStorei(37443,0);const Je=X.isCompressedTexture||X.image[0].isCompressedTexture,Ge=X.image[0]&&X.image[0].isDataTexture,T=[];for(let Ee=0;Ee<6;Ee++)!Je&&!Ge?T[Ee]=b(X.image[Ee],!1,!0,c):T[Ee]=Ge?X.image[Ee].image:X.image[Ee],T[Ee]=Xe(X,T[Ee]);const N=T[0],U=_(N)||a,ne=s.convert(X.format,X.encoding),se=s.convert(X.type),K=M(X.internalFormat,ne,se,X.encoding),le=a&&X.isVideoTexture!==!0,Le=Ve.__version===void 0||Ce===!0;let Ke=L(X,N,U);de(34067,X,U);let ue;if(Je){le&&Le&&t.texStorage2D(34067,Ke,K,N.width,N.height);for(let Ee=0;Ee<6;Ee++){ue=T[Ee].mipmaps;for(let Fe=0;Fe<ue.length;Fe++){const et=ue[Fe];X.format!==Ts?ne!==null?le?t.compressedTexSubImage2D(34069+Ee,Fe,0,0,et.width,et.height,ne,et.data):t.compressedTexImage2D(34069+Ee,Fe,K,et.width,et.height,0,et.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):le?t.texSubImage2D(34069+Ee,Fe,0,0,et.width,et.height,ne,se,et.data):t.texImage2D(34069+Ee,Fe,K,et.width,et.height,0,ne,se,et.data)}}}else{ue=X.mipmaps,le&&Le&&(ue.length>0&&Ke++,t.texStorage2D(34067,Ke,K,T[0].width,T[0].height));for(let Ee=0;Ee<6;Ee++)if(Ge){le?t.texSubImage2D(34069+Ee,0,0,0,T[Ee].width,T[Ee].height,ne,se,T[Ee].data):t.texImage2D(34069+Ee,0,K,T[Ee].width,T[Ee].height,0,ne,se,T[Ee].data);for(let Fe=0;Fe<ue.length;Fe++){const rt=ue[Fe].image[Ee].image;le?t.texSubImage2D(34069+Ee,Fe+1,0,0,rt.width,rt.height,ne,se,rt.data):t.texImage2D(34069+Ee,Fe+1,K,rt.width,rt.height,0,ne,se,rt.data)}}else{le?t.texSubImage2D(34069+Ee,0,0,0,ne,se,T[Ee]):t.texImage2D(34069+Ee,0,K,ne,se,T[Ee]);for(let Fe=0;Fe<ue.length;Fe++){const et=ue[Fe];le?t.texSubImage2D(34069+Ee,Fe+1,0,0,ne,se,et.image[Ee]):t.texImage2D(34069+Ee,Fe+1,K,ne,se,et.image[Ee])}}}A(X,U)&&P(34067),Ve.__version=$e.version,X.onUpdate&&X.onUpdate(X)}te.__version=X.version}function we(te,X,ve,Ce,$e){const Ve=s.convert(ve.format,ve.encoding),Je=s.convert(ve.type),Ge=M(ve.internalFormat,Ve,Je,ve.encoding);r.get(X).__hasExternalTextures||($e===32879||$e===35866?t.texImage3D($e,0,Ge,X.width,X.height,X.depth,0,Ve,Je,null):t.texImage2D($e,0,Ge,X.width,X.height,0,Ve,Je,null)),t.bindFramebuffer(36160,te),qe(X)?h.framebufferTexture2DMultisampleEXT(36160,Ce,$e,r.get(ve).__webglTexture,0,We(X)):($e===3553||$e>=34069&&$e<=34074)&&n.framebufferTexture2D(36160,Ce,$e,r.get(ve).__webglTexture,0),t.bindFramebuffer(36160,null)}function De(te,X,ve){if(n.bindRenderbuffer(36161,te),X.depthBuffer&&!X.stencilBuffer){let Ce=33189;if(ve||qe(X)){const $e=X.depthTexture;$e&&$e.isDepthTexture&&($e.type===Mc?Ce=36012:$e.type===ud&&(Ce=33190));const Ve=We(X);qe(X)?h.renderbufferStorageMultisampleEXT(36161,Ve,Ce,X.width,X.height):n.renderbufferStorageMultisample(36161,Ve,Ce,X.width,X.height)}else n.renderbufferStorage(36161,Ce,X.width,X.height);n.framebufferRenderbuffer(36160,36096,36161,te)}else if(X.depthBuffer&&X.stencilBuffer){const Ce=We(X);ve&&qe(X)===!1?n.renderbufferStorageMultisample(36161,Ce,35056,X.width,X.height):qe(X)?h.renderbufferStorageMultisampleEXT(36161,Ce,35056,X.width,X.height):n.renderbufferStorage(36161,34041,X.width,X.height),n.framebufferRenderbuffer(36160,33306,36161,te)}else{const Ce=X.isWebGLMultipleRenderTargets===!0?X.texture:[X.texture];for(let $e=0;$e<Ce.length;$e++){const Ve=Ce[$e],Je=s.convert(Ve.format,Ve.encoding),Ge=s.convert(Ve.type),T=M(Ve.internalFormat,Je,Ge,Ve.encoding),N=We(X);ve&&qe(X)===!1?n.renderbufferStorageMultisample(36161,N,T,X.width,X.height):qe(X)?h.renderbufferStorageMultisampleEXT(36161,N,T,X.width,X.height):n.renderbufferStorage(36161,T,X.width,X.height)}}n.bindRenderbuffer(36161,null)}function pe(te,X){if(X&&X.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,te),!(X.depthTexture&&X.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(X.depthTexture).__webglTexture||X.depthTexture.image.width!==X.width||X.depthTexture.image.height!==X.height)&&(X.depthTexture.image.width=X.width,X.depthTexture.image.height=X.height,X.depthTexture.needsUpdate=!0),B(X.depthTexture,0);const Ce=r.get(X.depthTexture).__webglTexture,$e=We(X);if(X.depthTexture.format===wd)qe(X)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,Ce,0,$e):n.framebufferTexture2D(36160,36096,3553,Ce,0);else if(X.depthTexture.format===up)qe(X)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,Ce,0,$e):n.framebufferTexture2D(36160,33306,3553,Ce,0);else throw new Error("Unknown depthTexture format")}function fe(te){const X=r.get(te),ve=te.isWebGLCubeRenderTarget===!0;if(te.depthTexture&&!X.__autoAllocateDepthBuffer){if(ve)throw new Error("target.depthTexture not supported in Cube render targets");pe(X.__webglFramebuffer,te)}else if(ve){X.__webglDepthbuffer=[];for(let Ce=0;Ce<6;Ce++)t.bindFramebuffer(36160,X.__webglFramebuffer[Ce]),X.__webglDepthbuffer[Ce]=n.createRenderbuffer(),De(X.__webglDepthbuffer[Ce],te,!1)}else t.bindFramebuffer(36160,X.__webglFramebuffer),X.__webglDepthbuffer=n.createRenderbuffer(),De(X.__webglDepthbuffer,te,!1);t.bindFramebuffer(36160,null)}function Ae(te,X,ve){const Ce=r.get(te);X!==void 0&&we(Ce.__webglFramebuffer,te,te.texture,36064,3553),ve!==void 0&&fe(te)}function Pe(te){const X=te.texture,ve=r.get(te),Ce=r.get(X);te.addEventListener("dispose",V),te.isWebGLMultipleRenderTargets!==!0&&(Ce.__webglTexture===void 0&&(Ce.__webglTexture=n.createTexture()),Ce.__version=X.version,o.memory.textures++);const $e=te.isWebGLCubeRenderTarget===!0,Ve=te.isWebGLMultipleRenderTargets===!0,Je=_(te)||a;if($e){ve.__webglFramebuffer=[];for(let Ge=0;Ge<6;Ge++)ve.__webglFramebuffer[Ge]=n.createFramebuffer()}else{if(ve.__webglFramebuffer=n.createFramebuffer(),Ve)if(i.drawBuffers){const Ge=te.texture;for(let T=0,N=Ge.length;T<N;T++){const U=r.get(Ge[T]);U.__webglTexture===void 0&&(U.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&te.samples>0&&qe(te)===!1){const Ge=Ve?X:[X];ve.__webglMultisampledFramebuffer=n.createFramebuffer(),ve.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,ve.__webglMultisampledFramebuffer);for(let T=0;T<Ge.length;T++){const N=Ge[T];ve.__webglColorRenderbuffer[T]=n.createRenderbuffer(),n.bindRenderbuffer(36161,ve.__webglColorRenderbuffer[T]);const U=s.convert(N.format,N.encoding),ne=s.convert(N.type),se=M(N.internalFormat,U,ne,N.encoding,te.isXRRenderTarget===!0),K=We(te);n.renderbufferStorageMultisample(36161,K,se,te.width,te.height),n.framebufferRenderbuffer(36160,36064+T,36161,ve.__webglColorRenderbuffer[T])}n.bindRenderbuffer(36161,null),te.depthBuffer&&(ve.__webglDepthRenderbuffer=n.createRenderbuffer(),De(ve.__webglDepthRenderbuffer,te,!0)),t.bindFramebuffer(36160,null)}}if($e){t.bindTexture(34067,Ce.__webglTexture),de(34067,X,Je);for(let Ge=0;Ge<6;Ge++)we(ve.__webglFramebuffer[Ge],te,X,36064,34069+Ge);A(X,Je)&&P(34067),t.unbindTexture()}else if(Ve){const Ge=te.texture;for(let T=0,N=Ge.length;T<N;T++){const U=Ge[T],ne=r.get(U);t.bindTexture(3553,ne.__webglTexture),de(3553,U,Je),we(ve.__webglFramebuffer,te,U,36064+T,3553),A(U,Je)&&P(3553)}t.unbindTexture()}else{let Ge=3553;(te.isWebGL3DRenderTarget||te.isWebGLArrayRenderTarget)&&(a?Ge=te.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ge,Ce.__webglTexture),de(Ge,X,Je),we(ve.__webglFramebuffer,te,X,36064,Ge),A(X,Je)&&P(Ge),t.unbindTexture()}te.depthBuffer&&fe(te)}function ge(te){const X=_(te)||a,ve=te.isWebGLMultipleRenderTargets===!0?te.texture:[te.texture];for(let Ce=0,$e=ve.length;Ce<$e;Ce++){const Ve=ve[Ce];if(A(Ve,X)){const Je=te.isWebGLCubeRenderTarget?34067:3553,Ge=r.get(Ve).__webglTexture;t.bindTexture(Je,Ge),P(Je),t.unbindTexture()}}}function je(te){if(a&&te.samples>0&&qe(te)===!1){const X=te.isWebGLMultipleRenderTargets?te.texture:[te.texture],ve=te.width,Ce=te.height;let $e=16384;const Ve=[],Je=te.stencilBuffer?33306:36096,Ge=r.get(te),T=te.isWebGLMultipleRenderTargets===!0;if(T)for(let N=0;N<X.length;N++)t.bindFramebuffer(36160,Ge.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+N,36161,null),t.bindFramebuffer(36160,Ge.__webglFramebuffer),n.framebufferTexture2D(36009,36064+N,3553,null,0);t.bindFramebuffer(36008,Ge.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Ge.__webglFramebuffer);for(let N=0;N<X.length;N++){Ve.push(36064+N),te.depthBuffer&&Ve.push(Je);const U=Ge.__ignoreDepthValues!==void 0?Ge.__ignoreDepthValues:!1;if(U===!1&&(te.depthBuffer&&($e|=256),te.stencilBuffer&&($e|=1024)),T&&n.framebufferRenderbuffer(36008,36064,36161,Ge.__webglColorRenderbuffer[N]),U===!0&&(n.invalidateFramebuffer(36008,[Je]),n.invalidateFramebuffer(36009,[Je])),T){const ne=r.get(X[N]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,ne,0)}n.blitFramebuffer(0,0,ve,Ce,0,0,ve,Ce,$e,9728),p&&n.invalidateFramebuffer(36008,Ve)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),T)for(let N=0;N<X.length;N++){t.bindFramebuffer(36160,Ge.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+N,36161,Ge.__webglColorRenderbuffer[N]);const U=r.get(X[N]).__webglTexture;t.bindFramebuffer(36160,Ge.__webglFramebuffer),n.framebufferTexture2D(36009,36064+N,3553,U,0)}t.bindFramebuffer(36009,Ge.__webglMultisampledFramebuffer)}}function We(te){return Math.min(d,te.samples)}function qe(te){const X=r.get(te);return a&&te.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&X.__useRenderToTexture!==!1}function Ze(te){const X=o.render.frame;g.get(te)!==X&&(g.set(te,X),te.update())}function Xe(te,X){const ve=te.encoding,Ce=te.format,$e=te.type;return te.isCompressedTexture===!0||te.isVideoTexture===!0||te.format===eT||ve!==Rd&&(ve===Kn?a===!1?e.has("EXT_sRGB")===!0&&Ce===Ts?(te.format=eT,te.minFilter=fr,te.generateMipmaps=!1):X=SB.sRGBToLinear(X):(Ce!==Ts||$e!==$c)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ve)),X}this.allocateTextureUnit=D,this.resetTextureUnits=H,this.setTexture2D=B,this.setTexture2DArray=ee,this.setTexture3D=Y,this.setTextureCube=oe,this.rebindTextures=Ae,this.setupRenderTarget=Pe,this.updateRenderTargetMipmap=ge,this.updateMultisampleRenderTarget=je,this.setupDepthRenderbuffer=fe,this.setupFrameBufferTexture=we,this.useMultisampledRTT=qe}function Bte(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===$c)return 5121;if(s===cte)return 32819;if(s===ute)return 32820;if(s===ote)return 5120;if(s===ate)return 5122;if(s===wB)return 5123;if(s===lte)return 5124;if(s===ud)return 5125;if(s===Mc)return 5126;if(s===Xv)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===dte)return 6406;if(s===Ts)return 6408;if(s===fte)return 6409;if(s===pte)return 6410;if(s===wd)return 6402;if(s===up)return 34041;if(s===mte)return 6403;if(s===hte)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===eT)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===gte)return 36244;if(s===vte)return 33319;if(s===yte)return 33320;if(s===xte)return 36249;if(s===ZC||s===JC||s===eA||s===tA)if(o===Kn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===ZC)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===JC)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===eA)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===tA)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===ZC)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===JC)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===eA)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===tA)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===n4||s===r4||s===i4||s===s4)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===n4)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===r4)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===i4)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===s4)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===wte)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===o4||s===a4)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===o4)return o===Kn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===a4)return o===Kn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===l4||s===c4||s===u4||s===d4||s===h4||s===f4||s===p4||s===m4||s===g4||s===v4||s===y4||s===x4||s===w4||s===b4)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===l4)return o===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===c4)return o===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===u4)return o===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===d4)return o===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===h4)return o===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===f4)return o===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===p4)return o===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===m4)return o===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===g4)return o===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===v4)return o===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===y4)return o===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===x4)return o===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===w4)return o===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===b4)return o===Kn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===_4)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===_4)return o===Kn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===zf?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class $te extends sr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Sf extends mn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const XDe={type:"move"};class S3{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Sf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Sf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new re,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new re),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Sf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new re,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new re),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const v of e.hand.values()){const y=t.getJointPose(v,r);if(c.joints[v.jointName]===void 0){const w=new Sf;w.matrixAutoUpdate=!1,w.visible=!1,c.joints[v.jointName]=w,c.add(w)}const x=c.joints[v.jointName];y!==null&&(x.matrix.fromArray(y.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=y.radius),x.visible=y!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],h=u.position.distanceTo(d.position),p=.02,g=.005;c.inputState.pinching&&h>p+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=p-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(XDe)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}}class Ute extends Pr{constructor(e,t,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:wd,u!==wd&&u!==up)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===wd&&(r=ud),r===void 0&&u===up&&(r=zf),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Mr,this.minFilter=l!==void 0?l:Mr,this.flipY=!1,this.generateMipmaps=!1}}class YDe extends Tl{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,c=null,u=null,d=null,h=null,p=null;const g=t.getContextAttributes();let v=null,y=null;const x=[],w=[],b=new sr;b.layers.enable(1),b.viewport=new _n;const _=new sr;_.layers.enable(2),_.viewport=new _n;const C=[b,_],A=new $te;A.layers.enable(1),A.layers.enable(2);let P=null,M=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(z){let B=x[z];return B===void 0&&(B=new S3,x[z]=B),B.getTargetRaySpace()},this.getControllerGrip=function(z){let B=x[z];return B===void 0&&(B=new S3,x[z]=B),B.getGripSpace()},this.getHand=function(z){let B=x[z];return B===void 0&&(B=new S3,x[z]=B),B.getHandSpace()};function L(z){const B=w.indexOf(z.inputSource);if(B===-1)return;const ee=x[B];ee!==void 0&&ee.dispatchEvent({type:z.type,data:z.inputSource})}function I(){i.removeEventListener("select",L),i.removeEventListener("selectstart",L),i.removeEventListener("selectend",L),i.removeEventListener("squeeze",L),i.removeEventListener("squeezestart",L),i.removeEventListener("squeezeend",L),i.removeEventListener("end",I),i.removeEventListener("inputsourceschange",F);for(let z=0;z<x.length;z++){const B=w[z];B!==null&&(w[z]=null,x[z].disconnect(B))}P=null,M=null,e.setRenderTarget(v),h=null,d=null,u=null,i=null,y=null,D.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(z){s=z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(z){a=z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(z){l=z},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(z){if(i=z,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",L),i.addEventListener("selectstart",L),i.addEventListener("selectend",L),i.addEventListener("squeeze",L),i.addEventListener("squeezestart",L),i.addEventListener("squeezeend",L),i.addEventListener("end",I),i.addEventListener("inputsourceschange",F),g.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const B={antialias:i.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(i,t,B),i.updateRenderState({baseLayer:h}),y=new aa(h.framebufferWidth,h.framebufferHeight,{format:Ts,type:$c,encoding:e.outputEncoding,stencilBuffer:g.stencil})}else{let B=null,ee=null,Y=null;g.depth&&(Y=g.stencil?35056:33190,B=g.stencil?up:wd,ee=g.stencil?zf:ud);const oe={colorFormat:32856,depthFormat:Y,scaleFactor:s};u=new XRWebGLBinding(i,t),d=u.createProjectionLayer(oe),i.updateRenderState({layers:[d]}),y=new aa(d.textureWidth,d.textureHeight,{format:Ts,type:$c,depthTexture:new Ute(d.textureWidth,d.textureHeight,ee,void 0,void 0,void 0,void 0,void 0,void 0,B),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const ce=e.properties.get(y);ce.__ignoreDepthValues=d.ignoreDepthValues}y.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),D.setContext(i),D.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function F(z){for(let B=0;B<z.removed.length;B++){const ee=z.removed[B],Y=w.indexOf(ee);Y>=0&&(w[Y]=null,x[Y].dispatchEvent({type:"disconnected",data:ee}))}for(let B=0;B<z.added.length;B++){const ee=z.added[B];let Y=w.indexOf(ee);if(Y===-1){for(let ce=0;ce<x.length;ce++)if(ce>=w.length){w.push(ee),Y=ce;break}else if(w[ce]===null){w[ce]=ee,Y=ce;break}if(Y===-1)break}const oe=x[Y];oe&&oe.dispatchEvent({type:"connected",data:ee})}}const V=new re,j=new re;function G(z,B,ee){V.setFromMatrixPosition(B.matrixWorld),j.setFromMatrixPosition(ee.matrixWorld);const Y=V.distanceTo(j),oe=B.projectionMatrix.elements,ce=ee.projectionMatrix.elements,me=oe[14]/(oe[10]-1),de=oe[14]/(oe[10]+1),be=(oe[9]+1)/oe[5],Oe=(oe[9]-1)/oe[5],Te=(oe[8]-1)/oe[0],we=(ce[8]+1)/ce[0],De=me*Te,pe=me*we,fe=Y/(-Te+we),Ae=fe*-Te;B.matrixWorld.decompose(z.position,z.quaternion,z.scale),z.translateX(Ae),z.translateZ(fe),z.matrixWorld.compose(z.position,z.quaternion,z.scale),z.matrixWorldInverse.copy(z.matrixWorld).invert();const Pe=me+fe,ge=de+fe,je=De-Ae,We=pe+(Y-Ae),qe=be*de/ge*Pe,Ze=Oe*de/ge*Pe;z.projectionMatrix.makePerspective(je,We,qe,Ze,Pe,ge)}function J(z,B){B===null?z.matrixWorld.copy(z.matrix):z.matrixWorld.multiplyMatrices(B.matrixWorld,z.matrix),z.matrixWorldInverse.copy(z.matrixWorld).invert()}this.updateCamera=function(z){if(i===null)return;A.near=_.near=b.near=z.near,A.far=_.far=b.far=z.far,(P!==A.near||M!==A.far)&&(i.updateRenderState({depthNear:A.near,depthFar:A.far}),P=A.near,M=A.far);const B=z.parent,ee=A.cameras;J(A,B);for(let oe=0;oe<ee.length;oe++)J(ee[oe],B);A.matrixWorld.decompose(A.position,A.quaternion,A.scale),z.matrix.copy(A.matrix),z.matrix.decompose(z.position,z.quaternion,z.scale);const Y=z.children;for(let oe=0,ce=Y.length;oe<ce;oe++)Y[oe].updateMatrixWorld(!0);ee.length===2?G(A,b,_):A.projectionMatrix.copy(b.projectionMatrix)},this.getCamera=function(){return A},this.getFoveation=function(){if(d!==null)return d.fixedFoveation;if(h!==null)return h.fixedFoveation},this.setFoveation=function(z){d!==null&&(d.fixedFoveation=z),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=z)};let q=null;function H(z,B){if(c=B.getViewerPose(l||o),p=B,c!==null){const ee=c.views;h!==null&&(e.setRenderTargetFramebuffer(y,h.framebuffer),e.setRenderTarget(y));let Y=!1;ee.length!==A.cameras.length&&(A.cameras.length=0,Y=!0);for(let oe=0;oe<ee.length;oe++){const ce=ee[oe];let me=null;if(h!==null)me=h.getViewport(ce);else{const be=u.getViewSubImage(d,ce);me=be.viewport,oe===0&&(e.setRenderTargetTextures(y,be.colorTexture,d.ignoreDepthValues?void 0:be.depthStencilTexture),e.setRenderTarget(y))}let de=C[oe];de===void 0&&(de=new sr,de.layers.enable(oe),de.viewport=new _n,C[oe]=de),de.matrix.fromArray(ce.transform.matrix),de.projectionMatrix.fromArray(ce.projectionMatrix),de.viewport.set(me.x,me.y,me.width,me.height),oe===0&&A.matrix.copy(de.matrix),Y===!0&&A.cameras.push(de)}}for(let ee=0;ee<x.length;ee++){const Y=w[ee],oe=x[ee];Y!==null&&oe!==void 0&&oe.update(Y,B,l||o)}q&&q(z,B),p=null}const D=new Ote;D.setAnimationLoop(H),this.setAnimationLoop=function(z){q=z},this.dispose=function(){}}}function KDe(n,e){function t(v,y){v.fogColor.value.copy(y.color),y.isFog?(v.fogNear.value=y.near,v.fogFar.value=y.far):y.isFogExp2&&(v.fogDensity.value=y.density)}function r(v,y,x,w,b){y.isMeshBasicMaterial||y.isMeshLambertMaterial?i(v,y):y.isMeshToonMaterial?(i(v,y),u(v,y)):y.isMeshPhongMaterial?(i(v,y),c(v,y)):y.isMeshStandardMaterial?(i(v,y),d(v,y),y.isMeshPhysicalMaterial&&h(v,y,b)):y.isMeshMatcapMaterial?(i(v,y),p(v,y)):y.isMeshDepthMaterial?i(v,y):y.isMeshDistanceMaterial?(i(v,y),g(v,y)):y.isMeshNormalMaterial?i(v,y):y.isLineBasicMaterial?(s(v,y),y.isLineDashedMaterial&&o(v,y)):y.isPointsMaterial?a(v,y,x,w):y.isSpriteMaterial?l(v,y):y.isShadowMaterial?(v.color.value.copy(y.color),v.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function i(v,y){v.opacity.value=y.opacity,y.color&&v.diffuse.value.copy(y.color),y.emissive&&v.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.bumpMap&&(v.bumpMap.value=y.bumpMap,v.bumpScale.value=y.bumpScale,y.side===uo&&(v.bumpScale.value*=-1)),y.displacementMap&&(v.displacementMap.value=y.displacementMap,v.displacementScale.value=y.displacementScale,v.displacementBias.value=y.displacementBias),y.emissiveMap&&(v.emissiveMap.value=y.emissiveMap),y.normalMap&&(v.normalMap.value=y.normalMap,v.normalScale.value.copy(y.normalScale),y.side===uo&&v.normalScale.value.negate()),y.specularMap&&(v.specularMap.value=y.specularMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);const x=e.get(y).envMap;if(x&&(v.envMap.value=x,v.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=y.reflectivity,v.ior.value=y.ior,v.refractionRatio.value=y.refractionRatio),y.lightMap){v.lightMap.value=y.lightMap;const _=n.physicallyCorrectLights!==!0?Math.PI:1;v.lightMapIntensity.value=y.lightMapIntensity*_}y.aoMap&&(v.aoMap.value=y.aoMap,v.aoMapIntensity.value=y.aoMapIntensity);let w;y.map?w=y.map:y.specularMap?w=y.specularMap:y.displacementMap?w=y.displacementMap:y.normalMap?w=y.normalMap:y.bumpMap?w=y.bumpMap:y.roughnessMap?w=y.roughnessMap:y.metalnessMap?w=y.metalnessMap:y.alphaMap?w=y.alphaMap:y.emissiveMap?w=y.emissiveMap:y.clearcoatMap?w=y.clearcoatMap:y.clearcoatNormalMap?w=y.clearcoatNormalMap:y.clearcoatRoughnessMap?w=y.clearcoatRoughnessMap:y.iridescenceMap?w=y.iridescenceMap:y.iridescenceThicknessMap?w=y.iridescenceThicknessMap:y.specularIntensityMap?w=y.specularIntensityMap:y.specularColorMap?w=y.specularColorMap:y.transmissionMap?w=y.transmissionMap:y.thicknessMap?w=y.thicknessMap:y.sheenColorMap?w=y.sheenColorMap:y.sheenRoughnessMap&&(w=y.sheenRoughnessMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uvTransform.value.copy(w.matrix));let b;y.aoMap?b=y.aoMap:y.lightMap&&(b=y.lightMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),v.uv2Transform.value.copy(b.matrix))}function s(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity}function o(v,y){v.dashSize.value=y.dashSize,v.totalSize.value=y.dashSize+y.gapSize,v.scale.value=y.scale}function a(v,y,x,w){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.size.value=y.size*x,v.scale.value=w*.5,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let b;y.map?b=y.map:y.alphaMap&&(b=y.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),v.uvTransform.value.copy(b.matrix))}function l(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.rotation.value=y.rotation,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let x;y.map?x=y.map:y.alphaMap&&(x=y.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),v.uvTransform.value.copy(x.matrix))}function c(v,y){v.specular.value.copy(y.specular),v.shininess.value=Math.max(y.shininess,1e-4)}function u(v,y){y.gradientMap&&(v.gradientMap.value=y.gradientMap)}function d(v,y){v.roughness.value=y.roughness,v.metalness.value=y.metalness,y.roughnessMap&&(v.roughnessMap.value=y.roughnessMap),y.metalnessMap&&(v.metalnessMap.value=y.metalnessMap),e.get(y).envMap&&(v.envMapIntensity.value=y.envMapIntensity)}function h(v,y,x){v.ior.value=y.ior,y.sheen>0&&(v.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),v.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(v.sheenColorMap.value=y.sheenColorMap),y.sheenRoughnessMap&&(v.sheenRoughnessMap.value=y.sheenRoughnessMap)),y.clearcoat>0&&(v.clearcoat.value=y.clearcoat,v.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(v.clearcoatMap.value=y.clearcoatMap),y.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap),y.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),v.clearcoatNormalMap.value=y.clearcoatNormalMap,y.side===uo&&v.clearcoatNormalScale.value.negate())),y.iridescence>0&&(v.iridescence.value=y.iridescence,v.iridescenceIOR.value=y.iridescenceIOR,v.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(v.iridescenceMap.value=y.iridescenceMap),y.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=y.iridescenceThicknessMap)),y.transmission>0&&(v.transmission.value=y.transmission,v.transmissionSamplerMap.value=x.texture,v.transmissionSamplerSize.value.set(x.width,x.height),y.transmissionMap&&(v.transmissionMap.value=y.transmissionMap),v.thickness.value=y.thickness,y.thicknessMap&&(v.thicknessMap.value=y.thicknessMap),v.attenuationDistance.value=y.attenuationDistance,v.attenuationColor.value.copy(y.attenuationColor)),v.specularIntensity.value=y.specularIntensity,v.specularColor.value.copy(y.specularColor),y.specularIntensityMap&&(v.specularIntensityMap.value=y.specularIntensityMap),y.specularColorMap&&(v.specularColorMap.value=y.specularColorMap)}function p(v,y){y.matcap&&(v.matcap.value=y.matcap)}function g(v,y){v.referencePosition.value.copy(y.referencePosition),v.nearDistance.value=y.nearDistance,v.farDistance.value=y.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function QDe(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(w,b){const _=b.program;r.uniformBlockBinding(w,_)}function c(w,b){let _=i[w.id];_===void 0&&(g(w),_=u(w),i[w.id]=_,w.addEventListener("dispose",y));const C=b.program;r.updateUBOMapping(w,C);const A=e.render.frame;s[w.id]!==A&&(h(w),s[w.id]=A)}function u(w){const b=d();w.__bindingPointIndex=b;const _=n.createBuffer(),C=w.__size,A=w.usage;return n.bindBuffer(35345,_),n.bufferData(35345,C,A),n.bindBuffer(35345,null),n.bindBufferBase(35345,b,_),_}function d(){for(let w=0;w<a;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(w){const b=i[w.id],_=w.uniforms,C=w.__cache;n.bindBuffer(35345,b);for(let A=0,P=_.length;A<P;A++){const M=_[A];if(p(M,A,C)===!0){const L=M.value,I=M.__offset;typeof L=="number"?(M.__data[0]=L,n.bufferSubData(35345,I,M.__data)):(M.value.isMatrix3?(M.__data[0]=M.value.elements[0],M.__data[1]=M.value.elements[1],M.__data[2]=M.value.elements[2],M.__data[3]=M.value.elements[0],M.__data[4]=M.value.elements[3],M.__data[5]=M.value.elements[4],M.__data[6]=M.value.elements[5],M.__data[7]=M.value.elements[0],M.__data[8]=M.value.elements[6],M.__data[9]=M.value.elements[7],M.__data[10]=M.value.elements[8],M.__data[11]=M.value.elements[0]):L.toArray(M.__data),n.bufferSubData(35345,I,M.__data))}}n.bindBuffer(35345,null)}function p(w,b,_){const C=w.value;if(_[b]===void 0)return typeof C=="number"?_[b]=C:_[b]=C.clone(),!0;if(typeof C=="number"){if(_[b]!==C)return _[b]=C,!0}else{const A=_[b];if(A.equals(C)===!1)return A.copy(C),!0}return!1}function g(w){const b=w.uniforms;let _=0;const C=16;let A=0;for(let P=0,M=b.length;P<M;P++){const L=b[P],I=v(L);if(L.__data=new Float32Array(I.storage/Float32Array.BYTES_PER_ELEMENT),L.__offset=_,P>0){A=_%C;const F=C-A;A!==0&&F-I.boundary<0&&(_+=C-A,L.__offset=_)}_+=I.storage}return A=_%C,A>0&&(_+=C-A),w.__size=_,w.__cache={},this}function v(w){const b=w.value,_={boundary:0,storage:0};return typeof b=="number"?(_.boundary=4,_.storage=4):b.isVector2?(_.boundary=8,_.storage=8):b.isVector3||b.isColor?(_.boundary=16,_.storage=12):b.isVector4?(_.boundary=16,_.storage=16):b.isMatrix3?(_.boundary=48,_.storage=48):b.isMatrix4?(_.boundary=64,_.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),_}function y(w){const b=w.target;b.removeEventListener("dispose",y);const _=o.indexOf(b.__bindingPointIndex);o.splice(_,1),n.deleteBuffer(i[b.id]),delete i[b.id],delete s[b.id]}function x(){for(const w in i)n.deleteBuffer(i[w]);o=[],i={},s={}}return{bind:l,update:c,dispose:x}}function ZDe(){const n=Iw("canvas");return n.style.display="block",n}function PB(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:ZDe(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let u;t!==null?u=t.getContextAttributes().alpha:u=n.alpha!==void 0?n.alpha:!1;let d=null,h=null;const p=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Rd,this.physicallyCorrectLights=!1,this.toneMapping=Na,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const v=this;let y=!1,x=0,w=0,b=null,_=-1,C=null;const A=new _n,P=new _n;let M=null,L=e.width,I=e.height,F=1,V=null,j=null;const G=new _n(0,0,L,I),J=new _n(0,0,L,I);let q=!1;const H=new NP;let D=!1,z=!1,B=null;const ee=new Wt,Y=new He,oe=new re,ce={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function me(){return b===null?F:1}let de=t;function be(ie,_e){for(let ze=0;ze<ie.length;ze++){const Me=ie[ze],Ue=e.getContext(Me,_e);if(Ue!==null)return Ue}return null}try{const ie={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${LP}`),e.addEventListener("webglcontextlost",se,!1),e.addEventListener("webglcontextrestored",K,!1),e.addEventListener("webglcontextcreationerror",le,!1),de===null){const _e=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&_e.shift(),de=be(_e,ie),de===null)throw be(_e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}de.getShaderPrecisionFormat===void 0&&(de.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ie){throw console.error("THREE.WebGLRenderer: "+ie.message),ie}let Oe,Te,we,De,pe,fe,Ae,Pe,ge,je,We,qe,Ze,Xe,te,X,ve,Ce,$e,Ve,Je,Ge,T,N;function U(){Oe=new pOe(de),Te=new lOe(de,Oe,n),Oe.init(Te),Ge=new Bte(de,Oe,Te),we=new GDe(de,Oe,Te),De=new vOe,pe=new ODe,fe=new qDe(de,Oe,we,pe,Te,Ge,De),Ae=new uOe(v),Pe=new fOe(v),ge=new Cke(de,Te),T=new oOe(de,Oe,ge,Te),je=new mOe(de,ge,De,T),We=new bOe(de,je,ge,De),$e=new wOe(de,Te,fe),X=new cOe(pe),qe=new IDe(v,Ae,Pe,Oe,Te,T,X),Ze=new KDe(v,pe),Xe=new NDe,te=new WDe(Oe,Te),Ce=new sOe(v,Ae,Pe,we,We,u,o),ve=new VDe(v,We,Te),N=new QDe(de,De,Te,we),Ve=new aOe(de,Oe,De,Te),Je=new gOe(de,Oe,De,Te),De.programs=qe.programs,v.capabilities=Te,v.extensions=Oe,v.properties=pe,v.renderLists=Xe,v.shadowMap=ve,v.state=we,v.info=De}U();const ne=new YDe(v,de);this.xr=ne,this.getContext=function(){return de},this.getContextAttributes=function(){return de.getContextAttributes()},this.forceContextLoss=function(){const ie=Oe.get("WEBGL_lose_context");ie&&ie.loseContext()},this.forceContextRestore=function(){const ie=Oe.get("WEBGL_lose_context");ie&&ie.restoreContext()},this.getPixelRatio=function(){return F},this.setPixelRatio=function(ie){ie!==void 0&&(F=ie,this.setSize(L,I,!1))},this.getSize=function(ie){return ie.set(L,I)},this.setSize=function(ie,_e,ze){if(ne.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}L=ie,I=_e,e.width=Math.floor(ie*F),e.height=Math.floor(_e*F),ze!==!1&&(e.style.width=ie+"px",e.style.height=_e+"px"),this.setViewport(0,0,ie,_e)},this.getDrawingBufferSize=function(ie){return ie.set(L*F,I*F).floor()},this.setDrawingBufferSize=function(ie,_e,ze){L=ie,I=_e,F=ze,e.width=Math.floor(ie*ze),e.height=Math.floor(_e*ze),this.setViewport(0,0,ie,_e)},this.getCurrentViewport=function(ie){return ie.copy(A)},this.getViewport=function(ie){return ie.copy(G)},this.setViewport=function(ie,_e,ze,Me){ie.isVector4?G.set(ie.x,ie.y,ie.z,ie.w):G.set(ie,_e,ze,Me),we.viewport(A.copy(G).multiplyScalar(F).floor())},this.getScissor=function(ie){return ie.copy(J)},this.setScissor=function(ie,_e,ze,Me){ie.isVector4?J.set(ie.x,ie.y,ie.z,ie.w):J.set(ie,_e,ze,Me),we.scissor(P.copy(J).multiplyScalar(F).floor())},this.getScissorTest=function(){return q},this.setScissorTest=function(ie){we.setScissorTest(q=ie)},this.setOpaqueSort=function(ie){V=ie},this.setTransparentSort=function(ie){j=ie},this.getClearColor=function(ie){return ie.copy(Ce.getClearColor())},this.setClearColor=function(){Ce.setClearColor.apply(Ce,arguments)},this.getClearAlpha=function(){return Ce.getClearAlpha()},this.setClearAlpha=function(){Ce.setClearAlpha.apply(Ce,arguments)},this.clear=function(ie=!0,_e=!0,ze=!0){let Me=0;ie&&(Me|=16384),_e&&(Me|=256),ze&&(Me|=1024),de.clear(Me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",se,!1),e.removeEventListener("webglcontextrestored",K,!1),e.removeEventListener("webglcontextcreationerror",le,!1),Xe.dispose(),te.dispose(),pe.dispose(),Ae.dispose(),Pe.dispose(),We.dispose(),T.dispose(),N.dispose(),qe.dispose(),ne.dispose(),ne.removeEventListener("sessionstart",et),ne.removeEventListener("sessionend",rt),B&&(B.dispose(),B=null),mt.stop()};function se(ie){ie.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function K(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const ie=De.autoReset,_e=ve.enabled,ze=ve.autoUpdate,Me=ve.needsUpdate,Ue=ve.type;U(),De.autoReset=ie,ve.enabled=_e,ve.autoUpdate=ze,ve.needsUpdate=Me,ve.type=Ue}function le(ie){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ie.statusMessage)}function Le(ie){const _e=ie.target;_e.removeEventListener("dispose",Le),Ke(_e)}function Ke(ie){ue(ie),pe.remove(ie)}function ue(ie){const _e=pe.get(ie).programs;_e!==void 0&&(_e.forEach(function(ze){qe.releaseProgram(ze)}),ie.isShaderMaterial&&qe.releaseShaderCache(ie))}this.renderBufferDirect=function(ie,_e,ze,Me,Ue,ft){_e===null&&(_e=ce);const bt=Ue.isMesh&&Ue.matrixWorld.determinant()<0,At=xn(ie,_e,ze,Me,Ue);we.setMaterial(Me,bt);let Mt=ze.index;const _t=ze.attributes.position;if(Mt===null){if(_t===void 0||_t.count===0)return}else if(Mt.count===0)return;let Ot=1;Me.wireframe===!0&&(Mt=je.getWireframeAttribute(ze),Ot=2),T.setup(Ue,Me,At,ze,Mt);let Ft,wn=Ve;Mt!==null&&(Ft=ge.get(Mt),wn=Je,wn.setIndex(Ft));const Pn=Mt!==null?Mt.count:_t.count,Us=ze.drawRange.start*Ot,wo=ze.drawRange.count*Ot,tr=ft!==null?ft.start*Ot:0,Vt=ft!==null?ft.count*Ot:1/0,ps=Math.max(Us,tr),bn=Math.min(Pn,Us+wo,tr+Vt)-1,Rr=Math.max(0,bn-ps+1);if(Rr!==0){if(Ue.isMesh)Me.wireframe===!0?(we.setLineWidth(Me.wireframeLinewidth*me()),wn.setMode(1)):wn.setMode(4);else if(Ue.isLine){let vr=Me.linewidth;vr===void 0&&(vr=1),we.setLineWidth(vr*me()),Ue.isLineSegments?wn.setMode(1):Ue.isLineLoop?wn.setMode(2):wn.setMode(3)}else Ue.isPoints?wn.setMode(0):Ue.isSprite&&wn.setMode(4);if(Ue.isInstancedMesh)wn.renderInstances(ps,Rr,Ue.count);else if(ze.isInstancedBufferGeometry){const vr=Math.min(ze.instanceCount,ze._maxInstanceCount);wn.renderInstances(ps,Rr,vr)}else wn.render(ps,Rr)}},this.compile=function(ie,_e){function ze(Me,Ue,ft){Me.transparent===!0&&Me.side===Ec?(Me.side=uo,Me.needsUpdate=!0,yn(Me,Ue,ft),Me.side=cp,Me.needsUpdate=!0,yn(Me,Ue,ft),Me.side=Ec):yn(Me,Ue,ft)}h=te.get(ie),h.init(),g.push(h),ie.traverseVisible(function(Me){Me.isLight&&Me.layers.test(_e.layers)&&(h.pushLight(Me),Me.castShadow&&h.pushShadow(Me))}),h.setupLights(v.physicallyCorrectLights),ie.traverse(function(Me){const Ue=Me.material;if(Ue)if(Array.isArray(Ue))for(let ft=0;ft<Ue.length;ft++){const bt=Ue[ft];ze(bt,ie,Me)}else ze(Ue,ie,Me)}),g.pop(),h=null};let Ee=null;function Fe(ie){Ee&&Ee(ie)}function et(){mt.stop()}function rt(){mt.start()}const mt=new Ote;mt.setAnimationLoop(Fe),typeof self<"u"&&mt.setContext(self),this.setAnimationLoop=function(ie){Ee=ie,ne.setAnimationLoop(ie),ie===null?mt.stop():mt.start()},ne.addEventListener("sessionstart",et),ne.addEventListener("sessionend",rt),this.render=function(ie,_e){if(_e!==void 0&&_e.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;ie.matrixWorldAutoUpdate===!0&&ie.updateMatrixWorld(),_e.parent===null&&_e.matrixWorldAutoUpdate===!0&&_e.updateMatrixWorld(),ne.enabled===!0&&ne.isPresenting===!0&&(ne.cameraAutoUpdate===!0&&ne.updateCamera(_e),_e=ne.getCamera()),ie.isScene===!0&&ie.onBeforeRender(v,ie,_e,b),h=te.get(ie,g.length),h.init(),g.push(h),ee.multiplyMatrices(_e.projectionMatrix,_e.matrixWorldInverse),H.setFromProjectionMatrix(ee),z=this.localClippingEnabled,D=X.init(this.clippingPlanes,z,_e),d=Xe.get(ie,p.length),d.init(),p.push(d),jt(ie,_e,0,v.sortObjects),d.finish(),v.sortObjects===!0&&d.sort(V,j),D===!0&&X.beginShadows();const ze=h.state.shadowsArray;if(ve.render(ze,ie,_e),D===!0&&X.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ce.render(d,ie),h.setupLights(v.physicallyCorrectLights),_e.isArrayCamera){const Me=_e.cameras;for(let Ue=0,ft=Me.length;Ue<ft;Ue++){const bt=Me[Ue];Lt(d,ie,bt,bt.viewport)}}else Lt(d,ie,_e);b!==null&&(fe.updateMultisampleRenderTarget(b),fe.updateRenderTargetMipmap(b)),ie.isScene===!0&&ie.onAfterRender(v,ie,_e),T.resetDefaultState(),_=-1,C=null,g.pop(),g.length>0?h=g[g.length-1]:h=null,p.pop(),p.length>0?d=p[p.length-1]:d=null};function jt(ie,_e,ze,Me){if(ie.visible===!1)return;if(ie.layers.test(_e.layers)){if(ie.isGroup)ze=ie.renderOrder;else if(ie.isLOD)ie.autoUpdate===!0&&ie.update(_e);else if(ie.isLight)h.pushLight(ie),ie.castShadow&&h.pushShadow(ie);else if(ie.isSprite){if(!ie.frustumCulled||H.intersectsSprite(ie)){Me&&oe.setFromMatrixPosition(ie.matrixWorld).applyMatrix4(ee);const bt=We.update(ie),At=ie.material;At.visible&&d.push(ie,bt,At,ze,oe.z,null)}}else if((ie.isMesh||ie.isLine||ie.isPoints)&&(ie.isSkinnedMesh&&ie.skeleton.frame!==De.render.frame&&(ie.skeleton.update(),ie.skeleton.frame=De.render.frame),!ie.frustumCulled||H.intersectsObject(ie))){Me&&oe.setFromMatrixPosition(ie.matrixWorld).applyMatrix4(ee);const bt=We.update(ie),At=ie.material;if(Array.isArray(At)){const Mt=bt.groups;for(let _t=0,Ot=Mt.length;_t<Ot;_t++){const Ft=Mt[_t],wn=At[Ft.materialIndex];wn&&wn.visible&&d.push(ie,bt,wn,ze,oe.z,Ft)}}else At.visible&&d.push(ie,bt,At,ze,oe.z,null)}}const ft=ie.children;for(let bt=0,At=ft.length;bt<At;bt++)jt(ft[bt],_e,ze,Me)}function Lt(ie,_e,ze,Me){const Ue=ie.opaque,ft=ie.transmissive,bt=ie.transparent;h.setupLightsView(ze),ft.length>0&&hn(Ue,_e,ze),Me&&we.viewport(A.copy(Me)),Ue.length>0&&pt(Ue,_e,ze),ft.length>0&&pt(ft,_e,ze),bt.length>0&&pt(bt,_e,ze),we.buffers.depth.setTest(!0),we.buffers.depth.setMask(!0),we.buffers.color.setMask(!0),we.setPolygonOffset(!1)}function hn(ie,_e,ze){const Me=Te.isWebGL2;B===null&&(B=new aa(1,1,{generateMipmaps:!0,type:Oe.has("EXT_color_buffer_half_float")?Xv:$c,minFilter:Mp,samples:Me&&s===!0?4:0})),v.getDrawingBufferSize(Y),Me?B.setSize(Y.x,Y.y):B.setSize(tT(Y.x),tT(Y.y));const Ue=v.getRenderTarget();v.setRenderTarget(B),v.clear();const ft=v.toneMapping;v.toneMapping=Na,pt(ie,_e,ze),v.toneMapping=ft,fe.updateMultisampleRenderTarget(B),fe.updateRenderTargetMipmap(B),v.setRenderTarget(Ue)}function pt(ie,_e,ze){const Me=_e.isScene===!0?_e.overrideMaterial:null;for(let Ue=0,ft=ie.length;Ue<ft;Ue++){const bt=ie[Ue],At=bt.object,Mt=bt.geometry,_t=Me===null?bt.material:Me,Ot=bt.group;At.layers.test(ze.layers)&&gt(At,_e,ze,Mt,_t,Ot)}}function gt(ie,_e,ze,Me,Ue,ft){ie.onBeforeRender(v,_e,ze,Me,Ue,ft),ie.modelViewMatrix.multiplyMatrices(ze.matrixWorldInverse,ie.matrixWorld),ie.normalMatrix.getNormalMatrix(ie.modelViewMatrix),Ue.onBeforeRender(v,_e,ze,Me,ie,ft),Ue.transparent===!0&&Ue.side===Ec?(Ue.side=uo,Ue.needsUpdate=!0,v.renderBufferDirect(ze,_e,Me,Ue,ie,ft),Ue.side=cp,Ue.needsUpdate=!0,v.renderBufferDirect(ze,_e,Me,Ue,ie,ft),Ue.side=Ec):v.renderBufferDirect(ze,_e,Me,Ue,ie,ft),ie.onAfterRender(v,_e,ze,Me,Ue,ft)}function yn(ie,_e,ze){_e.isScene!==!0&&(_e=ce);const Me=pe.get(ie),Ue=h.state.lights,ft=h.state.shadowsArray,bt=Ue.state.version,At=qe.getParameters(ie,Ue.state,ft,_e,ze),Mt=qe.getProgramCacheKey(At);let _t=Me.programs;Me.environment=ie.isMeshStandardMaterial?_e.environment:null,Me.fog=_e.fog,Me.envMap=(ie.isMeshStandardMaterial?Pe:Ae).get(ie.envMap||Me.environment),_t===void 0&&(ie.addEventListener("dispose",Le),_t=new Map,Me.programs=_t);let Ot=_t.get(Mt);if(Ot!==void 0){if(Me.currentProgram===Ot&&Me.lightsStateVersion===bt)return fs(ie,At),Ot}else At.uniforms=qe.getUniforms(ie),ie.onBuild(ze,At,v),ie.onBeforeCompile(At,v),Ot=qe.acquireProgram(At,Mt),_t.set(Mt,Ot),Me.uniforms=At.uniforms;const Ft=Me.uniforms;(!ie.isShaderMaterial&&!ie.isRawShaderMaterial||ie.clipping===!0)&&(Ft.clippingPlanes=X.uniform),fs(ie,At),Me.needsLights=or(ie),Me.lightsStateVersion=bt,Me.needsLights&&(Ft.ambientLightColor.value=Ue.state.ambient,Ft.lightProbe.value=Ue.state.probe,Ft.directionalLights.value=Ue.state.directional,Ft.directionalLightShadows.value=Ue.state.directionalShadow,Ft.spotLights.value=Ue.state.spot,Ft.spotLightShadows.value=Ue.state.spotShadow,Ft.rectAreaLights.value=Ue.state.rectArea,Ft.ltc_1.value=Ue.state.rectAreaLTC1,Ft.ltc_2.value=Ue.state.rectAreaLTC2,Ft.pointLights.value=Ue.state.point,Ft.pointLightShadows.value=Ue.state.pointShadow,Ft.hemisphereLights.value=Ue.state.hemi,Ft.directionalShadowMap.value=Ue.state.directionalShadowMap,Ft.directionalShadowMatrix.value=Ue.state.directionalShadowMatrix,Ft.spotShadowMap.value=Ue.state.spotShadowMap,Ft.spotLightMatrix.value=Ue.state.spotLightMatrix,Ft.spotLightMap.value=Ue.state.spotLightMap,Ft.pointShadowMap.value=Ue.state.pointShadowMap,Ft.pointShadowMatrix.value=Ue.state.pointShadowMatrix);const wn=Ot.getUniforms(),Pn=sA.seqWithValue(wn.seq,Ft);return Me.currentProgram=Ot,Me.uniformsList=Pn,Ot}function fs(ie,_e){const ze=pe.get(ie);ze.outputEncoding=_e.outputEncoding,ze.instancing=_e.instancing,ze.skinning=_e.skinning,ze.morphTargets=_e.morphTargets,ze.morphNormals=_e.morphNormals,ze.morphColors=_e.morphColors,ze.morphTargetsCount=_e.morphTargetsCount,ze.numClippingPlanes=_e.numClippingPlanes,ze.numIntersection=_e.numClipIntersection,ze.vertexAlphas=_e.vertexAlphas,ze.vertexTangents=_e.vertexTangents,ze.toneMapping=_e.toneMapping}function xn(ie,_e,ze,Me,Ue){_e.isScene!==!0&&(_e=ce),fe.resetTextureUnits();const ft=_e.fog,bt=Me.isMeshStandardMaterial?_e.environment:null,At=b===null?v.outputEncoding:b.isXRRenderTarget===!0?b.texture.encoding:Rd,Mt=(Me.isMeshStandardMaterial?Pe:Ae).get(Me.envMap||bt),_t=Me.vertexColors===!0&&!!ze.attributes.color&&ze.attributes.color.itemSize===4,Ot=!!Me.normalMap&&!!ze.attributes.tangent,Ft=!!ze.morphAttributes.position,wn=!!ze.morphAttributes.normal,Pn=!!ze.morphAttributes.color,Us=Me.toneMapped?v.toneMapping:Na,wo=ze.morphAttributes.position||ze.morphAttributes.normal||ze.morphAttributes.color,tr=wo!==void 0?wo.length:0,Vt=pe.get(Me),ps=h.state.lights;if(D===!0&&(z===!0||ie!==C)){const Gt=ie===C&&Me.id===_;X.setState(Me,ie,Gt)}let bn=!1;Me.version===Vt.__version?(Vt.needsLights&&Vt.lightsStateVersion!==ps.state.version||Vt.outputEncoding!==At||Ue.isInstancedMesh&&Vt.instancing===!1||!Ue.isInstancedMesh&&Vt.instancing===!0||Ue.isSkinnedMesh&&Vt.skinning===!1||!Ue.isSkinnedMesh&&Vt.skinning===!0||Vt.envMap!==Mt||Me.fog===!0&&Vt.fog!==ft||Vt.numClippingPlanes!==void 0&&(Vt.numClippingPlanes!==X.numPlanes||Vt.numIntersection!==X.numIntersection)||Vt.vertexAlphas!==_t||Vt.vertexTangents!==Ot||Vt.morphTargets!==Ft||Vt.morphNormals!==wn||Vt.morphColors!==Pn||Vt.toneMapping!==Us||Te.isWebGL2===!0&&Vt.morphTargetsCount!==tr)&&(bn=!0):(bn=!0,Vt.__version=Me.version);let Rr=Vt.currentProgram;bn===!0&&(Rr=yn(Me,_e,Ue));let vr=!1,ai=!1,Lr=!1;const Ct=Rr.getUniforms(),Qt=Vt.uniforms;if(we.useProgram(Rr.program)&&(vr=!0,ai=!0,Lr=!0),Me.id!==_&&(_=Me.id,ai=!0),vr||C!==ie){if(Ct.setValue(de,"projectionMatrix",ie.projectionMatrix),Te.logarithmicDepthBuffer&&Ct.setValue(de,"logDepthBufFC",2/(Math.log(ie.far+1)/Math.LN2)),C!==ie&&(C=ie,ai=!0,Lr=!0),Me.isShaderMaterial||Me.isMeshPhongMaterial||Me.isMeshToonMaterial||Me.isMeshStandardMaterial||Me.envMap){const Gt=Ct.map.cameraPosition;Gt!==void 0&&Gt.setValue(de,oe.setFromMatrixPosition(ie.matrixWorld))}(Me.isMeshPhongMaterial||Me.isMeshToonMaterial||Me.isMeshLambertMaterial||Me.isMeshBasicMaterial||Me.isMeshStandardMaterial||Me.isShaderMaterial)&&Ct.setValue(de,"isOrthographic",ie.isOrthographicCamera===!0),(Me.isMeshPhongMaterial||Me.isMeshToonMaterial||Me.isMeshLambertMaterial||Me.isMeshBasicMaterial||Me.isMeshStandardMaterial||Me.isShaderMaterial||Me.isShadowMaterial||Ue.isSkinnedMesh)&&Ct.setValue(de,"viewMatrix",ie.matrixWorldInverse)}if(Ue.isSkinnedMesh){Ct.setOptional(de,Ue,"bindMatrix"),Ct.setOptional(de,Ue,"bindMatrixInverse");const Gt=Ue.skeleton;Gt&&(Te.floatVertexTextures?(Gt.boneTexture===null&&Gt.computeBoneTexture(),Ct.setValue(de,"boneTexture",Gt.boneTexture,fe),Ct.setValue(de,"boneTextureSize",Gt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const li=ze.morphAttributes;if((li.position!==void 0||li.normal!==void 0||li.color!==void 0&&Te.isWebGL2===!0)&&$e.update(Ue,ze,Me,Rr),(ai||Vt.receiveShadow!==Ue.receiveShadow)&&(Vt.receiveShadow=Ue.receiveShadow,Ct.setValue(de,"receiveShadow",Ue.receiveShadow)),Me.isMeshGouraudMaterial&&Me.envMap!==null&&(Qt.envMap.value=Mt,Qt.flipEnvMap.value=Mt.isCubeTexture&&Mt.isRenderTargetTexture===!1?-1:1),ai&&(Ct.setValue(de,"toneMappingExposure",v.toneMappingExposure),Vt.needsLights&&on(Qt,Lr),ft&&Me.fog===!0&&Ze.refreshFogUniforms(Qt,ft),Ze.refreshMaterialUniforms(Qt,Me,F,I,B),sA.upload(de,Vt.uniformsList,Qt,fe)),Me.isShaderMaterial&&Me.uniformsNeedUpdate===!0&&(sA.upload(de,Vt.uniformsList,Qt,fe),Me.uniformsNeedUpdate=!1),Me.isSpriteMaterial&&Ct.setValue(de,"center",Ue.center),Ct.setValue(de,"modelViewMatrix",Ue.modelViewMatrix),Ct.setValue(de,"normalMatrix",Ue.normalMatrix),Ct.setValue(de,"modelMatrix",Ue.matrixWorld),Me.isShaderMaterial||Me.isRawShaderMaterial){const Gt=Me.uniformsGroups;for(let gn=0,_i=Gt.length;gn<_i;gn++)if(Te.isWebGL2){const Si=Gt[gn];N.update(Si,Rr),N.bind(Si,Rr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Rr}function on(ie,_e){ie.ambientLightColor.needsUpdate=_e,ie.lightProbe.needsUpdate=_e,ie.directionalLights.needsUpdate=_e,ie.directionalLightShadows.needsUpdate=_e,ie.pointLights.needsUpdate=_e,ie.pointLightShadows.needsUpdate=_e,ie.spotLights.needsUpdate=_e,ie.spotLightShadows.needsUpdate=_e,ie.rectAreaLights.needsUpdate=_e,ie.hemisphereLights.needsUpdate=_e}function or(ie){return ie.isMeshLambertMaterial||ie.isMeshToonMaterial||ie.isMeshPhongMaterial||ie.isMeshStandardMaterial||ie.isShadowMaterial||ie.isShaderMaterial&&ie.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(ie,_e,ze){pe.get(ie.texture).__webglTexture=_e,pe.get(ie.depthTexture).__webglTexture=ze;const Me=pe.get(ie);Me.__hasExternalTextures=!0,Me.__hasExternalTextures&&(Me.__autoAllocateDepthBuffer=ze===void 0,Me.__autoAllocateDepthBuffer||Oe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Me.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ie,_e){const ze=pe.get(ie);ze.__webglFramebuffer=_e,ze.__useDefaultFramebuffer=_e===void 0},this.setRenderTarget=function(ie,_e=0,ze=0){b=ie,x=_e,w=ze;let Me=!0,Ue=null,ft=!1,bt=!1;if(ie){const Mt=pe.get(ie);Mt.__useDefaultFramebuffer!==void 0?(we.bindFramebuffer(36160,null),Me=!1):Mt.__webglFramebuffer===void 0?fe.setupRenderTarget(ie):Mt.__hasExternalTextures&&fe.rebindTextures(ie,pe.get(ie.texture).__webglTexture,pe.get(ie.depthTexture).__webglTexture);const _t=ie.texture;(_t.isData3DTexture||_t.isDataArrayTexture||_t.isCompressedArrayTexture)&&(bt=!0);const Ot=pe.get(ie).__webglFramebuffer;ie.isWebGLCubeRenderTarget?(Ue=Ot[_e],ft=!0):Te.isWebGL2&&ie.samples>0&&fe.useMultisampledRTT(ie)===!1?Ue=pe.get(ie).__webglMultisampledFramebuffer:Ue=Ot,A.copy(ie.viewport),P.copy(ie.scissor),M=ie.scissorTest}else A.copy(G).multiplyScalar(F).floor(),P.copy(J).multiplyScalar(F).floor(),M=q;if(we.bindFramebuffer(36160,Ue)&&Te.drawBuffers&&Me&&we.drawBuffers(ie,Ue),we.viewport(A),we.scissor(P),we.setScissorTest(M),ft){const Mt=pe.get(ie.texture);de.framebufferTexture2D(36160,36064,34069+_e,Mt.__webglTexture,ze)}else if(bt){const Mt=pe.get(ie.texture),_t=_e||0;de.framebufferTextureLayer(36160,36064,Mt.__webglTexture,ze||0,_t)}_=-1},this.readRenderTargetPixels=function(ie,_e,ze,Me,Ue,ft,bt){if(!(ie&&ie.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let At=pe.get(ie).__webglFramebuffer;if(ie.isWebGLCubeRenderTarget&&bt!==void 0&&(At=At[bt]),At){we.bindFramebuffer(36160,At);try{const Mt=ie.texture,_t=Mt.format,Ot=Mt.type;if(_t!==Ts&&Ge.convert(_t)!==de.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ft=Ot===Xv&&(Oe.has("EXT_color_buffer_half_float")||Te.isWebGL2&&Oe.has("EXT_color_buffer_float"));if(Ot!==$c&&Ge.convert(Ot)!==de.getParameter(35738)&&!(Ot===Mc&&(Te.isWebGL2||Oe.has("OES_texture_float")||Oe.has("WEBGL_color_buffer_float")))&&!Ft){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}_e>=0&&_e<=ie.width-Me&&ze>=0&&ze<=ie.height-Ue&&de.readPixels(_e,ze,Me,Ue,Ge.convert(_t),Ge.convert(Ot),ft)}finally{const Mt=b!==null?pe.get(b).__webglFramebuffer:null;we.bindFramebuffer(36160,Mt)}}},this.copyFramebufferToTexture=function(ie,_e,ze=0){const Me=Math.pow(2,-ze),Ue=Math.floor(_e.image.width*Me),ft=Math.floor(_e.image.height*Me);fe.setTexture2D(_e,0),de.copyTexSubImage2D(3553,ze,0,0,ie.x,ie.y,Ue,ft),we.unbindTexture()},this.copyTextureToTexture=function(ie,_e,ze,Me=0){const Ue=_e.image.width,ft=_e.image.height,bt=Ge.convert(ze.format),At=Ge.convert(ze.type);fe.setTexture2D(ze,0),de.pixelStorei(37440,ze.flipY),de.pixelStorei(37441,ze.premultiplyAlpha),de.pixelStorei(3317,ze.unpackAlignment),_e.isDataTexture?de.texSubImage2D(3553,Me,ie.x,ie.y,Ue,ft,bt,At,_e.image.data):_e.isCompressedTexture?de.compressedTexSubImage2D(3553,Me,ie.x,ie.y,_e.mipmaps[0].width,_e.mipmaps[0].height,bt,_e.mipmaps[0].data):de.texSubImage2D(3553,Me,ie.x,ie.y,bt,At,_e.image),Me===0&&ze.generateMipmaps&&de.generateMipmap(3553),we.unbindTexture()},this.copyTextureToTexture3D=function(ie,_e,ze,Me,Ue=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ft=ie.max.x-ie.min.x+1,bt=ie.max.y-ie.min.y+1,At=ie.max.z-ie.min.z+1,Mt=Ge.convert(Me.format),_t=Ge.convert(Me.type);let Ot;if(Me.isData3DTexture)fe.setTexture3D(Me,0),Ot=32879;else if(Me.isDataArrayTexture)fe.setTexture2DArray(Me,0),Ot=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}de.pixelStorei(37440,Me.flipY),de.pixelStorei(37441,Me.premultiplyAlpha),de.pixelStorei(3317,Me.unpackAlignment);const Ft=de.getParameter(3314),wn=de.getParameter(32878),Pn=de.getParameter(3316),Us=de.getParameter(3315),wo=de.getParameter(32877),tr=ze.isCompressedTexture?ze.mipmaps[0]:ze.image;de.pixelStorei(3314,tr.width),de.pixelStorei(32878,tr.height),de.pixelStorei(3316,ie.min.x),de.pixelStorei(3315,ie.min.y),de.pixelStorei(32877,ie.min.z),ze.isDataTexture||ze.isData3DTexture?de.texSubImage3D(Ot,Ue,_e.x,_e.y,_e.z,ft,bt,At,Mt,_t,tr.data):ze.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),de.compressedTexSubImage3D(Ot,Ue,_e.x,_e.y,_e.z,ft,bt,At,Mt,tr.data)):de.texSubImage3D(Ot,Ue,_e.x,_e.y,_e.z,ft,bt,At,Mt,_t,tr),de.pixelStorei(3314,Ft),de.pixelStorei(32878,wn),de.pixelStorei(3316,Pn),de.pixelStorei(3315,Us),de.pixelStorei(32877,wo),Ue===0&&Me.generateMipmaps&&de.generateMipmap(Ot),we.unbindTexture()},this.initTexture=function(ie){ie.isCubeTexture?fe.setTextureCube(ie,0):ie.isData3DTexture?fe.setTexture3D(ie,0):ie.isDataArrayTexture||ie.isCompressedArrayTexture?fe.setTexture2DArray(ie,0):fe.setTexture2D(ie,0),we.unbindTexture()},this.resetState=function(){x=0,w=0,b=null,we.reset(),T.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class Wte extends PB{}Wte.prototype.isWebGL1Renderer=!0;class zP{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new at(e),this.density=t}clone(){return new zP(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class BP{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new at(e),this.near=t,this.far=r}clone(){return new BP(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class nT extends mn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class $P{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Lw,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ho()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ho()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ho()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ji=new re;class dp{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Ji.fromBufferAttribute(this,t),Ji.applyMatrix4(e),this.setXYZ(t,Ji.x,Ji.y,Ji.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ji.fromBufferAttribute(this,t),Ji.applyNormalMatrix(e),this.setXYZ(t,Ji.x,Ji.y,Ji.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ji.fromBufferAttribute(this,t),Ji.transformDirection(e),this.setXYZ(t,Ji.x,Ji.y,Ji.z);return this}setX(e,t){return this.normalized&&(t=kn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=kn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=kn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=kn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Cc(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Cc(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Cc(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Cc(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=kn(t,this.array),r=kn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=kn(t,this.array),r=kn(r,this.array),i=kn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=kn(t,this.array),r=kn(r,this.array),i=kn(i,this.array),s=kn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Dn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new dp(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class RB extends Wr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new at(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Tm;const Sy=new re,Pm=new re,Rm=new re,Lm=new He,Ey=new He,Hte=new Wt,tE=new re,My=new re,nE=new re,UV=new He,E3=new He,WV=new He;class jte extends mn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Tm===void 0){Tm=new Ht;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new $P(t,5);Tm.setIndex([0,1,2,0,2,3]),Tm.setAttribute("position",new dp(r,3,0,!1)),Tm.setAttribute("uv",new dp(r,2,3,!1))}this.geometry=Tm,this.material=e!==void 0?e:new RB,this.center=new He(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Pm.setFromMatrixScale(this.matrixWorld),Hte.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Rm.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Pm.multiplyScalar(-Rm.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;rE(tE.set(-.5,-.5,0),Rm,o,Pm,i,s),rE(My.set(.5,-.5,0),Rm,o,Pm,i,s),rE(nE.set(.5,.5,0),Rm,o,Pm,i,s),UV.set(0,0),E3.set(1,0),WV.set(1,1);let a=e.ray.intersectTriangle(tE,My,nE,!1,Sy);if(a===null&&(rE(My.set(-.5,.5,0),Rm,o,Pm,i,s),E3.set(0,1),a=e.ray.intersectTriangle(tE,nE,My,!1,Sy),a===null))return;const l=e.ray.origin.distanceTo(Sy);l<e.near||l>e.far||t.push({distance:l,point:Sy.clone(),uv:Zo.getUV(Sy,tE,My,nE,UV,E3,WV,new He),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function rE(n,e,t,r,i,s){Lm.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Ey.x=s*Lm.x-i*Lm.y,Ey.y=i*Lm.x+s*Lm.y):Ey.copy(Lm),n.copy(e),n.x+=Ey.x,n.y+=Ey.y,n.applyMatrix4(Hte)}const iE=new re,HV=new re;class Vte extends mn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){iE.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(iE);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){iE.setFromMatrixPosition(e.matrixWorld),HV.setFromMatrixPosition(this.matrixWorld);const r=iE.distanceTo(HV)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}const jV=new re,VV=new _n,GV=new _n,JDe=new re,qV=new Wt;class Gte extends Br{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Wt,this.bindMatrixInverse=new Wt}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new _n,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;VV.fromBufferAttribute(i.attributes.skinIndex,e),GV.fromBufferAttribute(i.attributes.skinWeight,e),jV.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=GV.getComponent(s);if(o!==0){const a=VV.getComponent(s);qV.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(JDe.copy(jV).applyMatrix4(qV),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class LB extends mn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Sv extends Pr{constructor(e=null,t=1,r=1,i,s,o,a,l,c=Mr,u=Mr,d,h){super(null,o,a,l,c,u,i,s,d,h),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const XV=new Wt,eNe=new Wt;class UP{constructor(e=[],t=[]){this.uuid=ho(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Wt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Wt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:eNe;XV.multiplyMatrices(a,t[s]),XV.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new UP(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Tte(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Sv(t,e,e,Ts,Mc);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new LB),this.bones.push(o),this.boneInverses.push(new Wt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Kv extends Dn{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const YV=new Wt,KV=new Wt,sE=[],tNe=new Wt,Cy=new Br;class qte extends Br{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Kv(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,tNe)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Cy.geometry=this.geometry,Cy.material=this.material,Cy.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,YV),KV.multiplyMatrices(r,YV),Cy.matrixWorld=KV,Cy.raycast(e,sE);for(let o=0,a=sE.length;o<a;o++){const l=sE[o];l.instanceId=s,l.object=this,t.push(l)}sE.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Kv(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class ii extends Wr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new at(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const QV=new re,ZV=new re,JV=new Wt,M3=new m0,oE=new Ap;class Ld extends mn{constructor(e=new Ht,t=new ii){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)QV.fromBufferAttribute(t,i-1),ZV.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=QV.distanceTo(ZV);e.setAttribute("lineDistance",new ct(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),oE.copy(r.boundingSphere),oE.applyMatrix4(i),oE.radius+=s,e.ray.intersectsSphere(oE)===!1)return;JV.copy(i).invert(),M3.copy(e.ray).applyMatrix4(JV);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new re,u=new re,d=new re,h=new re,p=this.isLineSegments?2:1,g=r.index,y=r.attributes.position;if(g!==null){const x=Math.max(0,o.start),w=Math.min(g.count,o.start+o.count);for(let b=x,_=w-1;b<_;b+=p){const C=g.getX(b),A=g.getX(b+1);if(c.fromBufferAttribute(y,C),u.fromBufferAttribute(y,A),M3.distanceSqToSegment(c,u,h,d)>l)continue;h.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(h);M<e.near||M>e.far||t.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,o.start),w=Math.min(y.count,o.start+o.count);for(let b=x,_=w-1;b<_;b+=p){if(c.fromBufferAttribute(y,b),u.fromBufferAttribute(y,b+1),M3.distanceSqToSegment(c,u,h,d)>l)continue;h.applyMatrix4(this.matrixWorld);const A=e.ray.origin.distanceTo(h);A<e.near||A>e.far||t.push({distance:A,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const eG=new re,tG=new re;class la extends Ld{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)eG.fromBufferAttribute(t,i),tG.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+eG.distanceTo(tG);e.setAttribute("lineDistance",new ct(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Xte extends Ld{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Ef extends Wr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new at(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const nG=new Wt,A4=new m0,aE=new Ap,lE=new re;class Tx extends mn{constructor(e=new Ht,t=new Ef){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),aE.copy(r.boundingSphere),aE.applyMatrix4(i),aE.radius+=s,e.ray.intersectsSphere(aE)===!1)return;nG.copy(i).invert(),A4.copy(e.ray).applyMatrix4(nG);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,d=r.attributes.position;if(c!==null){const h=Math.max(0,o.start),p=Math.min(c.count,o.start+o.count);for(let g=h,v=p;g<v;g++){const y=c.getX(g);lE.fromBufferAttribute(d,y),rG(lE,y,l,i,e,t,this)}}else{const h=Math.max(0,o.start),p=Math.min(d.count,o.start+o.count);for(let g=h,v=p;g<v;g++)lE.fromBufferAttribute(d,g),rG(lE,g,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function rG(n,e,t,r,i,s,o){const a=A4.distanceSqToPoint(n);if(a<t){const l=new re;A4.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class nNe extends Pr{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:fr,this.magFilter=s!==void 0?s:fr,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class rNe extends Pr{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=Mr,this.minFilter=Mr,this.generateMipmaps=!1,this.needsUpdate=!0}}class kB extends Pr{constructor(e,t,r,i,s,o,a,l,c,u,d,h){super(null,o,a,l,c,u,i,s,d,h),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class iNe extends kB{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Vi}}class sNe extends Pr{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class $a{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],h=r[i+1]-u,p=(o-u)/h;return(i+p)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new He:new re);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new re,i=[],s=[],o=[],a=new re,l=new Wt;for(let p=0;p<=e;p++){const g=p/e;i[p]=this.getTangentAt(g,new re)}s[0]=new re,o[0]=new re;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),h=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),h<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let p=1;p<=e;p++){if(s[p]=s[p-1].clone(),o[p]=o[p-1].clone(),a.crossVectors(i[p-1],i[p]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(pr(i[p-1].dot(i[p]),-1,1));s[p].applyMatrix4(l.makeRotationAxis(a,g))}o[p].crossVectors(i[p],s[p])}if(t===!0){let p=Math.acos(pr(s[0].dot(s[e]),-1,1));p/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(p=-p);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],p*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class WP extends $a{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new He,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),h=l-this.aX,p=c-this.aY;l=h*u-p*d+this.aX,c=h*d+p*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Yte extends WP{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function IB(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let h=(o-s)/c-(a-s)/(c+u)+(a-o)/u,p=(a-o)/u-(l-o)/(u+d)+(l-a)/d;h*=u,p*=u,i(o,a,h,p)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const cE=new re,C3=new IB,A3=new IB,T3=new IB;class Kte extends $a{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new re){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(cE.subVectors(i[0],i[1]).add(i[0]),c=cE);const d=i[a%s],h=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(cE.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=cE),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(d),p),v=Math.pow(d.distanceToSquared(h),p),y=Math.pow(h.distanceToSquared(u),p);v<1e-4&&(v=1),g<1e-4&&(g=v),y<1e-4&&(y=v),C3.initNonuniformCatmullRom(c.x,d.x,h.x,u.x,g,v,y),A3.initNonuniformCatmullRom(c.y,d.y,h.y,u.y,g,v,y),T3.initNonuniformCatmullRom(c.z,d.z,h.z,u.z,g,v,y)}else this.curveType==="catmullrom"&&(C3.initCatmullRom(c.x,d.x,h.x,u.x,this.tension),A3.initCatmullRom(c.y,d.y,h.y,u.y,this.tension),T3.initCatmullRom(c.z,d.z,h.z,u.z,this.tension));return r.set(C3.calc(l),A3.calc(l),T3.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new re().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function iG(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function oNe(n,e){const t=1-n;return t*t*e}function aNe(n,e){return 2*(1-n)*n*e}function lNe(n,e){return n*n*e}function Px(n,e,t,r){return oNe(n,e)+aNe(n,t)+lNe(n,r)}function cNe(n,e){const t=1-n;return t*t*t*e}function uNe(n,e){const t=1-n;return 3*t*t*n*e}function dNe(n,e){return 3*(1-n)*n*n*e}function hNe(n,e){return n*n*n*e}function Rx(n,e,t,r,i){return cNe(n,e)+uNe(n,t)+dNe(n,r)+hNe(n,i)}class OB extends $a{constructor(e=new He,t=new He,r=new He,i=new He){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new He){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Rx(e,i.x,s.x,o.x,a.x),Rx(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Qte extends $a{constructor(e=new re,t=new re,r=new re,i=new re){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new re){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Rx(e,i.x,s.x,o.x,a.x),Rx(e,i.y,s.y,o.y,a.y),Rx(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class HP extends $a{constructor(e=new He,t=new He){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new He){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new He;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Zte extends $a{constructor(e=new re,t=new re){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new re){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class DB extends $a{constructor(e=new He,t=new He,r=new He){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new He){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Px(e,i.x,s.x,o.x),Px(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NB extends $a{constructor(e=new re,t=new re,r=new re){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new re){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Px(e,i.x,s.x,o.x),Px(e,i.y,s.y,o.y),Px(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class FB extends $a{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new He){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(iG(a,l.x,c.x,u.x,d.x),iG(a,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new He().fromArray(i))}return this}}var zB=Object.freeze({__proto__:null,ArcCurve:Yte,CatmullRomCurve3:Kte,CubicBezierCurve:OB,CubicBezierCurve3:Qte,EllipseCurve:WP,LineCurve:HP,LineCurve3:Zte,QuadraticBezierCurve:DB,QuadraticBezierCurve3:NB,SplineCurve:FB});class Jte extends $a{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new HP(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new zB[i.type]().fromJSON(i))}return this}}class Ow extends Jte{constructor(e){super(),this.type="Path",this.currentPoint=new He,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new HP(this.currentPoint.clone(),new He(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new DB(this.currentPoint.clone(),new He(e,t),new He(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new OB(this.currentPoint.clone(),new He(e,t),new He(r,i),new He(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new FB(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new WP(e,t,r,i,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class x0 extends Ht{constructor(e=[new He(0,-.5),new He(.5,0),new He(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=pr(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,d=new re,h=new He,p=new re,g=new re,v=new re;let y=0,x=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:y=e[w+1].x-e[w].x,x=e[w+1].y-e[w].y,p.x=x*1,p.y=-y,p.z=x*0,v.copy(p),p.normalize(),l.push(p.x,p.y,p.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:y=e[w+1].x-e[w].x,x=e[w+1].y-e[w].y,p.x=x*1,p.y=-y,p.z=x*0,g.copy(p),p.x+=v.x,p.y+=v.y,p.z+=v.z,p.normalize(),l.push(p.x,p.y,p.z),v.copy(g)}for(let w=0;w<=t;w++){const b=r+w*u*i,_=Math.sin(b),C=Math.cos(b);for(let A=0;A<=e.length-1;A++){d.x=e[A].x*_,d.y=e[A].y,d.z=e[A].x*C,o.push(d.x,d.y,d.z),h.x=w/t,h.y=A/(e.length-1),a.push(h.x,h.y);const P=l[3*A+0]*_,M=l[3*A+1],L=l[3*A+0]*C;c.push(P,M,L)}}for(let w=0;w<t;w++)for(let b=0;b<e.length-1;b++){const _=b+w*e.length,C=_,A=_+e.length,P=_+e.length+1,M=_+1;s.push(C,A,M),s.push(P,M,A)}this.setIndex(s),this.setAttribute("position",new ct(o,3)),this.setAttribute("uv",new ct(a,2)),this.setAttribute("normal",new ct(c,3))}static fromJSON(e){return new x0(e.points,e.segments,e.phiStart,e.phiLength)}}class Sb extends x0{constructor(e=1,t=1,r=4,i=8){const s=new Ow;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new Sb(e.radius,e.length,e.capSegments,e.radialSegments)}}class Eb extends Ht{constructor(e=1,t=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new re,u=new He;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,h=3;d<=t;d++,h+=3){const p=r+d/t*i;c.x=e*Math.cos(p),c.y=e*Math.sin(p),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[h]/e+1)/2,u.y=(o[h+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new ct(o,3)),this.setAttribute("normal",new ct(a,3)),this.setAttribute("uv",new ct(l,2))}static fromJSON(e){return new Eb(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Tp extends Ht{constructor(e=1,t=1,r=1,i=8,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],d=[],h=[],p=[];let g=0;const v=[],y=r/2;let x=0;w(),o===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new ct(d,3)),this.setAttribute("normal",new ct(h,3)),this.setAttribute("uv",new ct(p,2));function w(){const _=new re,C=new re;let A=0;const P=(t-e)/r;for(let M=0;M<=s;M++){const L=[],I=M/s,F=I*(t-e)+e;for(let V=0;V<=i;V++){const j=V/i,G=j*l+a,J=Math.sin(G),q=Math.cos(G);C.x=F*J,C.y=-I*r+y,C.z=F*q,d.push(C.x,C.y,C.z),_.set(J,P,q).normalize(),h.push(_.x,_.y,_.z),p.push(j,1-I),L.push(g++)}v.push(L)}for(let M=0;M<i;M++)for(let L=0;L<s;L++){const I=v[L][M],F=v[L+1][M],V=v[L+1][M+1],j=v[L][M+1];u.push(I,F,j),u.push(F,V,j),A+=6}c.addGroup(x,A,0),x+=A}function b(_){const C=g,A=new He,P=new re;let M=0;const L=_===!0?e:t,I=_===!0?1:-1;for(let V=1;V<=i;V++)d.push(0,y*I,0),h.push(0,I,0),p.push(.5,.5),g++;const F=g;for(let V=0;V<=i;V++){const G=V/i*l+a,J=Math.cos(G),q=Math.sin(G);P.x=L*q,P.y=y*I,P.z=L*J,d.push(P.x,P.y,P.z),h.push(0,I,0),A.x=J*.5+.5,A.y=q*.5*I+.5,p.push(A.x,A.y),g++}for(let V=0;V<i;V++){const j=C+V,G=F+V;_===!0?u.push(G,G+1,j):u.push(G+1,G,j),M+=3}c.addGroup(x,M,_===!0?1:2),x+=M}}static fromJSON(e){return new Tp(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Mb extends Tp{constructor(e=1,t=1,r=8,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Mb(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Vc extends Ht{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new ct(s,3)),this.setAttribute("normal",new ct(s.slice(),3)),this.setAttribute("uv",new ct(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(w){const b=new re,_=new re,C=new re;for(let A=0;A<t.length;A+=3)p(t[A+0],b),p(t[A+1],_),p(t[A+2],C),l(b,_,C,w)}function l(w,b,_,C){const A=C+1,P=[];for(let M=0;M<=A;M++){P[M]=[];const L=w.clone().lerp(_,M/A),I=b.clone().lerp(_,M/A),F=A-M;for(let V=0;V<=F;V++)V===0&&M===A?P[M][V]=L:P[M][V]=L.clone().lerp(I,V/F)}for(let M=0;M<A;M++)for(let L=0;L<2*(A-M)-1;L++){const I=Math.floor(L/2);L%2===0?(h(P[M][I+1]),h(P[M+1][I]),h(P[M][I])):(h(P[M][I+1]),h(P[M+1][I+1]),h(P[M+1][I]))}}function c(w){const b=new re;for(let _=0;_<s.length;_+=3)b.x=s[_+0],b.y=s[_+1],b.z=s[_+2],b.normalize().multiplyScalar(w),s[_+0]=b.x,s[_+1]=b.y,s[_+2]=b.z}function u(){const w=new re;for(let b=0;b<s.length;b+=3){w.x=s[b+0],w.y=s[b+1],w.z=s[b+2];const _=y(w)/2/Math.PI+.5,C=x(w)/Math.PI+.5;o.push(_,1-C)}g(),d()}function d(){for(let w=0;w<o.length;w+=6){const b=o[w+0],_=o[w+2],C=o[w+4],A=Math.max(b,_,C),P=Math.min(b,_,C);A>.9&&P<.1&&(b<.2&&(o[w+0]+=1),_<.2&&(o[w+2]+=1),C<.2&&(o[w+4]+=1))}}function h(w){s.push(w.x,w.y,w.z)}function p(w,b){const _=w*3;b.x=e[_+0],b.y=e[_+1],b.z=e[_+2]}function g(){const w=new re,b=new re,_=new re,C=new re,A=new He,P=new He,M=new He;for(let L=0,I=0;L<s.length;L+=9,I+=6){w.set(s[L+0],s[L+1],s[L+2]),b.set(s[L+3],s[L+4],s[L+5]),_.set(s[L+6],s[L+7],s[L+8]),A.set(o[I+0],o[I+1]),P.set(o[I+2],o[I+3]),M.set(o[I+4],o[I+5]),C.copy(w).add(b).add(_).divideScalar(3);const F=y(C);v(A,I+0,w,F),v(P,I+2,b,F),v(M,I+4,_,F)}}function v(w,b,_,C){C<0&&w.x===1&&(o[b]=w.x-1),_.x===0&&_.z===0&&(o[b]=C/2/Math.PI+.5)}function y(w){return Math.atan2(w.z,-w.x)}function x(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}static fromJSON(e){return new Vc(e.vertices,e.indices,e.radius,e.details)}}class Cb extends Vc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Cb(e.radius,e.detail)}}const uE=new re,dE=new re,P3=new re,hE=new Zo;class ene extends Ht{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(Bf*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),h={},p=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:v,b:y,c:x}=hE;if(v.fromBufferAttribute(a,c[0]),y.fromBufferAttribute(a,c[1]),x.fromBufferAttribute(a,c[2]),hE.getNormal(P3),d[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,d[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,d[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let w=0;w<3;w++){const b=(w+1)%3,_=d[w],C=d[b],A=hE[u[w]],P=hE[u[b]],M=`${_}_${C}`,L=`${C}_${_}`;L in h&&h[L]?(P3.dot(h[L].normal)<=s&&(p.push(A.x,A.y,A.z),p.push(P.x,P.y,P.z)),h[L]=null):M in h||(h[M]={index0:c[w],index1:c[b],normal:P3.clone()})}}for(const g in h)if(h[g]){const{index0:v,index1:y}=h[g];uE.fromBufferAttribute(a,v),dE.fromBufferAttribute(a,y),p.push(uE.x,uE.y,uE.z),p.push(dE.x,dE.y,dE.z)}this.setAttribute("position",new ct(p,3))}}}class Wf extends Ow{constructor(e){super(e),this.uuid=ho(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Ow().fromJSON(i))}return this}}const fNe={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=tne(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,d,h,p;if(r&&(s=yNe(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let g=t;g<i;g+=t)d=n[g],h=n[g+1],d<a&&(a=d),h<l&&(l=h),d>c&&(c=d),h>u&&(u=h);p=Math.max(c-a,u-l),p=p!==0?32767/p:0}return Dw(s,o,t,a,l,p,0),o}};function tne(n,e,t,r,i){let s,o;if(i===PNe(n,e,t,r)>0)for(s=e;s<t;s+=r)o=sG(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=sG(s,n[s],n[s+1],o);return o&&jP(o,o.next)&&(Fw(o),o=o.next),o}function hp(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(jP(t,t.next)||Zn(t.prev,t,t.next)===0)){if(Fw(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Dw(n,e,t,r,i,s,o){if(!n)return;!o&&s&&SNe(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?mNe(n,r,i,s):pNe(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Fw(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=gNe(hp(n),e,t),Dw(n,e,t,r,i,s,2)):o===2&&vNe(n,e,t,r,i,s):Dw(hp(n),e,t,r,i,s,1);break}}}function pNe(n){const e=n.prev,t=n,r=n.next;if(Zn(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,d=a<l?a<c?a:c:l<c?l:c,h=i>s?i>o?i:o:s>o?s:o,p=a>l?a>c?a:c:l>c?l:c;let g=r.next;for(;g!==e;){if(g.x>=u&&g.x<=h&&g.y>=d&&g.y<=p&&ev(i,a,s,l,o,c,g.x,g.y)&&Zn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function mNe(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Zn(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,d=s.y,h=o.y,p=a<l?a<c?a:c:l<c?l:c,g=u<d?u<h?u:h:d<h?d:h,v=a>l?a>c?a:c:l>c?l:c,y=u>d?u>h?u:h:d>h?d:h,x=T4(p,g,e,t,r),w=T4(v,y,e,t,r);let b=n.prevZ,_=n.nextZ;for(;b&&b.z>=x&&_&&_.z<=w;){if(b.x>=p&&b.x<=v&&b.y>=g&&b.y<=y&&b!==i&&b!==o&&ev(a,u,l,d,c,h,b.x,b.y)&&Zn(b.prev,b,b.next)>=0||(b=b.prevZ,_.x>=p&&_.x<=v&&_.y>=g&&_.y<=y&&_!==i&&_!==o&&ev(a,u,l,d,c,h,_.x,_.y)&&Zn(_.prev,_,_.next)>=0))return!1;_=_.nextZ}for(;b&&b.z>=x;){if(b.x>=p&&b.x<=v&&b.y>=g&&b.y<=y&&b!==i&&b!==o&&ev(a,u,l,d,c,h,b.x,b.y)&&Zn(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;_&&_.z<=w;){if(_.x>=p&&_.x<=v&&_.y>=g&&_.y<=y&&_!==i&&_!==o&&ev(a,u,l,d,c,h,_.x,_.y)&&Zn(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function gNe(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!jP(i,s)&&nne(i,r,r.next,s)&&Nw(i,s)&&Nw(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),Fw(r),Fw(r.next),r=n=s),r=r.next}while(r!==n);return hp(r)}function vNe(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&CNe(o,a)){let l=rne(o,a);o=hp(o,o.next),l=hp(l,l.next),Dw(o,e,t,r,i,s,0),Dw(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function yNe(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=tne(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(MNe(c));for(i.sort(xNe),s=0;s<i.length;s++)t=wNe(i[s],t);return t}function xNe(n,e){return n.x-e.x}function wNe(n,e){const t=bNe(n,e);if(!t)return e;const r=rne(t,n);return hp(r,r.next),hp(t,t.next)}function bNe(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const h=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=s&&h>r&&(r=h,i=t.x<t.next.x?t:t.next,h===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,d;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&ev(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(s-t.x),Nw(t,n)&&(d<u||d===u&&(t.x>i.x||t.x===i.x&&_Ne(i,t)))&&(i=t,u=d)),t=t.next;while(t!==a);return i}function _Ne(n,e){return Zn(n.prev,n,e.prev)<0&&Zn(e.next,n,n.next)<0}function SNe(n,e,t,r){let i=n;do i.z===0&&(i.z=T4(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,ENe(i)}function ENe(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function T4(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function MNe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function ev(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function CNe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!ANe(n,e)&&(Nw(n,e)&&Nw(e,n)&&TNe(n,e)&&(Zn(n.prev,n,e.prev)||Zn(n,e.prev,e))||jP(n,e)&&Zn(n.prev,n,n.next)>0&&Zn(e.prev,e,e.next)>0)}function Zn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function jP(n,e){return n.x===e.x&&n.y===e.y}function nne(n,e,t,r){const i=pE(Zn(n,e,t)),s=pE(Zn(n,e,r)),o=pE(Zn(t,r,n)),a=pE(Zn(t,r,e));return!!(i!==s&&o!==a||i===0&&fE(n,t,e)||s===0&&fE(n,r,e)||o===0&&fE(t,n,r)||a===0&&fE(t,e,r))}function fE(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function pE(n){return n>0?1:n<0?-1:0}function ANe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&nne(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Nw(n,e){return Zn(n.prev,n,n.next)<0?Zn(n,e,n.next)>=0&&Zn(n,n.prev,e)>=0:Zn(n,e,n.prev)<0||Zn(n,n.next,e)<0}function TNe(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function rne(n,e){const t=new P4(n.i,n.x,n.y),r=new P4(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function sG(n,e,t,r){const i=new P4(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Fw(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function P4(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function PNe(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class _l{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return _l.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];oG(e),aG(r,e);let o=e.length;t.forEach(oG);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,aG(r,t[l]);const a=fNe.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function oG(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function aG(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Ab extends Ht{constructor(e=new Wf([new He(.5,.5),new He(-.5,.5),new He(-.5,-.5),new He(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new ct(i,3)),this.setAttribute("uv",new ct(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let h=t.bevelEnabled!==void 0?t.bevelEnabled:!0,p=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:p-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,w=t.UVGenerator!==void 0?t.UVGenerator:RNe;let b,_=!1,C,A,P,M;x&&(b=x.getSpacedPoints(u),_=!0,h=!1,C=x.computeFrenetFrames(u,!1),A=new re,P=new re,M=new re),h||(y=0,p=0,g=0,v=0);const L=a.extractPoints(c);let I=L.shape;const F=L.holes;if(!_l.isClockWise(I)){I=I.reverse();for(let pe=0,fe=F.length;pe<fe;pe++){const Ae=F[pe];_l.isClockWise(Ae)&&(F[pe]=Ae.reverse())}}const j=_l.triangulateShape(I,F),G=I;for(let pe=0,fe=F.length;pe<fe;pe++){const Ae=F[pe];I=I.concat(Ae)}function J(pe,fe,Ae){return fe||console.error("THREE.ExtrudeGeometry: vec does not exist"),fe.clone().multiplyScalar(Ae).add(pe)}const q=I.length,H=j.length;function D(pe,fe,Ae){let Pe,ge,je;const We=pe.x-fe.x,qe=pe.y-fe.y,Ze=Ae.x-pe.x,Xe=Ae.y-pe.y,te=We*We+qe*qe,X=We*Xe-qe*Ze;if(Math.abs(X)>Number.EPSILON){const ve=Math.sqrt(te),Ce=Math.sqrt(Ze*Ze+Xe*Xe),$e=fe.x-qe/ve,Ve=fe.y+We/ve,Je=Ae.x-Xe/Ce,Ge=Ae.y+Ze/Ce,T=((Je-$e)*Xe-(Ge-Ve)*Ze)/(We*Xe-qe*Ze);Pe=$e+We*T-pe.x,ge=Ve+qe*T-pe.y;const N=Pe*Pe+ge*ge;if(N<=2)return new He(Pe,ge);je=Math.sqrt(N/2)}else{let ve=!1;We>Number.EPSILON?Ze>Number.EPSILON&&(ve=!0):We<-Number.EPSILON?Ze<-Number.EPSILON&&(ve=!0):Math.sign(qe)===Math.sign(Xe)&&(ve=!0),ve?(Pe=-qe,ge=We,je=Math.sqrt(te)):(Pe=We,ge=qe,je=Math.sqrt(te/2))}return new He(Pe/je,ge/je)}const z=[];for(let pe=0,fe=G.length,Ae=fe-1,Pe=pe+1;pe<fe;pe++,Ae++,Pe++)Ae===fe&&(Ae=0),Pe===fe&&(Pe=0),z[pe]=D(G[pe],G[Ae],G[Pe]);const B=[];let ee,Y=z.concat();for(let pe=0,fe=F.length;pe<fe;pe++){const Ae=F[pe];ee=[];for(let Pe=0,ge=Ae.length,je=ge-1,We=Pe+1;Pe<ge;Pe++,je++,We++)je===ge&&(je=0),We===ge&&(We=0),ee[Pe]=D(Ae[Pe],Ae[je],Ae[We]);B.push(ee),Y=Y.concat(ee)}for(let pe=0;pe<y;pe++){const fe=pe/y,Ae=p*Math.cos(fe*Math.PI/2),Pe=g*Math.sin(fe*Math.PI/2)+v;for(let ge=0,je=G.length;ge<je;ge++){const We=J(G[ge],z[ge],Pe);be(We.x,We.y,-Ae)}for(let ge=0,je=F.length;ge<je;ge++){const We=F[ge];ee=B[ge];for(let qe=0,Ze=We.length;qe<Ze;qe++){const Xe=J(We[qe],ee[qe],Pe);be(Xe.x,Xe.y,-Ae)}}}const oe=g+v;for(let pe=0;pe<q;pe++){const fe=h?J(I[pe],Y[pe],oe):I[pe];_?(P.copy(C.normals[0]).multiplyScalar(fe.x),A.copy(C.binormals[0]).multiplyScalar(fe.y),M.copy(b[0]).add(P).add(A),be(M.x,M.y,M.z)):be(fe.x,fe.y,0)}for(let pe=1;pe<=u;pe++)for(let fe=0;fe<q;fe++){const Ae=h?J(I[fe],Y[fe],oe):I[fe];_?(P.copy(C.normals[pe]).multiplyScalar(Ae.x),A.copy(C.binormals[pe]).multiplyScalar(Ae.y),M.copy(b[pe]).add(P).add(A),be(M.x,M.y,M.z)):be(Ae.x,Ae.y,d/u*pe)}for(let pe=y-1;pe>=0;pe--){const fe=pe/y,Ae=p*Math.cos(fe*Math.PI/2),Pe=g*Math.sin(fe*Math.PI/2)+v;for(let ge=0,je=G.length;ge<je;ge++){const We=J(G[ge],z[ge],Pe);be(We.x,We.y,d+Ae)}for(let ge=0,je=F.length;ge<je;ge++){const We=F[ge];ee=B[ge];for(let qe=0,Ze=We.length;qe<Ze;qe++){const Xe=J(We[qe],ee[qe],Pe);_?be(Xe.x,Xe.y+b[u-1].y,b[u-1].x+Ae):be(Xe.x,Xe.y,d+Ae)}}}ce(),me();function ce(){const pe=i.length/3;if(h){let fe=0,Ae=q*fe;for(let Pe=0;Pe<H;Pe++){const ge=j[Pe];Oe(ge[2]+Ae,ge[1]+Ae,ge[0]+Ae)}fe=u+y*2,Ae=q*fe;for(let Pe=0;Pe<H;Pe++){const ge=j[Pe];Oe(ge[0]+Ae,ge[1]+Ae,ge[2]+Ae)}}else{for(let fe=0;fe<H;fe++){const Ae=j[fe];Oe(Ae[2],Ae[1],Ae[0])}for(let fe=0;fe<H;fe++){const Ae=j[fe];Oe(Ae[0]+q*u,Ae[1]+q*u,Ae[2]+q*u)}}r.addGroup(pe,i.length/3-pe,0)}function me(){const pe=i.length/3;let fe=0;de(G,fe),fe+=G.length;for(let Ae=0,Pe=F.length;Ae<Pe;Ae++){const ge=F[Ae];de(ge,fe),fe+=ge.length}r.addGroup(pe,i.length/3-pe,1)}function de(pe,fe){let Ae=pe.length;for(;--Ae>=0;){const Pe=Ae;let ge=Ae-1;ge<0&&(ge=pe.length-1);for(let je=0,We=u+y*2;je<We;je++){const qe=q*je,Ze=q*(je+1),Xe=fe+Pe+qe,te=fe+ge+qe,X=fe+ge+Ze,ve=fe+Pe+Ze;Te(Xe,te,X,ve)}}}function be(pe,fe,Ae){l.push(pe),l.push(fe),l.push(Ae)}function Oe(pe,fe,Ae){we(pe),we(fe),we(Ae);const Pe=i.length/3,ge=w.generateTopUV(r,i,Pe-3,Pe-2,Pe-1);De(ge[0]),De(ge[1]),De(ge[2])}function Te(pe,fe,Ae,Pe){we(pe),we(fe),we(Pe),we(fe),we(Ae),we(Pe);const ge=i.length/3,je=w.generateSideWallUV(r,i,ge-6,ge-3,ge-2,ge-1);De(je[0]),De(je[1]),De(je[3]),De(je[1]),De(je[2]),De(je[3])}function we(pe){i.push(l[pe*3+0]),i.push(l[pe*3+1]),i.push(l[pe*3+2])}function De(pe){s.push(pe.x),s.push(pe.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return LNe(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new zB[i.type]().fromJSON(i)),new Ab(r,e.options)}}const RNe={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new He(s,o),new He(a,l),new He(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],h=e[i*3],p=e[i*3+1],g=e[i*3+2],v=e[s*3],y=e[s*3+1],x=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new He(o,1-l),new He(c,1-d),new He(h,1-g),new He(v,1-x)]:[new He(a,1-l),new He(u,1-d),new He(p,1-g),new He(y,1-x)]}};function LNe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Tb extends Vc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Tb(e.radius,e.detail)}}class w0 extends Vc{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new w0(e.radius,e.detail)}}class Pb extends Ht{constructor(e=.5,t=1,r=8,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let d=e;const h=(t-e)/i,p=new re,g=new He;for(let v=0;v<=i;v++){for(let y=0;y<=r;y++){const x=s+y/r*o;p.x=d*Math.cos(x),p.y=d*Math.sin(x),l.push(p.x,p.y,p.z),c.push(0,0,1),g.x=(p.x/t+1)/2,g.y=(p.y/t+1)/2,u.push(g.x,g.y)}d+=h}for(let v=0;v<i;v++){const y=v*(r+1);for(let x=0;x<r;x++){const w=x+y,b=w,_=w+r+1,C=w+r+2,A=w+1;a.push(b,_,A),a.push(_,C,A)}}this.setIndex(a),this.setAttribute("position",new ct(l,3)),this.setAttribute("normal",new ct(c,3)),this.setAttribute("uv",new ct(u,2))}static fromJSON(e){return new Pb(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Rb extends Ht{constructor(e=new Wf([new He(0,.5),new He(-.5,-.5),new He(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new ct(i,3)),this.setAttribute("normal",new ct(s,3)),this.setAttribute("uv",new ct(o,2));function c(u){const d=i.length/3,h=u.extractPoints(t);let p=h.shape;const g=h.holes;_l.isClockWise(p)===!1&&(p=p.reverse());for(let y=0,x=g.length;y<x;y++){const w=g[y];_l.isClockWise(w)===!0&&(g[y]=w.reverse())}const v=_l.triangulateShape(p,g);for(let y=0,x=g.length;y<x;y++){const w=g[y];p=p.concat(w)}for(let y=0,x=p.length;y<x;y++){const w=p[y];i.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let y=0,x=v.length;y<x;y++){const w=v[y],b=w[0]+d,_=w[1]+d,C=w[2]+d;r.push(b,_,C),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return kNe(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new Rb(r,e.curveSegments)}}function kNe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class b0 extends Ht{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],d=new re,h=new re,p=[],g=[],v=[],y=[];for(let x=0;x<=r;x++){const w=[],b=x/r;let _=0;x==0&&o==0?_=.5/t:x==r&&l==Math.PI&&(_=-.5/t);for(let C=0;C<=t;C++){const A=C/t;d.x=-e*Math.cos(i+A*s)*Math.sin(o+b*a),d.y=e*Math.cos(o+b*a),d.z=e*Math.sin(i+A*s)*Math.sin(o+b*a),g.push(d.x,d.y,d.z),h.copy(d).normalize(),v.push(h.x,h.y,h.z),y.push(A+_,1-b),w.push(c++)}u.push(w)}for(let x=0;x<r;x++)for(let w=0;w<t;w++){const b=u[x][w+1],_=u[x][w],C=u[x+1][w],A=u[x+1][w+1];(x!==0||o>0)&&p.push(b,_,A),(x!==r-1||l<Math.PI)&&p.push(_,C,A)}this.setIndex(p),this.setAttribute("position",new ct(g,3)),this.setAttribute("normal",new ct(v,3)),this.setAttribute("uv",new ct(y,2))}static fromJSON(e){return new b0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Lb extends Vc{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Lb(e.radius,e.detail)}}class kb extends Ht{constructor(e=1,t=.4,r=8,i=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new re,d=new re,h=new re;for(let p=0;p<=r;p++)for(let g=0;g<=i;g++){const v=g/i*s,y=p/r*Math.PI*2;d.x=(e+t*Math.cos(y))*Math.cos(v),d.y=(e+t*Math.cos(y))*Math.sin(v),d.z=t*Math.sin(y),a.push(d.x,d.y,d.z),u.x=e*Math.cos(v),u.y=e*Math.sin(v),h.subVectors(d,u).normalize(),l.push(h.x,h.y,h.z),c.push(g/i),c.push(p/r)}for(let p=1;p<=r;p++)for(let g=1;g<=i;g++){const v=(i+1)*p+g-1,y=(i+1)*(p-1)+g-1,x=(i+1)*(p-1)+g,w=(i+1)*p+g;o.push(v,y,w),o.push(y,x,w)}this.setIndex(o),this.setAttribute("position",new ct(a,3)),this.setAttribute("normal",new ct(l,3)),this.setAttribute("uv",new ct(c,2))}static fromJSON(e){return new kb(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Ib extends Ht{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],d=new re,h=new re,p=new re,g=new re,v=new re,y=new re,x=new re;for(let b=0;b<=r;++b){const _=b/r*s*Math.PI*2;w(_,s,o,e,p),w(_+.01,s,o,e,g),y.subVectors(g,p),x.addVectors(g,p),v.crossVectors(y,x),x.crossVectors(v,y),v.normalize(),x.normalize();for(let C=0;C<=i;++C){const A=C/i*Math.PI*2,P=-t*Math.cos(A),M=t*Math.sin(A);d.x=p.x+(P*x.x+M*v.x),d.y=p.y+(P*x.y+M*v.y),d.z=p.z+(P*x.z+M*v.z),l.push(d.x,d.y,d.z),h.subVectors(d,p).normalize(),c.push(h.x,h.y,h.z),u.push(b/r),u.push(C/i)}}for(let b=1;b<=r;b++)for(let _=1;_<=i;_++){const C=(i+1)*(b-1)+(_-1),A=(i+1)*b+(_-1),P=(i+1)*b+_,M=(i+1)*(b-1)+_;a.push(C,A,M),a.push(A,P,M)}this.setIndex(a),this.setAttribute("position",new ct(l,3)),this.setAttribute("normal",new ct(c,3)),this.setAttribute("uv",new ct(u,2));function w(b,_,C,A,P){const M=Math.cos(b),L=Math.sin(b),I=C/_*b,F=Math.cos(I);P.x=A*(2+F)*.5*M,P.y=A*(2+F)*L*.5,P.z=A*Math.sin(I)*.5}}static fromJSON(e){return new Ib(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Ob extends Ht{constructor(e=new NB(new re(-1,-1,0),new re(-1,1,0),new re(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new re,l=new re,c=new He;let u=new re;const d=[],h=[],p=[],g=[];v(),this.setIndex(g),this.setAttribute("position",new ct(d,3)),this.setAttribute("normal",new ct(h,3)),this.setAttribute("uv",new ct(p,2));function v(){for(let b=0;b<t;b++)y(b);y(s===!1?t:0),w(),x()}function y(b){u=e.getPointAt(b/t,u);const _=o.normals[b],C=o.binormals[b];for(let A=0;A<=i;A++){const P=A/i*Math.PI*2,M=Math.sin(P),L=-Math.cos(P);l.x=L*_.x+M*C.x,l.y=L*_.y+M*C.y,l.z=L*_.z+M*C.z,l.normalize(),h.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,d.push(a.x,a.y,a.z)}}function x(){for(let b=1;b<=t;b++)for(let _=1;_<=i;_++){const C=(i+1)*(b-1)+(_-1),A=(i+1)*b+(_-1),P=(i+1)*b+_,M=(i+1)*(b-1)+_;g.push(C,A,M),g.push(A,P,M)}}function w(){for(let b=0;b<=t;b++)for(let _=0;_<=i;_++)c.x=b/t,c.y=_/i,p.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Ob(new zB[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class ine extends Ht{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new re,s=new re;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],h=d.start,p=d.count;for(let g=h,v=h+p;g<v;g+=3)for(let y=0;y<3;y++){const x=a.getX(g+y),w=a.getX(g+(y+1)%3);i.fromBufferAttribute(o,x),s.fromBufferAttribute(o,w),lG(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,d),lG(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new ct(t,3))}}}function lG(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var cG=Object.freeze({__proto__:null,BoxGeometry:jd,CapsuleGeometry:Sb,CircleGeometry:Eb,ConeGeometry:Mb,CylinderGeometry:Tp,DodecahedronGeometry:Cb,EdgesGeometry:ene,ExtrudeGeometry:Ab,IcosahedronGeometry:Tb,LatheGeometry:x0,OctahedronGeometry:w0,PlaneGeometry:v0,PolyhedronGeometry:Vc,RingGeometry:Pb,ShapeGeometry:Rb,SphereGeometry:b0,TetrahedronGeometry:Lb,TorusGeometry:kb,TorusKnotGeometry:Ib,TubeGeometry:Ob,WireframeGeometry:ine});class sne extends Wr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new at(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class one extends El{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class BB extends Wr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new at(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ane extends BB{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new He(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return pr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new at(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new at(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new at(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class $B extends Wr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new at(16777215),this.specular=new at(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=xb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class lne extends Wr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new at(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class cne extends Wr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class une extends Wr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new at(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=xb,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dne extends Wr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new at(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wd,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class hne extends ii{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Yo(n,e,t){return UB(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Mf(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function UB(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function fne(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function R4(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function WB(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function INe(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],h=[];for(let p=0;p<c.times.length;++p){const g=c.times[p]*i;if(!(g<t||g>=r)){d.push(c.times[p]);for(let v=0;v<u;++v)h.push(c.values[p*u+v])}}d.length!==0&&(c.times=Mf(d,c.times.constructor),c.values=Mf(h,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function ONe(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let h=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);const g=a.times.length-1;let v;if(s<=a.times[0]){const x=u,w=d-u;v=Yo(a.values,x,w)}else if(s>=a.times[g]){const x=g*d+u,w=x+d-u;v=Yo(a.values,x,w)}else{const x=a.createInterpolant(),w=u,b=d-u;x.evaluate(s),v=Yo(x.resultBuffer,w,b)}l==="quaternion"&&new Xi().fromArray(v).normalize().conjugate().toArray(v);const y=c.times.length;for(let x=0;x<y;++x){const w=x*p+h;if(l==="quaternion")Xi.multiplyQuaternionsFlat(c.values,w,v,0,c.values,w);else{const b=p-h*2;for(let _=0;_<b;++_)c.values[w+_]-=v[_]}}}return n.blendMode=bB,n}var DNe=Object.freeze({__proto__:null,arraySlice:Yo,convertArray:Mf,isTypedArray:UB,getKeyframeOrder:fne,sortedArray:R4,flattenJSON:WB,subclip:INe,makeClipAdditive:ONe});class Db{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class pne extends Db{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:wf,endingEnd:wf}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case bf:s=e,a=2*t-r;break;case Rw:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case bf:o=e,l=2*r-t;break;case Rw:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,p=this._weightNext,g=(r-t)/(i-t),v=g*g,y=v*g,x=-h*y+2*h*v-h*g,w=(1+h)*y+(-1.5-2*h)*v+(-.5+h)*g+1,b=(-1-p)*y+(1.5+p)*v+.5*g,_=p*y-p*v;for(let C=0;C!==a;++C)s[C]=x*o[u+C]+w*o[c+C]+b*o[l+C]+_*o[d+C];return s}}class HB extends Db{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),d=1-u;for(let h=0;h!==a;++h)s[h]=o[c+h]*d+o[l+h]*u;return s}}class mne extends Db{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ua{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Mf(t,this.TimeBufferType),this.values=Mf(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Mf(e.times,Array),values:Mf(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new mne(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new HB(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new pne(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Tw:t=this.InterpolantFactoryMethodDiscrete;break;case Pw:t=this.InterpolantFactoryMethodLinear;break;case nA:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Tw;case this.InterpolantFactoryMethodLinear:return Pw;case this.InterpolantFactoryMethodSmooth:return nA}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Yo(r,s,o),this.values=Yo(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&UB(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Yo(this.times),t=Yo(this.values),r=this.getValueSize(),i=this.getInterpolation()===nA,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const d=a*r,h=d-r,p=d+r;for(let g=0;g!==r;++g){const v=t[d+g];if(v!==t[h+g]||v!==t[p+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*r,h=o*r;for(let p=0;p!==r;++p)t[h+p]=t[d+p]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Yo(e,0,o),this.values=Yo(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=Yo(this.times,0),t=Yo(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Ua.prototype.TimeBufferType=Float32Array;Ua.prototype.ValueBufferType=Float32Array;Ua.prototype.DefaultInterpolation=Pw;class Pp extends Ua{}Pp.prototype.ValueTypeName="bool";Pp.prototype.ValueBufferType=Array;Pp.prototype.DefaultInterpolation=Tw;Pp.prototype.InterpolantFactoryMethodLinear=void 0;Pp.prototype.InterpolantFactoryMethodSmooth=void 0;class jB extends Ua{}jB.prototype.ValueTypeName="color";class zw extends Ua{}zw.prototype.ValueTypeName="number";class gne extends Db{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Xi.slerpFlat(s,0,o,c-a,o,c,l);return s}}class _0 extends Ua{InterpolantFactoryMethodLinear(e){return new gne(this.times,this.values,this.getValueSize(),e)}}_0.prototype.ValueTypeName="quaternion";_0.prototype.DefaultInterpolation=Pw;_0.prototype.InterpolantFactoryMethodSmooth=void 0;class Rp extends Ua{}Rp.prototype.ValueTypeName="string";Rp.prototype.ValueBufferType=Array;Rp.prototype.DefaultInterpolation=Tw;Rp.prototype.InterpolantFactoryMethodLinear=void 0;Rp.prototype.InterpolantFactoryMethodSmooth=void 0;class Bw extends Ua{}Bw.prototype.ValueTypeName="vector";class $w{constructor(e,t=-1,r,i=OP){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=ho(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(FNe(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Ua.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=fne(l);l=R4(l,1,u),c=R4(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new zw(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let h=i[d];h||(i[d]=h=[]),h.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,h,p,g,v){if(p.length!==0){const y=[],x=[];WB(p,y,x,g),y.length!==0&&v.push(new d(h,y,x))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const h=c[d].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const p={};let g;for(g=0;g<h.length;g++)if(h[g].morphTargets)for(let v=0;v<h[g].morphTargets.length;v++)p[h[g].morphTargets[v]]=-1;for(const v in p){const y=[],x=[];for(let w=0;w!==h[g].morphTargets.length;++w){const b=h[g];y.push(b.time),x.push(b.morphTarget===v?1:0)}i.push(new zw(".morphTargetInfluence["+v+"]",y,x))}l=p.length*o}else{const p=".bones["+t[d].name+"]";r(Bw,p+".position",h,"pos",i),r(_0,p+".quaternion",h,"rot",i),r(Bw,p+".scale",h,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function NNe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return zw;case"vector":case"vector2":case"vector3":case"vector4":return Bw;case"color":return jB;case"quaternion":return _0;case"bool":case"boolean":return Pp;case"string":return Rp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function FNe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=NNe(n.type);if(n.times===void 0){const t=[],r=[];WB(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const fp={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class VB{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,h=c.length;d<h;d+=2){const p=c[d],g=c[d+1];if(p.global&&(p.lastIndex=0),p.test(u))return g}return null}}}const vne=new VB;class $s{constructor(e){this.manager=e!==void 0?e:vne,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Vl={};class zNe extends Error{constructor(e,t){super(e),this.response=t}}class Ml extends $s{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=fp.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Vl[e]!==void 0){Vl[e].push({onLoad:t,onProgress:r,onError:i});return}Vl[e]=[],Vl[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Vl[e],d=c.body.getReader(),h=c.headers.get("Content-Length"),p=h?parseInt(h):0,g=p!==0;let v=0;const y=new ReadableStream({start(x){w();function w(){d.read().then(({done:b,value:_})=>{if(b)x.close();else{v+=_.byteLength;const C=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:p});for(let A=0,P=u.length;A<P;A++){const M=u[A];M.onProgress&&M.onProgress(C)}x.enqueue(_),w()}})}}});return new Response(y)}else throw new zNe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),h=d&&d[1]?d[1].toLowerCase():void 0,p=new TextDecoder(h);return c.arrayBuffer().then(g=>p.decode(g))}}}).then(c=>{fp.add(e,c);const u=Vl[e];delete Vl[e];for(let d=0,h=u.length;d<h;d++){const p=u[d];p.onLoad&&p.onLoad(c)}}).catch(c=>{const u=Vl[e];if(u===void 0)throw this.manager.itemError(e),c;delete Vl[e];for(let d=0,h=u.length;d<h;d++){const p=u[d];p.onError&&p.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class BNe extends $s{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Ml(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=$w.parse(e[r]);t.push(i)}return t}}class $Ne extends $s{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new kB,l=new Ml(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(h){const p=s.parse(h,!0);o[d]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},c+=1,c===6&&(p.mipmapCount===1&&(a.minFilter=fr),a.image=o,a.format=p.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let d=0,h=e.length;d<h;++d)u(d);else l.load(e,function(d){const h=s.parse(d,!0);if(h.isCubemap){const p=h.mipmaps.length/h.mipmapCount;for(let g=0;g<p;g++){o[g]={mipmaps:[]};for(let v=0;v<h.mipmapCount;v++)o[g].mipmaps.push(h.mipmaps[g*h.mipmapCount+v]),o[g].format=h.format,o[g].width=h.width,o[g].height=h.height}a.image=o}else a.image.width=h.width,a.image.height=h.height,a.mipmaps=h.mipmaps;h.mipmapCount===1&&(a.minFilter=fr),a.format=h.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class Uw extends $s{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=fp.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Iw("img");function l(){u(),fp.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){u(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class UNe extends $s{constructor(e){super(e)}load(e,t,r,i){const s=new _b,o=new Uw(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class WNe extends $s{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Sv,a=new Ml(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Vi,o.wrapT=c.wrapT!==void 0?c.wrapT:Vi,o.magFilter=c.magFilter!==void 0?c.magFilter:fr,o.minFilter=c.minFilter!==void 0?c.minFilter:fr,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Mp),c.mipmapCount===1&&(o.minFilter=fr),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}}class HNe extends $s{constructor(e){super(e)}load(e,t,r,i){const s=new Pr,o=new Uw(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class Vd extends mn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new at(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class yne extends Vd{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(mn.DefaultUp),this.updateMatrix(),this.groundColor=new at(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const R3=new Wt,uG=new re,dG=new re;class GB{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new He(512,512),this.map=null,this.mapPass=null,this.matrix=new Wt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new NP,this._frameExtents=new He(1,1),this._viewportCount=1,this._viewports=[new _n(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;uG.setFromMatrixPosition(e.matrixWorld),t.position.copy(uG),dG.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(dG),t.updateMatrixWorld(),R3.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(R3),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(R3)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class jNe extends GB{constructor(){super(new sr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=kw*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class xne extends Vd{constructor(e,t,r=0,i=Math.PI/3,s=0,o=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(mn.DefaultUp),this.updateMatrix(),this.target=new mn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new jNe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const hG=new Wt,Ay=new re,L3=new re;class VNe extends GB{constructor(){super(new sr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new He(4,2),this._viewportCount=6,this._viewports=[new _n(2,1,1,1),new _n(0,1,1,1),new _n(3,1,1,1),new _n(1,1,1,1),new _n(3,0,1,1),new _n(1,0,1,1)],this._cubeDirections=[new re(1,0,0),new re(-1,0,0),new re(0,0,1),new re(0,0,-1),new re(0,1,0),new re(0,-1,0)],this._cubeUps=[new re(0,1,0),new re(0,1,0),new re(0,1,0),new re(0,1,0),new re(0,0,1),new re(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Ay.setFromMatrixPosition(e.matrixWorld),r.position.copy(Ay),L3.copy(r.position),L3.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(L3),r.updateMatrixWorld(),i.makeTranslation(-Ay.x,-Ay.y,-Ay.z),hG.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(hG)}}class wne extends Vd{constructor(e,t,r=0,i=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new VNe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class GNe extends GB{constructor(){super(new Ac(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class bne extends Vd{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(mn.DefaultUp),this.updateMatrix(),this.target=new mn,this.shadow=new GNe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class _ne extends Vd{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Sne extends Vd{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Ene{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new re)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class VP extends Vd{constructor(e=new Ene,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class GP extends $s{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new Ml(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=GP.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new at().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new at().setHex(o.value);break;case"v2":i.uniforms[s].value=new He().fromArray(o.value);break;case"v3":i.uniforms[s].value=new re().fromArray(o.value);break;case"v4":i.uniforms[s].value=new _n().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Rs().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Wt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new He().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new He().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:sne,SpriteMaterial:RB,RawShaderMaterial:one,ShaderMaterial:El,PointsMaterial:Ef,MeshPhysicalMaterial:ane,MeshStandardMaterial:BB,MeshPhongMaterial:$B,MeshToonMaterial:lne,MeshNormalMaterial:cne,MeshLambertMaterial:une,MeshDepthMaterial:AB,MeshDistanceMaterial:TB,MeshBasicMaterial:Hd,MeshMatcapMaterial:dne,LineDashedMaterial:hne,LineBasicMaterial:ii,Material:Wr};return new t[e]}}class L4{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Mne extends Ht{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Cne extends $s{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Ml(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(p,g){if(t[g]!==void 0)return t[g];const y=p.interleavedBuffers[g],x=s(p,y.buffer),w=Zg(y.type,x),b=new $P(w,y.stride);return b.uuid=y.uuid,t[g]=b,b}function s(p,g){if(r[g]!==void 0)return r[g];const y=p.arrayBuffers[g],x=new Uint32Array(y).buffer;return r[g]=x,x}const o=e.isInstancedBufferGeometry?new Mne:new Ht,a=e.data.index;if(a!==void 0){const p=Zg(a.type,a.array);o.setIndex(new Dn(p,1))}const l=e.data.attributes;for(const p in l){const g=l[p];let v;if(g.isInterleavedBufferAttribute){const y=i(e.data,g.data);v=new dp(y,g.itemSize,g.offset,g.normalized)}else{const y=Zg(g.type,g.array),x=g.isInstancedBufferAttribute?Kv:Dn;v=new x(y,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),g.usage!==void 0&&v.setUsage(g.usage),g.updateRange!==void 0&&(v.updateRange.offset=g.updateRange.offset,v.updateRange.count=g.updateRange.count),o.setAttribute(p,v)}const c=e.data.morphAttributes;if(c)for(const p in c){const g=c[p],v=[];for(let y=0,x=g.length;y<x;y++){const w=g[y];let b;if(w.isInterleavedBufferAttribute){const _=i(e.data,w.data);b=new dp(_,w.itemSize,w.offset,w.normalized)}else{const _=Zg(w.type,w.array);b=new Dn(_,w.itemSize,w.normalized)}w.name!==void 0&&(b.name=w.name),v.push(b)}o.morphAttributes[p]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let p=0,g=d.length;p!==g;++p){const v=d[p];o.addGroup(v.start,v.count,v.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const p=new re;h.center!==void 0&&p.fromArray(h.center),o.boundingSphere=new Ap(p,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class qNe extends $s{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?L4.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ml(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?L4.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Ml(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let d=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Wf().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new UP().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new Cne;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in cG?a=cG[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new GP;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=$w.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:Zg(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new VB(t);s=new Uw(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],h=d.url;if(Array.isArray(h)){const p=[];for(let g=0,v=h.length;g<v;g++){const y=h[g],x=a(y);x!==null&&(x instanceof HTMLImageElement?p.push(x):p.push(new Sv(x.data,x.width,x.height)))}i[d.uuid]=new _f(p)}else{const p=a(d.url);i[d.uuid]=new _f(p)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Zg(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Uw(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,h=c.length;d<h;d++){const p=c[d],g=await s(p);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new Sv(g.data,g.width,g.height)))}r[l.uuid]=new _f(u)}else{const u=await s(l.url);r[l.uuid]=new _f(u)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new _b,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Sv:u=new Pr,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,XNe)),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],fG),u.wrapT=r(a.wrap[1],fG)),a.format!==void 0&&(u.format=a.format),a.type!==void 0&&(u.type=a.type),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,pG)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,pG)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,t,r,i,s){let o;function a(h){return t[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),t[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const p=[];for(let g=0,v=h.length;g<v;g++){const y=h[g];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),p.push(r[y])}return p}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function c(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let u,d;switch(e.type){case"Scene":o=new nT,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new at(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new BP(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new zP(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":o=new sr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Ac(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new _ne(e.color,e.intensity);break;case"DirectionalLight":o=new bne(e.color,e.intensity);break;case"PointLight":o=new wne(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Sne(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new xne(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new yne(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new VP().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),o=new Gte(u,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),o=new Br(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const h=e.count,p=e.instanceMatrix,g=e.instanceColor;o=new qte(u,d,h),o.instanceMatrix=new Kv(new Float32Array(p.array),16),g!==void 0&&(o.instanceColor=new Kv(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new Vte;break;case"Line":o=new Ld(a(e.geometry),l(e.material));break;case"LineLoop":o=new Xte(a(e.geometry),l(e.material));break;case"LineSegments":o=new la(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new Tx(a(e.geometry),l(e.material));break;case"Sprite":o=new jte(l(e.material));break;case"Group":o=new Sf;break;case"Bone":o=new LB;break;default:o=new mn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let p=0;p<h.length;p++)o.add(this.parseObject(h[p],t,r,i,s))}if(e.animations!==void 0){const h=e.animations;for(let p=0;p<h.length;p++){const g=h[p];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let p=0;p<h.length;p++){const g=h[p],v=o.getObjectByProperty("uuid",g.object);v!==void 0&&o.addLevel(v,g.distance)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const XNe={UVMapping:IP,CubeReflectionMapping:Td,CubeRefractionMapping:Pd,EquirectangularReflectionMapping:Ew,EquirectangularRefractionMapping:Mw,CubeUVReflectionMapping:p0},fG={RepeatWrapping:Cw,ClampToEdgeWrapping:Vi,MirroredRepeatWrapping:Aw},pG={NearestFilter:Mr,NearestMipmapNearestFilter:Z2,NearestMipmapLinearFilter:J2,LinearFilter:fr,LinearMipmapNearestFilter:xB,LinearMipmapLinearFilter:Mp};class YNe extends $s{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=fp.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){fp.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let mE;class qB{static getContext(){return mE===void 0&&(mE=new(window.AudioContext||window.webkitAudioContext)),mE}static setContext(e){mE=e}}class KNe extends $s{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Ml(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);qB.getContext().decodeAudioData(l,function(u){t(u)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class QNe extends VP{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new at().set(e),s=new at().set(t),o=new re(i.r,i.g,i.b),a=new re(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class ZNe extends VP{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new at().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const mG=new Wt,gG=new Wt,gh=new Wt;class JNe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new sr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new sr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,gh.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(Bf*t.fov*.5)/t.zoom;let a,l;gG.elements[12]=-i,mG.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,gh.elements[0]=2*t.near/(l-a),gh.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(gh),a=-o*t.aspect-s,l=o*t.aspect-s,gh.elements[0]=2*t.near/(l-a),gh.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(gh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(gG),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(mG)}}class XB{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=vG(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=vG();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function vG(){return(typeof performance>"u"?Date:performance).now()}const vh=new re,yG=new Xi,eFe=new re,yh=new re;class tFe extends mn{constructor(){super(),this.type="AudioListener",this.context=qB.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new XB}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(vh,yG,eFe),yh.set(0,0,-1).applyQuaternion(yG),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(vh.x,i),t.positionY.linearRampToValueAtTime(vh.y,i),t.positionZ.linearRampToValueAtTime(vh.z,i),t.forwardX.linearRampToValueAtTime(yh.x,i),t.forwardY.linearRampToValueAtTime(yh.y,i),t.forwardZ.linearRampToValueAtTime(yh.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(vh.x,vh.y,vh.z),t.setOrientation(yh.x,yh.y,yh.z,r.x,r.y,r.z)}}class Ane extends mn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const xh=new re,xG=new Xi,nFe=new re,wh=new re;class rFe extends Ane{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(xh,xG,nFe),wh.set(0,0,1).applyQuaternion(xG);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(xh.x,r),t.positionY.linearRampToValueAtTime(xh.y,r),t.positionZ.linearRampToValueAtTime(xh.z,r),t.orientationX.linearRampToValueAtTime(wh.x,r),t.orientationY.linearRampToValueAtTime(wh.y,r),t.orientationZ.linearRampToValueAtTime(wh.z,r)}else t.setPosition(xh.x,xh.y,xh.z),t.setOrientation(wh.x,wh.y,wh.z)}}class iFe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class Tne{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Xi.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Xi.multiplyQuaternionsFlat(e,o,e,t,e,r),Xi.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const YB="\\[\\]\\.:\\/",sFe=new RegExp("["+YB+"]","g"),KB="[^"+YB+"]",oFe="[^"+YB.replace("\\.","")+"]",aFe=/((?:WC+[\/:])*)/.source.replace("WC",KB),lFe=/(WCOD+)?/.source.replace("WCOD",oFe),cFe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",KB),uFe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",KB),dFe=new RegExp("^"+aFe+lFe+cFe+uFe+"$"),hFe=["material","materials","bones","map"];class fFe{constructor(e,t,r){const i=r||cn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class cn{constructor(e,t,r){this.path=t,this.parsedPath=r||cn.parseTrackName(t),this.node=cn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new cn.Composite(e,t,r):new cn(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(sFe,"")}static parseTrackName(e){const t=dFe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);hFe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=cn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}cn.Composite=fFe;cn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};cn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};cn.prototype.GetterByBindingType=[cn.prototype._getValue_direct,cn.prototype._getValue_array,cn.prototype._getValue_arrayElement,cn.prototype._getValue_toArray];cn.prototype.SetterByBindingTypeAndVersioning=[[cn.prototype._setValue_direct,cn.prototype._setValue_direct_setNeedsUpdate,cn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[cn.prototype._setValue_array,cn.prototype._setValue_array_setNeedsUpdate,cn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[cn.prototype._setValue_arrayElement,cn.prototype._setValue_arrayElement_setNeedsUpdate,cn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[cn.prototype._setValue_fromArray,cn.prototype._setValue_fromArray_setNeedsUpdate,cn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class pFe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ho(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const h=arguments[u],p=h.uuid;let g=t[p];if(g===void 0){g=l++,t[p]=g,e.push(h);for(let v=0,y=o;v!==y;++v)s[v].push(new cn(h,r[v],i[v]))}else if(g<c){a=e[g];const v=--c,y=e[v];t[y.uuid]=g,e[g]=y,t[p]=v,e[v]=h;for(let x=0,w=o;x!==w;++x){const b=s[x],_=b[v];let C=b[g];b[g]=_,C===void 0&&(C=new cn(h,r[x],i[x])),b[v]=C}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const d=s++,h=e[d];t[h.uuid]=u,e[u]=h,t[c]=d,e[d]=l;for(let p=0,g=i;p!==g;++p){const v=r[p],y=v[d],x=v[u];v[u]=y,v[d]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=t[u];if(d!==void 0)if(delete t[u],d<s){const h=--s,p=e[h],g=--o,v=e[g];t[p.uuid]=d,e[d]=p,t[v.uuid]=h,e[h]=v,e.pop();for(let y=0,x=i;y!==x;++y){const w=r[y],b=w[h],_=w[g];w[d]=b,w[h]=_,w.pop()}}else{const h=--o,p=e[h];h>0&&(t[p.uuid]=d),e[d]=p,e.pop();for(let g=0,v=i;g!==v;++g){const y=r[g];y[d]=y[h],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(d);for(let h=u,p=l.length;h!==p;++h){const g=l[h];d[h]=new cn(g,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class mFe{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:wf,endingEnd:wf};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=_te,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case bB:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case OP:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===Ste;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===bte){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=bf,i.endingEnd=bf):(e?i.endingStart=this.zeroSlopeAtStart?bf:wf:i.endingStart=Rw,t?i.endingEnd=this.zeroSlopeAtEnd?bf:wf:i.endingEnd=Rw)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const gFe=new Float32Array(1);class vFe extends Tl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const h=i[d],p=h.name;let g=u[p];if(g!==void 0)++g.referenceCount,o[d]=g;else{if(g=o[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,p));continue}const v=t&&t._propertyBindings[d].binding.parsedPath;g=new Tne(cn.create(r,p,v),h.ValueTypeName,h.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,p),o[d]=g}a[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete d[h],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new HB(new Float32Array(2),new Float32Array(2),1,gFe),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?$w.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=OP),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new mFe(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?$w.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,t[u]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class QB{constructor(e){this.value=e}clone(){return new QB(this.value.clone===void 0?this.value:this.value.clone())}}let yFe=0;class xFe extends Tl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:yFe++}),this.name="",this.usage=Lw,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class wFe extends $P{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class bFe{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class Pne{constructor(e,t,r=0,i=1/0){this.ray=new m0(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Uf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return k4(e,this,r,t),r.sort(wG),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)k4(e[i],this,r,t);return r.sort(wG),r}}function wG(n,e){return n.distance-e.distance}function k4(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)k4(i[s],e,t,!0)}}class I4{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(pr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class _Fe{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const bG=new He;class SFe{constructor(e=new He(1/0,1/0),t=new He(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=bG.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return bG.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _G=new re,gE=new re;class EFe{constructor(e=new re,t=new re){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){_G.subVectors(e,this.start),gE.subVectors(this.end,this.start);const r=gE.dot(gE);let s=gE.dot(_G)/r;return t&&(s=pr(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const SG=new re;class MFe extends mn{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const r=new Ht,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new ct(i,3));const s=new ii({fog:!1,toneMapped:!1});this.cone=new la(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),SG.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(SG),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const vu=new re,vE=new Wt,k3=new Wt;class CFe extends la{constructor(e){const t=Rne(e),r=new Ht,i=[],s=[],o=new at(0,0,1),a=new at(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new ct(i,3)),r.setAttribute("color",new ct(s,3));const l=new ii({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");k3.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(vE.multiplyMatrices(k3,a.matrixWorld),vu.setFromMatrixPosition(vE),i.setXYZ(o,vu.x,vu.y,vu.z),vE.multiplyMatrices(k3,a.parent.matrixWorld),vu.setFromMatrixPosition(vE),i.setXYZ(o+1,vu.x,vu.y,vu.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Rne(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,Rne(n.children[t]));return e}class AFe extends Br{constructor(e,t,r){const i=new b0(t,4,2),s=new Hd({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const TFe=new re,EG=new at,MG=new at;class PFe extends mn{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new w0(t);i.rotateY(Math.PI*.5),this.material=new Hd({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Dn(o,3)),this.add(new Br(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");EG.copy(this.light.color),MG.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?EG:MG;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}e.lookAt(TFe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class RFe extends la{constructor(e=10,t=10,r=4473924,i=8947848){r=new at(r),i=new at(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let h=0,p=0,g=-a;h<=t;h++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const v=h===s?r:i;v.toArray(c,p),p+=3,v.toArray(c,p),p+=3,v.toArray(c,p),p+=3,v.toArray(c,p),p+=3}const u=new Ht;u.setAttribute("position",new ct(l,3)),u.setAttribute("color",new ct(c,3));const d=new ii({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class LFe extends la{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new at(s),o=new at(o);const a=[],l=[];if(t>1)for(let d=0;d<t;d++){const h=d/t*(Math.PI*2),p=Math.sin(h)*e,g=Math.cos(h)*e;a.push(0,0,0),a.push(p,0,g);const v=d&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let d=0;d<r;d++){const h=d&1?s:o,p=e-e/r*d;for(let g=0;g<i;g++){let v=g/i*(Math.PI*2),y=Math.sin(v)*p,x=Math.cos(v)*p;a.push(y,0,x),l.push(h.r,h.g,h.b),v=(g+1)/i*(Math.PI*2),y=Math.sin(v)*p,x=Math.cos(v)*p,a.push(y,0,x),l.push(h.r,h.g,h.b)}}const c=new Ht;c.setAttribute("position",new ct(a,3)),c.setAttribute("color",new ct(l,3));const u=new ii({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const CG=new re,yE=new re,AG=new re;class kFe extends mn{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new Ht;i.setAttribute("position",new ct([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new ii({fog:!1,toneMapped:!1});this.lightPlane=new Ld(i,s),this.add(this.lightPlane),i=new Ht,i.setAttribute("position",new ct([0,0,0,0,0,1],3)),this.targetLine=new Ld(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){CG.setFromMatrixPosition(this.light.matrixWorld),yE.setFromMatrixPosition(this.light.target.matrixWorld),AG.subVectors(yE,CG),this.lightPlane.lookAt(yE),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(yE),this.targetLine.scale.z=AG.length()}}const xE=new re,rr=new bb;class IFe extends la{constructor(e){const t=new Ht,r=new ii({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,v){l(g),l(v)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}t.setAttribute("position",new ct(i,3)),t.setAttribute("color",new ct(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new at(16755200),u=new at(16711680),d=new at(43775),h=new at(16777215),p=new at(3355443);this.setColors(c,u,d,h,p)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;rr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),lr("c",t,e,rr,0,0,-1),lr("t",t,e,rr,0,0,1),lr("n1",t,e,rr,-r,-i,-1),lr("n2",t,e,rr,r,-i,-1),lr("n3",t,e,rr,-r,i,-1),lr("n4",t,e,rr,r,i,-1),lr("f1",t,e,rr,-r,-i,1),lr("f2",t,e,rr,r,-i,1),lr("f3",t,e,rr,-r,i,1),lr("f4",t,e,rr,r,i,1),lr("u1",t,e,rr,r*.7,i*1.1,-1),lr("u2",t,e,rr,-r*.7,i*1.1,-1),lr("u3",t,e,rr,0,i*2,-1),lr("cf1",t,e,rr,-r,0,1),lr("cf2",t,e,rr,r,0,1),lr("cf3",t,e,rr,0,-i,1),lr("cf4",t,e,rr,0,i,1),lr("cn1",t,e,rr,-r,0,-1),lr("cn2",t,e,rr,r,0,-1),lr("cn3",t,e,rr,0,-i,-1),lr("cn4",t,e,rr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function lr(n,e,t,r,i,s,o){xE.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],xE.x,xE.y,xE.z)}}const wE=new Cp;class OFe extends la{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Ht;s.setIndex(new Dn(r,1)),s.setAttribute("position",new Dn(i,3)),super(s,new ii({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&wE.setFromObject(this.object),wE.isEmpty())return;const t=wE.min,r=wE.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class DFe extends la{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Ht;s.setIndex(new Dn(r,1)),s.setAttribute("position",new ct(i,3)),super(s,new ii({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class NFe extends Ld{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Ht;o.setAttribute("position",new ct(s,3)),o.computeBoundingSphere(),super(o,new ii({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Ht;l.setAttribute("position",new ct(a,3)),l.computeBoundingSphere(),this.add(new Br(l,new Hd({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const TG=new re;let bE,I3;class FFe extends mn{constructor(e=new re(0,0,1),t=new re(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",bE===void 0&&(bE=new Ht,bE.setAttribute("position",new ct([0,0,0,0,1,0],3)),I3=new Tp(0,.5,1,5,1),I3.translate(0,-.5,0)),this.position.copy(t),this.line=new Ld(bE,new ii({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Br(I3,new Hd({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{TG.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(TG,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class zFe extends la{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Ht;i.setAttribute("position",new ct(t,3)),i.setAttribute("color",new ct(r,3));const s=new ii({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new at,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class BFe{constructor(){this.type="ShapePath",this.color=new at,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Ow,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const w=[];for(let b=0,_=x.length;b<_;b++){const C=x[b],A=new Wf;A.curves=C.curves,w.push(A)}return w}function r(x,w){const b=w.length;let _=!1;for(let C=b-1,A=0;A<b;C=A++){let P=w[C],M=w[A],L=M.x-P.x,I=M.y-P.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(P=w[A],L=-L,M=w[C],I=-I),x.y<P.y||x.y>M.y)continue;if(x.y===P.y){if(x.x===P.x)return!0}else{const F=I*(x.x-P.x)-L*(x.y-P.y);if(F===0)return!0;if(F<0)continue;_=!_}}else{if(x.y!==P.y)continue;if(M.x<=x.x&&x.x<=P.x||P.x<=x.x&&x.x<=M.x)return!0}}return _}const i=_l.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Wf,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const d=[],h=[];let p=[],g=0,v;h[g]=void 0,p[g]=[];for(let x=0,w=s.length;x<w;x++)a=s[x],v=a.getPoints(),o=i(v),o=e?!o:o,o?(!u&&h[g]&&g++,h[g]={s:new Wf,p:v},h[g].s.curves=a.curves,u&&g++,p[g]=[]):p[g].push({h:a,p:v[0]});if(!h[0])return t(s);if(h.length>1){let x=!1,w=0;for(let b=0,_=h.length;b<_;b++)d[b]=[];for(let b=0,_=h.length;b<_;b++){const C=p[b];for(let A=0;A<C.length;A++){const P=C[A];let M=!0;for(let L=0;L<h.length;L++)r(P.p,h[L].p)&&(b!==L&&w++,M?(M=!1,d[L].push(P)):x=!0);M&&d[b].push(P)}}w>0&&x===!1&&(p=d)}let y;for(let x=0,w=h.length;x<w;x++){l=h[x].s,c.push(l),y=p[x];for(let b=0,_=y.length;b<_;b++)l.holes.push(y[b].h)}return c}}const xc=$Fe();function $Fe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function UFe(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=pr(n,-65504,65504),xc.floatView[0]=n;const e=xc.uint32View[0],t=e>>23&511;return xc.baseTable[t]+((e&8388607)>>xc.shiftTable[t])}function WFe(n){const e=n>>10;return xc.uint32View[0]=xc.mantissaTable[xc.offsetTable[e]+(n&1023)]+xc.exponentTable[e],xc.floatView[0]}var HFe=Object.freeze({__proto__:null,toHalfFloat:UFe,fromHalfFloat:WFe});function jFe(){console.error("THREE.ImmediateRenderObject has been removed.")}class VFe extends aa{constructor(e,t,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,r),this.samples=4}}class GFe extends wb{constructor(e,t,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,r,i)}}class qFe extends DP{constructor(e,t,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,r,i)}}class XFe extends jd{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class YFe extends Sb{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class KFe extends Eb{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class QFe extends Mb{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class ZFe extends Tp{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class JFe extends Cb{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class e4e extends Ab{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class t4e extends Tb{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class n4e extends x0{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class r4e extends w0{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class i4e extends v0{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class s4e extends Vc{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class o4e extends Pb{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class a4e extends Rb{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class l4e extends b0{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class c4e extends Lb{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class u4e extends kb{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class d4e extends Ib{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class h4e extends Ob{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:LP}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=LP);const f4e=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:yB,AddEquation:ef,AddOperation:tte,AdditiveAnimationBlendMode:bB,AdditiveBlending:QF,AlphaFormat:dte,AlwaysDepth:Xee,AlwaysStencilFunc:Ate,AmbientLight:_ne,AmbientLightProbe:ZNe,AnimationClip:$w,AnimationLoader:BNe,AnimationMixer:vFe,AnimationObjectGroup:pFe,AnimationUtils:DNe,ArcCurve:Yte,ArrayCamera:$te,ArrowHelper:FFe,Audio:Ane,AudioAnalyser:iFe,AudioContext:qB,AudioListener:tFe,AudioLoader:KNe,AxesHelper:zFe,BackSide:uo,BasicDepthPacking:Ete,BasicShadowMap:Oee,Bone:LB,BooleanKeyframeTrack:Pp,Box2:SFe,Box3:Cp,Box3Helper:DFe,BoxBufferGeometry:XFe,BoxGeometry:jd,BoxHelper:OFe,BufferAttribute:Dn,BufferGeometry:Ht,BufferGeometryLoader:Cne,ByteType:ote,Cache:fp,Camera:bb,CameraHelper:IFe,CanvasTexture:sNe,CapsuleBufferGeometry:YFe,CapsuleGeometry:Sb,CatmullRomCurve3:Kte,CineonToneMapping:ite,CircleBufferGeometry:KFe,CircleGeometry:Eb,ClampToEdgeWrapping:Vi,Clock:XB,Color:at,ColorKeyframeTrack:jB,ColorManagement:Wo,CompressedArrayTexture:iNe,CompressedTexture:kB,CompressedTextureLoader:$Ne,ConeBufferGeometry:QFe,ConeGeometry:Mb,CubeCamera:kte,CubeReflectionMapping:Td,CubeRefractionMapping:Pd,CubeTexture:_b,CubeTextureLoader:UNe,CubeUVReflectionMapping:p0,CubicBezierCurve:OB,CubicBezierCurve3:Qte,CubicInterpolant:pne,CullFaceBack:KF,CullFaceFront:Iee,CullFaceFrontBack:aLe,CullFaceNone:kee,Curve:$a,CurvePath:Jte,CustomBlending:Dee,CustomToneMapping:ste,CylinderBufferGeometry:ZFe,CylinderGeometry:Tp,Cylindrical:_Fe,Data3DTexture:DP,DataArrayTexture:wb,DataTexture:Sv,DataTexture2DArray:GFe,DataTexture3D:qFe,DataTextureLoader:WNe,DataUtils:HFe,DecrementStencilOp:xLe,DecrementWrapStencilOp:bLe,DefaultLoadingManager:vne,DepthFormat:wd,DepthStencilFormat:up,DepthTexture:Ute,DirectionalLight:bne,DirectionalLightHelper:kFe,DiscreteInterpolant:mne,DodecahedronBufferGeometry:JFe,DodecahedronGeometry:Cb,DoubleSide:Ec,DstAlphaFactor:Wee,DstColorFactor:jee,DynamicCopyUsage:NLe,DynamicDrawUsage:RLe,DynamicReadUsage:ILe,EdgesGeometry:ene,EllipseCurve:WP,EqualDepth:Kee,EqualStencilFunc:MLe,EquirectangularReflectionMapping:Ew,EquirectangularRefractionMapping:Mw,Euler:g0,EventDispatcher:Tl,ExtrudeBufferGeometry:e4e,ExtrudeGeometry:Ab,FileLoader:Ml,Float16BufferAttribute:vke,Float32BufferAttribute:ct,Float64BufferAttribute:yke,FloatType:Mc,Fog:BP,FogExp2:zP,FramebufferTexture:rNe,FrontSide:cp,Frustum:NP,GLBufferAttribute:bFe,GLSL1:zLe,GLSL3:S4,GreaterDepth:Zee,GreaterEqualDepth:Qee,GreaterEqualStencilFunc:PLe,GreaterStencilFunc:ALe,GridHelper:RFe,Group:Sf,HalfFloatType:Xv,HemisphereLight:yne,HemisphereLightHelper:PFe,HemisphereLightProbe:QNe,IcosahedronBufferGeometry:t4e,IcosahedronGeometry:Tb,ImageBitmapLoader:YNe,ImageLoader:Uw,ImageUtils:SB,ImmediateRenderObject:jFe,IncrementStencilOp:yLe,IncrementWrapStencilOp:wLe,InstancedBufferAttribute:Kv,InstancedBufferGeometry:Mne,InstancedInterleavedBuffer:wFe,InstancedMesh:qte,Int16BufferAttribute:mke,Int32BufferAttribute:gke,Int8BufferAttribute:hke,IntType:lte,InterleavedBuffer:$P,InterleavedBufferAttribute:dp,Interpolant:Db,InterpolateDiscrete:Tw,InterpolateLinear:Pw,InterpolateSmooth:nA,InvertStencilOp:_Le,KeepStencilOp:rA,KeyframeTrack:Ua,LOD:Vte,LatheBufferGeometry:n4e,LatheGeometry:x0,Layers:Uf,LessDepth:Yee,LessEqualDepth:Q2,LessEqualStencilFunc:CLe,LessStencilFunc:ELe,Light:Vd,LightProbe:VP,Line:Ld,Line3:EFe,LineBasicMaterial:ii,LineCurve:HP,LineCurve3:Zte,LineDashedMaterial:hne,LineLoop:Xte,LineSegments:la,LinearEncoding:Rd,LinearFilter:fr,LinearInterpolant:HB,LinearMipMapLinearFilter:dLe,LinearMipMapNearestFilter:uLe,LinearMipmapLinearFilter:Mp,LinearMipmapNearestFilter:xB,LinearSRGBColorSpace:dd,LinearToneMapping:nte,Loader:$s,LoaderUtils:L4,LoadingManager:VB,LoopOnce:bte,LoopPingPong:Ste,LoopRepeat:_te,LuminanceAlphaFormat:pte,LuminanceFormat:fte,MOUSE:Uh,Material:Wr,MaterialLoader:GP,MathUtils:ZLe,Matrix3:Rs,Matrix4:Wt,MaxEquation:t4,Mesh:Br,MeshBasicMaterial:Hd,MeshDepthMaterial:AB,MeshDistanceMaterial:TB,MeshLambertMaterial:une,MeshMatcapMaterial:dne,MeshNormalMaterial:cne,MeshPhongMaterial:$B,MeshPhysicalMaterial:ane,MeshStandardMaterial:BB,MeshToonMaterial:lne,MinEquation:e4,MirroredRepeatWrapping:Aw,MixOperation:ete,MultiplyBlending:JF,MultiplyOperation:xb,NearestFilter:Mr,NearestMipMapLinearFilter:cLe,NearestMipMapNearestFilter:lLe,NearestMipmapLinearFilter:J2,NearestMipmapNearestFilter:Z2,NeverDepth:qee,NeverStencilFunc:SLe,NoBlending:Lc,NoColorSpace:mLe,NoToneMapping:Na,NormalAnimationBlendMode:OP,NormalBlending:Ff,NotEqualDepth:Jee,NotEqualStencilFunc:TLe,NumberKeyframeTrack:zw,Object3D:mn,ObjectLoader:qNe,ObjectSpaceNormalMap:Cte,OctahedronBufferGeometry:r4e,OctahedronGeometry:w0,OneFactor:Bee,OneMinusDstAlphaFactor:Hee,OneMinusDstColorFactor:Vee,OneMinusSrcAlphaFactor:vB,OneMinusSrcColorFactor:Uee,OrthographicCamera:Ac,PCFShadowMap:kP,PCFSoftShadowMap:Cx,PMREMGenerator:M4,Path:Ow,PerspectiveCamera:sr,Plane:hc,PlaneBufferGeometry:i4e,PlaneGeometry:v0,PlaneHelper:NFe,PointLight:wne,PointLightHelper:AFe,Points:Tx,PointsMaterial:Ef,PolarGridHelper:LFe,PolyhedronBufferGeometry:s4e,PolyhedronGeometry:Vc,PositionalAudio:rFe,PropertyBinding:cn,PropertyMixer:Tne,QuadraticBezierCurve:DB,QuadraticBezierCurve3:NB,Quaternion:Xi,QuaternionKeyframeTrack:_0,QuaternionLinearInterpolant:gne,REVISION:LP,RGBADepthPacking:Mte,RGBAFormat:Ts,RGBAIntegerFormat:xte,RGBA_ASTC_10x10_Format:x4,RGBA_ASTC_10x5_Format:g4,RGBA_ASTC_10x6_Format:v4,RGBA_ASTC_10x8_Format:y4,RGBA_ASTC_12x10_Format:w4,RGBA_ASTC_12x12_Format:b4,RGBA_ASTC_4x4_Format:l4,RGBA_ASTC_5x4_Format:c4,RGBA_ASTC_5x5_Format:u4,RGBA_ASTC_6x5_Format:d4,RGBA_ASTC_6x6_Format:h4,RGBA_ASTC_8x5_Format:f4,RGBA_ASTC_8x6_Format:p4,RGBA_ASTC_8x8_Format:m4,RGBA_BPTC_Format:_4,RGBA_ETC2_EAC_Format:a4,RGBA_PVRTC_2BPPV1_Format:s4,RGBA_PVRTC_4BPPV1_Format:i4,RGBA_S3TC_DXT1_Format:JC,RGBA_S3TC_DXT3_Format:eA,RGBA_S3TC_DXT5_Format:tA,RGBFormat:hte,RGB_ETC1_Format:wte,RGB_ETC2_Format:o4,RGB_PVRTC_2BPPV1_Format:r4,RGB_PVRTC_4BPPV1_Format:n4,RGB_S3TC_DXT1_Format:ZC,RGFormat:vte,RGIntegerFormat:yte,RawShaderMaterial:one,Ray:m0,Raycaster:Pne,RectAreaLight:Sne,RedFormat:mte,RedIntegerFormat:gte,ReinhardToneMapping:rte,RepeatWrapping:Cw,ReplaceStencilOp:vLe,ReverseSubtractEquation:Fee,RingBufferGeometry:o4e,RingGeometry:Pb,SRGBColorSpace:fl,Scene:nT,ShaderChunk:Yt,ShaderLib:Pa,ShaderMaterial:El,ShadowMaterial:sne,Shape:Wf,ShapeBufferGeometry:a4e,ShapeGeometry:Rb,ShapePath:BFe,ShapeUtils:_l,ShortType:ate,Skeleton:UP,SkeletonHelper:CFe,SkinnedMesh:Gte,Source:_f,Sphere:Ap,SphereBufferGeometry:l4e,SphereGeometry:b0,Spherical:I4,SphericalHarmonics3:Ene,SplineCurve:FB,SpotLight:xne,SpotLightHelper:MFe,Sprite:jte,SpriteMaterial:RB,SrcAlphaFactor:gB,SrcAlphaSaturateFactor:Gee,SrcColorFactor:$ee,StaticCopyUsage:DLe,StaticDrawUsage:Lw,StaticReadUsage:kLe,StereoCamera:JNe,StreamCopyUsage:FLe,StreamDrawUsage:LLe,StreamReadUsage:OLe,StringKeyframeTrack:Rp,SubtractEquation:Nee,SubtractiveBlending:ZF,TOUCH:Wh,TangentSpaceNormalMap:Wd,TetrahedronBufferGeometry:c4e,TetrahedronGeometry:Lb,Texture:Pr,TextureLoader:HNe,TorusBufferGeometry:u4e,TorusGeometry:kb,TorusKnotBufferGeometry:d4e,TorusKnotGeometry:Ib,Triangle:Zo,TriangleFanDrawMode:pLe,TriangleStripDrawMode:fLe,TrianglesDrawMode:hLe,TubeBufferGeometry:h4e,TubeGeometry:Ob,UVMapping:IP,Uint16BufferAttribute:EB,Uint32BufferAttribute:MB,Uint8BufferAttribute:fke,Uint8ClampedBufferAttribute:pke,Uniform:QB,UniformsGroup:xFe,UniformsLib:tt,UniformsUtils:Lte,UnsignedByteType:$c,UnsignedInt248Type:zf,UnsignedIntType:ud,UnsignedShort4444Type:cte,UnsignedShort5551Type:ute,UnsignedShortType:wB,VSMShadowMap:xf,Vector2:He,Vector3:re,Vector4:_n,VectorKeyframeTrack:Bw,VideoTexture:nNe,WebGL1Renderer:Wte,WebGL3DRenderTarget:nke,WebGLArrayRenderTarget:tke,WebGLCubeRenderTarget:Ite,WebGLMultipleRenderTargets:rke,WebGLMultisampleRenderTarget:VFe,WebGLRenderTarget:aa,WebGLRenderer:PB,WebGLUtils:Bte,WireframeGeometry:ine,WrapAroundEnding:Rw,ZeroCurvatureEnding:wf,ZeroFactor:zee,ZeroSlopeEnding:bf,ZeroStencilOp:gLe,_SRGBAFormat:eT,sRGBEncoding:Kn},Symbol.toStringTag,{value:"Module"}));var Lne={exports:{}},Lp={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Lp.ConcurrentRoot=1;Lp.ContinuousEventPriority=4;Lp.DefaultEventPriority=16;Lp.DiscreteEventPriority=1;Lp.IdleEventPriority=536870912;Lp.LegacyRoot=0;Lne.exports=Lp;var tv=Lne.exports;function p4e(n){let e;const t=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const h=e;e=u?d:Object.assign({},e,d),t.forEach(p=>p(e,h))}},i=()=>e,s=(c,u=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=u(e);function p(){const g=u(e);if(!d(h,g)){const v=h;c(h=g,v)}}return t.add(p),()=>t.delete(p)},l={setState:r,getState:i,subscribe:(c,u,d)=>u||d?s(c,u,d):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const m4e=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),PG=m4e?k.useEffect:k.useLayoutEffect;function g4e(n){const e=typeof n=="function"?p4e(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=k.useReducer(y=>y+1,0),o=e.getState(),a=k.useRef(o),l=k.useRef(r),c=k.useRef(i),u=k.useRef(!1),d=k.useRef();d.current===void 0&&(d.current=r(o));let h,p=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(h=r(o),p=!i(d.current,h)),PG(()=>{p&&(d.current=h),a.current=o,l.current=r,c.current=i,u.current=!1});const g=k.useRef(o);PG(()=>{const y=()=>{try{const w=e.getState(),b=l.current(w);c.current(d.current,b)||(a.current=w,d.current=b,s())}catch{u.current=!0,s()}},x=e.subscribe(y);return e.getState()!==g.current&&y(),x},[]);const v=p?h:d.current;return k.useDebugValue(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var kne={exports:{}},O3={exports:{}},D3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RG;function v4e(){return RG||(RG=1,function(n){function e(D,z){var B=D.length;D.push(z);e:for(;0<B;){var ee=B-1>>>1,Y=D[ee];if(0<i(Y,z))D[ee]=z,D[B]=Y,B=ee;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var z=D[0],B=D.pop();if(B!==z){D[0]=B;e:for(var ee=0,Y=D.length,oe=Y>>>1;ee<oe;){var ce=2*(ee+1)-1,me=D[ce],de=ce+1,be=D[de];if(0>i(me,B))de<Y&&0>i(be,me)?(D[ee]=be,D[de]=B,ee=de):(D[ee]=me,D[ce]=B,ee=ce);else if(de<Y&&0>i(be,B))D[ee]=be,D[de]=B,ee=de;else break e}}return z}function i(D,z){var B=D.sortIndex-z.sortIndex;return B!==0?B:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var z=t(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=D)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(c)}}function _(D){if(v=!1,b(D),!g)if(t(l)!==null)g=!0,q(C);else{var z=t(c);z!==null&&H(_,z.startTime-D)}}function C(D,z){g=!1,v&&(v=!1,x(M),M=-1),p=!0;var B=h;try{for(b(z),d=t(l);d!==null&&(!(d.expirationTime>z)||D&&!F());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,h=d.priorityLevel;var Y=ee(d.expirationTime<=z);z=n.unstable_now(),typeof Y=="function"?d.callback=Y:d===t(l)&&r(l),b(z)}else r(l);d=t(l)}if(d!==null)var oe=!0;else{var ce=t(c);ce!==null&&H(_,ce.startTime-z),oe=!1}return oe}finally{d=null,h=B,p=!1}}var A=!1,P=null,M=-1,L=5,I=-1;function F(){return!(n.unstable_now()-I<L)}function V(){if(P!==null){var D=n.unstable_now();I=D;var z=!0;try{z=P(!0,D)}finally{z?j():(A=!1,P=null)}}else A=!1}var j;if(typeof w=="function")j=function(){w(V)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,J=G.port2;G.port1.onmessage=V,j=function(){J.postMessage(null)}}else j=function(){y(V,0)};function q(D){P=D,A||(A=!0,j())}function H(D,z){M=y(function(){D(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,q(C))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var B=h;h=z;try{return D()}finally{h=B}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=h;h=D;try{return z()}finally{h=B}},n.unstable_scheduleCallback=function(D,z,B){var ee=n.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ee+B:ee):B=ee,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=B+Y,D={id:u++,callback:z,priorityLevel:D,startTime:B,expirationTime:Y,sortIndex:-1},B>ee?(D.sortIndex=B,e(c,D),t(l)===null&&D===t(c)&&(v?(x(M),M=-1):v=!0,H(_,B-ee))):(D.sortIndex=Y,e(l,D),g||p||(g=!0,q(C))),D},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(D){var z=h;return function(){var B=h;h=z;try{return D.apply(this,arguments)}finally{h=B}}}}(D3)),D3}var LG;function y4e(){return LG||(LG=1,O3.exports=v4e()),O3.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x4e=function(e){var t={},r=k,i=y4e(),s=Object.assign;function o(f){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+f,E=1;E<arguments.length;E++)m+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),C=Symbol.iterator;function A(f){return f===null||typeof f!="object"?null:(f=C&&f[C]||f["@@iterator"],typeof f=="function"?f:null)}function P(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case u:return"Fragment";case c:return"Portal";case h:return"Profiler";case d:return"StrictMode";case y:return"Suspense";case x:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case g:return(f.displayName||"Context")+".Consumer";case p:return(f._context.displayName||"Context")+".Provider";case v:var m=f.render;return f=f.displayName,f||(f=m.displayName||m.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case w:return m=f.displayName||null,m!==null?m:P(f.type)||"Memo";case b:m=f._payload,f=f._init;try{return P(f(m))}catch{}}return null}function M(f){var m=f.type;switch(f.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=m.render,f=f.displayName||f.name||"",m.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(m);case 8:return m===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function L(f){var m=f,E=f;if(f.alternate)for(;m.return;)m=m.return;else{f=m;do m=f,m.flags&4098&&(E=m.return),f=m.return;while(f)}return m.tag===3?E:null}function I(f){if(L(f)!==f)throw Error(o(188))}function F(f){var m=f.alternate;if(!m){if(m=L(f),m===null)throw Error(o(188));return m!==f?null:f}for(var E=f,R=m;;){var O=E.return;if(O===null)break;var $=O.alternate;if($===null){if(R=O.return,R!==null){E=R;continue}break}if(O.child===$.child){for($=O.child;$;){if($===E)return I(O),f;if($===R)return I(O),m;$=$.sibling}throw Error(o(188))}if(E.return!==R.return)E=O,R=$;else{for(var ae=!1,ye=O.child;ye;){if(ye===E){ae=!0,E=O,R=$;break}if(ye===R){ae=!0,R=O,E=$;break}ye=ye.sibling}if(!ae){for(ye=$.child;ye;){if(ye===E){ae=!0,E=$,R=O;break}if(ye===R){ae=!0,R=$,E=O;break}ye=ye.sibling}if(!ae)throw Error(o(189))}}if(E.alternate!==R)throw Error(o(190))}if(E.tag!==3)throw Error(o(188));return E.stateNode.current===E?f:m}function V(f){return f=F(f),f!==null?j(f):null}function j(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var m=j(f);if(m!==null)return m;f=f.sibling}return null}function G(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var m=G(f);if(m!==null)return m}f=f.sibling}return null}var J=Array.isArray,q=e.getPublicInstance,H=e.getRootHostContext,D=e.getChildHostContext,z=e.prepareForCommit,B=e.resetAfterCommit,ee=e.createInstance,Y=e.appendInitialChild,oe=e.finalizeInitialChildren,ce=e.prepareUpdate,me=e.shouldSetTextContent,de=e.createTextInstance,be=e.scheduleTimeout,Oe=e.cancelTimeout,Te=e.noTimeout,we=e.isPrimaryRenderer,De=e.supportsMutation,pe=e.supportsPersistence,fe=e.supportsHydration,Ae=e.getInstanceFromNode,Pe=e.preparePortalMount,ge=e.getCurrentEventPriority,je=e.detachDeletedInstance,We=e.supportsMicrotasks,qe=e.scheduleMicrotask,Ze=e.supportsTestSelectors,Xe=e.findFiberRoot,te=e.getBoundingRect,X=e.getTextContent,ve=e.isHiddenSubtree,Ce=e.matchAccessibilityRole,$e=e.setFocusIfFocusable,Ve=e.setupIntersectionObserver,Je=e.appendChild,Ge=e.appendChildToContainer,T=e.commitTextUpdate,N=e.commitMount,U=e.commitUpdate,ne=e.insertBefore,se=e.insertInContainerBefore,K=e.removeChild,le=e.removeChildFromContainer,Le=e.resetTextContent,Ke=e.hideInstance,ue=e.hideTextInstance,Ee=e.unhideInstance,Fe=e.unhideTextInstance,et=e.clearContainer,rt=e.cloneInstance,mt=e.createContainerChildSet,jt=e.appendChildToContainerChildSet,Lt=e.finalizeContainerChildren,hn=e.replaceContainerChildren,pt=e.cloneHiddenInstance,gt=e.cloneHiddenTextInstance,yn=e.canHydrateInstance,fs=e.canHydrateTextInstance,xn=e.canHydrateSuspenseInstance,on=e.isSuspenseInstancePending,or=e.isSuspenseInstanceFallback,ie=e.registerSuspenseInstanceRetry,_e=e.getNextHydratableSibling,ze=e.getFirstHydratableChild,Me=e.getFirstHydratableChildWithinContainer,Ue=e.getFirstHydratableChildWithinSuspenseInstance,ft=e.hydrateInstance,bt=e.hydrateTextInstance,At=e.hydrateSuspenseInstance,Mt=e.getNextHydratableInstanceAfterSuspenseInstance,_t=e.commitHydratedContainer,Ot=e.commitHydratedSuspenseInstance,Ft=e.clearSuspenseBoundary,wn=e.clearSuspenseBoundaryFromContainer,Pn=e.shouldDeleteUnhydratedTailInstances,Us=e.didNotMatchHydratedContainerTextInstance,wo=e.didNotMatchHydratedTextInstance,tr;function Vt(f){if(tr===void 0)try{throw Error()}catch(E){var m=E.stack.trim().match(/\n( *(at )?)/);tr=m&&m[1]||""}return`
`+tr+f}var ps=!1;function bn(f,m){if(!f||ps)return"";ps=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Qe){var R=Qe}Reflect.construct(f,[],m)}else{try{m.call()}catch(Qe){R=Qe}f.call(m.prototype)}else{try{throw Error()}catch(Qe){R=Qe}f()}}catch(Qe){if(Qe&&R&&typeof Qe.stack=="string"){for(var O=Qe.stack.split(`
`),$=R.stack.split(`
`),ae=O.length-1,ye=$.length-1;1<=ae&&0<=ye&&O[ae]!==$[ye];)ye--;for(;1<=ae&&0<=ye;ae--,ye--)if(O[ae]!==$[ye]){if(ae!==1||ye!==1)do if(ae--,ye--,0>ye||O[ae]!==$[ye]){var Be=`
`+O[ae].replace(" at new "," at ");return f.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",f.displayName)),Be}while(1<=ae&&0<=ye);break}}}finally{ps=!1,Error.prepareStackTrace=E}return(f=f?f.displayName||f.name:"")?Vt(f):""}var Rr=Object.prototype.hasOwnProperty,vr=[],ai=-1;function Lr(f){return{current:f}}function Ct(f){0>ai||(f.current=vr[ai],vr[ai]=null,ai--)}function Qt(f,m){ai++,vr[ai]=f.current,f.current=m}var li={},Gt=Lr(li),gn=Lr(!1),_i=li;function Si(f,m){var E=f.type.contextTypes;if(!E)return li;var R=f.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===m)return R.__reactInternalMemoizedMaskedChildContext;var O={},$;for($ in E)O[$]=m[$];return R&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=m,f.__reactInternalMemoizedMaskedChildContext=O),O}function Bn(f){return f=f.childContextTypes,f!=null}function Gc(){Ct(gn),Ct(Gt)}function Gd(f,m,E){if(Gt.current!==li)throw Error(o(168));Qt(Gt,m),Qt(gn,E)}function kp(f,m,E){var R=f.stateNode;if(m=m.childContextTypes,typeof R.getChildContext!="function")return E;R=R.getChildContext();for(var O in R)if(!(O in m))throw Error(o(108,M(f)||"Unknown",O));return s({},E,R)}function Wa(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||li,_i=Gt.current,Qt(Gt,f),Qt(gn,gn.current),!0}function Ip(f,m,E){var R=f.stateNode;if(!R)throw Error(o(169));E?(f=kp(f,m,_i),R.__reactInternalMemoizedMergedChildContext=f,Ct(gn),Ct(Gt),Qt(Gt,f)):Ct(gn),Qt(gn,E)}var Ki=Math.clz32?Math.clz32:E0,S0=Math.log,Op=Math.LN2;function E0(f){return f>>>=0,f===0?32:31-(S0(f)/Op|0)|0}var qc=64,Pl=4194304;function Rl(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function Xc(f,m){var E=f.pendingLanes;if(E===0)return 0;var R=0,O=f.suspendedLanes,$=f.pingedLanes,ae=E&268435455;if(ae!==0){var ye=ae&~O;ye!==0?R=Rl(ye):($&=ae,$!==0&&(R=Rl($)))}else ae=E&~O,ae!==0?R=Rl(ae):$!==0&&(R=Rl($));if(R===0)return 0;if(m!==0&&m!==R&&!(m&O)&&(O=R&-R,$=m&-m,O>=$||O===16&&($&4194240)!==0))return m;if(R&4&&(R|=E&16),m=f.entangledLanes,m!==0)for(f=f.entanglements,m&=R;0<m;)E=31-Ki(m),O=1<<E,R|=f[E],m&=~O;return R}function qd(f,m){switch(f){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bo(f,m){for(var E=f.suspendedLanes,R=f.pingedLanes,O=f.expirationTimes,$=f.pendingLanes;0<$;){var ae=31-Ki($),ye=1<<ae,Be=O[ae];Be===-1?(!(ye&E)||ye&R)&&(O[ae]=qd(ye,m)):Be<=m&&(f.expiredLanes|=ye),$&=~ye}}function Xd(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function Ei(f){for(var m=[],E=0;31>E;E++)m.push(f);return m}function _o(f,m,E){f.pendingLanes|=m,m!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,m=31-Ki(m),f[m]=E}function Yd(f,m){var E=f.pendingLanes&~m;f.pendingLanes=m,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=m,f.mutableReadLanes&=m,f.entangledLanes&=m,m=f.entanglements;var R=f.eventTimes;for(f=f.expirationTimes;0<E;){var O=31-Ki(E),$=1<<O;m[O]=0,R[O]=-1,f[O]=-1,E&=~$}}function Ws(f,m){var E=f.entangledLanes|=m;for(f=f.entanglements;E;){var R=31-Ki(E),O=1<<R;O&m|f[R]&m&&(f[R]|=m),E&=~O}}var qt=0;function Kd(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var Yc=i.unstable_scheduleCallback,Dp=i.unstable_cancelCallback,M0=i.unstable_shouldYield,ut=i.unstable_requestPaint,lt=i.unstable_now,Mn=i.unstable_ImmediatePriority,qn=i.unstable_UserBlockingPriority,Nn=i.unstable_NormalPriority,Np=i.unstable_IdlePriority,Kc=null,Hs=null;function Fp(f){if(Hs&&typeof Hs.onCommitFiberRoot=="function")try{Hs.onCommitFiberRoot(Kc,f,void 0,(f.current.flags&128)===128)}catch{}}function nre(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var Ha=typeof Object.is=="function"?Object.is:nre,Ll=null,Fb=!1,qP=!1;function n6(f){Ll===null?Ll=[f]:Ll.push(f)}function rre(f){Fb=!0,n6(f)}function ja(){if(!qP&&Ll!==null){qP=!0;var f=0,m=qt;try{var E=Ll;for(qt=1;f<E.length;f++){var R=E[f];do R=R(!0);while(R!==null)}Ll=null,Fb=!1}catch(O){throw Ll!==null&&(Ll=Ll.slice(f+1)),Yc(Mn,ja),O}finally{qt=m,qP=!1}}return null}var ire=a.ReactCurrentBatchConfig;function zb(f,m){if(Ha(f,m))return!0;if(typeof f!="object"||f===null||typeof m!="object"||m===null)return!1;var E=Object.keys(f),R=Object.keys(m);if(E.length!==R.length)return!1;for(R=0;R<E.length;R++){var O=E[R];if(!Rr.call(m,O)||!Ha(f[O],m[O]))return!1}return!0}function sre(f){switch(f.tag){case 5:return Vt(f.type);case 16:return Vt("Lazy");case 13:return Vt("Suspense");case 19:return Vt("SuspenseList");case 0:case 2:case 15:return f=bn(f.type,!1),f;case 11:return f=bn(f.type.render,!1),f;case 1:return f=bn(f.type,!0),f;default:return""}}function da(f,m){if(f&&f.defaultProps){m=s({},m),f=f.defaultProps;for(var E in f)m[E]===void 0&&(m[E]=f[E]);return m}return m}var Bb=Lr(null),$b=null,zp=null,XP=null;function YP(){XP=zp=$b=null}function r6(f,m,E){we?(Qt(Bb,m._currentValue),m._currentValue=E):(Qt(Bb,m._currentValue2),m._currentValue2=E)}function KP(f){var m=Bb.current;Ct(Bb),we?f._currentValue=m:f._currentValue2=m}function QP(f,m,E){for(;f!==null;){var R=f.alternate;if((f.childLanes&m)!==m?(f.childLanes|=m,R!==null&&(R.childLanes|=m)):R!==null&&(R.childLanes&m)!==m&&(R.childLanes|=m),f===E)break;f=f.return}}function Bp(f,m){$b=f,XP=zp=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&m&&(Gs=!0),f.firstContext=null)}function So(f){var m=we?f._currentValue:f._currentValue2;if(XP!==f)if(f={context:f,memoizedValue:m,next:null},zp===null){if($b===null)throw Error(o(308));zp=f,$b.dependencies={lanes:0,firstContext:f}}else zp=zp.next=f;return m}var Va=null,Qc=!1;function ZP(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i6(f,m){f=f.updateQueue,m.updateQueue===f&&(m.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function kl(f,m){return{eventTime:f,lane:m,tag:0,payload:null,callback:null,next:null}}function Zc(f,m){var E=f.updateQueue;E!==null&&(E=E.shared,yr!==null&&f.mode&1&&!(Zt&2)?(f=E.interleaved,f===null?(m.next=m,Va===null?Va=[E]:Va.push(E)):(m.next=f.next,f.next=m),E.interleaved=m):(f=E.pending,f===null?m.next=m:(m.next=f.next,f.next=m),E.pending=m))}function Ub(f,m,E){if(m=m.updateQueue,m!==null&&(m=m.shared,(E&4194240)!==0)){var R=m.lanes;R&=f.pendingLanes,E|=R,m.lanes=E,Ws(f,E)}}function s6(f,m){var E=f.updateQueue,R=f.alternate;if(R!==null&&(R=R.updateQueue,E===R)){var O=null,$=null;if(E=E.firstBaseUpdate,E!==null){do{var ae={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};$===null?O=$=ae:$=$.next=ae,E=E.next}while(E!==null);$===null?O=$=m:$=$.next=m}else O=$=m;E={baseState:R.baseState,firstBaseUpdate:O,lastBaseUpdate:$,shared:R.shared,effects:R.effects},f.updateQueue=E;return}f=E.lastBaseUpdate,f===null?E.firstBaseUpdate=m:f.next=m,E.lastBaseUpdate=m}function Wb(f,m,E,R){var O=f.updateQueue;Qc=!1;var $=O.firstBaseUpdate,ae=O.lastBaseUpdate,ye=O.shared.pending;if(ye!==null){O.shared.pending=null;var Be=ye,Qe=Be.next;Be.next=null,ae===null?$=Qe:ae.next=Qe,ae=Be;var ht=f.alternate;ht!==null&&(ht=ht.updateQueue,ye=ht.lastBaseUpdate,ye!==ae&&(ye===null?ht.firstBaseUpdate=Qe:ye.next=Qe,ht.lastBaseUpdate=Be))}if($!==null){var zt=O.baseState;ae=0,ht=Qe=Be=null,ye=$;do{var Et=ye.lane,Rn=ye.eventTime;if((R&Et)===Et){ht!==null&&(ht=ht.next={eventTime:Rn,lane:0,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null});e:{var wt=f,Ti=ye;switch(Et=m,Rn=E,Ti.tag){case 1:if(wt=Ti.payload,typeof wt=="function"){zt=wt.call(Rn,zt,Et);break e}zt=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=Ti.payload,Et=typeof wt=="function"?wt.call(Rn,zt,Et):wt,Et==null)break e;zt=s({},zt,Et);break e;case 2:Qc=!0}}ye.callback!==null&&ye.lane!==0&&(f.flags|=64,Et=O.effects,Et===null?O.effects=[ye]:Et.push(ye))}else Rn={eventTime:Rn,lane:Et,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},ht===null?(Qe=ht=Rn,Be=zt):ht=ht.next=Rn,ae|=Et;if(ye=ye.next,ye===null){if(ye=O.shared.pending,ye===null)break;Et=ye,ye=Et.next,Et.next=null,O.lastBaseUpdate=Et,O.shared.pending=null}}while(!0);if(ht===null&&(Be=zt),O.baseState=Be,O.firstBaseUpdate=Qe,O.lastBaseUpdate=ht,m=O.shared.interleaved,m!==null){O=m;do ae|=O.lane,O=O.next;while(O!==m)}else $===null&&(O.shared.lanes=0);Xp|=ae,f.lanes=ae,f.memoizedState=zt}}function o6(f,m,E){if(f=m.effects,m.effects=null,f!==null)for(m=0;m<f.length;m++){var R=f[m],O=R.callback;if(O!==null){if(R.callback=null,R=E,typeof O!="function")throw Error(o(191,O));O.call(R)}}}var a6=new r.Component().refs;function JP(f,m,E,R){m=f.memoizedState,E=E(R,m),E=E==null?m:s({},m,E),f.memoizedState=E,f.lanes===0&&(f.updateQueue.baseState=E)}var Hb={isMounted:function(f){return(f=f._reactInternals)?L(f)===f:!1},enqueueSetState:function(f,m,E){f=f._reactInternals;var R=Zi(),O=tu(f),$=kl(R,O);$.payload=m,E!=null&&($.callback=E),Zc(f,$),m=To(f,O,R),m!==null&&Ub(m,f,O)},enqueueReplaceState:function(f,m,E){f=f._reactInternals;var R=Zi(),O=tu(f),$=kl(R,O);$.tag=1,$.payload=m,E!=null&&($.callback=E),Zc(f,$),m=To(f,O,R),m!==null&&Ub(m,f,O)},enqueueForceUpdate:function(f,m){f=f._reactInternals;var E=Zi(),R=tu(f),O=kl(E,R);O.tag=2,m!=null&&(O.callback=m),Zc(f,O),m=To(f,R,E),m!==null&&Ub(m,f,R)}};function l6(f,m,E,R,O,$,ae){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(R,$,ae):m.prototype&&m.prototype.isPureReactComponent?!zb(E,R)||!zb(O,$):!0}function c6(f,m,E){var R=!1,O=li,$=m.contextType;return typeof $=="object"&&$!==null?$=So($):(O=Bn(m)?_i:Gt.current,R=m.contextTypes,$=(R=R!=null)?Si(f,O):li),m=new m(E,$),f.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Hb,f.stateNode=m,m._reactInternals=f,R&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=O,f.__reactInternalMemoizedMaskedChildContext=$),m}function u6(f,m,E,R){f=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(E,R),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(E,R),m.state!==f&&Hb.enqueueReplaceState(m,m.state,null)}function eR(f,m,E,R){var O=f.stateNode;O.props=E,O.state=f.memoizedState,O.refs=a6,ZP(f);var $=m.contextType;typeof $=="object"&&$!==null?O.context=So($):($=Bn(m)?_i:Gt.current,O.context=Si(f,$)),O.state=f.memoizedState,$=m.getDerivedStateFromProps,typeof $=="function"&&(JP(f,m,$,E),O.state=f.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(m=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),m!==O.state&&Hb.enqueueReplaceState(O,O.state,null),Wb(f,E,O,R),O.state=f.memoizedState),typeof O.componentDidMount=="function"&&(f.flags|=4194308)}var $p=[],Up=0,jb=null,Vb=0,Eo=[],Mo=0,Qd=null,Il=1,Ol="";function Zd(f,m){$p[Up++]=Vb,$p[Up++]=jb,jb=f,Vb=m}function d6(f,m,E){Eo[Mo++]=Il,Eo[Mo++]=Ol,Eo[Mo++]=Qd,Qd=f;var R=Il;f=Ol;var O=32-Ki(R)-1;R&=~(1<<O),E+=1;var $=32-Ki(m)+O;if(30<$){var ae=O-O%5;$=(R&(1<<ae)-1).toString(32),R>>=ae,O-=ae,Il=1<<32-Ki(m)+O|E<<O|R,Ol=$+f}else Il=1<<$|E<<O|R,Ol=f}function tR(f){f.return!==null&&(Zd(f,1),d6(f,1,0))}function nR(f){for(;f===jb;)jb=$p[--Up],$p[Up]=null,Vb=$p[--Up],$p[Up]=null;for(;f===Qd;)Qd=Eo[--Mo],Eo[Mo]=null,Ol=Eo[--Mo],Eo[Mo]=null,Il=Eo[--Mo],Eo[Mo]=null}var js=null,Vs=null,Hn=!1,C0=!1,ha=null;function h6(f,m){var E=Po(5,null,null,0);E.elementType="DELETED",E.stateNode=m,E.return=f,m=f.deletions,m===null?(f.deletions=[E],f.flags|=16):m.push(E)}function f6(f,m){switch(f.tag){case 5:return m=yn(m,f.type,f.pendingProps),m!==null?(f.stateNode=m,js=f,Vs=ze(m),!0):!1;case 6:return m=fs(m,f.pendingProps),m!==null?(f.stateNode=m,js=f,Vs=null,!0):!1;case 13:if(m=xn(m),m!==null){var E=Qd!==null?{id:Il,overflow:Ol}:null;return f.memoizedState={dehydrated:m,treeContext:E,retryLane:1073741824},E=Po(18,null,null,0),E.stateNode=m,E.return=f,f.child=E,js=f,Vs=null,!0}return!1;default:return!1}}function rR(f){return(f.mode&1)!==0&&(f.flags&128)===0}function iR(f){if(Hn){var m=Vs;if(m){var E=m;if(!f6(f,m)){if(rR(f))throw Error(o(418));m=_e(E);var R=js;m&&f6(f,m)?h6(R,E):(f.flags=f.flags&-4097|2,Hn=!1,js=f)}}else{if(rR(f))throw Error(o(418));f.flags=f.flags&-4097|2,Hn=!1,js=f}}}function p6(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;js=f}function A0(f){if(!fe||f!==js)return!1;if(!Hn)return p6(f),Hn=!0,!1;if(f.tag!==3&&(f.tag!==5||Pn(f.type)&&!me(f.type,f.memoizedProps))){var m=Vs;if(m){if(rR(f)){for(f=Vs;f;)f=_e(f);throw Error(o(418))}for(;m;)h6(f,m),m=_e(m)}}if(p6(f),f.tag===13){if(!fe)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));Vs=Mt(f)}else Vs=js?_e(f.stateNode):null;return!0}function Wp(){fe&&(Vs=js=null,C0=Hn=!1)}function sR(f){ha===null?ha=[f]:ha.push(f)}function T0(f,m,E){if(f=E.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(o(309));var R=E.stateNode}if(!R)throw Error(o(147,f));var O=R,$=""+f;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===$?m.ref:(m=function(ae){var ye=O.refs;ye===a6&&(ye=O.refs={}),ae===null?delete ye[$]:ye[$]=ae},m._stringRef=$,m)}if(typeof f!="string")throw Error(o(284));if(!E._owner)throw Error(o(290,f))}return f}function Gb(f,m){throw f=Object.prototype.toString.call(m),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":f))}function m6(f){var m=f._init;return m(f._payload)}function g6(f){function m(Re,xe){if(f){var Ie=Re.deletions;Ie===null?(Re.deletions=[xe],Re.flags|=16):Ie.push(xe)}}function E(Re,xe){if(!f)return null;for(;xe!==null;)m(Re,xe),xe=xe.sibling;return null}function R(Re,xe){for(Re=new Map;xe!==null;)xe.key!==null?Re.set(xe.key,xe):Re.set(xe.index,xe),xe=xe.sibling;return Re}function O(Re,xe){return Re=ru(Re,xe),Re.index=0,Re.sibling=null,Re}function $(Re,xe,Ie){return Re.index=Ie,f?(Ie=Re.alternate,Ie!==null?(Ie=Ie.index,Ie<xe?(Re.flags|=2,xe):Ie):(Re.flags|=2,xe)):(Re.flags|=1048576,xe)}function ae(Re){return f&&Re.alternate===null&&(Re.flags|=2),Re}function ye(Re,xe,Ie,ot){return xe===null||xe.tag!==6?(xe=WR(Ie,Re.mode,ot),xe.return=Re,xe):(xe=O(xe,Ie),xe.return=Re,xe)}function Be(Re,xe,Ie,ot){var xt=Ie.type;return xt===u?ht(Re,xe,Ie.props.children,ot,Ie.key):xe!==null&&(xe.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===b&&m6(xt)===xe.type)?(ot=O(xe,Ie.props),ot.ref=T0(Re,xe,Ie),ot.return=Re,ot):(ot=S_(Ie.type,Ie.key,Ie.props,null,Re.mode,ot),ot.ref=T0(Re,xe,Ie),ot.return=Re,ot)}function Qe(Re,xe,Ie,ot){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==Ie.containerInfo||xe.stateNode.implementation!==Ie.implementation?(xe=HR(Ie,Re.mode,ot),xe.return=Re,xe):(xe=O(xe,Ie.children||[]),xe.return=Re,xe)}function ht(Re,xe,Ie,ot,xt){return xe===null||xe.tag!==7?(xe=sh(Ie,Re.mode,ot,xt),xe.return=Re,xe):(xe=O(xe,Ie),xe.return=Re,xe)}function zt(Re,xe,Ie){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return xe=WR(""+xe,Re.mode,Ie),xe.return=Re,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case l:return Ie=S_(xe.type,xe.key,xe.props,null,Re.mode,Ie),Ie.ref=T0(Re,null,xe),Ie.return=Re,Ie;case c:return xe=HR(xe,Re.mode,Ie),xe.return=Re,xe;case b:var ot=xe._init;return zt(Re,ot(xe._payload),Ie)}if(J(xe)||A(xe))return xe=sh(xe,Re.mode,Ie,null),xe.return=Re,xe;Gb(Re,xe)}return null}function Et(Re,xe,Ie,ot){var xt=xe!==null?xe.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return xt!==null?null:ye(Re,xe,""+Ie,ot);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case l:return Ie.key===xt?Be(Re,xe,Ie,ot):null;case c:return Ie.key===xt?Qe(Re,xe,Ie,ot):null;case b:return xt=Ie._init,Et(Re,xe,xt(Ie._payload),ot)}if(J(Ie)||A(Ie))return xt!==null?null:ht(Re,xe,Ie,ot,null);Gb(Re,Ie)}return null}function Rn(Re,xe,Ie,ot,xt){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return Re=Re.get(Ie)||null,ye(xe,Re,""+ot,xt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case l:return Re=Re.get(ot.key===null?Ie:ot.key)||null,Be(xe,Re,ot,xt);case c:return Re=Re.get(ot.key===null?Ie:ot.key)||null,Qe(xe,Re,ot,xt);case b:var Xt=ot._init;return Rn(Re,xe,Ie,Xt(ot._payload),xt)}if(J(ot)||A(ot))return Re=Re.get(Ie)||null,ht(xe,Re,ot,xt,null);Gb(xe,ot)}return null}function wt(Re,xe,Ie,ot){for(var xt=null,Xt=null,Bt=xe,fn=xe=0,qr=null;Bt!==null&&fn<Ie.length;fn++){Bt.index>fn?(qr=Bt,Bt=null):qr=Bt.sibling;var pn=Et(Re,Bt,Ie[fn],ot);if(pn===null){Bt===null&&(Bt=qr);break}f&&Bt&&pn.alternate===null&&m(Re,Bt),xe=$(pn,xe,fn),Xt===null?xt=pn:Xt.sibling=pn,Xt=pn,Bt=qr}if(fn===Ie.length)return E(Re,Bt),Hn&&Zd(Re,fn),xt;if(Bt===null){for(;fn<Ie.length;fn++)Bt=zt(Re,Ie[fn],ot),Bt!==null&&(xe=$(Bt,xe,fn),Xt===null?xt=Bt:Xt.sibling=Bt,Xt=Bt);return Hn&&Zd(Re,fn),xt}for(Bt=R(Re,Bt);fn<Ie.length;fn++)qr=Rn(Bt,Re,fn,Ie[fn],ot),qr!==null&&(f&&qr.alternate!==null&&Bt.delete(qr.key===null?fn:qr.key),xe=$(qr,xe,fn),Xt===null?xt=qr:Xt.sibling=qr,Xt=qr);return f&&Bt.forEach(function(iu){return m(Re,iu)}),Hn&&Zd(Re,fn),xt}function Ti(Re,xe,Ie,ot){var xt=A(Ie);if(typeof xt!="function")throw Error(o(150));if(Ie=xt.call(Ie),Ie==null)throw Error(o(151));for(var Xt=xt=null,Bt=xe,fn=xe=0,qr=null,pn=Ie.next();Bt!==null&&!pn.done;fn++,pn=Ie.next()){Bt.index>fn?(qr=Bt,Bt=null):qr=Bt.sibling;var iu=Et(Re,Bt,pn.value,ot);if(iu===null){Bt===null&&(Bt=qr);break}f&&Bt&&iu.alternate===null&&m(Re,Bt),xe=$(iu,xe,fn),Xt===null?xt=iu:Xt.sibling=iu,Xt=iu,Bt=qr}if(pn.done)return E(Re,Bt),Hn&&Zd(Re,fn),xt;if(Bt===null){for(;!pn.done;fn++,pn=Ie.next())pn=zt(Re,pn.value,ot),pn!==null&&(xe=$(pn,xe,fn),Xt===null?xt=pn:Xt.sibling=pn,Xt=pn);return Hn&&Zd(Re,fn),xt}for(Bt=R(Re,Bt);!pn.done;fn++,pn=Ie.next())pn=Rn(Bt,Re,fn,pn.value,ot),pn!==null&&(f&&pn.alternate!==null&&Bt.delete(pn.key===null?fn:pn.key),xe=$(pn,xe,fn),Xt===null?xt=pn:Xt.sibling=pn,Xt=pn);return f&&Bt.forEach(function(Dre){return m(Re,Dre)}),Hn&&Zd(Re,fn),xt}function Ro(Re,xe,Ie,ot){if(typeof Ie=="object"&&Ie!==null&&Ie.type===u&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case l:e:{for(var xt=Ie.key,Xt=xe;Xt!==null;){if(Xt.key===xt){if(xt=Ie.type,xt===u){if(Xt.tag===7){E(Re,Xt.sibling),xe=O(Xt,Ie.props.children),xe.return=Re,Re=xe;break e}}else if(Xt.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===b&&m6(xt)===Xt.type){E(Re,Xt.sibling),xe=O(Xt,Ie.props),xe.ref=T0(Re,Xt,Ie),xe.return=Re,Re=xe;break e}E(Re,Xt);break}else m(Re,Xt);Xt=Xt.sibling}Ie.type===u?(xe=sh(Ie.props.children,Re.mode,ot,Ie.key),xe.return=Re,Re=xe):(ot=S_(Ie.type,Ie.key,Ie.props,null,Re.mode,ot),ot.ref=T0(Re,xe,Ie),ot.return=Re,Re=ot)}return ae(Re);case c:e:{for(Xt=Ie.key;xe!==null;){if(xe.key===Xt)if(xe.tag===4&&xe.stateNode.containerInfo===Ie.containerInfo&&xe.stateNode.implementation===Ie.implementation){E(Re,xe.sibling),xe=O(xe,Ie.children||[]),xe.return=Re,Re=xe;break e}else{E(Re,xe);break}else m(Re,xe);xe=xe.sibling}xe=HR(Ie,Re.mode,ot),xe.return=Re,Re=xe}return ae(Re);case b:return Xt=Ie._init,Ro(Re,xe,Xt(Ie._payload),ot)}if(J(Ie))return wt(Re,xe,Ie,ot);if(A(Ie))return Ti(Re,xe,Ie,ot);Gb(Re,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"?(Ie=""+Ie,xe!==null&&xe.tag===6?(E(Re,xe.sibling),xe=O(xe,Ie),xe.return=Re,Re=xe):(E(Re,xe),xe=WR(Ie,Re.mode,ot),xe.return=Re,Re=xe),ae(Re)):E(Re,xe)}return Ro}var Hp=g6(!0),v6=g6(!1),P0={},Co=Lr(P0),R0=Lr(P0),jp=Lr(P0);function Ga(f){if(f===P0)throw Error(o(174));return f}function oR(f,m){Qt(jp,m),Qt(R0,f),Qt(Co,P0),f=H(m),Ct(Co),Qt(Co,f)}function Vp(){Ct(Co),Ct(R0),Ct(jp)}function y6(f){var m=Ga(jp.current),E=Ga(Co.current);m=D(E,f.type,m),E!==m&&(Qt(R0,f),Qt(Co,m))}function aR(f){R0.current===f&&(Ct(Co),Ct(R0))}var Xn=Lr(0);function qb(f){for(var m=f;m!==null;){if(m.tag===13){var E=m.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||on(E)||or(E)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(m.flags&128)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var lR=[];function cR(){for(var f=0;f<lR.length;f++){var m=lR[f];we?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}lR.length=0}var Xb=a.ReactCurrentDispatcher,Ao=a.ReactCurrentBatchConfig,Gp=0,nr=null,Mi=null,Gr=null,Yb=!1,L0=!1,k0=0,ore=0;function Ci(){throw Error(o(321))}function uR(f,m){if(m===null)return!1;for(var E=0;E<m.length&&E<f.length;E++)if(!Ha(f[E],m[E]))return!1;return!0}function dR(f,m,E,R,O,$){if(Gp=$,nr=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Xb.current=f===null||f.memoizedState===null?ure:dre,f=E(R,O),L0){$=0;do{if(L0=!1,k0=0,25<=$)throw Error(o(301));$+=1,Gr=Mi=null,m.updateQueue=null,Xb.current=hre,f=E(R,O)}while(L0)}if(Xb.current=e_,m=Mi!==null&&Mi.next!==null,Gp=0,Gr=Mi=nr=null,Yb=!1,m)throw Error(o(300));return f}function hR(){var f=k0!==0;return k0=0,f}function Dl(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr===null?nr.memoizedState=Gr=f:Gr=Gr.next=f,Gr}function qa(){if(Mi===null){var f=nr.alternate;f=f!==null?f.memoizedState:null}else f=Mi.next;var m=Gr===null?nr.memoizedState:Gr.next;if(m!==null)Gr=m,Mi=f;else{if(f===null)throw Error(o(310));Mi=f,f={memoizedState:Mi.memoizedState,baseState:Mi.baseState,baseQueue:Mi.baseQueue,queue:Mi.queue,next:null},Gr===null?nr.memoizedState=Gr=f:Gr=Gr.next=f}return Gr}function Jd(f,m){return typeof m=="function"?m(f):m}function Kb(f){var m=qa(),E=m.queue;if(E===null)throw Error(o(311));E.lastRenderedReducer=f;var R=Mi,O=R.baseQueue,$=E.pending;if($!==null){if(O!==null){var ae=O.next;O.next=$.next,$.next=ae}R.baseQueue=O=$,E.pending=null}if(O!==null){$=O.next,R=R.baseState;var ye=ae=null,Be=null,Qe=$;do{var ht=Qe.lane;if((Gp&ht)===ht)Be!==null&&(Be=Be.next={lane:0,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),R=Qe.hasEagerState?Qe.eagerState:f(R,Qe.action);else{var zt={lane:ht,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null};Be===null?(ye=Be=zt,ae=R):Be=Be.next=zt,nr.lanes|=ht,Xp|=ht}Qe=Qe.next}while(Qe!==null&&Qe!==$);Be===null?ae=R:Be.next=ye,Ha(R,m.memoizedState)||(Gs=!0),m.memoizedState=R,m.baseState=ae,m.baseQueue=Be,E.lastRenderedState=R}if(f=E.interleaved,f!==null){O=f;do $=O.lane,nr.lanes|=$,Xp|=$,O=O.next;while(O!==f)}else O===null&&(E.lanes=0);return[m.memoizedState,E.dispatch]}function Qb(f){var m=qa(),E=m.queue;if(E===null)throw Error(o(311));E.lastRenderedReducer=f;var R=E.dispatch,O=E.pending,$=m.memoizedState;if(O!==null){E.pending=null;var ae=O=O.next;do $=f($,ae.action),ae=ae.next;while(ae!==O);Ha($,m.memoizedState)||(Gs=!0),m.memoizedState=$,m.baseQueue===null&&(m.baseState=$),E.lastRenderedState=$}return[$,R]}function x6(){}function w6(f,m){var E=nr,R=qa(),O=m(),$=!Ha(R.memoizedState,O);if($&&(R.memoizedState=O,Gs=!0),R=R.queue,O0(S6.bind(null,E,R,f),[f]),R.getSnapshot!==m||$||Gr!==null&&Gr.memoizedState.tag&1){if(E.flags|=2048,I0(9,_6.bind(null,E,R,O,m),void 0,null),yr===null)throw Error(o(349));Gp&30||b6(E,m,O)}return O}function b6(f,m,E){f.flags|=16384,f={getSnapshot:m,value:E},m=nr.updateQueue,m===null?(m={lastEffect:null,stores:null},nr.updateQueue=m,m.stores=[f]):(E=m.stores,E===null?m.stores=[f]:E.push(f))}function _6(f,m,E,R){m.value=E,m.getSnapshot=R,E6(m)&&To(f,1,-1)}function S6(f,m,E){return E(function(){E6(m)&&To(f,1,-1)})}function E6(f){var m=f.getSnapshot;f=f.value;try{var E=m();return!Ha(f,E)}catch{return!0}}function fR(f){var m=Dl();return typeof f=="function"&&(f=f()),m.memoizedState=m.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jd,lastRenderedState:f},m.queue=f,f=f.dispatch=cre.bind(null,nr,f),[m.memoizedState,f]}function I0(f,m,E,R){return f={tag:f,create:m,destroy:E,deps:R,next:null},m=nr.updateQueue,m===null?(m={lastEffect:null,stores:null},nr.updateQueue=m,m.lastEffect=f.next=f):(E=m.lastEffect,E===null?m.lastEffect=f.next=f:(R=E.next,E.next=f,f.next=R,m.lastEffect=f)),f}function M6(){return qa().memoizedState}function Zb(f,m,E,R){var O=Dl();nr.flags|=f,O.memoizedState=I0(1|m,E,void 0,R===void 0?null:R)}function Jb(f,m,E,R){var O=qa();R=R===void 0?null:R;var $=void 0;if(Mi!==null){var ae=Mi.memoizedState;if($=ae.destroy,R!==null&&uR(R,ae.deps)){O.memoizedState=I0(m,E,$,R);return}}nr.flags|=f,O.memoizedState=I0(1|m,E,$,R)}function pR(f,m){return Zb(8390656,8,f,m)}function O0(f,m){return Jb(2048,8,f,m)}function C6(f,m){return Jb(4,2,f,m)}function A6(f,m){return Jb(4,4,f,m)}function T6(f,m){if(typeof m=="function")return f=f(),m(f),function(){m(null)};if(m!=null)return f=f(),m.current=f,function(){m.current=null}}function P6(f,m,E){return E=E!=null?E.concat([f]):null,Jb(4,4,T6.bind(null,m,f),E)}function mR(){}function R6(f,m){var E=qa();m=m===void 0?null:m;var R=E.memoizedState;return R!==null&&m!==null&&uR(m,R[1])?R[0]:(E.memoizedState=[f,m],f)}function L6(f,m){var E=qa();m=m===void 0?null:m;var R=E.memoizedState;return R!==null&&m!==null&&uR(m,R[1])?R[0]:(f=f(),E.memoizedState=[f,m],f)}function are(f,m){var E=qt;qt=E!==0&&4>E?E:4,f(!0);var R=Ao.transition;Ao.transition={};try{f(!1),m()}finally{qt=E,Ao.transition=R}}function k6(){return qa().memoizedState}function lre(f,m,E){var R=tu(f);E={lane:R,action:E,hasEagerState:!1,eagerState:null,next:null},I6(f)?O6(m,E):(D6(f,m,E),E=Zi(),f=To(f,R,E),f!==null&&N6(f,m,R))}function cre(f,m,E){var R=tu(f),O={lane:R,action:E,hasEagerState:!1,eagerState:null,next:null};if(I6(f))O6(m,O);else{D6(f,m,O);var $=f.alternate;if(f.lanes===0&&($===null||$.lanes===0)&&($=m.lastRenderedReducer,$!==null))try{var ae=m.lastRenderedState,ye=$(ae,E);if(O.hasEagerState=!0,O.eagerState=ye,Ha(ye,ae))return}catch{}finally{}E=Zi(),f=To(f,R,E),f!==null&&N6(f,m,R)}}function I6(f){var m=f.alternate;return f===nr||m!==null&&m===nr}function O6(f,m){L0=Yb=!0;var E=f.pending;E===null?m.next=m:(m.next=E.next,E.next=m),f.pending=m}function D6(f,m,E){yr!==null&&f.mode&1&&!(Zt&2)?(f=m.interleaved,f===null?(E.next=E,Va===null?Va=[m]:Va.push(m)):(E.next=f.next,f.next=E),m.interleaved=E):(f=m.pending,f===null?E.next=E:(E.next=f.next,f.next=E),m.pending=E)}function N6(f,m,E){if(E&4194240){var R=m.lanes;R&=f.pendingLanes,E|=R,m.lanes=E,Ws(f,E)}}var e_={readContext:So,useCallback:Ci,useContext:Ci,useEffect:Ci,useImperativeHandle:Ci,useInsertionEffect:Ci,useLayoutEffect:Ci,useMemo:Ci,useReducer:Ci,useRef:Ci,useState:Ci,useDebugValue:Ci,useDeferredValue:Ci,useTransition:Ci,useMutableSource:Ci,useSyncExternalStore:Ci,useId:Ci,unstable_isNewReconciler:!1},ure={readContext:So,useCallback:function(f,m){return Dl().memoizedState=[f,m===void 0?null:m],f},useContext:So,useEffect:pR,useImperativeHandle:function(f,m,E){return E=E!=null?E.concat([f]):null,Zb(4194308,4,T6.bind(null,m,f),E)},useLayoutEffect:function(f,m){return Zb(4194308,4,f,m)},useInsertionEffect:function(f,m){return Zb(4,2,f,m)},useMemo:function(f,m){var E=Dl();return m=m===void 0?null:m,f=f(),E.memoizedState=[f,m],f},useReducer:function(f,m,E){var R=Dl();return m=E!==void 0?E(m):m,R.memoizedState=R.baseState=m,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:m},R.queue=f,f=f.dispatch=lre.bind(null,nr,f),[R.memoizedState,f]},useRef:function(f){var m=Dl();return f={current:f},m.memoizedState=f},useState:fR,useDebugValue:mR,useDeferredValue:function(f){var m=fR(f),E=m[0],R=m[1];return pR(function(){var O=Ao.transition;Ao.transition={};try{R(f)}finally{Ao.transition=O}},[f]),E},useTransition:function(){var f=fR(!1),m=f[0];return f=are.bind(null,f[1]),Dl().memoizedState=f,[m,f]},useMutableSource:function(){},useSyncExternalStore:function(f,m,E){var R=nr,O=Dl();if(Hn){if(E===void 0)throw Error(o(407));E=E()}else{if(E=m(),yr===null)throw Error(o(349));Gp&30||b6(R,m,E)}O.memoizedState=E;var $={value:E,getSnapshot:m};return O.queue=$,pR(S6.bind(null,R,$,f),[f]),R.flags|=2048,I0(9,_6.bind(null,R,$,E,m),void 0,null),E},useId:function(){var f=Dl(),m=yr.identifierPrefix;if(Hn){var E=Ol,R=Il;E=(R&~(1<<32-Ki(R)-1)).toString(32)+E,m=":"+m+"R"+E,E=k0++,0<E&&(m+="H"+E.toString(32)),m+=":"}else E=ore++,m=":"+m+"r"+E.toString(32)+":";return f.memoizedState=m},unstable_isNewReconciler:!1},dre={readContext:So,useCallback:R6,useContext:So,useEffect:O0,useImperativeHandle:P6,useInsertionEffect:C6,useLayoutEffect:A6,useMemo:L6,useReducer:Kb,useRef:M6,useState:function(){return Kb(Jd)},useDebugValue:mR,useDeferredValue:function(f){var m=Kb(Jd),E=m[0],R=m[1];return O0(function(){var O=Ao.transition;Ao.transition={};try{R(f)}finally{Ao.transition=O}},[f]),E},useTransition:function(){var f=Kb(Jd)[0],m=qa().memoizedState;return[f,m]},useMutableSource:x6,useSyncExternalStore:w6,useId:k6,unstable_isNewReconciler:!1},hre={readContext:So,useCallback:R6,useContext:So,useEffect:O0,useImperativeHandle:P6,useInsertionEffect:C6,useLayoutEffect:A6,useMemo:L6,useReducer:Qb,useRef:M6,useState:function(){return Qb(Jd)},useDebugValue:mR,useDeferredValue:function(f){var m=Qb(Jd),E=m[0],R=m[1];return O0(function(){var O=Ao.transition;Ao.transition={};try{R(f)}finally{Ao.transition=O}},[f]),E},useTransition:function(){var f=Qb(Jd)[0],m=qa().memoizedState;return[f,m]},useMutableSource:x6,useSyncExternalStore:w6,useId:k6,unstable_isNewReconciler:!1};function gR(f,m){try{var E="",R=m;do E+=sre(R),R=R.return;while(R);var O=E}catch($){O=`
Error generating stack: `+$.message+`
`+$.stack}return{value:f,source:m,stack:O}}function vR(f,m){try{console.error(m.value)}catch(E){setTimeout(function(){throw E})}}var fre=typeof WeakMap=="function"?WeakMap:Map;function F6(f,m,E){E=kl(-1,E),E.tag=3,E.payload={element:null};var R=m.value;return E.callback=function(){g_||(g_=!0,DR=R),vR(f,m)},E}function z6(f,m,E){E=kl(-1,E),E.tag=3;var R=f.type.getDerivedStateFromError;if(typeof R=="function"){var O=m.value;E.payload=function(){return R(O)},E.callback=function(){vR(f,m)}}var $=f.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(E.callback=function(){vR(f,m),typeof R!="function"&&(Jc===null?Jc=new Set([this]):Jc.add(this));var ae=m.stack;this.componentDidCatch(m.value,{componentStack:ae!==null?ae:""})}),E}function B6(f,m,E){var R=f.pingCache;if(R===null){R=f.pingCache=new fre;var O=new Set;R.set(m,O)}else O=R.get(m),O===void 0&&(O=new Set,R.set(m,O));O.has(E)||(O.add(E),f=Are.bind(null,f,m,E),m.then(f,f))}function $6(f){do{var m;if((m=f.tag===13)&&(m=f.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return f;f=f.return}while(f!==null);return null}function U6(f,m,E,R,O){return f.mode&1?(f.flags|=65536,f.lanes=O,f):(f===m?f.flags|=65536:(f.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(m=kl(-1,1),m.tag=2,Zc(E,m))),E.lanes|=1),f)}function Xa(f){f.flags|=4}function W6(f,m){if(f!==null&&f.child===m.child)return!0;if(m.flags&16)return!1;for(f=m.child;f!==null;){if(f.flags&12854||f.subtreeFlags&12854)return!1;f=f.sibling}return!0}var D0,N0,t_,n_;if(De)D0=function(f,m){for(var E=m.child;E!==null;){if(E.tag===5||E.tag===6)Y(f,E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===m)break;for(;E.sibling===null;){if(E.return===null||E.return===m)return;E=E.return}E.sibling.return=E.return,E=E.sibling}},N0=function(){},t_=function(f,m,E,R,O){if(f=f.memoizedProps,f!==R){var $=m.stateNode,ae=Ga(Co.current);E=ce($,E,f,R,O,ae),(m.updateQueue=E)&&Xa(m)}},n_=function(f,m,E,R){E!==R&&Xa(m)};else if(pe){D0=function(f,m,E,R){for(var O=m.child;O!==null;){if(O.tag===5){var $=O.stateNode;E&&R&&($=pt($,O.type,O.memoizedProps,O)),Y(f,$)}else if(O.tag===6)$=O.stateNode,E&&R&&($=gt($,O.memoizedProps,O)),Y(f,$);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)$=O.child,$!==null&&($.return=O),D0(f,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===m)break;for(;O.sibling===null;){if(O.return===null||O.return===m)return;O=O.return}O.sibling.return=O.return,O=O.sibling}};var H6=function(f,m,E,R){for(var O=m.child;O!==null;){if(O.tag===5){var $=O.stateNode;E&&R&&($=pt($,O.type,O.memoizedProps,O)),jt(f,$)}else if(O.tag===6)$=O.stateNode,E&&R&&($=gt($,O.memoizedProps,O)),jt(f,$);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)$=O.child,$!==null&&($.return=O),H6(f,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===m)break;for(;O.sibling===null;){if(O.return===null||O.return===m)return;O=O.return}O.sibling.return=O.return,O=O.sibling}};N0=function(f,m){var E=m.stateNode;if(!W6(f,m)){f=E.containerInfo;var R=mt(f);H6(R,m,!1,!1),E.pendingChildren=R,Xa(m),Lt(f,R)}},t_=function(f,m,E,R,O){var $=f.stateNode,ae=f.memoizedProps;if((f=W6(f,m))&&ae===R)m.stateNode=$;else{var ye=m.stateNode,Be=Ga(Co.current),Qe=null;ae!==R&&(Qe=ce(ye,E,ae,R,O,Be)),f&&Qe===null?m.stateNode=$:($=rt($,Qe,E,ae,R,m,f,ye),oe($,E,R,O,Be)&&Xa(m),m.stateNode=$,f?Xa(m):D0($,m,!1,!1))}},n_=function(f,m,E,R){E!==R?(f=Ga(jp.current),E=Ga(Co.current),m.stateNode=de(R,f,E,m),Xa(m)):m.stateNode=f.stateNode}}else N0=function(){},t_=function(){},n_=function(){};function F0(f,m){if(!Hn)switch(f.tailMode){case"hidden":m=f.tail;for(var E=null;m!==null;)m.alternate!==null&&(E=m),m=m.sibling;E===null?f.tail=null:E.sibling=null;break;case"collapsed":E=f.tail;for(var R=null;E!==null;)E.alternate!==null&&(R=E),E=E.sibling;R===null?m||f.tail===null?f.tail=null:f.tail.sibling=null:R.sibling=null}}function Ai(f){var m=f.alternate!==null&&f.alternate.child===f.child,E=0,R=0;if(m)for(var O=f.child;O!==null;)E|=O.lanes|O.childLanes,R|=O.subtreeFlags&14680064,R|=O.flags&14680064,O.return=f,O=O.sibling;else for(O=f.child;O!==null;)E|=O.lanes|O.childLanes,R|=O.subtreeFlags,R|=O.flags,O.return=f,O=O.sibling;return f.subtreeFlags|=R,f.childLanes=E,m}function pre(f,m,E){var R=m.pendingProps;switch(nR(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ai(m),null;case 1:return Bn(m.type)&&Gc(),Ai(m),null;case 3:return R=m.stateNode,Vp(),Ct(gn),Ct(Gt),cR(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(f===null||f.child===null)&&(A0(m)?Xa(m):f===null||f.memoizedState.isDehydrated&&!(m.flags&256)||(m.flags|=1024,ha!==null&&(zR(ha),ha=null))),N0(f,m),Ai(m),null;case 5:aR(m),E=Ga(jp.current);var O=m.type;if(f!==null&&m.stateNode!=null)t_(f,m,O,R,E),f.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!R){if(m.stateNode===null)throw Error(o(166));return Ai(m),null}if(f=Ga(Co.current),A0(m)){if(!fe)throw Error(o(175));f=ft(m.stateNode,m.type,m.memoizedProps,E,f,m,!C0),m.updateQueue=f,f!==null&&Xa(m)}else{var $=ee(O,R,E,f,m);D0($,m,!1,!1),m.stateNode=$,oe($,O,R,E,f)&&Xa(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Ai(m),null;case 6:if(f&&m.stateNode!=null)n_(f,m,f.memoizedProps,R);else{if(typeof R!="string"&&m.stateNode===null)throw Error(o(166));if(f=Ga(jp.current),E=Ga(Co.current),A0(m)){if(!fe)throw Error(o(176));if(f=m.stateNode,R=m.memoizedProps,(E=bt(f,R,m,!C0))&&(O=js,O!==null))switch($=(O.mode&1)!==0,O.tag){case 3:Us(O.stateNode.containerInfo,f,R,$);break;case 5:wo(O.type,O.memoizedProps,O.stateNode,f,R,$)}E&&Xa(m)}else m.stateNode=de(R,f,E,m)}return Ai(m),null;case 13:if(Ct(Xn),R=m.memoizedState,Hn&&Vs!==null&&m.mode&1&&!(m.flags&128)){for(f=Vs;f;)f=_e(f);return Wp(),m.flags|=98560,m}if(R!==null&&R.dehydrated!==null){if(R=A0(m),f===null){if(!R)throw Error(o(318));if(!fe)throw Error(o(344));if(f=m.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));At(f,m)}else Wp(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;return Ai(m),null}return ha!==null&&(zR(ha),ha=null),m.flags&128?(m.lanes=E,m):(R=R!==null,E=!1,f===null?A0(m):E=f.memoizedState!==null,R&&!E&&(m.child.flags|=8192,m.mode&1&&(f===null||Xn.current&1?kr===0&&(kr=3):$R())),m.updateQueue!==null&&(m.flags|=4),Ai(m),null);case 4:return Vp(),N0(f,m),f===null&&Pe(m.stateNode.containerInfo),Ai(m),null;case 10:return KP(m.type._context),Ai(m),null;case 17:return Bn(m.type)&&Gc(),Ai(m),null;case 19:if(Ct(Xn),O=m.memoizedState,O===null)return Ai(m),null;if(R=(m.flags&128)!==0,$=O.rendering,$===null)if(R)F0(O,!1);else{if(kr!==0||f!==null&&f.flags&128)for(f=m.child;f!==null;){if($=qb(f),$!==null){for(m.flags|=128,F0(O,!1),f=$.updateQueue,f!==null&&(m.updateQueue=f,m.flags|=4),m.subtreeFlags=0,f=E,R=m.child;R!==null;)E=R,O=f,E.flags&=14680066,$=E.alternate,$===null?(E.childLanes=0,E.lanes=O,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=$.childLanes,E.lanes=$.lanes,E.child=$.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=$.memoizedProps,E.memoizedState=$.memoizedState,E.updateQueue=$.updateQueue,E.type=$.type,O=$.dependencies,E.dependencies=O===null?null:{lanes:O.lanes,firstContext:O.firstContext}),R=R.sibling;return Qt(Xn,Xn.current&1|2),m.child}f=f.sibling}O.tail!==null&&lt()>OR&&(m.flags|=128,R=!0,F0(O,!1),m.lanes=4194304)}else{if(!R)if(f=qb($),f!==null){if(m.flags|=128,R=!0,f=f.updateQueue,f!==null&&(m.updateQueue=f,m.flags|=4),F0(O,!0),O.tail===null&&O.tailMode==="hidden"&&!$.alternate&&!Hn)return Ai(m),null}else 2*lt()-O.renderingStartTime>OR&&E!==1073741824&&(m.flags|=128,R=!0,F0(O,!1),m.lanes=4194304);O.isBackwards?($.sibling=m.child,m.child=$):(f=O.last,f!==null?f.sibling=$:m.child=$,O.last=$)}return O.tail!==null?(m=O.tail,O.rendering=m,O.tail=m.sibling,O.renderingStartTime=lt(),m.sibling=null,f=Xn.current,Qt(Xn,R?f&1|2:f&1),m):(Ai(m),null);case 22:case 23:return BR(),R=m.memoizedState!==null,f!==null&&f.memoizedState!==null!==R&&(m.flags|=8192),R&&m.mode&1?qs&1073741824&&(Ai(m),De&&m.subtreeFlags&6&&(m.flags|=8192)):Ai(m),null;case 24:return null;case 25:return null}throw Error(o(156,m.tag))}var mre=a.ReactCurrentOwner,Gs=!1;function Qi(f,m,E,R){m.child=f===null?v6(m,null,E,R):Hp(m,f.child,E,R)}function j6(f,m,E,R,O){E=E.render;var $=m.ref;return Bp(m,O),R=dR(f,m,E,R,$,O),E=hR(),f!==null&&!Gs?(m.updateQueue=f.updateQueue,m.flags&=-2053,f.lanes&=~O,Nl(f,m,O)):(Hn&&E&&tR(m),m.flags|=1,Qi(f,m,R,O),m.child)}function V6(f,m,E,R,O){if(f===null){var $=E.type;return typeof $=="function"&&!UR($)&&$.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(m.tag=15,m.type=$,G6(f,m,$,R,O)):(f=S_(E.type,null,R,m,m.mode,O),f.ref=m.ref,f.return=m,m.child=f)}if($=f.child,!(f.lanes&O)){var ae=$.memoizedProps;if(E=E.compare,E=E!==null?E:zb,E(ae,R)&&f.ref===m.ref)return Nl(f,m,O)}return m.flags|=1,f=ru($,R),f.ref=m.ref,f.return=m,m.child=f}function G6(f,m,E,R,O){if(f!==null&&zb(f.memoizedProps,R)&&f.ref===m.ref)if(Gs=!1,(f.lanes&O)!==0)f.flags&131072&&(Gs=!0);else return m.lanes=f.lanes,Nl(f,m,O);return yR(f,m,E,R,O)}function q6(f,m,E){var R=m.pendingProps,O=R.children,$=f!==null?f.memoizedState:null;if(R.mode==="hidden")if(!(m.mode&1))m.memoizedState={baseLanes:0,cachePool:null},Qt(qp,qs),qs|=E;else if(E&1073741824)m.memoizedState={baseLanes:0,cachePool:null},R=$!==null?$.baseLanes:E,Qt(qp,qs),qs|=R;else return f=$!==null?$.baseLanes|E:E,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:f,cachePool:null},m.updateQueue=null,Qt(qp,qs),qs|=f,null;else $!==null?(R=$.baseLanes|E,m.memoizedState=null):R=E,Qt(qp,qs),qs|=R;return Qi(f,m,O,E),m.child}function X6(f,m){var E=m.ref;(f===null&&E!==null||f!==null&&f.ref!==E)&&(m.flags|=512,m.flags|=2097152)}function yR(f,m,E,R,O){var $=Bn(E)?_i:Gt.current;return $=Si(m,$),Bp(m,O),E=dR(f,m,E,R,$,O),R=hR(),f!==null&&!Gs?(m.updateQueue=f.updateQueue,m.flags&=-2053,f.lanes&=~O,Nl(f,m,O)):(Hn&&R&&tR(m),m.flags|=1,Qi(f,m,E,O),m.child)}function Y6(f,m,E,R,O){if(Bn(E)){var $=!0;Wa(m)}else $=!1;if(Bp(m,O),m.stateNode===null)f!==null&&(f.alternate=null,m.alternate=null,m.flags|=2),c6(m,E,R),eR(m,E,R,O),R=!0;else if(f===null){var ae=m.stateNode,ye=m.memoizedProps;ae.props=ye;var Be=ae.context,Qe=E.contextType;typeof Qe=="object"&&Qe!==null?Qe=So(Qe):(Qe=Bn(E)?_i:Gt.current,Qe=Si(m,Qe));var ht=E.getDerivedStateFromProps,zt=typeof ht=="function"||typeof ae.getSnapshotBeforeUpdate=="function";zt||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(ye!==R||Be!==Qe)&&u6(m,ae,R,Qe),Qc=!1;var Et=m.memoizedState;ae.state=Et,Wb(m,R,ae,O),Be=m.memoizedState,ye!==R||Et!==Be||gn.current||Qc?(typeof ht=="function"&&(JP(m,E,ht,R),Be=m.memoizedState),(ye=Qc||l6(m,E,ye,R,Et,Be,Qe))?(zt||typeof ae.UNSAFE_componentWillMount!="function"&&typeof ae.componentWillMount!="function"||(typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount()),typeof ae.componentDidMount=="function"&&(m.flags|=4194308)):(typeof ae.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=R,m.memoizedState=Be),ae.props=R,ae.state=Be,ae.context=Qe,R=ye):(typeof ae.componentDidMount=="function"&&(m.flags|=4194308),R=!1)}else{ae=m.stateNode,i6(f,m),ye=m.memoizedProps,Qe=m.type===m.elementType?ye:da(m.type,ye),ae.props=Qe,zt=m.pendingProps,Et=ae.context,Be=E.contextType,typeof Be=="object"&&Be!==null?Be=So(Be):(Be=Bn(E)?_i:Gt.current,Be=Si(m,Be));var Rn=E.getDerivedStateFromProps;(ht=typeof Rn=="function"||typeof ae.getSnapshotBeforeUpdate=="function")||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(ye!==zt||Et!==Be)&&u6(m,ae,R,Be),Qc=!1,Et=m.memoizedState,ae.state=Et,Wb(m,R,ae,O);var wt=m.memoizedState;ye!==zt||Et!==wt||gn.current||Qc?(typeof Rn=="function"&&(JP(m,E,Rn,R),wt=m.memoizedState),(Qe=Qc||l6(m,E,Qe,R,Et,wt,Be)||!1)?(ht||typeof ae.UNSAFE_componentWillUpdate!="function"&&typeof ae.componentWillUpdate!="function"||(typeof ae.componentWillUpdate=="function"&&ae.componentWillUpdate(R,wt,Be),typeof ae.UNSAFE_componentWillUpdate=="function"&&ae.UNSAFE_componentWillUpdate(R,wt,Be)),typeof ae.componentDidUpdate=="function"&&(m.flags|=4),typeof ae.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof ae.componentDidUpdate!="function"||ye===f.memoizedProps&&Et===f.memoizedState||(m.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||ye===f.memoizedProps&&Et===f.memoizedState||(m.flags|=1024),m.memoizedProps=R,m.memoizedState=wt),ae.props=R,ae.state=wt,ae.context=Be,R=Qe):(typeof ae.componentDidUpdate!="function"||ye===f.memoizedProps&&Et===f.memoizedState||(m.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||ye===f.memoizedProps&&Et===f.memoizedState||(m.flags|=1024),R=!1)}return xR(f,m,E,R,$,O)}function xR(f,m,E,R,O,$){X6(f,m);var ae=(m.flags&128)!==0;if(!R&&!ae)return O&&Ip(m,E,!1),Nl(f,m,$);R=m.stateNode,mre.current=m;var ye=ae&&typeof E.getDerivedStateFromError!="function"?null:R.render();return m.flags|=1,f!==null&&ae?(m.child=Hp(m,f.child,null,$),m.child=Hp(m,null,ye,$)):Qi(f,m,ye,$),m.memoizedState=R.state,O&&Ip(m,E,!0),m.child}function K6(f){var m=f.stateNode;m.pendingContext?Gd(f,m.pendingContext,m.pendingContext!==m.context):m.context&&Gd(f,m.context,!1),oR(f,m.containerInfo)}function Q6(f,m,E,R,O){return Wp(),sR(O),m.flags|=256,Qi(f,m,E,R),m.child}var r_={dehydrated:null,treeContext:null,retryLane:0};function i_(f){return{baseLanes:f,cachePool:null}}function Z6(f,m,E){var R=m.pendingProps,O=Xn.current,$=!1,ae=(m.flags&128)!==0,ye;if((ye=ae)||(ye=f!==null&&f.memoizedState===null?!1:(O&2)!==0),ye?($=!0,m.flags&=-129):(f===null||f.memoizedState!==null)&&(O|=1),Qt(Xn,O&1),f===null)return iR(m),f=m.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(m.mode&1?or(f)?m.lanes=8:m.lanes=1073741824:m.lanes=1,null):(O=R.children,f=R.fallback,$?(R=m.mode,$=m.child,O={mode:"hidden",children:O},!(R&1)&&$!==null?($.childLanes=0,$.pendingProps=O):$=E_(O,R,0,null),f=sh(f,R,E,null),$.return=m,f.return=m,$.sibling=f,m.child=$,m.child.memoizedState=i_(E),m.memoizedState=r_,f):wR(m,O));if(O=f.memoizedState,O!==null){if(ye=O.dehydrated,ye!==null){if(ae)return m.flags&256?(m.flags&=-257,s_(f,m,E,Error(o(422)))):m.memoizedState!==null?(m.child=f.child,m.flags|=128,null):($=R.fallback,O=m.mode,R=E_({mode:"visible",children:R.children},O,0,null),$=sh($,O,E,null),$.flags|=2,R.return=m,$.return=m,R.sibling=$,m.child=R,m.mode&1&&Hp(m,f.child,null,E),m.child.memoizedState=i_(E),m.memoizedState=r_,$);if(!(m.mode&1))m=s_(f,m,E,null);else if(or(ye))m=s_(f,m,E,Error(o(419)));else if(R=(E&f.childLanes)!==0,Gs||R){if(R=yr,R!==null){switch(E&-E){case 4:$=2;break;case 16:$=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$=32;break;case 536870912:$=268435456;break;default:$=0}R=$&(R.suspendedLanes|E)?0:$,R!==0&&R!==O.retryLane&&(O.retryLane=R,To(f,R,-1))}$R(),m=s_(f,m,E,Error(o(421)))}else on(ye)?(m.flags|=128,m.child=f.child,m=Tre.bind(null,f),ie(ye,m),m=null):(E=O.treeContext,fe&&(Vs=Ue(ye),js=m,Hn=!0,ha=null,C0=!1,E!==null&&(Eo[Mo++]=Il,Eo[Mo++]=Ol,Eo[Mo++]=Qd,Il=E.id,Ol=E.overflow,Qd=m)),m=wR(m,m.pendingProps.children),m.flags|=4096);return m}return $?(R=e$(f,m,R.children,R.fallback,E),$=m.child,O=f.child.memoizedState,$.memoizedState=O===null?i_(E):{baseLanes:O.baseLanes|E,cachePool:null},$.childLanes=f.childLanes&~E,m.memoizedState=r_,R):(E=J6(f,m,R.children,E),m.memoizedState=null,E)}return $?(R=e$(f,m,R.children,R.fallback,E),$=m.child,O=f.child.memoizedState,$.memoizedState=O===null?i_(E):{baseLanes:O.baseLanes|E,cachePool:null},$.childLanes=f.childLanes&~E,m.memoizedState=r_,R):(E=J6(f,m,R.children,E),m.memoizedState=null,E)}function wR(f,m){return m=E_({mode:"visible",children:m},f.mode,0,null),m.return=f,f.child=m}function J6(f,m,E,R){var O=f.child;return f=O.sibling,E=ru(O,{mode:"visible",children:E}),!(m.mode&1)&&(E.lanes=R),E.return=m,E.sibling=null,f!==null&&(R=m.deletions,R===null?(m.deletions=[f],m.flags|=16):R.push(f)),m.child=E}function e$(f,m,E,R,O){var $=m.mode;f=f.child;var ae=f.sibling,ye={mode:"hidden",children:E};return!($&1)&&m.child!==f?(E=m.child,E.childLanes=0,E.pendingProps=ye,m.deletions=null):(E=ru(f,ye),E.subtreeFlags=f.subtreeFlags&14680064),ae!==null?R=ru(ae,R):(R=sh(R,$,O,null),R.flags|=2),R.return=m,E.return=m,E.sibling=R,m.child=E,R}function s_(f,m,E,R){return R!==null&&sR(R),Hp(m,f.child,null,E),f=wR(m,m.pendingProps.children),f.flags|=2,m.memoizedState=null,f}function t$(f,m,E){f.lanes|=m;var R=f.alternate;R!==null&&(R.lanes|=m),QP(f.return,m,E)}function bR(f,m,E,R,O){var $=f.memoizedState;$===null?f.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:R,tail:E,tailMode:O}:($.isBackwards=m,$.rendering=null,$.renderingStartTime=0,$.last=R,$.tail=E,$.tailMode=O)}function n$(f,m,E){var R=m.pendingProps,O=R.revealOrder,$=R.tail;if(Qi(f,m,R.children,E),R=Xn.current,R&2)R=R&1|2,m.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=m.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&t$(f,E,m);else if(f.tag===19)t$(f,E,m);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===m)break e;for(;f.sibling===null;){if(f.return===null||f.return===m)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}R&=1}if(Qt(Xn,R),!(m.mode&1))m.memoizedState=null;else switch(O){case"forwards":for(E=m.child,O=null;E!==null;)f=E.alternate,f!==null&&qb(f)===null&&(O=E),E=E.sibling;E=O,E===null?(O=m.child,m.child=null):(O=E.sibling,E.sibling=null),bR(m,!1,O,E,$);break;case"backwards":for(E=null,O=m.child,m.child=null;O!==null;){if(f=O.alternate,f!==null&&qb(f)===null){m.child=O;break}f=O.sibling,O.sibling=E,E=O,O=f}bR(m,!0,E,null,$);break;case"together":bR(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Nl(f,m,E){if(f!==null&&(m.dependencies=f.dependencies),Xp|=m.lanes,!(E&m.childLanes))return null;if(f!==null&&m.child!==f.child)throw Error(o(153));if(m.child!==null){for(f=m.child,E=ru(f,f.pendingProps),m.child=E,E.return=m;f.sibling!==null;)f=f.sibling,E=E.sibling=ru(f,f.pendingProps),E.return=m;E.sibling=null}return m.child}function gre(f,m,E){switch(m.tag){case 3:K6(m),Wp();break;case 5:y6(m);break;case 1:Bn(m.type)&&Wa(m);break;case 4:oR(m,m.stateNode.containerInfo);break;case 10:r6(m,m.type._context,m.memoizedProps.value);break;case 13:var R=m.memoizedState;if(R!==null)return R.dehydrated!==null?(Qt(Xn,Xn.current&1),m.flags|=128,null):E&m.child.childLanes?Z6(f,m,E):(Qt(Xn,Xn.current&1),f=Nl(f,m,E),f!==null?f.sibling:null);Qt(Xn,Xn.current&1);break;case 19:if(R=(E&m.childLanes)!==0,f.flags&128){if(R)return n$(f,m,E);m.flags|=128}var O=m.memoizedState;if(O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),Qt(Xn,Xn.current),R)break;return null;case 22:case 23:return m.lanes=0,q6(f,m,E)}return Nl(f,m,E)}function vre(f,m){switch(nR(m),m.tag){case 1:return Bn(m.type)&&Gc(),f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 3:return Vp(),Ct(gn),Ct(Gt),cR(),f=m.flags,f&65536&&!(f&128)?(m.flags=f&-65537|128,m):null;case 5:return aR(m),null;case 13:if(Ct(Xn),f=m.memoizedState,f!==null&&f.dehydrated!==null){if(m.alternate===null)throw Error(o(340));Wp()}return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 19:return Ct(Xn),null;case 4:return Vp(),null;case 10:return KP(m.type._context),null;case 22:case 23:return BR(),null;case 24:return null;default:return null}}var o_=!1,eh=!1,yre=typeof WeakSet=="function"?WeakSet:Set,st=null;function a_(f,m){var E=f.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(R){vs(f,m,R)}else E.current=null}function _R(f,m,E){try{E()}catch(R){vs(f,m,R)}}var r$=!1;function xre(f,m){for(z(f.containerInfo),st=m;st!==null;)if(f=st,m=f.child,(f.subtreeFlags&1028)!==0&&m!==null)m.return=f,st=m;else for(;st!==null;){f=st;try{var E=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var R=E.memoizedProps,O=E.memoizedState,$=f.stateNode,ae=$.getSnapshotBeforeUpdate(f.elementType===f.type?R:da(f.type,R),O);$.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:De&&et(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ye){vs(f,f.return,ye)}if(m=f.sibling,m!==null){m.return=f.return,st=m;break}st=f.return}return E=r$,r$=!1,E}function th(f,m,E){var R=m.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var O=R=R.next;do{if((O.tag&f)===f){var $=O.destroy;O.destroy=void 0,$!==void 0&&_R(m,E,$)}O=O.next}while(O!==R)}}function z0(f,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var E=m=m.next;do{if((E.tag&f)===f){var R=E.create;E.destroy=R()}E=E.next}while(E!==m)}}function SR(f){var m=f.ref;if(m!==null){var E=f.stateNode;switch(f.tag){case 5:f=q(E);break;default:f=E}typeof m=="function"?m(f):m.current=f}}function i$(f,m,E){if(Hs&&typeof Hs.onCommitFiberUnmount=="function")try{Hs.onCommitFiberUnmount(Kc,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(f=m.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var R=f=f.next;do{var O=R,$=O.destroy;O=O.tag,$!==void 0&&(O&2||O&4)&&_R(m,E,$),R=R.next}while(R!==f)}break;case 1:if(a_(m,E),f=m.stateNode,typeof f.componentWillUnmount=="function")try{f.props=m.memoizedProps,f.state=m.memoizedState,f.componentWillUnmount()}catch(ae){vs(m,E,ae)}break;case 5:a_(m,E);break;case 4:De?u$(f,m,E):pe&&pe&&(m=m.stateNode.containerInfo,E=mt(m),hn(m,E))}}function s$(f,m,E){for(var R=m;;)if(i$(f,R,E),R.child===null||De&&R.tag===4){if(R===m)break;for(;R.sibling===null;){if(R.return===null||R.return===m)return;R=R.return}R.sibling.return=R.return,R=R.sibling}else R.child.return=R,R=R.child}function o$(f){var m=f.alternate;m!==null&&(f.alternate=null,o$(m)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(m=f.stateNode,m!==null&&je(m)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function a$(f){return f.tag===5||f.tag===3||f.tag===4}function l$(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||a$(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function c$(f){if(De){e:{for(var m=f.return;m!==null;){if(a$(m))break e;m=m.return}throw Error(o(160))}var E=m;switch(E.tag){case 5:m=E.stateNode,E.flags&32&&(Le(m),E.flags&=-33),E=l$(f),MR(f,E,m);break;case 3:case 4:m=E.stateNode.containerInfo,E=l$(f),ER(f,E,m);break;default:throw Error(o(161))}}}function ER(f,m,E){var R=f.tag;if(R===5||R===6)f=f.stateNode,m?se(E,f,m):Ge(E,f);else if(R!==4&&(f=f.child,f!==null))for(ER(f,m,E),f=f.sibling;f!==null;)ER(f,m,E),f=f.sibling}function MR(f,m,E){var R=f.tag;if(R===5||R===6)f=f.stateNode,m?ne(E,f,m):Je(E,f);else if(R!==4&&(f=f.child,f!==null))for(MR(f,m,E),f=f.sibling;f!==null;)MR(f,m,E),f=f.sibling}function u$(f,m,E){for(var R=m,O=!1,$,ae;;){if(!O){O=R.return;e:for(;;){if(O===null)throw Error(o(160));switch($=O.stateNode,O.tag){case 5:ae=!1;break e;case 3:$=$.containerInfo,ae=!0;break e;case 4:$=$.containerInfo,ae=!0;break e}O=O.return}O=!0}if(R.tag===5||R.tag===6)s$(f,R,E),ae?le($,R.stateNode):K($,R.stateNode);else if(R.tag===18)ae?wn($,R.stateNode):Ft($,R.stateNode);else if(R.tag===4){if(R.child!==null){$=R.stateNode.containerInfo,ae=!0,R.child.return=R,R=R.child;continue}}else if(i$(f,R,E),R.child!==null){R.child.return=R,R=R.child;continue}if(R===m)break;for(;R.sibling===null;){if(R.return===null||R.return===m)return;R=R.return,R.tag===4&&(O=!1)}R.sibling.return=R.return,R=R.sibling}}function CR(f,m){if(De){switch(m.tag){case 0:case 11:case 14:case 15:th(3,m,m.return),z0(3,m),th(5,m,m.return);return;case 1:return;case 5:var E=m.stateNode;if(E!=null){var R=m.memoizedProps;f=f!==null?f.memoizedProps:R;var O=m.type,$=m.updateQueue;m.updateQueue=null,$!==null&&U(E,$,O,f,R,m)}return;case 6:if(m.stateNode===null)throw Error(o(162));E=m.memoizedProps,T(m.stateNode,f!==null?f.memoizedProps:E,E);return;case 3:fe&&f!==null&&f.memoizedState.isDehydrated&&_t(m.stateNode.containerInfo);return;case 12:return;case 13:l_(m);return;case 19:l_(m);return;case 17:return}throw Error(o(163))}switch(m.tag){case 0:case 11:case 14:case 15:th(3,m,m.return),z0(3,m),th(5,m,m.return);return;case 12:return;case 13:l_(m);return;case 19:l_(m);return;case 3:fe&&f!==null&&f.memoizedState.isDehydrated&&_t(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(pe){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,hn(m.containerInfo,m.pendingChildren);break e}throw Error(o(163))}}function l_(f){var m=f.updateQueue;if(m!==null){f.updateQueue=null;var E=f.stateNode;E===null&&(E=f.stateNode=new yre),m.forEach(function(R){var O=Pre.bind(null,f,R);E.has(R)||(E.add(R),R.then(O,O))})}}function wre(f,m){for(st=m;st!==null;){m=st;var E=m.deletions;if(E!==null)for(var R=0;R<E.length;R++){var O=E[R];try{var $=f;De?u$($,O,m):s$($,O,m);var ae=O.alternate;ae!==null&&(ae.return=null),O.return=null}catch(xt){vs(O,m,xt)}}if(E=m.child,m.subtreeFlags&12854&&E!==null)E.return=m,st=E;else for(;st!==null;){m=st;try{var ye=m.flags;if(ye&32&&De&&Le(m.stateNode),ye&512){var Be=m.alternate;if(Be!==null){var Qe=Be.ref;Qe!==null&&(typeof Qe=="function"?Qe(null):Qe.current=null)}}if(ye&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var ht=m.alternate;(ht===null||ht.memoizedState===null)&&(IR=lt())}break;case 22:var zt=m.memoizedState!==null,Et=m.alternate,Rn=Et!==null&&Et.memoizedState!==null;if(E=m,De){e:if(R=E,O=zt,$=null,De)for(var wt=R;;){if(wt.tag===5){if($===null){$=wt;var Ti=wt.stateNode;O?Ke(Ti):Ee(wt.stateNode,wt.memoizedProps)}}else if(wt.tag===6){if($===null){var Ro=wt.stateNode;O?ue(Ro):Fe(Ro,wt.memoizedProps)}}else if((wt.tag!==22&&wt.tag!==23||wt.memoizedState===null||wt===R)&&wt.child!==null){wt.child.return=wt,wt=wt.child;continue}if(wt===R)break;for(;wt.sibling===null;){if(wt.return===null||wt.return===R)break e;$===wt&&($=null),wt=wt.return}$===wt&&($=null),wt.sibling.return=wt.return,wt=wt.sibling}}if(zt&&!Rn&&E.mode&1){st=E;for(var Re=E.child;Re!==null;){for(E=st=Re;st!==null;){R=st;var xe=R.child;switch(R.tag){case 0:case 11:case 14:case 15:th(4,R,R.return);break;case 1:a_(R,R.return);var Ie=R.stateNode;if(typeof Ie.componentWillUnmount=="function"){var ot=R.return;try{Ie.props=R.memoizedProps,Ie.state=R.memoizedState,Ie.componentWillUnmount()}catch(xt){vs(R,ot,xt)}}break;case 5:a_(R,R.return);break;case 22:if(R.memoizedState!==null){f$(E);continue}}xe!==null?(xe.return=R,st=xe):f$(E)}Re=Re.sibling}}}switch(ye&4102){case 2:c$(m),m.flags&=-3;break;case 6:c$(m),m.flags&=-3,CR(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,CR(m.alternate,m);break;case 4:CR(m.alternate,m)}}catch(xt){vs(m,m.return,xt)}if(E=m.sibling,E!==null){E.return=m.return,st=E;break}st=m.return}}}function bre(f,m,E){st=f,d$(f)}function d$(f,m,E){for(var R=(f.mode&1)!==0;st!==null;){var O=st,$=O.child;if(O.tag===22&&R){var ae=O.memoizedState!==null||o_;if(!ae){var ye=O.alternate,Be=ye!==null&&ye.memoizedState!==null||eh;ye=o_;var Qe=eh;if(o_=ae,(eh=Be)&&!Qe)for(st=O;st!==null;)ae=st,Be=ae.child,ae.tag===22&&ae.memoizedState!==null?p$(O):Be!==null?(Be.return=ae,st=Be):p$(O);for(;$!==null;)st=$,d$($),$=$.sibling;st=O,o_=ye,eh=Qe}h$(f)}else O.subtreeFlags&8772&&$!==null?($.return=O,st=$):h$(f)}}function h$(f){for(;st!==null;){var m=st;if(m.flags&8772){var E=m.alternate;try{if(m.flags&8772)switch(m.tag){case 0:case 11:case 15:eh||z0(5,m);break;case 1:var R=m.stateNode;if(m.flags&4&&!eh)if(E===null)R.componentDidMount();else{var O=m.elementType===m.type?E.memoizedProps:da(m.type,E.memoizedProps);R.componentDidUpdate(O,E.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var $=m.updateQueue;$!==null&&o6(m,$,R);break;case 3:var ae=m.updateQueue;if(ae!==null){if(E=null,m.child!==null)switch(m.child.tag){case 5:E=q(m.child.stateNode);break;case 1:E=m.child.stateNode}o6(m,ae,E)}break;case 5:var ye=m.stateNode;E===null&&m.flags&4&&N(ye,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(fe&&m.memoizedState===null){var Be=m.alternate;if(Be!==null){var Qe=Be.memoizedState;if(Qe!==null){var ht=Qe.dehydrated;ht!==null&&Ot(ht)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}eh||m.flags&512&&SR(m)}catch(zt){vs(m,m.return,zt)}}if(m===f){st=null;break}if(E=m.sibling,E!==null){E.return=m.return,st=E;break}st=m.return}}function f$(f){for(;st!==null;){var m=st;if(m===f){st=null;break}var E=m.sibling;if(E!==null){E.return=m.return,st=E;break}st=m.return}}function p$(f){for(;st!==null;){var m=st;try{switch(m.tag){case 0:case 11:case 15:var E=m.return;try{z0(4,m)}catch(Be){vs(m,E,Be)}break;case 1:var R=m.stateNode;if(typeof R.componentDidMount=="function"){var O=m.return;try{R.componentDidMount()}catch(Be){vs(m,O,Be)}}var $=m.return;try{SR(m)}catch(Be){vs(m,$,Be)}break;case 5:var ae=m.return;try{SR(m)}catch(Be){vs(m,ae,Be)}}}catch(Be){vs(m,m.return,Be)}if(m===f){st=null;break}var ye=m.sibling;if(ye!==null){ye.return=m.return,st=ye;break}st=m.return}}var c_=0,u_=1,d_=2,h_=3,f_=4;if(typeof Symbol=="function"&&Symbol.for){var B0=Symbol.for;c_=B0("selector.component"),u_=B0("selector.has_pseudo_class"),d_=B0("selector.role"),h_=B0("selector.test_id"),f_=B0("selector.text")}function AR(f){var m=Ae(f);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(o(364));return m}if(f=Xe(f),f===null)throw Error(o(362));return f.stateNode.current}function TR(f,m){switch(m.$$typeof){case c_:if(f.type===m.value)return!0;break;case u_:e:{m=m.value,f=[f,0];for(var E=0;E<f.length;){var R=f[E++],O=f[E++],$=m[O];if(R.tag!==5||!ve(R)){for(;$!=null&&TR(R,$);)O++,$=m[O];if(O===m.length){m=!0;break e}else for(R=R.child;R!==null;)f.push(R,O),R=R.sibling}}m=!1}return m;case d_:if(f.tag===5&&Ce(f.stateNode,m.value))return!0;break;case f_:if((f.tag===5||f.tag===6)&&(f=X(f),f!==null&&0<=f.indexOf(m.value)))return!0;break;case h_:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function PR(f){switch(f.$$typeof){case c_:return"<"+(P(f.value)||"Unknown")+">";case u_:return":has("+(PR(f)||"")+")";case d_:return'[role="'+f.value+'"]';case f_:return'"'+f.value+'"';case h_:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function m$(f,m){var E=[];f=[f,0];for(var R=0;R<f.length;){var O=f[R++],$=f[R++],ae=m[$];if(O.tag!==5||!ve(O)){for(;ae!=null&&TR(O,ae);)$++,ae=m[$];if($===m.length)E.push(O);else for(O=O.child;O!==null;)f.push(O,$),O=O.sibling}}return E}function RR(f,m){if(!Ze)throw Error(o(363));f=AR(f),f=m$(f,m),m=[],f=Array.from(f);for(var E=0;E<f.length;){var R=f[E++];if(R.tag===5)ve(R)||m.push(R.stateNode);else for(R=R.child;R!==null;)f.push(R),R=R.sibling}return m}var _re=Math.ceil,p_=a.ReactCurrentDispatcher,LR=a.ReactCurrentOwner,ar=a.ReactCurrentBatchConfig,Zt=0,yr=null,xr=null,ci=0,qs=0,qp=Lr(0),kr=0,$0=null,Xp=0,m_=0,kR=0,U0=null,ms=null,IR=0,OR=1/0;function Yp(){OR=lt()+500}var g_=!1,DR=null,Jc=null,v_=!1,eu=null,y_=0,W0=0,NR=null,x_=-1,w_=0;function Zi(){return Zt&6?lt():x_!==-1?x_:x_=lt()}function tu(f){return f.mode&1?Zt&2&&ci!==0?ci&-ci:ire.transition!==null?(w_===0&&(f=qc,qc<<=1,!(qc&4194240)&&(qc=64),w_=f),w_):(f=qt,f!==0?f:ge()):1}function To(f,m,E){if(50<W0)throw W0=0,NR=null,Error(o(185));var R=b_(f,m);return R===null?null:(_o(R,m,E),(!(Zt&2)||R!==yr)&&(R===yr&&(!(Zt&2)&&(m_|=m),kr===4&&nu(R,ci)),gs(R,E),m===1&&Zt===0&&!(f.mode&1)&&(Yp(),Fb&&ja())),R)}function b_(f,m){f.lanes|=m;var E=f.alternate;for(E!==null&&(E.lanes|=m),E=f,f=f.return;f!==null;)f.childLanes|=m,E=f.alternate,E!==null&&(E.childLanes|=m),E=f,f=f.return;return E.tag===3?E.stateNode:null}function gs(f,m){var E=f.callbackNode;bo(f,m);var R=Xc(f,f===yr?ci:0);if(R===0)E!==null&&Dp(E),f.callbackNode=null,f.callbackPriority=0;else if(m=R&-R,f.callbackPriority!==m){if(E!=null&&Dp(E),m===1)f.tag===0?rre(v$.bind(null,f)):n6(v$.bind(null,f)),We?qe(function(){Zt===0&&ja()}):Yc(Mn,ja),E=null;else{switch(Kd(R)){case 1:E=Mn;break;case 4:E=qn;break;case 16:E=Nn;break;case 536870912:E=Np;break;default:E=Nn}E=C$(E,g$.bind(null,f))}f.callbackPriority=m,f.callbackNode=E}}function g$(f,m){if(x_=-1,w_=0,Zt&6)throw Error(o(327));var E=f.callbackNode;if(ih()&&f.callbackNode!==E)return null;var R=Xc(f,f===yr?ci:0);if(R===0)return null;if(R&30||R&f.expiredLanes||m)m=__(f,R);else{m=R;var O=Zt;Zt|=2;var $=w$();(yr!==f||ci!==m)&&(Yp(),nh(f,m));do try{Mre();break}catch(ye){x$(f,ye)}while(!0);YP(),p_.current=$,Zt=O,xr!==null?m=0:(yr=null,ci=0,m=kr)}if(m!==0){if(m===2&&(O=Xd(f),O!==0&&(R=O,m=FR(f,O))),m===1)throw E=$0,nh(f,0),nu(f,R),gs(f,lt()),E;if(m===6)nu(f,R);else{if(O=f.current.alternate,!(R&30)&&!Sre(O)&&(m=__(f,R),m===2&&($=Xd(f),$!==0&&(R=$,m=FR(f,$))),m===1))throw E=$0,nh(f,0),nu(f,R),gs(f,lt()),E;switch(f.finishedWork=O,f.finishedLanes=R,m){case 0:case 1:throw Error(o(345));case 2:rh(f,ms);break;case 3:if(nu(f,R),(R&130023424)===R&&(m=IR+500-lt(),10<m)){if(Xc(f,0)!==0)break;if(O=f.suspendedLanes,(O&R)!==R){Zi(),f.pingedLanes|=f.suspendedLanes&O;break}f.timeoutHandle=be(rh.bind(null,f,ms),m);break}rh(f,ms);break;case 4:if(nu(f,R),(R&4194240)===R)break;for(m=f.eventTimes,O=-1;0<R;){var ae=31-Ki(R);$=1<<ae,ae=m[ae],ae>O&&(O=ae),R&=~$}if(R=O,R=lt()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*_re(R/1960))-R,10<R){f.timeoutHandle=be(rh.bind(null,f,ms),R);break}rh(f,ms);break;case 5:rh(f,ms);break;default:throw Error(o(329))}}}return gs(f,lt()),f.callbackNode===E?g$.bind(null,f):null}function FR(f,m){var E=U0;return f.current.memoizedState.isDehydrated&&(nh(f,m).flags|=256),f=__(f,m),f!==2&&(m=ms,ms=E,m!==null&&zR(m)),f}function zR(f){ms===null?ms=f:ms.push.apply(ms,f)}function Sre(f){for(var m=f;;){if(m.flags&16384){var E=m.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var R=0;R<E.length;R++){var O=E[R],$=O.getSnapshot;O=O.value;try{if(!Ha($(),O))return!1}catch{return!1}}}if(E=m.child,m.subtreeFlags&16384&&E!==null)E.return=m,m=E;else{if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function nu(f,m){for(m&=~kR,m&=~m_,f.suspendedLanes|=m,f.pingedLanes&=~m,f=f.expirationTimes;0<m;){var E=31-Ki(m),R=1<<E;f[E]=-1,m&=~R}}function v$(f){if(Zt&6)throw Error(o(327));ih();var m=Xc(f,0);if(!(m&1))return gs(f,lt()),null;var E=__(f,m);if(f.tag!==0&&E===2){var R=Xd(f);R!==0&&(m=R,E=FR(f,R))}if(E===1)throw E=$0,nh(f,0),nu(f,m),gs(f,lt()),E;if(E===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=m,rh(f,ms),gs(f,lt()),null}function y$(f){eu!==null&&eu.tag===0&&!(Zt&6)&&ih();var m=Zt;Zt|=1;var E=ar.transition,R=qt;try{if(ar.transition=null,qt=1,f)return f()}finally{qt=R,ar.transition=E,Zt=m,!(Zt&6)&&ja()}}function BR(){qs=qp.current,Ct(qp)}function nh(f,m){f.finishedWork=null,f.finishedLanes=0;var E=f.timeoutHandle;if(E!==Te&&(f.timeoutHandle=Te,Oe(E)),xr!==null)for(E=xr.return;E!==null;){var R=E;switch(nR(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&Gc();break;case 3:Vp(),Ct(gn),Ct(Gt),cR();break;case 5:aR(R);break;case 4:Vp();break;case 13:Ct(Xn);break;case 19:Ct(Xn);break;case 10:KP(R.type._context);break;case 22:case 23:BR()}E=E.return}if(yr=f,xr=f=ru(f.current,null),ci=qs=m,kr=0,$0=null,kR=m_=Xp=0,ms=U0=null,Va!==null){for(m=0;m<Va.length;m++)if(E=Va[m],R=E.interleaved,R!==null){E.interleaved=null;var O=R.next,$=E.pending;if($!==null){var ae=$.next;$.next=O,R.next=ae}E.pending=R}Va=null}return f}function x$(f,m){do{var E=xr;try{if(YP(),Xb.current=e_,Yb){for(var R=nr.memoizedState;R!==null;){var O=R.queue;O!==null&&(O.pending=null),R=R.next}Yb=!1}if(Gp=0,Gr=Mi=nr=null,L0=!1,k0=0,LR.current=null,E===null||E.return===null){kr=1,$0=m,xr=null;break}e:{var $=f,ae=E.return,ye=E,Be=m;if(m=ci,ye.flags|=32768,Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var Qe=Be,ht=ye,zt=ht.tag;if(!(ht.mode&1)&&(zt===0||zt===11||zt===15)){var Et=ht.alternate;Et?(ht.updateQueue=Et.updateQueue,ht.memoizedState=Et.memoizedState,ht.lanes=Et.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var Rn=$6(ae);if(Rn!==null){Rn.flags&=-257,U6(Rn,ae,ye,$,m),Rn.mode&1&&B6($,Qe,m),m=Rn,Be=Qe;var wt=m.updateQueue;if(wt===null){var Ti=new Set;Ti.add(Be),m.updateQueue=Ti}else wt.add(Be);break e}else{if(!(m&1)){B6($,Qe,m),$R();break e}Be=Error(o(426))}}else if(Hn&&ye.mode&1){var Ro=$6(ae);if(Ro!==null){!(Ro.flags&65536)&&(Ro.flags|=256),U6(Ro,ae,ye,$,m),sR(Be);break e}}$=Be,kr!==4&&(kr=2),U0===null?U0=[$]:U0.push($),Be=gR(Be,ye),ye=ae;do{switch(ye.tag){case 3:ye.flags|=65536,m&=-m,ye.lanes|=m;var Re=F6(ye,Be,m);s6(ye,Re);break e;case 1:$=Be;var xe=ye.type,Ie=ye.stateNode;if(!(ye.flags&128)&&(typeof xe.getDerivedStateFromError=="function"||Ie!==null&&typeof Ie.componentDidCatch=="function"&&(Jc===null||!Jc.has(Ie)))){ye.flags|=65536,m&=-m,ye.lanes|=m;var ot=z6(ye,$,m);s6(ye,ot);break e}}ye=ye.return}while(ye!==null)}_$(E)}catch(xt){m=xt,xr===E&&E!==null&&(xr=E=E.return);continue}break}while(!0)}function w$(){var f=p_.current;return p_.current=e_,f===null?e_:f}function $R(){(kr===0||kr===3||kr===2)&&(kr=4),yr===null||!(Xp&268435455)&&!(m_&268435455)||nu(yr,ci)}function __(f,m){var E=Zt;Zt|=2;var R=w$();yr===f&&ci===m||nh(f,m);do try{Ere();break}catch(O){x$(f,O)}while(!0);if(YP(),Zt=E,p_.current=R,xr!==null)throw Error(o(261));return yr=null,ci=0,kr}function Ere(){for(;xr!==null;)b$(xr)}function Mre(){for(;xr!==null&&!M0();)b$(xr)}function b$(f){var m=M$(f.alternate,f,qs);f.memoizedProps=f.pendingProps,m===null?_$(f):xr=m,LR.current=null}function _$(f){var m=f;do{var E=m.alternate;if(f=m.return,m.flags&32768){if(E=vre(E,m),E!==null){E.flags&=32767,xr=E;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{kr=6,xr=null;return}}else if(E=pre(E,m,qs),E!==null){xr=E;return}if(m=m.sibling,m!==null){xr=m;return}xr=m=f}while(m!==null);kr===0&&(kr=5)}function rh(f,m){var E=qt,R=ar.transition;try{ar.transition=null,qt=1,Cre(f,m,E)}finally{ar.transition=R,qt=E}return null}function Cre(f,m,E){do ih();while(eu!==null);if(Zt&6)throw Error(o(327));var R=f.finishedWork,O=f.finishedLanes;if(R===null)return null;if(f.finishedWork=null,f.finishedLanes=0,R===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var $=R.lanes|R.childLanes;if(Yd(f,$),f===yr&&(xr=yr=null,ci=0),!(R.subtreeFlags&2064)&&!(R.flags&2064)||v_||(v_=!0,C$(Nn,function(){return ih(),null})),$=(R.flags&15990)!==0,R.subtreeFlags&15990||$){$=ar.transition,ar.transition=null;var ae=qt;qt=1;var ye=Zt;Zt|=4,LR.current=null,xre(f,R),wre(f,R),B(f.containerInfo),f.current=R,bre(R),ut(),Zt=ye,qt=ae,ar.transition=$}else f.current=R;if(v_&&(v_=!1,eu=f,y_=O),$=f.pendingLanes,$===0&&(Jc=null),Fp(R.stateNode),gs(f,lt()),m!==null)for(E=f.onRecoverableError,R=0;R<m.length;R++)E(m[R]);if(g_)throw g_=!1,f=DR,DR=null,f;return y_&1&&f.tag!==0&&ih(),$=f.pendingLanes,$&1?f===NR?W0++:(W0=0,NR=f):W0=0,ja(),null}function ih(){if(eu!==null){var f=Kd(y_),m=ar.transition,E=qt;try{if(ar.transition=null,qt=16>f?16:f,eu===null)var R=!1;else{if(f=eu,eu=null,y_=0,Zt&6)throw Error(o(331));var O=Zt;for(Zt|=4,st=f.current;st!==null;){var $=st,ae=$.child;if(st.flags&16){var ye=$.deletions;if(ye!==null){for(var Be=0;Be<ye.length;Be++){var Qe=ye[Be];for(st=Qe;st!==null;){var ht=st;switch(ht.tag){case 0:case 11:case 15:th(8,ht,$)}var zt=ht.child;if(zt!==null)zt.return=ht,st=zt;else for(;st!==null;){ht=st;var Et=ht.sibling,Rn=ht.return;if(o$(ht),ht===Qe){st=null;break}if(Et!==null){Et.return=Rn,st=Et;break}st=Rn}}}var wt=$.alternate;if(wt!==null){var Ti=wt.child;if(Ti!==null){wt.child=null;do{var Ro=Ti.sibling;Ti.sibling=null,Ti=Ro}while(Ti!==null)}}st=$}}if($.subtreeFlags&2064&&ae!==null)ae.return=$,st=ae;else e:for(;st!==null;){if($=st,$.flags&2048)switch($.tag){case 0:case 11:case 15:th(9,$,$.return)}var Re=$.sibling;if(Re!==null){Re.return=$.return,st=Re;break e}st=$.return}}var xe=f.current;for(st=xe;st!==null;){ae=st;var Ie=ae.child;if(ae.subtreeFlags&2064&&Ie!==null)Ie.return=ae,st=Ie;else e:for(ae=xe;st!==null;){if(ye=st,ye.flags&2048)try{switch(ye.tag){case 0:case 11:case 15:z0(9,ye)}}catch(xt){vs(ye,ye.return,xt)}if(ye===ae){st=null;break e}var ot=ye.sibling;if(ot!==null){ot.return=ye.return,st=ot;break e}st=ye.return}}if(Zt=O,ja(),Hs&&typeof Hs.onPostCommitFiberRoot=="function")try{Hs.onPostCommitFiberRoot(Kc,f)}catch{}R=!0}return R}finally{qt=E,ar.transition=m}}return!1}function S$(f,m,E){m=gR(E,m),m=F6(f,m,1),Zc(f,m),m=Zi(),f=b_(f,1),f!==null&&(_o(f,1,m),gs(f,m))}function vs(f,m,E){if(f.tag===3)S$(f,f,E);else for(;m!==null;){if(m.tag===3){S$(m,f,E);break}else if(m.tag===1){var R=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Jc===null||!Jc.has(R))){f=gR(E,f),f=z6(m,f,1),Zc(m,f),f=Zi(),m=b_(m,1),m!==null&&(_o(m,1,f),gs(m,f));break}}m=m.return}}function Are(f,m,E){var R=f.pingCache;R!==null&&R.delete(m),m=Zi(),f.pingedLanes|=f.suspendedLanes&E,yr===f&&(ci&E)===E&&(kr===4||kr===3&&(ci&130023424)===ci&&500>lt()-IR?nh(f,0):kR|=E),gs(f,m)}function E$(f,m){m===0&&(f.mode&1?(m=Pl,Pl<<=1,!(Pl&130023424)&&(Pl=4194304)):m=1);var E=Zi();f=b_(f,m),f!==null&&(_o(f,m,E),gs(f,E))}function Tre(f){var m=f.memoizedState,E=0;m!==null&&(E=m.retryLane),E$(f,E)}function Pre(f,m){var E=0;switch(f.tag){case 13:var R=f.stateNode,O=f.memoizedState;O!==null&&(E=O.retryLane);break;case 19:R=f.stateNode;break;default:throw Error(o(314))}R!==null&&R.delete(m),E$(f,E)}var M$;M$=function(f,m,E){if(f!==null)if(f.memoizedProps!==m.pendingProps||gn.current)Gs=!0;else{if(!(f.lanes&E)&&!(m.flags&128))return Gs=!1,gre(f,m,E);Gs=!!(f.flags&131072)}else Gs=!1,Hn&&m.flags&1048576&&d6(m,Vb,m.index);switch(m.lanes=0,m.tag){case 2:var R=m.type;f!==null&&(f.alternate=null,m.alternate=null,m.flags|=2),f=m.pendingProps;var O=Si(m,Gt.current);Bp(m,E),O=dR(null,m,R,f,O,E);var $=hR();return m.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Bn(R)?($=!0,Wa(m)):$=!1,m.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,ZP(m),O.updater=Hb,m.stateNode=O,O._reactInternals=m,eR(m,R,f,E),m=xR(null,m,R,!0,$,E)):(m.tag=0,Hn&&$&&tR(m),Qi(null,m,O,E),m=m.child),m;case 16:R=m.elementType;e:{switch(f!==null&&(f.alternate=null,m.alternate=null,m.flags|=2),f=m.pendingProps,O=R._init,R=O(R._payload),m.type=R,O=m.tag=Lre(R),f=da(R,f),O){case 0:m=yR(null,m,R,f,E);break e;case 1:m=Y6(null,m,R,f,E);break e;case 11:m=j6(null,m,R,f,E);break e;case 14:m=V6(null,m,R,da(R.type,f),E);break e}throw Error(o(306,R,""))}return m;case 0:return R=m.type,O=m.pendingProps,O=m.elementType===R?O:da(R,O),yR(f,m,R,O,E);case 1:return R=m.type,O=m.pendingProps,O=m.elementType===R?O:da(R,O),Y6(f,m,R,O,E);case 3:e:{if(K6(m),f===null)throw Error(o(387));R=m.pendingProps,$=m.memoizedState,O=$.element,i6(f,m),Wb(m,R,null,E);var ae=m.memoizedState;if(R=ae.element,fe&&$.isDehydrated)if($={element:R,isDehydrated:!1,cache:ae.cache,transitions:ae.transitions},m.updateQueue.baseState=$,m.memoizedState=$,m.flags&256){O=Error(o(423)),m=Q6(f,m,R,E,O);break e}else if(R!==O){O=Error(o(424)),m=Q6(f,m,R,E,O);break e}else for(fe&&(Vs=Me(m.stateNode.containerInfo),js=m,Hn=!0,ha=null,C0=!1),E=v6(m,null,R,E),m.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(Wp(),R===O){m=Nl(f,m,E);break e}Qi(f,m,R,E)}m=m.child}return m;case 5:return y6(m),f===null&&iR(m),R=m.type,O=m.pendingProps,$=f!==null?f.memoizedProps:null,ae=O.children,me(R,O)?ae=null:$!==null&&me(R,$)&&(m.flags|=32),X6(f,m),Qi(f,m,ae,E),m.child;case 6:return f===null&&iR(m),null;case 13:return Z6(f,m,E);case 4:return oR(m,m.stateNode.containerInfo),R=m.pendingProps,f===null?m.child=Hp(m,null,R,E):Qi(f,m,R,E),m.child;case 11:return R=m.type,O=m.pendingProps,O=m.elementType===R?O:da(R,O),j6(f,m,R,O,E);case 7:return Qi(f,m,m.pendingProps,E),m.child;case 8:return Qi(f,m,m.pendingProps.children,E),m.child;case 12:return Qi(f,m,m.pendingProps.children,E),m.child;case 10:e:{if(R=m.type._context,O=m.pendingProps,$=m.memoizedProps,ae=O.value,r6(m,R,ae),$!==null)if(Ha($.value,ae)){if($.children===O.children&&!gn.current){m=Nl(f,m,E);break e}}else for($=m.child,$!==null&&($.return=m);$!==null;){var ye=$.dependencies;if(ye!==null){ae=$.child;for(var Be=ye.firstContext;Be!==null;){if(Be.context===R){if($.tag===1){Be=kl(-1,E&-E),Be.tag=2;var Qe=$.updateQueue;if(Qe!==null){Qe=Qe.shared;var ht=Qe.pending;ht===null?Be.next=Be:(Be.next=ht.next,ht.next=Be),Qe.pending=Be}}$.lanes|=E,Be=$.alternate,Be!==null&&(Be.lanes|=E),QP($.return,E,m),ye.lanes|=E;break}Be=Be.next}}else if($.tag===10)ae=$.type===m.type?null:$.child;else if($.tag===18){if(ae=$.return,ae===null)throw Error(o(341));ae.lanes|=E,ye=ae.alternate,ye!==null&&(ye.lanes|=E),QP(ae,E,m),ae=$.sibling}else ae=$.child;if(ae!==null)ae.return=$;else for(ae=$;ae!==null;){if(ae===m){ae=null;break}if($=ae.sibling,$!==null){$.return=ae.return,ae=$;break}ae=ae.return}$=ae}Qi(f,m,O.children,E),m=m.child}return m;case 9:return O=m.type,R=m.pendingProps.children,Bp(m,E),O=So(O),R=R(O),m.flags|=1,Qi(f,m,R,E),m.child;case 14:return R=m.type,O=da(R,m.pendingProps),O=da(R.type,O),V6(f,m,R,O,E);case 15:return G6(f,m,m.type,m.pendingProps,E);case 17:return R=m.type,O=m.pendingProps,O=m.elementType===R?O:da(R,O),f!==null&&(f.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,Bn(R)?(f=!0,Wa(m)):f=!1,Bp(m,E),c6(m,R,O),eR(m,R,O,E),xR(null,m,R,!0,f,E);case 19:return n$(f,m,E);case 22:return q6(f,m,E)}throw Error(o(156,m.tag))};function C$(f,m){return Yc(f,m)}function Rre(f,m,E,R){this.tag=f,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Po(f,m,E,R){return new Rre(f,m,E,R)}function UR(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Lre(f){if(typeof f=="function")return UR(f)?1:0;if(f!=null){if(f=f.$$typeof,f===v)return 11;if(f===w)return 14}return 2}function ru(f,m){var E=f.alternate;return E===null?(E=Po(f.tag,m,f.key,f.mode),E.elementType=f.elementType,E.type=f.type,E.stateNode=f.stateNode,E.alternate=f,f.alternate=E):(E.pendingProps=m,E.type=f.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=f.flags&14680064,E.childLanes=f.childLanes,E.lanes=f.lanes,E.child=f.child,E.memoizedProps=f.memoizedProps,E.memoizedState=f.memoizedState,E.updateQueue=f.updateQueue,m=f.dependencies,E.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},E.sibling=f.sibling,E.index=f.index,E.ref=f.ref,E}function S_(f,m,E,R,O,$){var ae=2;if(R=f,typeof f=="function")UR(f)&&(ae=1);else if(typeof f=="string")ae=5;else e:switch(f){case u:return sh(E.children,O,$,m);case d:ae=8,O|=8;break;case h:return f=Po(12,E,m,O|2),f.elementType=h,f.lanes=$,f;case y:return f=Po(13,E,m,O),f.elementType=y,f.lanes=$,f;case x:return f=Po(19,E,m,O),f.elementType=x,f.lanes=$,f;case _:return E_(E,O,$,m);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case p:ae=10;break e;case g:ae=9;break e;case v:ae=11;break e;case w:ae=14;break e;case b:ae=16,R=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return m=Po(ae,E,m,O),m.elementType=f,m.type=R,m.lanes=$,m}function sh(f,m,E,R){return f=Po(7,f,R,m),f.lanes=E,f}function E_(f,m,E,R){return f=Po(22,f,R,m),f.elementType=_,f.lanes=E,f.stateNode={},f}function WR(f,m,E){return f=Po(6,f,null,m),f.lanes=E,f}function HR(f,m,E){return m=Po(4,f.children!==null?f.children:[],f.key,m),m.lanes=E,m.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},m}function kre(f,m,E,R,O){this.tag=m,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Te,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ei(0),this.expirationTimes=Ei(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.identifierPrefix=R,this.onRecoverableError=O,fe&&(this.mutableSourceEagerHydrationData=null)}function A$(f,m,E,R,O,$,ae,ye,Be){return f=new kre(f,m,E,ye,Be),m===1?(m=1,$===!0&&(m|=8)):m=0,$=Po(3,null,null,m),f.current=$,$.stateNode=f,$.memoizedState={element:R,isDehydrated:E,cache:null,transitions:null},ZP($),f}function T$(f){if(!f)return li;f=f._reactInternals;e:{if(L(f)!==f||f.tag!==1)throw Error(o(170));var m=f;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Bn(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(o(171))}if(f.tag===1){var E=f.type;if(Bn(E))return kp(f,E,m)}return m}function P$(f){var m=f._reactInternals;if(m===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=V(m),f===null?null:f.stateNode}function R$(f,m){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var E=f.retryLane;f.retryLane=E!==0&&E<m?E:m}}function jR(f,m){R$(f,m),(f=f.alternate)&&R$(f,m)}function Ire(f){return f=V(f),f===null?null:f.stateNode}function Ore(){return null}return t.attemptContinuousHydration=function(f){if(f.tag===13){var m=Zi();To(f,134217728,m),jR(f,134217728)}},t.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var m=Zi(),E=tu(f);To(f,E,m),jR(f,E)}},t.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var m=f.stateNode;if(m.current.memoizedState.isDehydrated){var E=Rl(m.pendingLanes);E!==0&&(Ws(m,E|1),gs(m,lt()),!(Zt&6)&&(Yp(),ja()))}break;case 13:var R=Zi();y$(function(){return To(f,1,R)}),jR(f,1)}},t.batchedUpdates=function(f,m){var E=Zt;Zt|=1;try{return f(m)}finally{Zt=E,Zt===0&&(Yp(),Fb&&ja())}},t.createComponentSelector=function(f){return{$$typeof:c_,value:f}},t.createContainer=function(f,m,E,R,O,$,ae){return A$(f,m,!1,null,E,R,O,$,ae)},t.createHasPseudoClassSelector=function(f){return{$$typeof:u_,value:f}},t.createHydrationContainer=function(f,m,E,R,O,$,ae,ye,Be){return f=A$(E,R,!0,f,O,$,ae,ye,Be),f.context=T$(null),E=f.current,R=Zi(),O=tu(E),$=kl(R,O),$.callback=m??null,Zc(E,$),f.current.lanes=O,_o(f,O,R),gs(f,R),f},t.createPortal=function(f,m,E){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:R==null?null:""+R,children:f,containerInfo:m,implementation:E}},t.createRoleSelector=function(f){return{$$typeof:d_,value:f}},t.createTestNameSelector=function(f){return{$$typeof:h_,value:f}},t.createTextSelector=function(f){return{$$typeof:f_,value:f}},t.deferredUpdates=function(f){var m=qt,E=ar.transition;try{return ar.transition=null,qt=16,f()}finally{qt=m,ar.transition=E}},t.discreteUpdates=function(f,m,E,R,O){var $=qt,ae=ar.transition;try{return ar.transition=null,qt=1,f(m,E,R,O)}finally{qt=$,ar.transition=ae,Zt===0&&Yp()}},t.findAllNodes=RR,t.findBoundingRects=function(f,m){if(!Ze)throw Error(o(363));m=RR(f,m),f=[];for(var E=0;E<m.length;E++)f.push(te(m[E]));for(m=f.length-1;0<m;m--){E=f[m];for(var R=E.x,O=R+E.width,$=E.y,ae=$+E.height,ye=m-1;0<=ye;ye--)if(m!==ye){var Be=f[ye],Qe=Be.x,ht=Qe+Be.width,zt=Be.y,Et=zt+Be.height;if(R>=Qe&&$>=zt&&O<=ht&&ae<=Et){f.splice(m,1);break}else if(R!==Qe||E.width!==Be.width||Et<$||zt>ae){if(!($!==zt||E.height!==Be.height||ht<R||Qe>O)){Qe>R&&(Be.width+=Qe-R,Be.x=R),ht<O&&(Be.width=O-Qe),f.splice(m,1);break}}else{zt>$&&(Be.height+=zt-$,Be.y=$),Et<ae&&(Be.height=ae-zt),f.splice(m,1);break}}}return f},t.findHostInstance=P$,t.findHostInstanceWithNoPortals=function(f){return f=F(f),f=f!==null?G(f):null,f===null?null:f.stateNode},t.findHostInstanceWithWarning=function(f){return P$(f)},t.flushControlled=function(f){var m=Zt;Zt|=1;var E=ar.transition,R=qt;try{ar.transition=null,qt=1,f()}finally{qt=R,ar.transition=E,Zt=m,Zt===0&&(Yp(),ja())}},t.flushPassiveEffects=ih,t.flushSync=y$,t.focusWithin=function(f,m){if(!Ze)throw Error(o(363));for(f=AR(f),m=m$(f,m),m=Array.from(m),f=0;f<m.length;){var E=m[f++];if(!ve(E)){if(E.tag===5&&$e(E.stateNode))return!0;for(E=E.child;E!==null;)m.push(E),E=E.sibling}}return!1},t.getCurrentUpdatePriority=function(){return qt},t.getFindAllNodesFailureDescription=function(f,m){if(!Ze)throw Error(o(363));var E=0,R=[];f=[AR(f),0];for(var O=0;O<f.length;){var $=f[O++],ae=f[O++],ye=m[ae];if(($.tag!==5||!ve($))&&(TR($,ye)&&(R.push(PR(ye)),ae++,ae>E&&(E=ae)),ae<m.length))for($=$.child;$!==null;)f.push($,ae),$=$.sibling}if(E<m.length){for(f=[];E<m.length;E++)f.push(PR(m[E]));return`findAllNodes was able to match part of the selector:
  `+(R.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},t.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return q(f.child.stateNode);default:return f.child.stateNode}},t.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:Ire,findFiberByHostInstance:f.findFiberByHostInstance||Ore,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)f=!0;else{try{Kc=m.inject(f),Hs=m}catch{}f=!!m.checkDCE}}return f},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(f,m,E,R){if(!Ze)throw Error(o(363));f=RR(f,m);var O=Ve(f,E,R).disconnect;return{disconnect:function(){O()}}},t.registerMutableSourceForHydration=function(f,m){var E=m._getVersion;E=E(m._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[m,E]:f.mutableSourceEagerHydrationData.push(m,E)},t.runWithPriority=function(f,m){var E=qt;try{return qt=f,m()}finally{qt=E}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(f,m,E,R){var O=m.current,$=Zi(),ae=tu(O);return E=T$(E),m.context===null?m.context=E:m.pendingContext=E,m=kl($,ae),m.payload={element:f},R=R===void 0?null:R,R!==null&&(m.callback=R),Zc(O,m),f=To(O,ae,$),f!==null&&Ub(f,O,ae),ae},t};kne.exports=x4e;var w4e=kne.exports;const b4e=Zv(w4e);var Ine={exports:{}},One={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,z){var B=D.length;D.push(z);e:for(;0<B;){var ee=B-1>>>1,Y=D[ee];if(0<i(Y,z))D[ee]=z,D[B]=Y,B=ee;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var z=D[0],B=D.pop();if(B!==z){D[0]=B;e:for(var ee=0,Y=D.length,oe=Y>>>1;ee<oe;){var ce=2*(ee+1)-1,me=D[ce],de=ce+1,be=D[de];if(0>i(me,B))de<Y&&0>i(be,me)?(D[ee]=be,D[de]=B,ee=de):(D[ee]=me,D[ce]=B,ee=ce);else if(de<Y&&0>i(be,B))D[ee]=be,D[de]=B,ee=de;else break e}}return z}function i(D,z){var B=D.sortIndex-z.sortIndex;return B!==0?B:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var z=t(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=D)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=t(c)}}function _(D){if(v=!1,b(D),!g)if(t(l)!==null)g=!0,q(C);else{var z=t(c);z!==null&&H(_,z.startTime-D)}}function C(D,z){g=!1,v&&(v=!1,x(M),M=-1),p=!0;var B=h;try{for(b(z),d=t(l);d!==null&&(!(d.expirationTime>z)||D&&!F());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,h=d.priorityLevel;var Y=ee(d.expirationTime<=z);z=n.unstable_now(),typeof Y=="function"?d.callback=Y:d===t(l)&&r(l),b(z)}else r(l);d=t(l)}if(d!==null)var oe=!0;else{var ce=t(c);ce!==null&&H(_,ce.startTime-z),oe=!1}return oe}finally{d=null,h=B,p=!1}}var A=!1,P=null,M=-1,L=5,I=-1;function F(){return!(n.unstable_now()-I<L)}function V(){if(P!==null){var D=n.unstable_now();I=D;var z=!0;try{z=P(!0,D)}finally{z?j():(A=!1,P=null)}}else A=!1}var j;if(typeof w=="function")j=function(){w(V)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,J=G.port2;G.port1.onmessage=V,j=function(){J.postMessage(null)}}else j=function(){y(V,0)};function q(D){P=D,A||(A=!0,j())}function H(D,z){M=y(function(){D(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,q(C))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var B=h;h=z;try{return D()}finally{h=B}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=h;h=D;try{return z()}finally{h=B}},n.unstable_scheduleCallback=function(D,z,B){var ee=n.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ee+B:ee):B=ee,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=B+Y,D={id:u++,callback:z,priorityLevel:D,startTime:B,expirationTime:Y,sortIndex:-1},B>ee?(D.sortIndex=B,e(c,D),t(l)===null&&D===t(c)&&(v?(x(M),M=-1):v=!0,H(_,B-ee))):(D.sortIndex=Y,e(l,D),g||p||(g=!0,q(C))),D},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(D){var z=h;return function(){var B=h;h=z;try{return D.apply(this,arguments)}finally{h=B}}}})(One);Ine.exports=One;var kG=Ine.exports;const _4e=n=>typeof n=="object"&&typeof n.then=="function",Cf=[];function Dne(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function Nne(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of Cf)if(Dne(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Cf.indexOf(i);s!==-1&&Cf.splice(s,1)},promise:(_4e(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Cf.push(i),!t)throw i.promise}const S4e=(n,e,t)=>Nne(n,e,!1,t),E4e=(n,e,t)=>void Nne(n,e,!0,t),M4e=n=>{if(n===void 0||n.length===0)Cf.splice(0,Cf.length);else{const e=Cf.find(t=>Dne(n,t.keys,t.equal));e&&e.remove()}},ZB={},C4e=n=>void Object.assign(ZB,n);function A4e(n,e){function t(u,{args:d=[],attach:h,...p},g){let v=`${u[0].toUpperCase()}${u.slice(1)}`,y;if(u==="primitive"){if(p.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=p.object;y=mg(x,{type:u,root:g,attach:h,primitive:!0})}else{const x=ZB[v];if(!x)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");y=mg(new x(...d),{type:u,root:g,attach:h,memoizedProps:{args:d}})}return y.__r3f.attach===void 0&&(y instanceof Ht?y.__r3f.attach="geometry":y instanceof Wr&&(y.__r3f.attach="material")),v!=="inject"&&z3(y,p),y}function r(u,d){let h=!1;if(d){var p,g;(p=d.__r3f)!=null&&p.attach?F3(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),h=!0),h||(g=u.__r3f)==null||g.objects.push(d),d.__r3f||mg(d,{}),d.__r3f.parent=u,D4(d),gg(d)}}function i(u,d,h){let p=!1;if(d){var g,v;if((g=d.__r3f)!=null&&g.attach)F3(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:d});const y=u.children.filter(w=>w!==d),x=y.indexOf(h);u.children=[...y.slice(0,x),d,...y.slice(x)],p=!0}p||(v=u.__r3f)==null||v.objects.push(d),d.__r3f||mg(d,{}),d.__r3f.parent=u,D4(d),gg(d)}}function s(u,d,h=!1){u&&[...u].forEach(p=>o(d,p,h))}function o(u,d,h){if(d){var p,g,v;if(d.__r3f&&(d.__r3f.parent=null),(p=u.__r3f)!=null&&p.objects&&(u.__r3f.objects=u.__r3f.objects.filter(_=>_!==d)),(g=d.__r3f)!=null&&g.attach)FG(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var y;u.remove(d),(y=d.__r3f)!=null&&y.root&&N4e(oA(d),d)}const w=(v=d.__r3f)==null?void 0:v.primitive,b=!w&&(h===void 0?d.dispose!==null:h);if(!w){var x;s((x=d.__r3f)==null?void 0:x.objects,d,b),s(d.children,d,b)}if(delete d.__r3f,b&&d.dispose&&d.type!=="Scene"){const _=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?kG.unstable_scheduleCallback(kG.unstable_IdlePriority,_):_()}gg(u)}}function a(u,d,h,p){var g;const v=(g=u.__r3f)==null?void 0:g.parent;if(!v)return;const y=t(d,h,u.__r3f.root);if(u.children){for(const x of u.children)x.__r3f&&r(y,x);u.children=u.children.filter(x=>!x.__r3f)}u.__r3f.objects.forEach(x=>r(y,x)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(v,u),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(v,y),y.raycast&&y.__r3f.eventCount&&oA(y).getState().internal.interaction.push(y),[p,p.alternate].forEach(x=>{x!==null&&(x.stateNode=y,x.ref&&(typeof x.ref=="function"?x.ref(y):x.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:b4e({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const h=u.getState().scene;h.__r3f&&(h.__r3f.root=u,r(h,d))},removeChildFromContainer:(u,d)=>{d&&o(u.getState().scene,d)},insertInContainerBefore:(u,d,h)=>{if(!d||!h)return;const p=u.getState().scene;p.__r3f&&i(p,d,h)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u==null?void 0:u.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,h,p){var g;if(((g=u==null?void 0:u.__r3f)!=null?g:{}).primitive&&p.object&&p.object!==u)return[!0];{const{args:y=[],children:x,...w}=p,{args:b=[],children:_,...C}=h;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((P,M)=>P!==b[M]))return[!0];const A=Hne(u,w,C,!0);return A.changes.length?[!1,A]:null}},commitUpdate(u,[d,h],p,g,v,y){d?a(u,p,v,y):z3(u,h)},commitMount(u,d,h,p){var g;const v=(g=u.__r3f)!=null?g:{};u.raycast&&v.handlers&&v.eventCount&&oA(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>mg(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:h,parent:p}=(d=u.__r3f)!=null?d:{};h&&p&&FG(p,u,h),u.isObject3D&&(u.visible=!1),gg(u)},unhideInstance(u,d){var h;const{attach:p,parent:g}=(h=u.__r3f)!=null?h:{};p&&g&&F3(g,u,p),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),gg(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():tv.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Fn.fun(performance.now)?performance.now:Fn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Fn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Fn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:z3}}var IG,OG;const N3=n=>"colorSpace"in n||"outputColorSpace"in n,Fne=()=>{var n;return(n=ZB.ColorManagement)!=null?n:null},zne=n=>n&&n.isOrthographicCamera,T4e=n=>n&&n.hasOwnProperty("current"),Nb=typeof window<"u"&&((IG=window.document)!=null&&IG.createElement||((OG=window.navigator)==null?void 0:OG.product)==="ReactNative")?k.useLayoutEffect:k.useEffect;function Bne(n){const e=k.useRef(n);return Nb(()=>void(e.current=n),[n]),e}function P4e({set:n}){return Nb(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class $ne extends k.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}$ne.getDerivedStateFromError=()=>({error:!0});const Une="__default",DG=new Map,R4e=n=>n&&!!n.memoized&&!!n.changes;function Wne(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Ty=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function oA(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Fn={obj:n=>n===Object(n)&&!Fn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Fn.str(n)||Fn.num(n)||Fn.boo(n))return n===e;const s=Fn.obj(n);if(s&&r==="reference")return n===e;const o=Fn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!Fn.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(Fn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function L4e(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function k4e(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function mg(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function O4(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const NG=/-\d+$/;function F3(n,e,t){if(Fn.str(t)){if(NG.test(t)){const s=t.replace(NG,""),{target:o,key:a}=O4(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=O4(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function FG(n,e,t){var r,i;if(Fn.str(t)){const{target:s,key:o}=O4(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function Hne(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){const u=n.__r3f,d=Object.entries(i),h=[];if(c){const g=Object.keys(l);for(let v=0;v<g.length;v++)i.hasOwnProperty(g[v])||d.unshift([g[v],Une+"remove"])}d.forEach(([g,v])=>{var y;if((y=n.__r3f)!=null&&y.primitive&&g==="object"||Fn.equ(v,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return h.push([g,v,!0,[]]);let x=[];g.includes("-")&&(x=g.split("-")),h.push([g,v,!1,x]);for(const w in i){const b=i[w];w.startsWith(`${g}-`)&&h.push([w,b,!1,w.split("-")])}});const p={...i};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(p.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(p.attach=u.memoizedProps.attach),{memoized:p,changes:h}}const I4e=typeof process<"u"&&!1;function z3(n,e){var t;const r=n.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=R4e(e)?e:Hne(n,e),l=r==null?void 0:r.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let u=0;u<a.length;u++){let[d,h,p,g]=a[u];if(N3(n)){const w="srgb",b="srgb-linear";d==="encoding"?(d="colorSpace",h=h===3001?w:b):d==="outputEncoding"&&(d="outputColorSpace",h=h===3001?w:b)}let v=n,y=v[d];if(g.length&&(y=g.reduce((x,w)=>x[w],n),!(y&&y.set))){const[x,...w]=g.reverse();v=w.reverse().reduce((b,_)=>b[_],n),d=x}if(h===Une+"remove")if(v.constructor){let x=DG.get(v.constructor);x||(x=new v.constructor,DG.set(v.constructor,x)),h=x[d]}else h=0;if(p&&r)h?r.handlers[d]=h:delete r.handlers[d],r.eventCount=Object.keys(r.handlers).length;else if(y&&y.set&&(y.copy||y instanceof Uf)){if(Array.isArray(h))y.fromArray?y.fromArray(h):y.set(...h);else if(y.copy&&h&&h.constructor&&(I4e?y.constructor.name===h.constructor.name:y.constructor===h.constructor))y.copy(h);else if(h!==void 0){const x=y instanceof at;!x&&y.setScalar?y.setScalar(h):y instanceof Uf&&h instanceof Uf?y.mask=h.mask:y.set(h),!Fne()&&s&&!s.linear&&x&&y.convertSRGBToLinear()}}else if(v[d]=h,v[d]instanceof Pr&&v[d].format===Ts&&v[d].type===$c&&s){const x=v[d];N3(x)&&N3(s.gl)?x.colorSpace=s.gl.outputColorSpace:x.encoding=s.gl.outputEncoding}gg(n)}if(r&&r.parent&&n.raycast&&l!==r.eventCount){const u=oA(n).getState().internal,d=u.interaction.indexOf(n);d>-1&&u.interaction.splice(d,1),r.eventCount&&u.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&D4(n),n}function gg(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function D4(n){n.onUpdate==null||n.onUpdate(n)}function O4e(n,e){n.manual||(zne(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function _E(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function D4e(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return tv.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return tv.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return tv.ContinuousEventPriority;default:return tv.DefaultEventPriority}}function jne(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function N4e(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{jne(t.capturedMap,e,r,i)})}function F4e(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),d=new Set,h=[],p=c?c(u.internal.interaction):u.internal.interaction;for(let x=0;x<p.length;x++){const w=Ty(p[x]);w&&(w.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function g(x){const w=Ty(x);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var b;w.events.compute==null||w.events.compute(l,w,(b=w.previousRoot)==null?void 0:b.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(x,!0):[]}let v=p.flatMap(g).sort((x,w)=>{const b=Ty(x.object),_=Ty(w.object);return!b||!_?x.distance-w.distance:_.events.priority-b.events.priority||x.distance-w.distance}).filter(x=>{const w=_E(x);return d.has(w)?!1:(d.add(w),!0)});u.events.filter&&(v=u.events.filter(v,u));for(const x of v){let w=x.object;for(;w;){var y;(y=w.__r3f)!=null&&y.eventCount&&h.push({...x,eventObject:w}),w=w.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let x of u.internal.capturedMap.get(l.pointerId).values())d.has(_E(x.intersection))||h.push(x.intersection);return h}function i(l,c,u,d){const h=n.getState();if(l.length){const p={stopped:!1};for(const g of l){const v=Ty(g.object)||h,{raycaster:y,pointer:x,camera:w,internal:b}=v,_=new re(x.x,x.y,0).unproject(w),C=I=>{var F,V;return(F=(V=b.capturedMap.get(I))==null?void 0:V.has(g.eventObject))!=null?F:!1},A=I=>{const F={intersection:g,target:c.target};b.capturedMap.has(I)?b.capturedMap.get(I).set(g.eventObject,F):b.capturedMap.set(I,new Map([[g.eventObject,F]])),c.target.setPointerCapture(I)},P=I=>{const F=b.capturedMap.get(I);F&&jne(b.capturedMap,g.eventObject,F,I)};let M={};for(let I in c){let F=c[I];typeof F!="function"&&(M[I]=F)}let L={...g,...M,pointer:x,intersections:l,stopped:p.stopped,delta:u,unprojectedPoint:_,ray:y.ray,camera:w,stopPropagation(){const I="pointerId"in c&&b.capturedMap.get(c.pointerId);if((!I||I.has(g.eventObject))&&(L.stopped=p.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(F=>F.eventObject===g.eventObject))){const F=l.slice(0,l.indexOf(g));s([...F,g])}},target:{hasPointerCapture:C,setPointerCapture:A,releasePointerCapture:P},currentTarget:{hasPointerCapture:C,setPointerCapture:A,releasePointerCapture:P},nativeEvent:c};if(d(L),p.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const h=u.eventObject.__r3f,p=h==null?void 0:h.handlers;if(c.hovered.delete(_E(u)),h!=null&&h.eventCount){const g={...u,intersections:l};p.onPointerOut==null||p.onPointerOut(g),p.onPointerLeave==null||p.onPointerLeave(g)}}}function o(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:d,internal:h}=n.getState();h.lastEvent.current=u;const p=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(u,p?t:void 0),x=g?e(u):0;l==="onPointerDown"&&(h.initialClick=[u.offsetX,u.offsetY],h.initialHits=y.map(b=>b.eventObject)),g&&!y.length&&x<=2&&(o(u,h.interaction),d&&d(u)),p&&s(y);function w(b){const _=b.eventObject,C=_.__r3f,A=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(p){if(A.onPointerOver||A.onPointerEnter||A.onPointerOut||A.onPointerLeave){const P=_E(b),M=h.hovered.get(P);M?M.stopped&&b.stopPropagation():(h.hovered.set(P,b),A.onPointerOver==null||A.onPointerOver(b),A.onPointerEnter==null||A.onPointerEnter(b))}A.onPointerMove==null||A.onPointerMove(b)}else{const P=A[l];P?(!g||h.initialHits.includes(_))&&(o(u,h.interaction.filter(M=>!h.initialHits.includes(M))),P(b)):g&&h.initialHits.includes(_)&&o(u,h.interaction.filter(M=>!h.initialHits.includes(M)))}}i(y,u,x,w)}}return{handlePointer:a}}const Vne=n=>!!(n!=null&&n.render),Gne=k.createContext(null),z4e=(n,e)=>{const t=g4e((a,l)=>{const c=new re,u=new re,d=new re;function h(x=l().camera,w=u,b=l().size){const{width:_,height:C,top:A,left:P}=b,M=_/C;w instanceof re?d.copy(w):d.set(...w);const L=x.getWorldPosition(c).distanceTo(d);if(zne(x))return{width:_/x.zoom,height:C/x.zoom,top:A,left:P,factor:1,distance:L,aspect:M};{const I=x.fov*Math.PI/180,F=2*Math.tan(I/2)*L,V=F*(_/C);return{width:V,height:F,top:A,left:P,factor:_/V,distance:L,aspect:M}}}let p;const g=x=>a(w=>({performance:{...w.performance,current:x}})),v=new He;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(x=1)=>n(l(),x),advance:(x,w)=>e(x,w,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new XB,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();p&&clearTimeout(p),x.performance.current!==x.performance.min&&g(x.performance.min),p=setTimeout(()=>g(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:x=>a(w=>({...w,events:{...w.events,...x}})),setSize:(x,w,b,_,C)=>{const A=l().camera,P={width:x,height:w,top:_||0,left:C||0,updateStyle:b};a(M=>({size:P,viewport:{...M.viewport,...h(A,u,P)}}))},setDpr:x=>a(w=>{const b=Wne(x);return{viewport:{...w.viewport,dpr:b,initialDpr:w.viewport.initialDpr||b}}}),setFrameloop:(x="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,x!=="never"&&(w.start(),w.elapsedTime=0),a(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:k.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,w,b)=>{const _=l().internal;return _.priority=_.priority+(w>0?1:0),_.subscribers.push({ref:x,priority:w,store:b}),_.subscribers=_.subscribers.sort((C,A)=>C.priority-A.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(w>0?1:0),C.subscribers=C.subscribers.filter(A=>A.ref!==x))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:d}=t.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var h;i=l,s=c.dpr,O4e(a,l),u.setPixelRatio(c.dpr);const p=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,p)}a!==o&&(o=a,d(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let SE,B4e=new Set,$4e=new Set,U4e=new Set;function B3(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Py(n,e){switch(n){case"before":return B3(B4e,e);case"after":return B3($4e,e);case"tail":return B3(U4e,e)}}let $3,U3;function W3(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),$3=e.internal.subscribers,SE=0;SE<$3.length;SE++)U3=$3[SE],U3.ref.current(U3.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function W4e(n){let e=!1,t=!1,r,i,s;function o(c){i=requestAnimationFrame(o),e=!0,r=0,Py("before",c),t=!0;for(const d of n.values()){var u;s=d.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((u=s.gl.xr)!=null&&u.isPresenting)&&(r+=W3(c,s))}if(t=!1,Py("after",c),r===0)return Py("tail",c),e=!1,cancelAnimationFrame(i)}function a(c,u=1){var d;if(!c)return n.forEach(h=>a(h.store.getState(),u));(d=c.gl.xr)!=null&&d.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,u=!0,d,h){if(u&&Py("before",c),d)W3(c,d,h);else for(const p of n.values())W3(c,p.store.getState());u&&Py("after",c)}return{loop:o,invalidate:a,advance:l}}function qne(){const n=k.useContext(Gne);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function yu(n=t=>t,e){return qne()(n,e)}function H4e(n,e=0){const t=qne(),r=t.getState().internal.subscribe,i=Bne(n);return Nb(()=>r(i,e,t),[e,r,t]),null}const zG=new WeakMap;function Xne(n,e){return function(t,...r){let i=zG.get(t);return i||(i=new t,zG.set(t,i)),n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,L4e(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function JB(n,e,t,r){const i=Array.isArray(e)?e:[e],s=S4e(Xne(t,r),[n,...i],{equal:Fn.equ});return Array.isArray(e)?s:s[0]}JB.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return E4e(Xne(t),[n,...r])};JB.clear=function(n,e){const t=Array.isArray(e)?e:[e];return M4e([n,...t])};const Qv=new Map,{invalidate:BG,advance:$G}=W4e(Qv),{reconciler:rT,applyProps:km}=A4e(Qv,D4e),Im={objects:"shallow",strict:!1},j4e=(n,e)=>{const t=typeof n=="function"?n(e):n;return Vne(t)?t:new PB({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function V4e(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=t}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function G4e(n){const e=Qv.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||z4e(BG,$G),o=t||rT.createContainer(s,tv.ConcurrentRoot,null,!1,null,"",i,null);e||Qv.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:d,size:h,scene:p,events:g,onCreated:v,shadows:y=!1,linear:x=!1,flat:w=!1,legacy:b=!1,orthographic:_=!1,frameloop:C="always",dpr:A=[1,2],performance:P,raycaster:M,camera:L,onPointerMissed:I}=u,F=s.getState(),V=F.gl;F.gl||F.set({gl:V=j4e(d,n)});let j=F.raycaster;j||F.set({raycaster:j=new Pne});const{params:G,...J}=M||{};if(Fn.equ(J,j,Im)||km(j,{...J}),Fn.equ(G,j.params,Im)||km(j,{params:{...j.params,...G}}),!F.camera||F.camera===c&&!Fn.equ(c,L,Im)){c=L;const B=L instanceof bb,ee=B?L:_?new Ac(0,0,0,0,.1,1e3):new sr(75,0,.1,1e3);B||(ee.position.z=5,L&&(km(ee,L),("aspect"in L||"left"in L||"right"in L||"bottom"in L||"top"in L)&&(ee.manual=!0,ee.updateProjectionMatrix())),!F.camera&&!(L!=null&&L.rotation)&&ee.lookAt(0,0,0)),F.set({camera:ee}),j.camera=ee}if(!F.scene){let B;p instanceof nT?B=p:(B=new nT,p&&km(B,p)),F.set({scene:mg(B)})}if(!F.xr){var q;const B=(oe,ce)=>{const me=s.getState();me.frameloop!=="never"&&$G(oe,!0,me,ce)},ee=()=>{const oe=s.getState();oe.gl.xr.enabled=oe.gl.xr.isPresenting,oe.gl.xr.setAnimationLoop(oe.gl.xr.isPresenting?B:null),oe.gl.xr.isPresenting||BG(oe)},Y={connect(){const oe=s.getState().gl;oe.xr.addEventListener("sessionstart",ee),oe.xr.addEventListener("sessionend",ee)},disconnect(){const oe=s.getState().gl;oe.xr.removeEventListener("sessionstart",ee),oe.xr.removeEventListener("sessionend",ee)}};typeof((q=V.xr)==null?void 0:q.addEventListener)=="function"&&Y.connect(),F.set({xr:Y})}if(V.shadowMap){const B=V.shadowMap.enabled,ee=V.shadowMap.type;if(V.shadowMap.enabled=!!y,Fn.boo(y))V.shadowMap.type=Cx;else if(Fn.str(y)){var H;const Y={basic:Oee,percentage:kP,soft:Cx,variance:xf};V.shadowMap.type=(H=Y[y])!=null?H:Cx}else Fn.obj(y)&&Object.assign(V.shadowMap,y);(B!==V.shadowMap.enabled||ee!==V.shadowMap.type)&&(V.shadowMap.needsUpdate=!0)}const D=Fne();D&&("enabled"in D?D.enabled=!b:"legacyMode"in D&&(D.legacyMode=b)),l||km(V,{outputEncoding:x?3e3:3001,toneMapping:w?Na:yB}),F.legacy!==b&&F.set(()=>({legacy:b})),F.linear!==x&&F.set(()=>({linear:x})),F.flat!==w&&F.set(()=>({flat:w})),d&&!Fn.fun(d)&&!Vne(d)&&!Fn.equ(d,V,Im)&&km(V,d),g&&!F.events.handlers&&F.set({events:g(s)});const z=V4e(n,h);return Fn.equ(z,F.size,Im)||F.setSize(z.width,z.height,z.updateStyle,z.top,z.left),A&&F.viewport.dpr!==Wne(A)&&F.setDpr(A),F.frameloop!==C&&F.setFrameloop(C),F.onPointerMissed||F.set({onPointerMissed:I}),P&&!Fn.equ(P,F.performance,Im)&&F.set(B=>({performance:{...B.performance,...P}})),a=v,l=!0,this},render(u){return l||this.configure(),rT.updateContainer(he.jsx(q4e,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){Yne(n)}}}function q4e({store:n,children:e,onCreated:t,rootElement:r}){return Nb(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),he.jsx(Gne.Provider,{value:n,children:e})}function Yne(n,e){const t=Qv.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),rT.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),k4e(i),Qv.delete(n)}catch{}},500)})}}rT.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:k.version});function N4(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}N4.debounce=N4;var X4e=N4;const UG=Zv(X4e);function Y4e(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=k.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=k.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,d=k.useRef(!1);k.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[h,p,g]=k.useMemo(()=>{const w=()=>{if(!l.current.element)return;const{left:b,top:_,width:C,height:A,bottom:P,right:M,x:L,y:I}=l.current.element.getBoundingClientRect(),F={left:b,top:_,width:C,height:A,bottom:P,right:M,x:L,y:I};l.current.element instanceof HTMLElement&&i&&(F.height=l.current.element.offsetHeight,F.width=l.current.element.offsetWidth),Object.freeze(F),d.current&&!J4e(l.current.lastBounds,F)&&a(l.current.lastBounds=F)};return[w,u?UG(w,u):w,c?UG(w,c):w]},[a,i,c,u]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(w=>w.addEventListener("scroll",g,{capture:!0,passive:!0})))}const x=w=>{!w||w===l.current.element||(v(),l.current.element=w,l.current.scrollContainers=Kne(w),y())};return Q4e(g,!!t),K4e(p),k.useEffect(()=>{v(),y()},[t,g,p]),k.useEffect(()=>v,[]),[x,o,h]}function K4e(n){k.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Q4e(n,e){k.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function Kne(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...Kne(n.parentElement)]}const Z4e=["x","y","top","bottom","left","right","width","height"],J4e=(n,e)=>Z4e.every(t=>n[t]===e[t]);var eze=Object.defineProperty,tze=Object.defineProperties,nze=Object.getOwnPropertyDescriptors,WG=Object.getOwnPropertySymbols,rze=Object.prototype.hasOwnProperty,ize=Object.prototype.propertyIsEnumerable,HG=(n,e,t)=>e in n?eze(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,jG=(n,e)=>{for(var t in e||(e={}))rze.call(e,t)&&HG(n,t,e[t]);if(WG)for(var t of WG(e))ize.call(e,t)&&HG(n,t,e[t]);return n},sze=(n,e)=>tze(n,nze(e)),VG,GG;typeof window<"u"&&((VG=window.document)!=null&&VG.createElement||((GG=window.navigator)==null?void 0:GG.product)==="ReactNative")?k.useLayoutEffect:k.useEffect;function Qne(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=n.child;for(;r;){const i=Qne(r,e,t);if(i)return i;r=r.sibling}}function Zne(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const qG=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=qG;return}return qG.apply(this,arguments)};const e6=Zne(k.createContext(null));class Jne extends k.Component{render(){return k.createElement(e6.Provider,{value:this._reactInternals},this.props.children)}}function oze(){const n=k.useContext(e6);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=k.useId();return k.useMemo(()=>{for(const r of[n,n==null?void 0:n.alternate]){if(!r)continue;const i=Qne(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function aze(){const n=oze(),[e]=k.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==e6&&!e.has(i)&&e.set(i,k.useContext(Zne(i)))}t=t.return}return e}function lze(){const n=aze();return k.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>k.createElement(e,null,k.createElement(t.Provider,sze(jG({},r),{value:n.get(t)}))),e=>k.createElement(Jne,jG({},e))),[n])}const H3={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function cze(n){const{handlePointer:e}=F4e(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(H3).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=H3[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=H3[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const uze=k.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=cze,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:h,orthographic:p,frameloop:g,dpr:v,performance:y,raycaster:x,camera:w,scene:b,onPointerMissed:_,onCreated:C,...A},P){k.useMemo(()=>C4e(f4e),[]);const M=lze(),[L,I]=Y4e({scroll:!0,debounce:{scroll:50,resize:0},...r}),F=k.useRef(null),V=k.useRef(null);k.useImperativeHandle(P,()=>F.current);const j=Bne(_),[G,J]=k.useState(!1),[q,H]=k.useState(!1);if(G)throw G;if(q)throw q;const D=k.useRef(null);Nb(()=>{const B=F.current;I.width>0&&I.height>0&&B&&(D.current||(D.current=G4e(B)),D.current.configure({gl:s,events:o,shadows:c,linear:u,flat:d,legacy:h,orthographic:p,frameloop:g,dpr:v,performance:y,raycaster:x,camera:w,scene:b,size:I,onPointerMissed:(...ee)=>j.current==null?void 0:j.current(...ee),onCreated:ee=>{ee.events.connect==null||ee.events.connect(a?T4e(a)?a.current:a:V.current),l&&ee.setEvents({compute:(Y,oe)=>{const ce=Y[l+"X"],me=Y[l+"Y"];oe.pointer.set(ce/oe.size.width*2-1,-(me/oe.size.height)*2+1),oe.raycaster.setFromCamera(oe.pointer,oe.camera)}}),C==null||C(ee)}}),D.current.render(he.jsx(M,{children:he.jsx($ne,{set:H,children:he.jsx(k.Suspense,{fallback:he.jsx(P4e,{set:J}),children:e})})})))}),k.useEffect(()=>{const B=F.current;if(B)return()=>Yne(B)},[]);const z=a?"none":"auto";return he.jsx("div",{ref:V,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:z,...i},...A,children:he.jsx("div",{ref:L,style:{width:"100%",height:"100%"},children:he.jsx("canvas",{ref:F,style:{display:"block"},children:t})})})}),dze=k.forwardRef(function(e,t){return he.jsx(Jne,{children:he.jsx(uze,{...e,ref:t})})});var hze=Object.defineProperty,fze=(n,e,t)=>e in n?hze(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,kt=(n,e,t)=>(fze(n,typeof e!="symbol"?e+"":e,t),t);const EE=new m0,XG=new hc,pze=Math.cos(70*(Math.PI/180)),YG=(n,e)=>(n%e+e)%e;let mze=class extends Tl{constructor(e,t){super(),kt(this,"object"),kt(this,"domElement"),kt(this,"enabled",!0),kt(this,"target",new re),kt(this,"minDistance",0),kt(this,"maxDistance",1/0),kt(this,"minZoom",0),kt(this,"maxZoom",1/0),kt(this,"minPolarAngle",0),kt(this,"maxPolarAngle",Math.PI),kt(this,"minAzimuthAngle",-1/0),kt(this,"maxAzimuthAngle",1/0),kt(this,"enableDamping",!1),kt(this,"dampingFactor",.05),kt(this,"enableZoom",!0),kt(this,"zoomSpeed",1),kt(this,"enableRotate",!0),kt(this,"rotateSpeed",1),kt(this,"enablePan",!0),kt(this,"panSpeed",1),kt(this,"screenSpacePanning",!0),kt(this,"keyPanSpeed",7),kt(this,"zoomToCursor",!1),kt(this,"autoRotate",!1),kt(this,"autoRotateSpeed",2),kt(this,"reverseOrbit",!1),kt(this,"reverseHorizontalOrbit",!1),kt(this,"reverseVerticalOrbit",!1),kt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),kt(this,"mouseButtons",{LEFT:Uh.ROTATE,MIDDLE:Uh.DOLLY,RIGHT:Uh.PAN}),kt(this,"touches",{ONE:Wh.ROTATE,TWO:Wh.DOLLY_PAN}),kt(this,"target0"),kt(this,"position0"),kt(this,"zoom0"),kt(this,"_domElementKeyEvents",null),kt(this,"getPolarAngle"),kt(this,"getAzimuthalAngle"),kt(this,"setPolarAngle"),kt(this,"setAzimuthalAngle"),kt(this,"getDistance"),kt(this,"listenToKeyEvents"),kt(this,"stopListenToKeyEvents"),kt(this,"saveState"),kt(this,"reset"),kt(this,"update"),kt(this,"connect"),kt(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=K=>{let le=YG(K,2*Math.PI),Le=u.phi;Le<0&&(Le+=2*Math.PI),le<0&&(le+=2*Math.PI);let Ke=Math.abs(le-Le);2*Math.PI-Ke<Ke&&(le<Le?le+=2*Math.PI:Le+=2*Math.PI),d.phi=le-Le,r.update()},this.setAzimuthalAngle=K=>{let le=YG(K,2*Math.PI),Le=u.theta;Le<0&&(Le+=2*Math.PI),le<0&&(le+=2*Math.PI);let Ke=Math.abs(le-Le);2*Math.PI-Ke<Ke&&(le<Le?le+=2*Math.PI:Le+=2*Math.PI),d.theta=le-Le,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=K=>{K.addEventListener("keydown",Ve),this._domElementKeyEvents=K},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ve),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const K=new re,le=new re(0,1,0),Le=new Xi().setFromUnitVectors(e.up,le),Ke=Le.clone().invert(),ue=new re,Ee=new Xi,Fe=2*Math.PI;return function(){const rt=r.object.position;Le.setFromUnitVectors(e.up,le),Ke.copy(Le).invert(),K.copy(rt).sub(r.target),K.applyQuaternion(Le),u.setFromVector3(K),r.autoRotate&&l===a.NONE&&G(V()),r.enableDamping?(u.theta+=d.theta*r.dampingFactor,u.phi+=d.phi*r.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let mt=r.minAzimuthAngle,jt=r.maxAzimuthAngle;isFinite(mt)&&isFinite(jt)&&(mt<-Math.PI?mt+=Fe:mt>Math.PI&&(mt-=Fe),jt<-Math.PI?jt+=Fe:jt>Math.PI&&(jt-=Fe),mt<=jt?u.theta=Math.max(mt,Math.min(jt,u.theta)):u.theta=u.theta>(mt+jt)/2?Math.max(mt,u.theta):Math.min(jt,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(p,r.dampingFactor):r.target.add(p),r.zoomToCursor&&L||r.object.isOrthographicCamera?u.radius=Y(u.radius):u.radius=Y(u.radius*h),K.setFromSpherical(u),K.applyQuaternion(Ke),rt.copy(r.target).add(K),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,p.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),p.set(0,0,0));let Lt=!1;if(r.zoomToCursor&&L){let hn=null;if(r.object instanceof sr&&r.object.isPerspectiveCamera){const pt=K.length();hn=Y(pt*h);const gt=pt-hn;r.object.position.addScaledVector(P,gt),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const pt=new re(M.x,M.y,0);pt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),Lt=!0;const gt=new re(M.x,M.y,0);gt.unproject(r.object),r.object.position.sub(gt).add(pt),r.object.updateMatrixWorld(),hn=K.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;hn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(hn).add(r.object.position):(EE.origin.copy(r.object.position),EE.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(EE.direction))<pze?e.lookAt(r.target):(XG.setFromNormalAndCoplanarPoint(r.object.up,r.target),EE.intersectPlane(XG,r.target))))}else r.object instanceof Ac&&r.object.isOrthographicCamera&&(Lt=h!==1,Lt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix()));return h=1,L=!1,Lt||ue.distanceToSquared(r.object.position)>c||8*(1-Ee.dot(r.object.quaternion))>c?(r.dispatchEvent(i),ue.copy(r.object.position),Ee.copy(r.object.quaternion),Lt=!1,!0):!1}})(),this.connect=K=>{K===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=K,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",T),r.domElement.addEventListener("pointerdown",Xe),r.domElement.addEventListener("pointercancel",X),r.domElement.addEventListener("wheel",$e)},this.dispose=()=>{var K,le,Le,Ke,ue,Ee;r.domElement&&(r.domElement.style.touchAction="auto"),(K=r.domElement)==null||K.removeEventListener("contextmenu",T),(le=r.domElement)==null||le.removeEventListener("pointerdown",Xe),(Le=r.domElement)==null||Le.removeEventListener("pointercancel",X),(Ke=r.domElement)==null||Ke.removeEventListener("wheel",$e),(ue=r.domElement)==null||ue.ownerDocument.removeEventListener("pointermove",te),(Ee=r.domElement)==null||Ee.ownerDocument.removeEventListener("pointerup",X),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Ve)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new I4,d=new I4;let h=1;const p=new re,g=new He,v=new He,y=new He,x=new He,w=new He,b=new He,_=new He,C=new He,A=new He,P=new re,M=new He;let L=!1;const I=[],F={};function V(){return 2*Math.PI/60/60*r.autoRotateSpeed}function j(){return Math.pow(.95,r.zoomSpeed)}function G(K){r.reverseOrbit||r.reverseHorizontalOrbit?d.theta+=K:d.theta-=K}function J(K){r.reverseOrbit||r.reverseVerticalOrbit?d.phi+=K:d.phi-=K}const q=(()=>{const K=new re;return function(Le,Ke){K.setFromMatrixColumn(Ke,0),K.multiplyScalar(-Le),p.add(K)}})(),H=(()=>{const K=new re;return function(Le,Ke){r.screenSpacePanning===!0?K.setFromMatrixColumn(Ke,1):(K.setFromMatrixColumn(Ke,0),K.crossVectors(r.object.up,K)),K.multiplyScalar(Le),p.add(K)}})(),D=(()=>{const K=new re;return function(Le,Ke){const ue=r.domElement;if(ue&&r.object instanceof sr&&r.object.isPerspectiveCamera){const Ee=r.object.position;K.copy(Ee).sub(r.target);let Fe=K.length();Fe*=Math.tan(r.object.fov/2*Math.PI/180),q(2*Le*Fe/ue.clientHeight,r.object.matrix),H(2*Ke*Fe/ue.clientHeight,r.object.matrix)}else ue&&r.object instanceof Ac&&r.object.isOrthographicCamera?(q(Le*(r.object.right-r.object.left)/r.object.zoom/ue.clientWidth,r.object.matrix),H(Ke*(r.object.top-r.object.bottom)/r.object.zoom/ue.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function z(K){r.object instanceof sr&&r.object.isPerspectiveCamera||r.object instanceof Ac&&r.object.isOrthographicCamera?h/=K:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function B(K){r.object instanceof sr&&r.object.isPerspectiveCamera||r.object instanceof Ac&&r.object.isOrthographicCamera?h*=K:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function ee(K){if(!r.zoomToCursor||!r.domElement)return;L=!0;const le=r.domElement.getBoundingClientRect(),Le=K.clientX-le.left,Ke=K.clientY-le.top,ue=le.width,Ee=le.height;M.x=Le/ue*2-1,M.y=-(Ke/Ee)*2+1,P.set(M.x,M.y,1).unproject(r.object).sub(r.object.position).normalize()}function Y(K){return Math.max(r.minDistance,Math.min(r.maxDistance,K))}function oe(K){g.set(K.clientX,K.clientY)}function ce(K){ee(K),_.set(K.clientX,K.clientY)}function me(K){x.set(K.clientX,K.clientY)}function de(K){v.set(K.clientX,K.clientY),y.subVectors(v,g).multiplyScalar(r.rotateSpeed);const le=r.domElement;le&&(G(2*Math.PI*y.x/le.clientHeight),J(2*Math.PI*y.y/le.clientHeight)),g.copy(v),r.update()}function be(K){C.set(K.clientX,K.clientY),A.subVectors(C,_),A.y>0?z(j()):A.y<0&&B(j()),_.copy(C),r.update()}function Oe(K){w.set(K.clientX,K.clientY),b.subVectors(w,x).multiplyScalar(r.panSpeed),D(b.x,b.y),x.copy(w),r.update()}function Te(K){ee(K),K.deltaY<0?B(j()):K.deltaY>0&&z(j()),r.update()}function we(K){let le=!1;switch(K.code){case r.keys.UP:D(0,r.keyPanSpeed),le=!0;break;case r.keys.BOTTOM:D(0,-r.keyPanSpeed),le=!0;break;case r.keys.LEFT:D(r.keyPanSpeed,0),le=!0;break;case r.keys.RIGHT:D(-r.keyPanSpeed,0),le=!0;break}le&&(K.preventDefault(),r.update())}function De(){if(I.length==1)g.set(I[0].pageX,I[0].pageY);else{const K=.5*(I[0].pageX+I[1].pageX),le=.5*(I[0].pageY+I[1].pageY);g.set(K,le)}}function pe(){if(I.length==1)x.set(I[0].pageX,I[0].pageY);else{const K=.5*(I[0].pageX+I[1].pageX),le=.5*(I[0].pageY+I[1].pageY);x.set(K,le)}}function fe(){const K=I[0].pageX-I[1].pageX,le=I[0].pageY-I[1].pageY,Le=Math.sqrt(K*K+le*le);_.set(0,Le)}function Ae(){r.enableZoom&&fe(),r.enablePan&&pe()}function Pe(){r.enableZoom&&fe(),r.enableRotate&&De()}function ge(K){if(I.length==1)v.set(K.pageX,K.pageY);else{const Le=se(K),Ke=.5*(K.pageX+Le.x),ue=.5*(K.pageY+Le.y);v.set(Ke,ue)}y.subVectors(v,g).multiplyScalar(r.rotateSpeed);const le=r.domElement;le&&(G(2*Math.PI*y.x/le.clientHeight),J(2*Math.PI*y.y/le.clientHeight)),g.copy(v)}function je(K){if(I.length==1)w.set(K.pageX,K.pageY);else{const le=se(K),Le=.5*(K.pageX+le.x),Ke=.5*(K.pageY+le.y);w.set(Le,Ke)}b.subVectors(w,x).multiplyScalar(r.panSpeed),D(b.x,b.y),x.copy(w)}function We(K){const le=se(K),Le=K.pageX-le.x,Ke=K.pageY-le.y,ue=Math.sqrt(Le*Le+Ke*Ke);C.set(0,ue),A.set(0,Math.pow(C.y/_.y,r.zoomSpeed)),z(A.y),_.copy(C)}function qe(K){r.enableZoom&&We(K),r.enablePan&&je(K)}function Ze(K){r.enableZoom&&We(K),r.enableRotate&&ge(K)}function Xe(K){var le,Le;r.enabled!==!1&&(I.length===0&&((le=r.domElement)==null||le.ownerDocument.addEventListener("pointermove",te),(Le=r.domElement)==null||Le.ownerDocument.addEventListener("pointerup",X)),N(K),K.pointerType==="touch"?Je(K):ve(K))}function te(K){r.enabled!==!1&&(K.pointerType==="touch"?Ge(K):Ce(K))}function X(K){var le,Le,Ke;U(K),I.length===0&&((le=r.domElement)==null||le.releasePointerCapture(K.pointerId),(Le=r.domElement)==null||Le.ownerDocument.removeEventListener("pointermove",te),(Ke=r.domElement)==null||Ke.ownerDocument.removeEventListener("pointerup",X)),r.dispatchEvent(o),l=a.NONE}function ve(K){let le;switch(K.button){case 0:le=r.mouseButtons.LEFT;break;case 1:le=r.mouseButtons.MIDDLE;break;case 2:le=r.mouseButtons.RIGHT;break;default:le=-1}switch(le){case Uh.DOLLY:if(r.enableZoom===!1)return;ce(K),l=a.DOLLY;break;case Uh.ROTATE:if(K.ctrlKey||K.metaKey||K.shiftKey){if(r.enablePan===!1)return;me(K),l=a.PAN}else{if(r.enableRotate===!1)return;oe(K),l=a.ROTATE}break;case Uh.PAN:if(K.ctrlKey||K.metaKey||K.shiftKey){if(r.enableRotate===!1)return;oe(K),l=a.ROTATE}else{if(r.enablePan===!1)return;me(K),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ce(K){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;de(K);break;case a.DOLLY:if(r.enableZoom===!1)return;be(K);break;case a.PAN:if(r.enablePan===!1)return;Oe(K);break}}function $e(K){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(K.preventDefault(),r.dispatchEvent(s),Te(K),r.dispatchEvent(o))}function Ve(K){r.enabled===!1||r.enablePan===!1||we(K)}function Je(K){switch(ne(K),I.length){case 1:switch(r.touches.ONE){case Wh.ROTATE:if(r.enableRotate===!1)return;De(),l=a.TOUCH_ROTATE;break;case Wh.PAN:if(r.enablePan===!1)return;pe(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Wh.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ae(),l=a.TOUCH_DOLLY_PAN;break;case Wh.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Pe(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ge(K){switch(ne(K),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;ge(K),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;je(K),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;qe(K),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ze(K),r.update();break;default:l=a.NONE}}function T(K){r.enabled!==!1&&K.preventDefault()}function N(K){I.push(K)}function U(K){delete F[K.pointerId];for(let le=0;le<I.length;le++)if(I[le].pointerId==K.pointerId){I.splice(le,1);return}}function ne(K){let le=F[K.pointerId];le===void 0&&(le=new He,F[K.pointerId]=le),le.set(K.pageX,K.pageY)}function se(K){const le=K.pointerId===I[0].pointerId?I[1]:I[0];return F[le.pointerId]}t!==void 0&&this.connect(t),this.update()}};const gze=k.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const d=yu(A=>A.invalidate),h=yu(A=>A.camera),p=yu(A=>A.gl),g=yu(A=>A.events),v=yu(A=>A.setEvents),y=yu(A=>A.set),x=yu(A=>A.get),w=yu(A=>A.performance),b=e||h,_=r||g.connected||p.domElement,C=k.useMemo(()=>new mze(b),[b]);return H4e(()=>{C.enabled&&C.update()},-1),k.useEffect(()=>(s&&C.connect(s===!0?_:s),C.connect(_),()=>void C.dispose()),[s,_,t,C,d]),k.useEffect(()=>{const A=L=>{d(),t&&w.regress(),o&&o(L)},P=L=>{a&&a(L)},M=L=>{l&&l(L)};return C.addEventListener("change",A),C.addEventListener("start",P),C.addEventListener("end",M),()=>{C.removeEventListener("start",P),C.removeEventListener("end",M),C.removeEventListener("change",A)}},[o,a,l,C,d,v]),k.useEffect(()=>{if(n){const A=x().controls;return y({controls:C}),()=>y({controls:A})}},[n,C]),k.createElement("primitive",Gn({ref:u,object:C,enableDamping:i},c))}),vze=/^[og]\s*(.+)?/,yze=/^mtllib /,xze=/^usemtl /,wze=/^usemap /,KG=/\s+/,QG=new re,j3=new re,ZG=new re,JG=new re,zo=new re,ME=new at;function bze(){const n={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&this.object.fromDeclaration===!1){this.object.name=e,this.object.fromDeclaration=t!==!1;return}const r=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:t!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(i,s){const o=this._finalize(!1);o&&(o.inherited||o.groupCount<=0)&&this.materials.splice(o.index,1);const a={index:this.materials.length,name:i||"",mtllib:Array.isArray(s)&&s.length>0?s[s.length-1]:"",smooth:o!==void 0?o.smooth:this.smooth,groupStart:o!==void 0?o.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(l){const c={index:typeof l=="number"?l:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return c.clone=this.clone.bind(c),c}};return this.materials.push(a),a},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(i){const s=this.currentMaterial();if(s&&s.groupEnd===-1&&(s.groupEnd=this.geometry.vertices.length/3,s.groupCount=s.groupEnd-s.groupStart,s.inherited=!1),i&&this.materials.length>1)for(let o=this.materials.length-1;o>=0;o--)this.materials[o].groupCount<=0&&this.materials.splice(o,1);return i&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),s}},r&&r.name&&typeof r.clone=="function"){const i=r.clone(0);i.inherited=!0,this.object.materials.push(i)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(e,t){const r=parseInt(e,10);return(r>=0?r-1:r+t/3)*3},parseNormalIndex:function(e,t){const r=parseInt(e,10);return(r>=0?r-1:r+t/3)*3},parseUVIndex:function(e,t){const r=parseInt(e,10);return(r>=0?r-1:r+t/2)*2},addVertex:function(e,t,r){const i=this.vertices,s=this.object.geometry.vertices;s.push(i[e+0],i[e+1],i[e+2]),s.push(i[t+0],i[t+1],i[t+2]),s.push(i[r+0],i[r+1],i[r+2])},addVertexPoint:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,r){const i=this.normals,s=this.object.geometry.normals;s.push(i[e+0],i[e+1],i[e+2]),s.push(i[t+0],i[t+1],i[t+2]),s.push(i[r+0],i[r+1],i[r+2])},addFaceNormal:function(e,t,r){const i=this.vertices,s=this.object.geometry.normals;QG.fromArray(i,e),j3.fromArray(i,t),ZG.fromArray(i,r),zo.subVectors(ZG,j3),JG.subVectors(QG,j3),zo.cross(JG),zo.normalize(),s.push(zo.x,zo.y,zo.z),s.push(zo.x,zo.y,zo.z),s.push(zo.x,zo.y,zo.z)},addColor:function(e,t,r){const i=this.colors,s=this.object.geometry.colors;i[e]!==void 0&&s.push(i[e+0],i[e+1],i[e+2]),i[t]!==void 0&&s.push(i[t+0],i[t+1],i[t+2]),i[r]!==void 0&&s.push(i[r+0],i[r+1],i[r+2])},addUV:function(e,t,r){const i=this.uvs,s=this.object.geometry.uvs;s.push(i[e+0],i[e+1]),s.push(i[t+0],i[t+1]),s.push(i[r+0],i[r+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,r,i,s,o,a,l,c){const u=this.vertices.length;let d=this.parseVertexIndex(e,u),h=this.parseVertexIndex(t,u),p=this.parseVertexIndex(r,u);if(this.addVertex(d,h,p),this.addColor(d,h,p),a!==void 0&&a!==""){const g=this.normals.length;d=this.parseNormalIndex(a,g),h=this.parseNormalIndex(l,g),p=this.parseNormalIndex(c,g),this.addNormal(d,h,p)}else this.addFaceNormal(d,h,p);if(i!==void 0&&i!==""){const g=this.uvs.length;d=this.parseUVIndex(i,g),h=this.parseUVIndex(s,g),p=this.parseUVIndex(o,g),this.addUV(d,h,p),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const t=this.vertices.length;for(let r=0,i=e.length;r<i;r++){const s=this.parseVertexIndex(e[r],t);this.addVertexPoint(s),this.addColor(s)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";const r=this.vertices.length,i=this.uvs.length;for(let s=0,o=e.length;s<o;s++)this.addVertexLine(this.parseVertexIndex(e[s],r));for(let s=0,o=t.length;s<o;s++)this.addUVLine(this.parseUVIndex(t[s],i))}};return n.startObject("",!1),n}class _ze extends $s{constructor(e){super(e),this.materials=null}load(e,t,r,i){const s=this,o=new Ml(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(a))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}setMaterials(e){return this.materials=e,this}parse(e){const t=new bze;e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));const r=e.split(`
`);let i=[];for(let a=0,l=r.length;a<l;a++){const c=r[a].trimStart();if(c.length===0)continue;const u=c.charAt(0);if(u!=="#")if(u==="v"){const d=c.split(KG);switch(d[0]){case"v":t.vertices.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3])),d.length>=7?(ME.setRGB(parseFloat(d[4]),parseFloat(d[5]),parseFloat(d[6])).convertSRGBToLinear(),t.colors.push(ME.r,ME.g,ME.b)):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3]));break;case"vt":t.uvs.push(parseFloat(d[1]),parseFloat(d[2]));break}}else if(u==="f"){const h=c.slice(1).trim().split(KG),p=[];for(let v=0,y=h.length;v<y;v++){const x=h[v];if(x.length>0){const w=x.split("/");p.push(w)}}const g=p[0];for(let v=1,y=p.length-1;v<y;v++){const x=p[v],w=p[v+1];t.addFace(g[0],x[0],w[0],g[1],x[1],w[1],g[2],x[2],w[2])}}else if(u==="l"){const d=c.substring(1).trim().split(" ");let h=[];const p=[];if(c.indexOf("/")===-1)h=d;else for(let g=0,v=d.length;g<v;g++){const y=d[g].split("/");y[0]!==""&&h.push(y[0]),y[1]!==""&&p.push(y[1])}t.addLineGeometry(h,p)}else if(u==="p"){const h=c.slice(1).trim().split(" ");t.addPointGeometry(h)}else if((i=vze.exec(c))!==null){const d=(" "+i[0].slice(1).trim()).slice(1);t.startObject(d)}else if(xze.test(c))t.object.startMaterial(c.substring(7).trim(),t.materialLibraries);else if(yze.test(c))t.materialLibraries.push(c.substring(7).trim());else if(wze.test(c))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(u==="s"){if(i=c.split(" "),i.length>1){const h=i[1].trim().toLowerCase();t.object.smooth=h!=="0"&&h!=="off"}else t.object.smooth=!0;const d=t.object.currentMaterial();d&&(d.smooth=t.object.smooth)}else{if(c==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+c+'"')}}t.finalize();const s=new Sf;if(s.materialLibraries=[].concat(t.materialLibraries),!(t.objects.length===1&&t.objects[0].geometry.vertices.length===0)===!0)for(let a=0,l=t.objects.length;a<l;a++){const c=t.objects[a],u=c.geometry,d=c.materials,h=u.type==="Line",p=u.type==="Points";let g=!1;if(u.vertices.length===0)continue;const v=new Ht;v.setAttribute("position",new ct(u.vertices,3)),u.normals.length>0&&v.setAttribute("normal",new ct(u.normals,3)),u.colors.length>0&&(g=!0,v.setAttribute("color",new ct(u.colors,3))),u.hasUVIndices===!0&&v.setAttribute("uv",new ct(u.uvs,2));const y=[];for(let w=0,b=d.length;w<b;w++){const _=d[w],C=_.name+"_"+_.smooth+"_"+g;let A=t.materials[C];if(this.materials!==null){if(A=this.materials.create(_.name),h&&A&&!(A instanceof ii)){const P=new ii;Wr.prototype.copy.call(P,A),P.color.copy(A.color),A=P}else if(p&&A&&!(A instanceof Ef)){const P=new Ef({size:10,sizeAttenuation:!1});Wr.prototype.copy.call(P,A),P.color.copy(A.color),P.map=A.map,A=P}}A===void 0&&(h?A=new ii:p?A=new Ef({size:1,sizeAttenuation:!1}):A=new $B,A.name=_.name,A.flatShading=!_.smooth,A.vertexColors=g,t.materials[C]=A),y.push(A)}let x;if(y.length>1){for(let w=0,b=d.length;w<b;w++){const _=d[w];v.addGroup(_.groupStart,_.groupCount,w)}h?x=new la(v,y):p?x=new Tx(v,y):x=new Br(v,y)}else h?x=new la(v,y[0]):p?x=new Tx(v,y[0]):x=new Br(v,y[0]);x.name=c.name,s.add(x)}else if(t.vertices.length>0){const a=new Ef({size:1,sizeAttenuation:!1}),l=new Ht;l.setAttribute("position",new ct(t.vertices,3)),t.colors.length>0&&t.colors[0]!==void 0&&(l.setAttribute("color",new ct(t.colors,3)),a.vertexColors=!0);const c=new Tx(l,a);s.add(c)}return s}}const e9=()=>{const{modelPath:n,labPath:e,mPath:t}=Nz(),[r,i]=k.useState(),s=Kw(),o=t?`/labs/${e}/models/${n}/${t}.obj`:`/labs/${e}/models/${n}.obj`,{currentData:a,isUninitialized:l,isFetching:c,isSuccess:u}=GK({path:o}),d=l||c;k.useEffect(()=>{u&&i(a.href)},[u]);const h=JB(_ze,r);return he.jsxs(Qf,{vertical:!0,gap:20,style:{height:"100%"},children:[he.jsx(Ed,{onClick:()=>s(-1),children:"Вернуться к списку"}),d?he.jsx(a0,{size:"large"}):he.jsxs(dze,{camera:{fov:90,position:[0,0,200]},children:[he.jsx("ambientLight",{intensity:.1}),he.jsx("directionalLight",{position:[-2,1,4],intensity:.8}),he.jsx(gze,{}),he.jsx("primitive",{object:h})]})]})};var ere={},F4=L$&&L$.__assign||function(){return F4=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},F4.apply(this,arguments)};Object.defineProperty(ere,"__esModule",{value:!0});var Ry=k;function Sze(n,e,t){var r=(0,Ry.useMemo)(function(){return F4({serializer:JSON.stringify,parser:JSON.parse,logger:console.log,syncData:!0},t)},[t]),i=r.serializer,s=r.parser,o=r.logger,a=r.syncData,l=(0,Ry.useRef)(null),c=(0,Ry.useState)(function(){if(typeof window>"u")return e;try{l.current=window.localStorage.getItem(n);var h=l.current?s(l.current):e;return h}catch(p){return o(p),e}}),u=c[0],d=c[1];return(0,Ry.useEffect)(function(){if(!(typeof window>"u")){var h=function(){if(u!==void 0){var p=i(u),g=l.current;l.current=p,window.localStorage.setItem(n,p),window.dispatchEvent(new StorageEvent("storage",{storageArea:window.localStorage,url:window.location.href,key:n,newValue:p,oldValue:g}))}else window.localStorage.removeItem(n),window.dispatchEvent(new StorageEvent("storage",{storageArea:window.localStorage,url:window.location.href,key:n}))};try{h()}catch(p){o(p)}}},[u]),(0,Ry.useEffect)(function(){if(a){var h=function(p){if(!(p.key!==n||p.storageArea!==window.localStorage))try{p.newValue!==l.current&&(l.current=p.newValue,d(p.newValue?s(p.newValue):void 0))}catch(g){o(g)}};if(!(typeof window>"u"))return window.addEventListener("storage",h),function(){return window.removeEventListener("storage",h)}}},[n,a]),[u,d]}var t6=ere.default=Sze;const Eze=()=>{const[n]=t6("access_token","y0_AgAAAAB5WXIEAAyZJwAAAAEUUD0tAADWbgpf14pCyoax7tagerjrQwlYlQ"),e=!!n;return k.useLayoutEffect(()=>{e||(window.location.href="https://oauth.yandex.ru/authorize?response_type=token&client_id=eacca3682f374561b43cfc4991784ea7")},[e]),e?he.jsx(Kx,{to:"/"}):he.jsx("div",{})},Mze=()=>{const n=Kw(),{labPath:e}=Nz(),t=`labs/${e}/models`,[r,i]=k.useState(t);console.log(r);const{currentData:s=[],isFetching:o}=L5({path:r,refetchOnMountOrArgChange:!0});return he.jsxs(Qf,{vertical:!0,gap:20,children:[he.jsx(yp.Title,{level:1,children:"Доступные виды модели"}),he.jsx(Ed,{onClick:()=>n(-1),children:"Вернуться назад"}),o?he.jsx(a0,{size:"large"}):he.jsx(Qf,{vertical:!0,gap:20,children:s.map(a=>{const l=jY(a.name,a.type);return he.jsx(Ed,{type:"primary",onClick:()=>{a.type==="dir"?i(`${t}/${l}`):n(`/${r}/${l}`)},children:l},a.resource_id)})})]})},Cze=()=>he.jsx(Qf,{justify:"center",align:"center",children:he.jsx(yp.Title,{level:1,children:"Что то пошло не так"})}),Ly=({component:n})=>{const[e]=t6("access_token","y0_AgAAAAB5WXIEAAyZJwAAAAEUUD0tAADWbgpf14pCyoax7tagerjrQwlYlQ");return e?he.jsx(n,{}):he.jsx(Kx,{to:"/auth"})},Aze=()=>{const[,n]=t6("access_token","y0_AgAAAAB5WXIEAAyZJwAAAAEUUD0tAADWbgpf14pCyoax7tagerjrQwlYlQ"),t=new URLSearchParams(window.location.hash.slice(1)).get("access_token");return k.useLayoutEffect(()=>{t&&n(t)},[t]),he.jsx(Kx,{to:"/"})};function Tze(){return he.jsx(rde,{theme:{algorithm:Tge.darkAlgorithm},children:he.jsx(Zf,{children:he.jsx(Zf.Content,{style:{padding:"24px 48px"},children:he.jsxs(xae,{children:[he.jsx(es,{path:"/",element:he.jsx(Kx,{to:"/labs"})}),he.jsxs(es,{path:"/auth",children:[he.jsx(es,{index:!0,element:he.jsx(Eze,{})}),he.jsx(es,{path:"redirect",element:he.jsx(Aze,{})})]}),he.jsxs(es,{path:"labs",children:[he.jsx(es,{index:!0,element:he.jsx(Ly,{component:X1e})}),he.jsxs(es,{path:":labPath",children:[he.jsx(es,{index:!0,element:he.jsx(Ly,{component:oLe})}),he.jsxs(es,{path:"models",children:[he.jsx(es,{index:!0,element:he.jsx(Ly,{component:Mze})}),he.jsx(es,{path:":modelPath",element:he.jsx(Ly,{component:e9})}),he.jsx(es,{path:":modelPath/:mPath",element:he.jsx(Ly,{component:e9})})]})]})]}),he.jsx(es,{path:"/error",element:he.jsx(Cze,{})}),he.jsx(es,{path:"*",element:he.jsx(Kx,{to:"/"})})]})})})})}const V3=qA("disk/getInfoAboutFolder",async n=>(await V1e(n)).data._embedded.items.map(i=>({name:i.name,type:i.type}))),G3=qA("disk/getDownloadLink",async n=>{const e=await G1e(n),{href:t}=e.data;return t}),Pze={downloadLink:null,list:[],loading:!1,error:""},Rze=Nu({name:"disk",initialState:Pze,reducers:{},extraReducers:n=>{n.addCase(G3.pending,e=>{e.loading=!0}).addCase(G3.fulfilled,(e,t)=>{e.loading=!1,e.downloadLink=t.payload}).addCase(G3.rejected,e=>{e.loading=!1,e.error="error"}).addCase(V3.pending,e=>{e.loading=!0}).addCase(V3.fulfilled,(e,t)=>{e.loading=!1,e.list=t.payload}).addCase(V3.rejected,e=>{e.loading=!1,e.error="error"})}}),Lze=Rze.reducer,vg=S0e({selectId:n=>n.resource_id}),z4=Nu({name:"resources",initialState:vg.getInitialState(),reducers:n=>({addReference:n.reducer((e,t)=>{vg.addOne(e,t.payload)}),addReferences:n.reducer((e,t)=>{vg.addMany(e,t.payload)}),removeReference:n.reducer((e,t)=>{vg.removeOne(e,t.payload)}),removeReferences:n.reducer((e,t)=>{vg.removeMany(e,t.payload)})})}),{reducer:jze,actions:kze}=z4;vg.getSelectors();const tre=D0e();tre.startListening({matcher:xw.endpoints.getResources.matchFulfilled,effect:(n,e)=>{e.dispatch(kze.addReferences(n.payload))}});const{middleware:Ize}=tre,Oze=h5({disk:Lze,[xw.reducerPath]:xw.reducer,[z4.reducerPath]:z4.reducer}),Dze=Zve({reducer:Oze,middleware:n=>n().concat(xw.middleware).concat(Ize)});q3.createRoot(document.getElementById("root")).render(he.jsx(_ae,{children:he.jsx(Poe,{store:Dze,children:he.jsx(k.Suspense,{fallback:he.jsx(a0,{size:"large",fullscreen:!0}),children:he.jsx(Tze,{})})})}));export{xD as A,qK as J,Nt as c,zze as q,zy as r,Fze as z};
